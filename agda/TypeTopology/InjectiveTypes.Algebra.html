<!DOCTYPE HTML>
<html><head><meta charset="utf-8"><title>InjectiveTypes.Algebra</title><link rel="stylesheet" href="Agda.css"><script type="text/javascript" src="highlight-hover.js"></script></head><body><pre class="Agda"><a id="1" class="Background">Martin Escardo, 22nd October 2024 - 22 May 2025

This file is work in progress and aims to eventually subsume the file
gist.InjectivesVersusAlgebras (at which point that file will be deleted).

We give conditions on algebraic injective structure on a type so that
it coincides with the algebraic structure for the partial-map
classifier (aka lifting) monad 𝓛 on types.

We call these conditions &quot;associativity&quot; and &quot;pullback naturality&quot;.

Associativity says that an extension (f|j)|k of an extension f|j is
the extension f|(k∘j) along the composition of the embeddings j and k,
as in the following commutative diagram.


                   j         k
              X ──────→ Y ──────→ Z
               ╲        │        ╱
                ╲       │       ╱
             f   ╲      │ f|j  ╱ (f|j)|k = f(k∘j
                  ╲     │     ╱
                   ╲    │    ╱
                    ╲   │   ╱
                     ➘  ↓  ↙
                        D

Pullback naturality is expressed by the following diagram, where the
square is a pullback and j (and hence k) is an embedding.

                   k
              A ──────→ B
              │ ⌟       │
           g  │         │ h
              │         │
              ↓    j    ↓
              X ──────→ Y
               ╲        │
                ╲       │
             f   ╲      │ f|j ∘ h = (f ∘ g) | k
                  ╲     │
                   ╲    │
                    ╲   │
                     ➘  ↓
                        D

It actually suffices to consider pullbacks of the form


        fiber j y ────→ 𝟙
              │ ⌟       │
              │         │ y
              │         │
              ↓    j    ↓
              X ──────→ Y

This is a sense in which extensions are pointwise.

One may wonder whether it is reasonable to consider naturality with
respect to all commutative squares

                   k
              A ──────→ B
              │         │
           g  │         │ h
              │         │
              ↓    j    ↓
              X ──────→ Y

where j and k are embeddings, but which are not necessarily
pullbacks. However, a counter-example is the commutative square


              𝟘 ──────→ 𝟙
              │         │
              │         │
              │         │
              ↓         ↓
              𝟙 ──────→ 𝟙

Now, an algebra α : 𝓛 D → D of the lifting monad amounts flabbiness
structure plus an associativity law on this structure. Via the
canonical correspondence between algebraic injective structure and
algebraic flabby structure, the above associativity condition
corresponds to the associativity law for 𝓛-algebras (which justifies
our terminology in the case of injectivity). In terms of flabbinnes,
this says that if we have a situation

            P × Q ────→ 𝟙
               ╲        │
                ╲       │
             f   ╲      │
                  ╲     │
                   ╲    │
                    ╲   │
                     ➘  ↓
                        D

where P and Q propositions, so that also P × Q is a proposition, then
we can

 1. extend f at once, or
 2. extend f in its first variable and then in its second variable,

and these two processes give the same result.

As for pullback naturality, it is given automatically by the canonical
construction of algebraic injectivity data from algebraic flabiness
data.

If we define homomorphisms h : D → E of algebraic injectives in the
obvious way, namely, that for any f : X → D and j : X ↪ Y we have that

    h ∘ f ∣ j = (h ∘ f) ∣ j

as (partially) illustrated by the (incomplete, due to typographical
reasons) diagram

                   j
              X ───────→ Y
               ╲       ╱
                ╲     ╱
               f ╲   ╱ f/j
                  ➘ ↙
                   D
                   │
                   │ h
                   ↓
                   E

then injective homomorphisms correspond to 𝓛-homomorphisms.

When we restrict to types that are sets, we get that the category of
associative, pullback-natural algebraically injective objects is
isomorphic to the category of 𝓛-algebras.

This result holds for the objects of any 1-topos, due to our
constructive reasoning in a restricted type theory.

However, at the moment we don&#39;t have a result for ∞-toposes, because,
although the associativity, pullback naturality and the algebra
equations are all property for sets, they are data, and we have proved
only a logical equivalence of associativity + pullback-naturality and
the 𝓛-algebra equations, rather than a full type equivalence (whose
possibility we are currently investigating).

</a><a id="4616" class="Markup">\begin{code}</a>

<a id="4630" class="Symbol">{-#</a> <a id="4634" class="Keyword">OPTIONS</a> <a id="4642" class="Pragma">--safe</a> <a id="4649" class="Pragma">--without-K</a> <a id="4661" class="Pragma">--lossy-unification</a> <a id="4681" class="Symbol">#-}</a>

<a id="4686" class="Keyword">open</a> <a id="4691" class="Keyword">import</a> <a id="4698" href="UF.FunExt.html" class="Module">UF.FunExt</a>

<a id="4709" class="Keyword">module</a> <a id="4716" href="InjectiveTypes.Algebra.html" class="Module">InjectiveTypes.Algebra</a>
        <a id="4747" class="Symbol">(</a><a id="4748" href="InjectiveTypes.Algebra.html#4748" class="Bound">fe</a> <a id="4751" class="Symbol">:</a> <a id="4753" href="UF.FunExt.html#995" class="Function">FunExt</a><a id="4759" class="Symbol">)</a>
       <a id="4768" class="Keyword">where</a>

<a id="fe&#39;"></a><a id="4775" href="InjectiveTypes.Algebra.html#4775" class="Function">fe&#39;</a> <a id="4779" class="Symbol">:</a> <a id="4781" href="UF.FunExt.html#1047" class="Function">Fun-Ext</a>
<a id="4789" href="InjectiveTypes.Algebra.html#4775" class="Function">fe&#39;</a> <a id="4793" class="Symbol">{</a><a id="4794" href="InjectiveTypes.Algebra.html#4794" class="Bound">𝓤</a><a id="4795" class="Symbol">}</a> <a id="4797" class="Symbol">{</a><a id="4798" href="InjectiveTypes.Algebra.html#4798" class="Bound">𝓥</a><a id="4799" class="Symbol">}</a> <a id="4801" class="Symbol">=</a> <a id="4803" href="InjectiveTypes.Algebra.html#4748" class="Bound">fe</a> <a id="4806" href="InjectiveTypes.Algebra.html#4794" class="Bound">𝓤</a> <a id="4808" href="InjectiveTypes.Algebra.html#4798" class="Bound">𝓥</a>

<a id="4811" class="Keyword">open</a> <a id="4816" class="Keyword">import</a> <a id="4823" href="InjectiveTypes.Blackboard.html" class="Module">InjectiveTypes.Blackboard</a> <a id="4849" href="InjectiveTypes.Algebra.html#4748" class="Bound">fe</a> <a id="4852" class="Keyword">hiding</a> <a id="4859" class="Symbol">(</a><a id="4860" href="InjectiveTypes.Blackboard.html#6034" class="Function">ηΠ</a> <a id="4863" class="Symbol">;</a> <a id="4865" href="InjectiveTypes.Blackboard.html#6078" class="Function">ηΣ</a><a id="4867" class="Symbol">)</a>
<a id="4869" class="Keyword">open</a> <a id="4874" class="Keyword">import</a> <a id="4881" href="MLTT.Spartan.html" class="Module">MLTT.Spartan</a>
<a id="4894" class="Keyword">open</a> <a id="4899" class="Keyword">import</a> <a id="4906" href="UF.Base.html" class="Module">UF.Base</a>
<a id="4914" class="Keyword">open</a> <a id="4919" class="Keyword">import</a> <a id="4926" href="UF.Embeddings.html" class="Module">UF.Embeddings</a>
<a id="4940" class="Keyword">open</a> <a id="4945" class="Keyword">import</a> <a id="4952" href="UF.Equiv.html" class="Module">UF.Equiv</a>
<a id="4961" class="Keyword">open</a> <a id="4966" class="Keyword">import</a> <a id="4973" href="UF.EquivalenceExamples.html" class="Module">UF.EquivalenceExamples</a>
<a id="4996" class="Keyword">open</a> <a id="5001" class="Keyword">import</a> <a id="5008" href="UF.Pullback.html" class="Module">UF.Pullback</a>
<a id="5020" class="Keyword">open</a> <a id="5025" class="Keyword">import</a> <a id="5032" href="UF.Subsingletons.html" class="Module">UF.Subsingletons</a>
<a id="5049" class="Keyword">open</a> <a id="5054" class="Keyword">import</a> <a id="5061" href="UF.Subsingletons-FunExt.html" class="Module">UF.Subsingletons-FunExt</a>
<a id="5085" class="Keyword">open</a> <a id="5090" class="Keyword">import</a> <a id="5097" href="UF.Univalence.html" class="Module">UF.Univalence</a>
<a id="5111" class="Keyword">open</a> <a id="5116" class="Keyword">import</a> <a id="5123" href="Lifting.Algebras.html" class="Module">Lifting.Algebras</a>

<a id="5141" class="Markup">\end{code}</a><a id="5151" class="Background">

Definition of algebraic injective homomorphisms.

</a><a id="5203" class="Markup">\begin{code}</a>


<a id="5218" class="Keyword">module</a> <a id="algebraic-injective-homomorphisms"></a><a id="5225" href="InjectiveTypes.Algebra.html#5225" class="Module">algebraic-injective-homomorphisms</a>
        <a id="5267" class="Symbol">{</a><a id="5268" href="InjectiveTypes.Algebra.html#5268" class="Bound">𝓤</a> <a id="5270" href="InjectiveTypes.Algebra.html#5270" class="Bound">𝓦</a> <a id="5272" href="InjectiveTypes.Algebra.html#5272" class="Bound">𝓣</a> <a id="5274" class="Symbol">:</a> <a id="5276" href="Agda.Primitive.html#742" class="Postulate">Universe</a><a id="5284" class="Symbol">}</a>
        <a id="5294" class="Symbol">(</a><a id="5295" href="InjectiveTypes.Algebra.html#5295" class="Bound">D</a> <a id="5297" class="Symbol">:</a> <a id="5299" href="InjectiveTypes.Algebra.html#5270" class="Bound">𝓦</a> <a id="5301" href="MLTT.Universes.html#3977" class="Function Operator">̇</a> <a id="5303" class="Symbol">)</a>
        <a id="5313" class="Symbol">(</a><a id="5314" href="InjectiveTypes.Algebra.html#5314" class="Bound">E</a> <a id="5316" class="Symbol">:</a> <a id="5318" href="InjectiveTypes.Algebra.html#5272" class="Bound">𝓣</a> <a id="5320" href="MLTT.Universes.html#3977" class="Function Operator">̇</a> <a id="5322" class="Symbol">)</a>
        <a id="5332" class="Symbol">(</a><a id="5333" href="InjectiveTypes.Algebra.html#5333" class="Bound">D-ainj</a> <a id="5340" class="Symbol">:</a> <a id="5342" href="InjectiveTypes.Blackboard.html#15851" class="Function">ainjective-type</a> <a id="5358" href="InjectiveTypes.Algebra.html#5295" class="Bound">D</a> <a id="5360" href="InjectiveTypes.Algebra.html#5268" class="Bound">𝓤</a> <a id="5362" href="InjectiveTypes.Algebra.html#5268" class="Bound">𝓤</a><a id="5363" class="Symbol">)</a>
        <a id="5373" class="Symbol">(</a><a id="5374" href="InjectiveTypes.Algebra.html#5374" class="Bound">E-ainj</a> <a id="5381" class="Symbol">:</a> <a id="5383" href="InjectiveTypes.Blackboard.html#15851" class="Function">ainjective-type</a> <a id="5399" href="InjectiveTypes.Algebra.html#5314" class="Bound">E</a> <a id="5401" href="InjectiveTypes.Algebra.html#5268" class="Bound">𝓤</a> <a id="5403" href="InjectiveTypes.Algebra.html#5268" class="Bound">𝓤</a><a id="5404" class="Symbol">)</a>
       <a id="5413" class="Keyword">where</a>

 <a id="algebraic-injective-homomorphisms._∣ᴰ_"></a><a id="5421" href="InjectiveTypes.Algebra.html#5421" class="Function Operator">_∣ᴰ_</a> <a id="5426" class="Symbol">:</a> <a id="5428" class="Symbol">{</a><a id="5429" href="InjectiveTypes.Algebra.html#5429" class="Bound">X</a> <a id="5431" href="InjectiveTypes.Algebra.html#5431" class="Bound">Y</a> <a id="5433" class="Symbol">:</a> <a id="5435" href="InjectiveTypes.Algebra.html#5268" class="Bound">𝓤</a> <a id="5437" href="MLTT.Universes.html#3977" class="Function Operator">̇</a> <a id="5439" class="Symbol">}</a> <a id="5441" class="Symbol">→</a> <a id="5443" class="Symbol">(</a><a id="5444" href="InjectiveTypes.Algebra.html#5429" class="Bound">X</a> <a id="5446" class="Symbol">→</a> <a id="5448" href="InjectiveTypes.Algebra.html#5295" class="Bound">D</a><a id="5449" class="Symbol">)</a> <a id="5451" class="Symbol">→</a> <a id="5453" class="Symbol">(</a><a id="5454" href="InjectiveTypes.Algebra.html#5429" class="Bound">X</a> <a id="5456" href="UF.Embeddings.html#2020" class="Function Operator">↪</a> <a id="5458" href="InjectiveTypes.Algebra.html#5431" class="Bound">Y</a><a id="5459" class="Symbol">)</a> <a id="5461" class="Symbol">→</a> <a id="5463" class="Symbol">(</a><a id="5464" href="InjectiveTypes.Algebra.html#5431" class="Bound">Y</a> <a id="5466" class="Symbol">→</a> <a id="5468" href="InjectiveTypes.Algebra.html#5295" class="Bound">D</a><a id="5469" class="Symbol">)</a>
 <a id="5472" href="InjectiveTypes.Algebra.html#5472" class="Bound">f</a> <a id="5474" href="InjectiveTypes.Algebra.html#5421" class="Function Operator">∣ᴰ</a> <a id="5477" href="InjectiveTypes.Algebra.html#5477" class="Bound">𝕛</a> <a id="5479" class="Symbol">=</a> <a id="5481" href="InjectiveTypes.Blackboard.html#16604" class="Function">extension&#39;</a> <a id="5492" href="InjectiveTypes.Algebra.html#5333" class="Bound">D-ainj</a> <a id="5499" href="InjectiveTypes.Algebra.html#5477" class="Bound">𝕛</a> <a id="5501" href="InjectiveTypes.Algebra.html#5472" class="Bound">f</a>

 <a id="algebraic-injective-homomorphisms._∣ᴱ_"></a><a id="5505" href="InjectiveTypes.Algebra.html#5505" class="Function Operator">_∣ᴱ_</a> <a id="5510" class="Symbol">:</a> <a id="5512" class="Symbol">{</a><a id="5513" href="InjectiveTypes.Algebra.html#5513" class="Bound">X</a> <a id="5515" href="InjectiveTypes.Algebra.html#5515" class="Bound">Y</a> <a id="5517" class="Symbol">:</a> <a id="5519" href="InjectiveTypes.Algebra.html#5268" class="Bound">𝓤</a> <a id="5521" href="MLTT.Universes.html#3977" class="Function Operator">̇</a> <a id="5523" class="Symbol">}</a> <a id="5525" class="Symbol">→</a> <a id="5527" class="Symbol">(</a><a id="5528" href="InjectiveTypes.Algebra.html#5513" class="Bound">X</a> <a id="5530" class="Symbol">→</a> <a id="5532" href="InjectiveTypes.Algebra.html#5314" class="Bound">E</a><a id="5533" class="Symbol">)</a> <a id="5535" class="Symbol">→</a> <a id="5537" class="Symbol">(</a><a id="5538" href="InjectiveTypes.Algebra.html#5513" class="Bound">X</a> <a id="5540" href="UF.Embeddings.html#2020" class="Function Operator">↪</a> <a id="5542" href="InjectiveTypes.Algebra.html#5515" class="Bound">Y</a><a id="5543" class="Symbol">)</a> <a id="5545" class="Symbol">→</a> <a id="5547" class="Symbol">(</a><a id="5548" href="InjectiveTypes.Algebra.html#5515" class="Bound">Y</a> <a id="5550" class="Symbol">→</a> <a id="5552" href="InjectiveTypes.Algebra.html#5314" class="Bound">E</a><a id="5553" class="Symbol">)</a>
 <a id="5556" href="InjectiveTypes.Algebra.html#5556" class="Bound">g</a> <a id="5558" href="InjectiveTypes.Algebra.html#5505" class="Function Operator">∣ᴱ</a> <a id="5561" href="InjectiveTypes.Algebra.html#5561" class="Bound">𝕛</a> <a id="5563" class="Symbol">=</a> <a id="5565" href="InjectiveTypes.Blackboard.html#16604" class="Function">extension&#39;</a> <a id="5576" href="InjectiveTypes.Algebra.html#5374" class="Bound">E-ainj</a> <a id="5583" href="InjectiveTypes.Algebra.html#5561" class="Bound">𝕛</a> <a id="5585" href="InjectiveTypes.Algebra.html#5556" class="Bound">g</a>

 <a id="algebraic-injective-homomorphisms.is-hom"></a><a id="5589" href="InjectiveTypes.Algebra.html#5589" class="Function">is-hom</a> <a id="5596" class="Symbol">:</a> <a id="5598" class="Symbol">(</a><a id="5599" href="InjectiveTypes.Algebra.html#5295" class="Bound">D</a> <a id="5601" class="Symbol">→</a> <a id="5603" href="InjectiveTypes.Algebra.html#5314" class="Bound">E</a><a id="5604" class="Symbol">)</a> <a id="5606" class="Symbol">→</a> <a id="5608" class="Symbol">(</a><a id="5609" href="InjectiveTypes.Algebra.html#5268" class="Bound">𝓤</a> <a id="5611" href="Agda.Primitive.html#931" class="Primitive Operator">⁺</a><a id="5612" class="Symbol">)</a> <a id="5614" href="Agda.Primitive.html#961" class="Primitive Operator">⊔</a> <a id="5616" href="InjectiveTypes.Algebra.html#5270" class="Bound">𝓦</a> <a id="5618" href="Agda.Primitive.html#961" class="Primitive Operator">⊔</a> <a id="5620" href="InjectiveTypes.Algebra.html#5272" class="Bound">𝓣</a> <a id="5622" href="MLTT.Universes.html#3977" class="Function Operator">̇</a>
 <a id="5625" href="InjectiveTypes.Algebra.html#5589" class="Function">is-hom</a> <a id="5632" href="InjectiveTypes.Algebra.html#5632" class="Bound">h</a> <a id="5634" class="Symbol">=</a> <a id="5636" class="Symbol">{</a><a id="5637" href="InjectiveTypes.Algebra.html#5637" class="Bound">X</a> <a id="5639" href="InjectiveTypes.Algebra.html#5639" class="Bound">Y</a> <a id="5641" class="Symbol">:</a> <a id="5643" href="InjectiveTypes.Algebra.html#5268" class="Bound">𝓤</a> <a id="5645" href="MLTT.Universes.html#3977" class="Function Operator">̇</a> <a id="5647" class="Symbol">}</a> <a id="5649" class="Symbol">(</a><a id="5650" href="InjectiveTypes.Algebra.html#5650" class="Bound">f</a> <a id="5652" class="Symbol">:</a> <a id="5654" href="InjectiveTypes.Algebra.html#5637" class="Bound">X</a> <a id="5656" class="Symbol">→</a> <a id="5658" href="InjectiveTypes.Algebra.html#5295" class="Bound">D</a><a id="5659" class="Symbol">)</a> <a id="5661" class="Symbol">(</a><a id="5662" href="InjectiveTypes.Algebra.html#5662" class="Bound">𝕛</a> <a id="5664" class="Symbol">:</a> <a id="5666" href="InjectiveTypes.Algebra.html#5637" class="Bound">X</a> <a id="5668" href="UF.Embeddings.html#2020" class="Function Operator">↪</a> <a id="5670" href="InjectiveTypes.Algebra.html#5639" class="Bound">Y</a><a id="5671" class="Symbol">)</a>
          <a id="5683" class="Symbol">→</a> <a id="5685" href="InjectiveTypes.Algebra.html#5632" class="Bound">h</a> <a id="5687" href="MLTT.Pi.html#513" class="Function Operator">∘</a> <a id="5689" href="InjectiveTypes.Algebra.html#5650" class="Bound">f</a> <a id="5691" href="InjectiveTypes.Algebra.html#5421" class="Function Operator">∣ᴰ</a> <a id="5694" href="InjectiveTypes.Algebra.html#5662" class="Bound">𝕛</a> <a id="5696" href="MLTT.Id.html#1891" class="Function Operator">∼</a> <a id="5698" class="Symbol">(</a><a id="5699" href="InjectiveTypes.Algebra.html#5632" class="Bound">h</a> <a id="5701" href="MLTT.Pi.html#513" class="Function Operator">∘</a> <a id="5703" href="InjectiveTypes.Algebra.html#5650" class="Bound">f</a><a id="5704" class="Symbol">)</a> <a id="5706" href="InjectiveTypes.Algebra.html#5505" class="Function Operator">∣ᴱ</a> <a id="5709" href="InjectiveTypes.Algebra.html#5662" class="Bound">𝕛</a>

<a id="5712" class="Markup">\end{code}</a><a id="5722" class="Background">

Definitions of associativity and pullback naturality.

</a><a id="5779" class="Markup">\begin{code}</a>

<a id="5793" class="Keyword">module</a> <a id="5800" href="InjectiveTypes.Algebra.html#5800" class="Module">_</a>
        <a id="5810" class="Symbol">{</a><a id="5811" href="InjectiveTypes.Algebra.html#5811" class="Bound">𝓤</a> <a id="5813" href="InjectiveTypes.Algebra.html#5813" class="Bound">𝓦</a> <a id="5815" class="Symbol">:</a> <a id="5817" href="Agda.Primitive.html#742" class="Postulate">Universe</a><a id="5825" class="Symbol">}</a>
        <a id="5835" class="Symbol">(</a><a id="5836" href="InjectiveTypes.Algebra.html#5836" class="Bound">D</a> <a id="5838" class="Symbol">:</a> <a id="5840" href="InjectiveTypes.Algebra.html#5813" class="Bound">𝓦</a> <a id="5842" href="MLTT.Universes.html#3977" class="Function Operator">̇</a> <a id="5844" class="Symbol">)</a>
        <a id="5854" class="Symbol">(</a><a id="5855" href="InjectiveTypes.Algebra.html#5855" class="Bound">D-ainj</a> <a id="5862" class="Symbol">:</a> <a id="5864" href="InjectiveTypes.Blackboard.html#15851" class="Function">ainjective-type</a> <a id="5880" href="InjectiveTypes.Algebra.html#5836" class="Bound">D</a> <a id="5882" href="InjectiveTypes.Algebra.html#5811" class="Bound">𝓤</a> <a id="5884" href="InjectiveTypes.Algebra.html#5811" class="Bound">𝓤</a><a id="5885" class="Symbol">)</a>
       <a id="5894" class="Keyword">where</a>

 <a id="5902" class="Keyword">private</a>
  <a id="5912" href="InjectiveTypes.Algebra.html#5912" class="Function Operator">_∣_</a> <a id="5916" class="Symbol">:</a> <a id="5918" class="Symbol">{</a><a id="5919" href="InjectiveTypes.Algebra.html#5919" class="Bound">X</a> <a id="5921" href="InjectiveTypes.Algebra.html#5921" class="Bound">Y</a> <a id="5923" class="Symbol">:</a> <a id="5925" href="InjectiveTypes.Algebra.html#5811" class="Bound">𝓤</a> <a id="5927" href="MLTT.Universes.html#3977" class="Function Operator">̇</a> <a id="5929" class="Symbol">}</a> <a id="5931" class="Symbol">→</a> <a id="5933" class="Symbol">(</a><a id="5934" href="InjectiveTypes.Algebra.html#5919" class="Bound">X</a> <a id="5936" class="Symbol">→</a> <a id="5938" href="InjectiveTypes.Algebra.html#5836" class="Bound">D</a><a id="5939" class="Symbol">)</a> <a id="5941" class="Symbol">→</a> <a id="5943" class="Symbol">(</a><a id="5944" href="InjectiveTypes.Algebra.html#5919" class="Bound">X</a> <a id="5946" href="UF.Embeddings.html#2020" class="Function Operator">↪</a> <a id="5948" href="InjectiveTypes.Algebra.html#5921" class="Bound">Y</a><a id="5949" class="Symbol">)</a> <a id="5951" class="Symbol">→</a> <a id="5953" class="Symbol">(</a><a id="5954" href="InjectiveTypes.Algebra.html#5921" class="Bound">Y</a> <a id="5956" class="Symbol">→</a> <a id="5958" href="InjectiveTypes.Algebra.html#5836" class="Bound">D</a><a id="5959" class="Symbol">)</a>
  <a id="5963" href="InjectiveTypes.Algebra.html#5963" class="Bound">f</a> <a id="5965" href="InjectiveTypes.Algebra.html#5912" class="Function Operator">∣</a> <a id="5967" href="InjectiveTypes.Algebra.html#5967" class="Bound">𝕛</a> <a id="5969" class="Symbol">=</a> <a id="5971" href="InjectiveTypes.Blackboard.html#16604" class="Function">extension&#39;</a> <a id="5982" href="InjectiveTypes.Algebra.html#5855" class="Bound">D-ainj</a> <a id="5989" href="InjectiveTypes.Algebra.html#5967" class="Bound">𝕛</a> <a id="5991" href="InjectiveTypes.Algebra.html#5963" class="Bound">f</a>

 <a id="5995" href="InjectiveTypes.Algebra.html#5995" class="Function">associativity</a> <a id="6009" class="Symbol">:</a> <a id="6011" href="InjectiveTypes.Algebra.html#5813" class="Bound">𝓦</a> <a id="6013" href="Agda.Primitive.html#961" class="Primitive Operator">⊔</a> <a id="6015" href="InjectiveTypes.Algebra.html#5811" class="Bound">𝓤</a> <a id="6017" href="Agda.Primitive.html#931" class="Primitive Operator">⁺</a> <a id="6019" href="MLTT.Universes.html#3977" class="Function Operator">̇</a>
 <a id="6022" href="InjectiveTypes.Algebra.html#5995" class="Function">associativity</a> <a id="6036" class="Symbol">=</a> <a id="6038" class="Symbol">{</a><a id="6039" href="InjectiveTypes.Algebra.html#6039" class="Bound">X</a> <a id="6041" href="InjectiveTypes.Algebra.html#6041" class="Bound">Y</a> <a id="6043" href="InjectiveTypes.Algebra.html#6043" class="Bound">Z</a> <a id="6045" class="Symbol">:</a> <a id="6047" href="InjectiveTypes.Algebra.html#5811" class="Bound">𝓤</a> <a id="6049" href="MLTT.Universes.html#3977" class="Function Operator">̇</a> <a id="6051" class="Symbol">}</a> <a id="6053" class="Symbol">(</a><a id="6054" href="InjectiveTypes.Algebra.html#6054" class="Bound">f</a> <a id="6056" class="Symbol">:</a> <a id="6058" href="InjectiveTypes.Algebra.html#6039" class="Bound">X</a> <a id="6060" class="Symbol">→</a> <a id="6062" href="InjectiveTypes.Algebra.html#5836" class="Bound">D</a><a id="6063" class="Symbol">)</a> <a id="6065" class="Symbol">(</a><a id="6066" href="InjectiveTypes.Algebra.html#6066" class="Bound">𝕛</a> <a id="6068" class="Symbol">:</a> <a id="6070" href="InjectiveTypes.Algebra.html#6039" class="Bound">X</a> <a id="6072" href="UF.Embeddings.html#2020" class="Function Operator">↪</a> <a id="6074" href="InjectiveTypes.Algebra.html#6041" class="Bound">Y</a><a id="6075" class="Symbol">)</a> <a id="6077" class="Symbol">(</a><a id="6078" href="InjectiveTypes.Algebra.html#6078" class="Bound">𝕜</a> <a id="6080" class="Symbol">:</a> <a id="6082" href="InjectiveTypes.Algebra.html#6041" class="Bound">Y</a> <a id="6084" href="UF.Embeddings.html#2020" class="Function Operator">↪</a> <a id="6086" href="InjectiveTypes.Algebra.html#6043" class="Bound">Z</a><a id="6087" class="Symbol">)</a>
               <a id="6104" class="Symbol">→</a> <a id="6106" href="InjectiveTypes.Algebra.html#6054" class="Bound">f</a> <a id="6108" href="InjectiveTypes.Algebra.html#5912" class="Function Operator">∣</a> <a id="6110" class="Symbol">(</a><a id="6111" href="InjectiveTypes.Algebra.html#6078" class="Bound">𝕜</a> <a id="6113" href="UF.Embeddings.html#2147" class="Function Operator">∘↪</a> <a id="6116" href="InjectiveTypes.Algebra.html#6066" class="Bound">𝕛</a><a id="6117" class="Symbol">)</a> <a id="6119" href="MLTT.Id.html#1891" class="Function Operator">∼</a> <a id="6121" class="Symbol">(</a><a id="6122" href="InjectiveTypes.Algebra.html#6054" class="Bound">f</a> <a id="6124" href="InjectiveTypes.Algebra.html#5912" class="Function Operator">∣</a> <a id="6126" href="InjectiveTypes.Algebra.html#6066" class="Bound">𝕛</a><a id="6127" class="Symbol">)</a> <a id="6129" href="InjectiveTypes.Algebra.html#5912" class="Function Operator">∣</a> <a id="6131" href="InjectiveTypes.Algebra.html#6078" class="Bound">𝕜</a>

<a id="6134" class="Markup">\end{code}</a><a id="6144" class="Background">

For the following definition, we consider the standard pullback

                   pb₂
    pullback j h ─────→ B
              │ ⌟       │
          pb₁ │         │ h
              │         │
              ↓     j   ↓
              X ──────→ Y

where pullback j h := Σ (x , y) ꞉ X × B , j x ＝ h y and pb₁ and pb₂
are the projections, rather than an abstract pullback, for simplicity,
so that the above naturality condition becomes

                   pb₂
    pullback j h ─────→ B
              │ ⌟       │
          pb₁ │         │ h
              │         │
              ↓     j   ↓
              X ──────→ Y
               ╲        │
                ╲       │
             f   ╲      │ (f | j) ∘ h = (f ∘ pb₁) | pb₂
                  ╲     │
                   ╲    │
                    ╲   │
                     ➘  ↓
                        D

</a><a id="7000" class="Markup">\begin{code}</a>

 <a id="7015" class="Keyword">module</a> <a id="7022" href="InjectiveTypes.Algebra.html#7022" class="Module">_</a>
         <a id="7033" class="Symbol">{</a><a id="7034" href="InjectiveTypes.Algebra.html#7034" class="Bound">X</a> <a id="7036" href="InjectiveTypes.Algebra.html#7036" class="Bound">Y</a> <a id="7038" href="InjectiveTypes.Algebra.html#7038" class="Bound">B</a> <a id="7040" class="Symbol">:</a> <a id="7042" href="InjectiveTypes.Algebra.html#5811" class="Bound">𝓤</a> <a id="7044" href="MLTT.Universes.html#3977" class="Function Operator">̇</a> <a id="7046" class="Symbol">}</a>
         <a id="7057" class="Symbol">(</a><a id="7058" href="InjectiveTypes.Algebra.html#7058" class="Bound">f</a> <a id="7060" class="Symbol">:</a> <a id="7062" href="InjectiveTypes.Algebra.html#7034" class="Bound">X</a> <a id="7064" class="Symbol">→</a> <a id="7066" href="InjectiveTypes.Algebra.html#5836" class="Bound">D</a><a id="7067" class="Symbol">)</a>
         <a id="7078" class="Symbol">(</a><a id="7079" href="InjectiveTypes.Algebra.html#7079" class="Bound">𝕛</a> <a id="7081" class="Symbol">:</a> <a id="7083" href="InjectiveTypes.Algebra.html#7034" class="Bound">X</a> <a id="7085" href="UF.Embeddings.html#2020" class="Function Operator">↪</a> <a id="7087" href="InjectiveTypes.Algebra.html#7036" class="Bound">Y</a><a id="7088" class="Symbol">)</a>
         <a id="7099" class="Symbol">(</a><a id="7100" href="InjectiveTypes.Algebra.html#7100" class="Bound">h</a> <a id="7102" class="Symbol">:</a> <a id="7104" href="InjectiveTypes.Algebra.html#7038" class="Bound">B</a> <a id="7106" class="Symbol">→</a> <a id="7108" href="InjectiveTypes.Algebra.html#7036" class="Bound">Y</a><a id="7109" class="Symbol">)</a>
        <a id="7119" class="Keyword">where</a>

  <a id="7128" class="Keyword">open</a> <a id="7133" href="UF.Pullback.html#640" class="Module">pullback</a> <a id="7142" href="UF.Embeddings.html#2275" class="Function Operator">⌊</a> <a id="7144" href="InjectiveTypes.Algebra.html#7079" class="Bound">𝕛</a> <a id="7146" href="UF.Embeddings.html#2275" class="Function Operator">⌋</a> <a id="7148" href="InjectiveTypes.Algebra.html#7100" class="Bound">h</a>

  <a id="7153" href="InjectiveTypes.Algebra.html#7153" class="Function">𝕡𝕓₂</a> <a id="7157" class="Symbol">:</a> <a id="7159" href="UF.Pullback.html#4130" class="Function">pullback</a> <a id="7168" href="UF.Embeddings.html#2020" class="Function Operator">↪</a> <a id="7170" href="InjectiveTypes.Algebra.html#7038" class="Bound">B</a>
  <a id="7174" href="InjectiveTypes.Algebra.html#7153" class="Function">𝕡𝕓₂</a> <a id="7178" class="Symbol">=</a> <a id="7180" href="UF.Pullback.html#4259" class="Function">pb₂</a> <a id="7184" href="MLTT.Sigma.html#395" class="InductiveConstructor Operator">,</a> <a id="7186" href="UF.Pullback.html#5146" class="Function">pb₂-is-embedding</a> <a id="7203" href="UF.Embeddings.html#2338" class="Function Operator">⌊</a> <a id="7205" href="InjectiveTypes.Algebra.html#7079" class="Bound">𝕛</a> <a id="7207" href="UF.Embeddings.html#2338" class="Function Operator">⌋-is-embedding</a>

  <a id="7225" href="InjectiveTypes.Algebra.html#7225" class="Function">pullback-naturality</a> <a id="7245" class="Symbol">:</a> <a id="7247" href="InjectiveTypes.Algebra.html#5811" class="Bound">𝓤</a> <a id="7249" href="Agda.Primitive.html#961" class="Primitive Operator">⊔</a> <a id="7251" href="InjectiveTypes.Algebra.html#5813" class="Bound">𝓦</a> <a id="7253" href="MLTT.Universes.html#3977" class="Function Operator">̇</a>
  <a id="7257" href="InjectiveTypes.Algebra.html#7225" class="Function">pullback-naturality</a> <a id="7277" class="Symbol">=</a> <a id="7279" class="Symbol">(</a><a id="7280" href="InjectiveTypes.Algebra.html#7058" class="Bound">f</a> <a id="7282" href="InjectiveTypes.Algebra.html#5912" class="Function Operator">∣</a> <a id="7284" href="InjectiveTypes.Algebra.html#7079" class="Bound">𝕛</a><a id="7285" class="Symbol">)</a> <a id="7287" href="MLTT.Pi.html#513" class="Function Operator">∘</a> <a id="7289" href="InjectiveTypes.Algebra.html#7100" class="Bound">h</a> <a id="7291" href="MLTT.Id.html#193" class="Datatype Operator">＝</a> <a id="7293" class="Symbol">(</a><a id="7294" href="InjectiveTypes.Algebra.html#7058" class="Bound">f</a> <a id="7296" href="MLTT.Pi.html#513" class="Function Operator">∘</a> <a id="7298" href="UF.Pullback.html#4222" class="Function">pb₁</a><a id="7301" class="Symbol">)</a> <a id="7303" href="InjectiveTypes.Algebra.html#5912" class="Function Operator">∣</a> <a id="7305" href="InjectiveTypes.Algebra.html#7153" class="Function">𝕡𝕓₂</a>

 <a id="7311" href="InjectiveTypes.Algebra.html#7311" class="Function">Pullback-Naturality</a> <a id="7331" class="Symbol">:</a> <a id="7333" class="Symbol">(</a><a id="7334" href="InjectiveTypes.Algebra.html#5811" class="Bound">𝓤</a> <a id="7336" href="Agda.Primitive.html#931" class="Primitive Operator">⁺</a><a id="7337" class="Symbol">)</a> <a id="7339" href="Agda.Primitive.html#961" class="Primitive Operator">⊔</a> <a id="7341" href="InjectiveTypes.Algebra.html#5813" class="Bound">𝓦</a> <a id="7343" href="MLTT.Universes.html#3977" class="Function Operator">̇</a>
 <a id="7346" href="InjectiveTypes.Algebra.html#7311" class="Function">Pullback-Naturality</a> <a id="7366" class="Symbol">=</a> <a id="7368" class="Symbol">{</a><a id="7369" href="InjectiveTypes.Algebra.html#7369" class="Bound">X</a> <a id="7371" href="InjectiveTypes.Algebra.html#7371" class="Bound">Y</a> <a id="7373" href="InjectiveTypes.Algebra.html#7373" class="Bound">B</a> <a id="7375" class="Symbol">:</a> <a id="7377" href="InjectiveTypes.Algebra.html#5811" class="Bound">𝓤</a> <a id="7379" href="MLTT.Universes.html#3977" class="Function Operator">̇</a> <a id="7381" class="Symbol">}</a>
                       <a id="7406" class="Symbol">(</a><a id="7407" href="InjectiveTypes.Algebra.html#7407" class="Bound">f</a> <a id="7409" class="Symbol">:</a> <a id="7411" href="InjectiveTypes.Algebra.html#7369" class="Bound">X</a> <a id="7413" class="Symbol">→</a> <a id="7415" href="InjectiveTypes.Algebra.html#5836" class="Bound">D</a><a id="7416" class="Symbol">)</a>
                       <a id="7441" class="Symbol">(</a><a id="7442" href="InjectiveTypes.Algebra.html#7442" class="Bound">𝕛</a> <a id="7444" class="Symbol">:</a> <a id="7446" href="InjectiveTypes.Algebra.html#7369" class="Bound">X</a> <a id="7448" href="UF.Embeddings.html#2020" class="Function Operator">↪</a> <a id="7450" href="InjectiveTypes.Algebra.html#7371" class="Bound">Y</a><a id="7451" class="Symbol">)</a>
                       <a id="7476" class="Symbol">(</a><a id="7477" href="InjectiveTypes.Algebra.html#7477" class="Bound">h</a> <a id="7479" class="Symbol">:</a> <a id="7481" href="InjectiveTypes.Algebra.html#7373" class="Bound">B</a> <a id="7483" class="Symbol">→</a> <a id="7485" href="InjectiveTypes.Algebra.html#7371" class="Bound">Y</a><a id="7486" class="Symbol">)</a>
                     <a id="7509" class="Symbol">→</a> <a id="7511" href="InjectiveTypes.Algebra.html#7225" class="Function">pullback-naturality</a> <a id="7531" href="InjectiveTypes.Algebra.html#7407" class="Bound">f</a> <a id="7533" href="InjectiveTypes.Algebra.html#7442" class="Bound">𝕛</a> <a id="7535" href="InjectiveTypes.Algebra.html#7477" class="Bound">h</a>

<a id="7538" class="Markup">\end{code}</a><a id="7548" class="Background">

</a><a id="7550" class="Markup">\begin{code}</a>

<a id="aainjective-structure"></a><a id="7564" href="InjectiveTypes.Algebra.html#7564" class="Function">aainjective-structure</a> <a id="7586" class="Symbol">:</a> <a id="7588" class="Symbol">(</a><a id="7589" href="InjectiveTypes.Algebra.html#7589" class="Bound">𝓤</a> <a id="7591" class="Symbol">:</a> <a id="7593" href="Agda.Primitive.html#742" class="Postulate">Universe</a><a id="7601" class="Symbol">)</a> <a id="7603" class="Symbol">→</a> <a id="7605" href="MLTT.Universes.html#3838" class="Generalizable">𝓦</a> <a id="7607" href="MLTT.Universes.html#3977" class="Function Operator">̇</a> <a id="7609" class="Symbol">→</a> <a id="7611" class="Symbol">(</a><a id="7612" href="InjectiveTypes.Algebra.html#7589" class="Bound">𝓤</a> <a id="7614" href="Agda.Primitive.html#931" class="Primitive Operator">⁺</a><a id="7615" class="Symbol">)</a> <a id="7617" href="Agda.Primitive.html#961" class="Primitive Operator">⊔</a> <a id="7619" href="MLTT.Universes.html#3838" class="Generalizable">𝓦</a> <a id="7621" href="MLTT.Universes.html#3977" class="Function Operator">̇</a>
<a id="7623" href="InjectiveTypes.Algebra.html#7564" class="Function">aainjective-structure</a> <a id="7645" href="InjectiveTypes.Algebra.html#7645" class="Bound">𝓤</a> <a id="7647" href="InjectiveTypes.Algebra.html#7647" class="Bound">D</a> <a id="7649" class="Symbol">=</a>
 <a id="7652" href="MLTT.Sigma.html#423" class="Function">Σ</a> <a id="7654" href="InjectiveTypes.Algebra.html#7654" class="Bound">D-ainj</a> <a id="7661" href="MLTT.Sigma.html#423" class="Function">꞉</a> <a id="7663" href="InjectiveTypes.Blackboard.html#15851" class="Function">ainjective-type</a> <a id="7679" href="InjectiveTypes.Algebra.html#7647" class="Bound">D</a> <a id="7681" href="InjectiveTypes.Algebra.html#7645" class="Bound">𝓤</a> <a id="7683" href="InjectiveTypes.Algebra.html#7645" class="Bound">𝓤</a> <a id="7685" href="MLTT.Sigma.html#423" class="Function">,</a> <a id="7687" href="InjectiveTypes.Algebra.html#5995" class="Function">associativity</a> <a id="7701" href="InjectiveTypes.Algebra.html#7647" class="Bound">D</a> <a id="7703" href="InjectiveTypes.Algebra.html#7654" class="Bound">D-ainj</a>

<a id="7711" class="Keyword">module</a> <a id="7718" href="InjectiveTypes.Algebra.html#7718" class="Module">_</a>
        <a id="7728" class="Symbol">{</a><a id="7729" href="InjectiveTypes.Algebra.html#7729" class="Bound">𝓤</a> <a id="7731" href="InjectiveTypes.Algebra.html#7731" class="Bound">𝓦</a> <a id="7733" class="Symbol">:</a> <a id="7735" href="Agda.Primitive.html#742" class="Postulate">Universe</a><a id="7743" class="Symbol">}</a>
        <a id="7753" class="Symbol">(</a><a id="7754" href="InjectiveTypes.Algebra.html#7754" class="Bound">D</a> <a id="7756" class="Symbol">:</a> <a id="7758" href="InjectiveTypes.Algebra.html#7731" class="Bound">𝓦</a> <a id="7760" href="MLTT.Universes.html#3977" class="Function Operator">̇</a> <a id="7762" class="Symbol">)</a>
       <a id="7771" class="Keyword">where</a>

 <a id="7779" href="InjectiveTypes.Algebra.html#7779" class="Function">aainjective-structure₁</a> <a id="7802" class="Symbol">:</a> <a id="7804" href="InjectiveTypes.Algebra.html#7564" class="Function">aainjective-structure</a> <a id="7826" href="InjectiveTypes.Algebra.html#7729" class="Bound">𝓤</a> <a id="7828" href="InjectiveTypes.Algebra.html#7754" class="Bound">D</a> <a id="7830" class="Symbol">→</a> <a id="7832" href="InjectiveTypes.Blackboard.html#15851" class="Function">ainjective-type</a> <a id="7848" href="InjectiveTypes.Algebra.html#7754" class="Bound">D</a> <a id="7850" href="InjectiveTypes.Algebra.html#7729" class="Bound">𝓤</a> <a id="7852" href="InjectiveTypes.Algebra.html#7729" class="Bound">𝓤</a>
 <a id="7855" href="InjectiveTypes.Algebra.html#7779" class="Function">aainjective-structure₁</a> <a id="7878" class="Symbol">=</a> <a id="7880" href="MLTT.Sigma-Type.html#198" class="Field">pr₁</a>

 <a id="7886" href="InjectiveTypes.Algebra.html#7886" class="Function">aainjective-structure₂</a> <a id="7909" class="Symbol">:</a> <a id="7911" class="Symbol">(</a><a id="7912" href="InjectiveTypes.Algebra.html#7912" class="Bound">s</a> <a id="7914" class="Symbol">:</a> <a id="7916" href="InjectiveTypes.Algebra.html#7564" class="Function">aainjective-structure</a> <a id="7938" href="InjectiveTypes.Algebra.html#7729" class="Bound">𝓤</a> <a id="7940" href="InjectiveTypes.Algebra.html#7754" class="Bound">D</a><a id="7941" class="Symbol">)</a>
                        <a id="7967" class="Symbol">→</a> <a id="7969" href="InjectiveTypes.Algebra.html#5995" class="Function">associativity</a> <a id="7983" href="InjectiveTypes.Algebra.html#7754" class="Bound">D</a> <a id="7985" class="Symbol">(</a><a id="7986" href="InjectiveTypes.Algebra.html#7779" class="Function">aainjective-structure₁</a> <a id="8009" href="InjectiveTypes.Algebra.html#7912" class="Bound">s</a><a id="8010" class="Symbol">)</a>
 <a id="8013" href="InjectiveTypes.Algebra.html#7886" class="Function">aainjective-structure₂</a> <a id="8036" class="Symbol">=</a> <a id="8038" href="MLTT.Sigma-Type.html#209" class="Field">pr₂</a>

<a id="8043" class="Comment">{-
 associativity-gives-𝓛-alg-structure : aainjective-structure 𝓤 D → 𝓛-alg 𝓤 D
 associativity-gives-𝓛-alg-structure = {!!}

 𝓛-alg-structure-gives-associativity : 𝓛-alg 𝓤 D → aainjective-structure 𝓤 D
 𝓛-alg-structure-gives-associativity = {!!}

 private
  ϕ = associativity-gives-𝓛-alg-structure
  ψ = 𝓛-alg-structure-gives-associativity

 η : (s@(D-ainj , a) : aainjective-structure 𝓤 D)
   → Pullback-Naturality D D-ainj
   → extension (aainjective-structure₁ (ψ (ϕ s)))＝ extension D-ainj
 η = {!!}

 ε : (t : 𝓛-alg 𝓤 D)
   → ∐ 𝓤 (ϕ (ψ t)) ＝ ∐ 𝓤 t
 ε = {!!}
-}</a>

<a id="8609" class="Markup">\end{code}</a><a id="8619" class="Background">

To be continued, following gist.InjectivesVersusAlgebras.
</a></pre></body></html>