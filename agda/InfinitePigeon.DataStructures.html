<!DOCTYPE HTML>
<html><head><meta charset="utf-8"><title>InfinitePigeon.DataStructures</title><link rel="stylesheet" href="Agda.css"><script type="text/javascript" src="highlight-hover.js"></script></head><body><pre class="Agda"><a id="1" class="Comment">-- Martin Escardo and Paulo Oliva 2011</a>

<a id="41" class="Symbol">{-#</a> <a id="45" class="Keyword">OPTIONS</a> <a id="53" class="Pragma">--safe</a> <a id="60" class="Pragma">--without-K</a> <a id="72" class="Symbol">#-}</a>

<a id="77" class="Keyword">module</a> <a id="84" href="InfinitePigeon.DataStructures.html" class="Module">InfinitePigeon.DataStructures</a> <a id="114" class="Keyword">where</a>

<a id="121" class="Comment">-- Some definitions of standard things</a>
<a id="160" class="Comment">-- (sorry for not using libraries).</a>

<a id="197" class="Keyword">open</a> <a id="202" class="Keyword">import</a> <a id="209" href="InfinitePigeon.Addition.html" class="Module">InfinitePigeon.Addition</a>
<a id="233" class="Keyword">open</a> <a id="238" class="Keyword">import</a> <a id="245" href="InfinitePigeon.Finite.html" class="Module">InfinitePigeon.Finite</a>
<a id="267" class="Keyword">open</a> <a id="272" class="Keyword">import</a> <a id="279" href="InfinitePigeon.LogicalFacts.html" class="Module">InfinitePigeon.LogicalFacts</a>
<a id="307" class="Keyword">open</a> <a id="312" class="Keyword">import</a> <a id="319" href="InfinitePigeon.Naturals.html" class="Module">InfinitePigeon.Naturals</a>


<a id="345" class="Keyword">data</a> <a id="List"></a><a id="350" href="InfinitePigeon.DataStructures.html#350" class="Datatype">List</a> <a id="355" class="Symbol">(</a><a id="356" href="InfinitePigeon.DataStructures.html#356" class="Bound">X</a> <a id="358" class="Symbol">:</a> <a id="360" href="Agda.Primitive.html#388" class="Primitive">Set</a><a id="363" class="Symbol">)</a> <a id="365" class="Symbol">:</a> <a id="367" href="Agda.Primitive.html#388" class="Primitive">Set</a> <a id="371" class="Keyword">where</a>
 <a id="List.[]"></a><a id="378" href="InfinitePigeon.DataStructures.html#378" class="InductiveConstructor">[]</a> <a id="381" class="Symbol">:</a> <a id="383" href="InfinitePigeon.DataStructures.html#350" class="Datatype">List</a> <a id="388" href="InfinitePigeon.DataStructures.html#356" class="Bound">X</a>
 <a id="List._::_"></a><a id="391" href="InfinitePigeon.DataStructures.html#391" class="InductiveConstructor Operator">_::_</a>  <a id="397" class="Symbol">:</a> <a id="399" href="InfinitePigeon.DataStructures.html#356" class="Bound">X</a> <a id="401" class="Symbol">→</a> <a id="403" href="InfinitePigeon.DataStructures.html#350" class="Datatype">List</a> <a id="408" href="InfinitePigeon.DataStructures.html#356" class="Bound">X</a> <a id="410" class="Symbol">→</a> <a id="412" href="InfinitePigeon.DataStructures.html#350" class="Datatype">List</a> <a id="417" href="InfinitePigeon.DataStructures.html#356" class="Bound">X</a>

<a id="420" class="Keyword">infixr</a> <a id="427" class="Number">30</a> <a id="430" href="InfinitePigeon.DataStructures.html#391" class="InductiveConstructor Operator">_::_</a>


<a id="437" class="Comment">-- Transforms a finite list given as a map to an enumerated finite</a>
<a id="504" class="Comment">-- list:</a>

<a id="list"></a><a id="514" href="InfinitePigeon.DataStructures.html#514" class="Function">list</a> <a id="519" class="Symbol">:</a> <a id="521" class="Symbol">{</a><a id="522" href="InfinitePigeon.DataStructures.html#522" class="Bound">m</a> <a id="524" class="Symbol">:</a> <a id="526" href="MLTT.Natural-Numbers-Type.html#96" class="Datatype">ℕ</a><a id="527" class="Symbol">}</a> <a id="529" class="Symbol">{</a><a id="530" href="InfinitePigeon.DataStructures.html#530" class="Bound">X</a> <a id="532" class="Symbol">:</a> <a id="534" href="Agda.Primitive.html#388" class="Primitive">Set</a><a id="537" class="Symbol">}</a> <a id="539" class="Symbol">→</a> <a id="541" class="Symbol">(</a><a id="542" href="InfinitePigeon.Finite.html#346" class="Datatype">smaller</a> <a id="550" href="InfinitePigeon.DataStructures.html#522" class="Bound">m</a> <a id="552" class="Symbol">→</a> <a id="554" href="InfinitePigeon.DataStructures.html#530" class="Bound">X</a><a id="555" class="Symbol">)</a> <a id="557" class="Symbol">→</a> <a id="559" href="InfinitePigeon.DataStructures.html#350" class="Datatype">List</a> <a id="564" href="InfinitePigeon.DataStructures.html#530" class="Bound">X</a>
<a id="566" href="InfinitePigeon.DataStructures.html#514" class="Function">list</a> <a id="571" class="Symbol">{</a><a id="572" class="Number">0</a><a id="573" class="Symbol">}</a> <a id="575" href="InfinitePigeon.DataStructures.html#575" class="Bound">s</a> <a id="577" class="Symbol">=</a> <a id="579" href="InfinitePigeon.DataStructures.html#378" class="InductiveConstructor">[]</a>
<a id="582" href="InfinitePigeon.DataStructures.html#514" class="Function">list</a> <a id="587" class="Symbol">{</a><a id="588" href="MLTT.Natural-Numbers-Type.html#123" class="InductiveConstructor">succ</a> <a id="593" href="InfinitePigeon.DataStructures.html#593" class="Bound">m</a><a id="594" class="Symbol">}</a> <a id="596" href="InfinitePigeon.DataStructures.html#596" class="Bound">s</a> <a id="598" class="Symbol">=</a> <a id="600" href="InfinitePigeon.DataStructures.html#596" class="Bound">s</a> <a id="602" href="InfinitePigeon.Finite.html#372" class="InductiveConstructor">fzero</a> <a id="608" href="InfinitePigeon.DataStructures.html#391" class="InductiveConstructor Operator">::</a> <a id="611" href="InfinitePigeon.DataStructures.html#514" class="Function">list</a> <a id="616" class="Symbol">{</a><a id="617" href="InfinitePigeon.DataStructures.html#593" class="Bound">m</a><a id="618" class="Symbol">}</a> <a id="620" class="Symbol">(</a><a id="621" href="InfinitePigeon.DataStructures.html#596" class="Bound">s</a> <a id="623" href="InfinitePigeon.LogicalFacts.html#168" class="Function Operator">∘</a> <a id="625" href="InfinitePigeon.Finite.html#408" class="InductiveConstructor">fsucc</a><a id="630" class="Symbol">)</a>


<a id="634" class="Comment">-- Binary products:</a>

<a id="655" class="Keyword">data</a> <a id="_×_"></a><a id="660" href="InfinitePigeon.DataStructures.html#660" class="Datatype Operator">_×_</a> <a id="664" class="Symbol">(</a><a id="665" href="InfinitePigeon.DataStructures.html#665" class="Bound">X</a> <a id="667" href="InfinitePigeon.DataStructures.html#667" class="Bound">Y</a> <a id="669" class="Symbol">:</a> <a id="671" href="Agda.Primitive.html#388" class="Primitive">Set</a><a id="674" class="Symbol">)</a> <a id="676" class="Symbol">:</a> <a id="678" href="Agda.Primitive.html#388" class="Primitive">Set</a> <a id="682" class="Keyword">where</a>
 <a id="_×_._,_"></a><a id="689" href="InfinitePigeon.DataStructures.html#689" class="InductiveConstructor Operator">_,_</a> <a id="693" class="Symbol">:</a> <a id="695" href="InfinitePigeon.DataStructures.html#665" class="Bound">X</a> <a id="697" class="Symbol">→</a> <a id="699" href="InfinitePigeon.DataStructures.html#667" class="Bound">Y</a> <a id="701" class="Symbol">→</a> <a id="703" href="InfinitePigeon.DataStructures.html#665" class="Bound">X</a> <a id="705" href="InfinitePigeon.DataStructures.html#660" class="Datatype Operator">×</a> <a id="707" href="InfinitePigeon.DataStructures.html#667" class="Bound">Y</a>


<a id="711" class="Keyword">infixr</a> <a id="718" class="Number">20</a> <a id="721" href="InfinitePigeon.DataStructures.html#689" class="InductiveConstructor Operator">_,_</a>


<a id="727" class="Comment">-- The cons operation for the Cantor space:</a>

<a id="772" class="Keyword">open</a> <a id="777" class="Keyword">import</a> <a id="784" href="InfinitePigeon.Cantor.html" class="Module">InfinitePigeon.Cantor</a>
<a id="806" class="Keyword">open</a> <a id="811" class="Keyword">import</a> <a id="818" href="InfinitePigeon.Two.html" class="Module">InfinitePigeon.Two</a>

<a id="_^_"></a><a id="838" href="InfinitePigeon.DataStructures.html#838" class="Function Operator">_^_</a> <a id="842" class="Symbol">:</a> <a id="844" href="MLTT.Natural-Numbers-Type.html#96" class="Datatype">ℕ</a> <a id="846" class="Symbol">→</a> <a id="848" href="InfinitePigeon.Cantor.html#181" class="Function">₂ℕ</a> <a id="851" class="Symbol">→</a> <a id="853" href="InfinitePigeon.Cantor.html#181" class="Function">₂ℕ</a>
<a id="856" class="Symbol">(</a><a id="857" href="InfinitePigeon.Naturals.html#212" class="InductiveConstructor">O</a> <a id="859" href="InfinitePigeon.DataStructures.html#838" class="Function Operator">^</a> <a id="861" href="InfinitePigeon.DataStructures.html#861" class="Bound">α</a><a id="862" class="Symbol">)</a> <a id="864" href="InfinitePigeon.Naturals.html#212" class="InductiveConstructor">O</a> <a id="866" class="Symbol">=</a> <a id="868" href="InfinitePigeon.Two.html#130" class="InductiveConstructor">₀</a>
<a id="870" class="Symbol">(</a><a id="871" href="InfinitePigeon.Naturals.html#212" class="InductiveConstructor">O</a> <a id="873" href="InfinitePigeon.DataStructures.html#838" class="Function Operator">^</a> <a id="875" href="InfinitePigeon.DataStructures.html#875" class="Bound">α</a><a id="876" class="Symbol">)</a> <a id="878" class="Symbol">(</a><a id="879" href="MLTT.Natural-Numbers-Type.html#123" class="InductiveConstructor">succ</a> <a id="884" href="InfinitePigeon.DataStructures.html#884" class="Bound">i</a><a id="885" class="Symbol">)</a> <a id="887" class="Symbol">=</a> <a id="889" href="InfinitePigeon.DataStructures.html#875" class="Bound">α</a> <a id="891" href="InfinitePigeon.DataStructures.html#884" class="Bound">i</a>
<a id="893" class="Symbol">(</a><a id="894" href="MLTT.Natural-Numbers-Type.html#123" class="InductiveConstructor">succ</a> <a id="899" href="InfinitePigeon.DataStructures.html#899" class="Bound">n</a> <a id="901" href="InfinitePigeon.DataStructures.html#838" class="Function Operator">^</a> <a id="903" href="InfinitePigeon.DataStructures.html#903" class="Bound">α</a><a id="904" class="Symbol">)</a> <a id="906" href="InfinitePigeon.Naturals.html#212" class="InductiveConstructor">O</a> <a id="908" class="Symbol">=</a> <a id="910" href="InfinitePigeon.Two.html#137" class="InductiveConstructor">₁</a>
<a id="912" class="Symbol">(</a><a id="913" href="MLTT.Natural-Numbers-Type.html#123" class="InductiveConstructor">succ</a> <a id="918" href="InfinitePigeon.DataStructures.html#918" class="Bound">n</a> <a id="920" href="InfinitePigeon.DataStructures.html#838" class="Function Operator">^</a> <a id="922" href="InfinitePigeon.DataStructures.html#922" class="Bound">α</a><a id="923" class="Symbol">)</a> <a id="925" class="Symbol">(</a><a id="926" href="MLTT.Natural-Numbers-Type.html#123" class="InductiveConstructor">succ</a> <a id="931" href="InfinitePigeon.DataStructures.html#931" class="Bound">i</a><a id="932" class="Symbol">)</a> <a id="934" class="Symbol">=</a> <a id="936" href="InfinitePigeon.DataStructures.html#922" class="Bound">α</a> <a id="938" href="InfinitePigeon.DataStructures.html#931" class="Bound">i</a>

<a id="941" class="Keyword">infixr</a> <a id="948" class="Number">30</a> <a id="951" href="InfinitePigeon.DataStructures.html#838" class="Function Operator">_^_</a>


<a id="957" class="Comment">-- Take a finite initial sublist of an infinite sequence.</a>

<a id="take"></a><a id="1016" href="InfinitePigeon.DataStructures.html#1016" class="Function">take</a> <a id="1021" class="Symbol">:</a> <a id="1023" class="Symbol">(</a><a id="1024" href="InfinitePigeon.DataStructures.html#1024" class="Bound">m</a> <a id="1026" class="Symbol">:</a> <a id="1028" href="MLTT.Natural-Numbers-Type.html#96" class="Datatype">ℕ</a><a id="1029" class="Symbol">)</a> <a id="1031" class="Symbol">{</a><a id="1032" href="InfinitePigeon.DataStructures.html#1032" class="Bound">X</a> <a id="1034" class="Symbol">:</a> <a id="1036" href="Agda.Primitive.html#388" class="Primitive">Set</a><a id="1039" class="Symbol">}</a> <a id="1041" class="Symbol">→</a> <a id="1043" class="Symbol">(</a><a id="1044" href="MLTT.Natural-Numbers-Type.html#96" class="Datatype">ℕ</a> <a id="1046" class="Symbol">→</a> <a id="1048" href="InfinitePigeon.DataStructures.html#1032" class="Bound">X</a><a id="1049" class="Symbol">)</a> <a id="1051" class="Symbol">→</a> <a id="1053" href="InfinitePigeon.DataStructures.html#350" class="Datatype">List</a> <a id="1058" href="InfinitePigeon.DataStructures.html#1032" class="Bound">X</a>
<a id="1060" href="InfinitePigeon.DataStructures.html#1016" class="Function">take</a> <a id="1065" class="Number">0</a> <a id="1067" href="InfinitePigeon.DataStructures.html#1067" class="Bound">α</a> <a id="1069" class="Symbol">=</a> <a id="1071" href="InfinitePigeon.DataStructures.html#378" class="InductiveConstructor">[]</a>
<a id="1074" href="InfinitePigeon.DataStructures.html#1016" class="Function">take</a> <a id="1079" class="Symbol">(</a><a id="1080" href="MLTT.Natural-Numbers-Type.html#123" class="InductiveConstructor">succ</a> <a id="1085" href="InfinitePigeon.DataStructures.html#1085" class="Bound">m</a><a id="1086" class="Symbol">)</a> <a id="1088" href="InfinitePigeon.DataStructures.html#1088" class="Bound">α</a> <a id="1090" class="Symbol">=</a> <a id="1092" href="InfinitePigeon.DataStructures.html#1088" class="Bound">α</a> <a id="1094" class="Number">0</a> <a id="1096" href="InfinitePigeon.DataStructures.html#391" class="InductiveConstructor Operator">::</a> <a id="1099" href="InfinitePigeon.DataStructures.html#1016" class="Function">take</a> <a id="1104" href="InfinitePigeon.DataStructures.html#1085" class="Bound">m</a> <a id="1106" class="Symbol">(</a><a id="1107" href="InfinitePigeon.DataStructures.html#1088" class="Bound">α</a> <a id="1109" href="InfinitePigeon.LogicalFacts.html#168" class="Function Operator">∘</a> <a id="1111" href="MLTT.Natural-Numbers-Type.html#123" class="InductiveConstructor">succ</a><a id="1115" class="Symbol">)</a>

<a id="1118" class="Comment">-- Index a finite sequence:</a>

<a id="_!_"></a><a id="1147" href="InfinitePigeon.DataStructures.html#1147" class="Function Operator">_!_</a> <a id="1151" class="Symbol">:</a> <a id="1153" class="Symbol">{</a><a id="1154" href="InfinitePigeon.DataStructures.html#1154" class="Bound">m</a> <a id="1156" class="Symbol">:</a> <a id="1158" href="MLTT.Natural-Numbers-Type.html#96" class="Datatype">ℕ</a><a id="1159" class="Symbol">}</a> <a id="1161" class="Symbol">→</a> <a id="1163" class="Symbol">(</a><a id="1164" href="InfinitePigeon.Finite.html#346" class="Datatype">smaller</a><a id="1171" class="Symbol">(</a><a id="1172" href="InfinitePigeon.DataStructures.html#1154" class="Bound">m</a> <a id="1174" href="InfinitePigeon.Addition.html#578" class="Function Operator">+</a> <a id="1176" class="Number">1</a><a id="1177" class="Symbol">)</a> <a id="1179" class="Symbol">→</a> <a id="1181" href="MLTT.Natural-Numbers-Type.html#96" class="Datatype">ℕ</a><a id="1182" class="Symbol">)</a> <a id="1184" class="Symbol">→</a> <a id="1186" href="MLTT.Natural-Numbers-Type.html#96" class="Datatype">ℕ</a> <a id="1188" class="Symbol">→</a> <a id="1190" href="MLTT.Natural-Numbers-Type.html#96" class="Datatype">ℕ</a>
<a id="1192" href="InfinitePigeon.DataStructures.html#1147" class="Function Operator">_!_</a> <a id="1196" class="Symbol">{</a><a id="1197" href="InfinitePigeon.DataStructures.html#1197" class="Bound">m</a><a id="1198" class="Symbol">}</a> <a id="1200" href="InfinitePigeon.DataStructures.html#1200" class="Bound">s</a> <a id="1202" href="InfinitePigeon.DataStructures.html#1202" class="Bound">n</a> <a id="1204" class="Symbol">=</a> <a id="1206" href="InfinitePigeon.DataStructures.html#1200" class="Bound">s</a><a id="1207" class="Symbol">(</a><a id="1208" href="InfinitePigeon.Finite.html#1852" class="Function">fmin</a> <a id="1213" href="InfinitePigeon.DataStructures.html#1197" class="Bound">m</a> <a id="1215" href="InfinitePigeon.DataStructures.html#1202" class="Bound">n</a><a id="1216" class="Symbol">)</a>
</pre></body></html>