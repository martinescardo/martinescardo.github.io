<!DOCTYPE HTML>
<html><head><meta charset="utf-8"><title>Modal.SigmaClosedReflectiveSubuniverse</title><link rel="stylesheet" href="Agda.css"><script type="text/javascript" src="highlight-hover.js"></script></head><body><pre class="Agda"><a id="1" class="Background">Andrew Swan, 6th February 2024

Σ-closed reflective subuniverse is one of the three definitions of
modalities given in [1] (Definition 1.3). The aim of this file is
to collect together results about them. For now we just have one
result that is often useful in practice: for Σ-closed universes, we have
not just recursion, but induction.

[1] Rijke, Shulman, Spitters, Modalities in homotopy type theory,
https://doi.org/10.23638/LMCS-16(1:2)2020

</a><a id="449" class="Markup">\begin{code}</a>
<a id="462" class="Symbol">{-#</a> <a id="466" class="Keyword">OPTIONS</a> <a id="474" class="Pragma">--safe</a> <a id="481" class="Pragma">--without-K</a> <a id="493" class="Pragma">--exact-split</a> <a id="507" class="Pragma">--auto-inline</a> <a id="521" class="Symbol">#-}</a>

<a id="526" class="Keyword">open</a> <a id="531" class="Keyword">import</a> <a id="538" href="MLTT.Spartan.html" class="Module">MLTT.Spartan</a>
<a id="551" class="Keyword">open</a> <a id="556" class="Keyword">import</a> <a id="563" href="UF.Base.html" class="Module">UF.Base</a>
<a id="571" class="Keyword">open</a> <a id="576" class="Keyword">import</a> <a id="583" href="UF.FunExt.html" class="Module">UF.FunExt</a>
<a id="593" class="Keyword">open</a> <a id="598" class="Keyword">import</a> <a id="605" href="Modal.Subuniverse.html" class="Module">Modal.Subuniverse</a>

<a id="624" class="Keyword">module</a> <a id="631" href="Modal.SigmaClosedReflectiveSubuniverse.html" class="Module">Modal.SigmaClosedReflectiveSubuniverse</a>
 <a id="671" class="Symbol">(</a><a id="672" href="Modal.SigmaClosedReflectiveSubuniverse.html#672" class="Bound">P</a> <a id="674" class="Symbol">:</a> <a id="676" href="Modal.Subuniverse.html#296" class="Function">subuniverse</a> <a id="688" href="MLTT.Universes.html#3834" class="Generalizable">𝓤</a> <a id="690" href="MLTT.Universes.html#3836" class="Generalizable">𝓥</a><a id="691" class="Symbol">)</a>
 <a id="694" class="Symbol">(</a><a id="695" href="Modal.SigmaClosedReflectiveSubuniverse.html#695" class="Bound">P-is-reflective</a> <a id="711" class="Symbol">:</a> <a id="713" href="Modal.Subuniverse.html#1082" class="Function">subuniverse-is-reflective</a> <a id="739" href="Modal.SigmaClosedReflectiveSubuniverse.html#672" class="Bound">P</a><a id="740" class="Symbol">)</a>
 <a id="743" class="Symbol">(</a><a id="744" href="Modal.SigmaClosedReflectiveSubuniverse.html#744" class="Bound">P-is-sigma-closed</a> <a id="762" class="Symbol">:</a> <a id="764" href="Modal.Subuniverse.html#1594" class="Function">subuniverse-is-sigma-closed</a> <a id="792" href="Modal.SigmaClosedReflectiveSubuniverse.html#672" class="Bound">P</a><a id="793" class="Symbol">)</a>
 <a id="796" class="Keyword">where</a>
<a id="802" class="Markup">\end{code}</a><a id="812" class="Background">

A Σ-closed reflective subuniverse is in particular a reflective
subuniverse, so we first import everything already proved for
reflective subuniverses in general.

</a><a id="977" class="Markup">\begin{code}</a>
<a id="990" class="Keyword">open</a> <a id="995" class="Keyword">import</a> <a id="1002" href="Modal.ReflectiveSubuniverse.html" class="Module">Modal.ReflectiveSubuniverse</a> <a id="1030" href="Modal.SigmaClosedReflectiveSubuniverse.html#672" class="Bound">P</a> <a id="1032" href="Modal.SigmaClosedReflectiveSubuniverse.html#695" class="Bound">P-is-reflective</a> <a id="1048" class="Keyword">public</a>
<a id="1055" class="Markup">\end{code}</a><a id="1065" class="Background">

We can now prove the induction principle. We do this as a direct
proof from the Σ-closed condition, using it together with the
recursion principle to construct a map g : ○ A → Σ a : ○ A, B a and
then using uniqueness to show that composition pr₁ ∘ g is the identity
on ○ A.

</a><a id="1342" class="Markup">\begin{code}</a>
<a id="○-induction"></a><a id="1355" href="Modal.SigmaClosedReflectiveSubuniverse.html#1355" class="Function">○-induction</a>
 <a id="1368" class="Symbol">:</a> <a id="1370" class="Symbol">(</a><a id="1371" href="Modal.SigmaClosedReflectiveSubuniverse.html#1371" class="Bound">fe</a> <a id="1374" class="Symbol">:</a> <a id="1376" href="UF.FunExt.html#850" class="Function">funext</a> <a id="1383" href="Modal.SigmaClosedReflectiveSubuniverse.html#688" class="Bound">𝓤</a> <a id="1385" href="Modal.SigmaClosedReflectiveSubuniverse.html#688" class="Bound">𝓤</a><a id="1386" class="Symbol">)</a>
 <a id="1389" class="Symbol">→</a> <a id="1391" class="Symbol">(</a><a id="1392" href="Modal.SigmaClosedReflectiveSubuniverse.html#1392" class="Bound">A</a> <a id="1394" class="Symbol">:</a> <a id="1396" href="Modal.SigmaClosedReflectiveSubuniverse.html#688" class="Bound">𝓤</a> <a id="1398" href="MLTT.Universes.html#3977" class="Function Operator">̇</a> <a id="1400" class="Symbol">)</a>
 <a id="1403" class="Symbol">→</a> <a id="1405" class="Symbol">(</a><a id="1406" href="Modal.SigmaClosedReflectiveSubuniverse.html#1406" class="Bound">B</a> <a id="1408" class="Symbol">:</a> <a id="1410" href="Modal.ReflectiveSubuniverse.html#767" class="Function">○</a> <a id="1412" href="Modal.SigmaClosedReflectiveSubuniverse.html#1392" class="Bound">A</a> <a id="1414" class="Symbol">→</a> <a id="1416" href="Modal.SigmaClosedReflectiveSubuniverse.html#688" class="Bound">𝓤</a> <a id="1418" href="MLTT.Universes.html#3977" class="Function Operator">̇</a> <a id="1420" class="Symbol">)</a>
 <a id="1423" class="Symbol">→</a> <a id="1425" class="Symbol">(</a><a id="1426" href="Modal.SigmaClosedReflectiveSubuniverse.html#1426" class="Bound">B-modal</a> <a id="1434" class="Symbol">:</a> <a id="1436" class="Symbol">(</a><a id="1437" href="Modal.SigmaClosedReflectiveSubuniverse.html#1437" class="Bound">α</a> <a id="1439" class="Symbol">:</a> <a id="1441" href="Modal.ReflectiveSubuniverse.html#767" class="Function">○</a> <a id="1443" href="Modal.SigmaClosedReflectiveSubuniverse.html#1392" class="Bound">A</a><a id="1444" class="Symbol">)</a> <a id="1446" class="Symbol">→</a> <a id="1448" href="Modal.ReflectiveSubuniverse.html#538" class="Function">is-modal</a> <a id="1457" class="Symbol">(</a><a id="1458" href="Modal.SigmaClosedReflectiveSubuniverse.html#1406" class="Bound">B</a> <a id="1460" href="Modal.SigmaClosedReflectiveSubuniverse.html#1437" class="Bound">α</a><a id="1461" class="Symbol">))</a>
 <a id="1465" class="Symbol">→</a> <a id="1467" class="Symbol">((</a><a id="1469" href="Modal.SigmaClosedReflectiveSubuniverse.html#1469" class="Bound">a</a> <a id="1471" class="Symbol">:</a> <a id="1473" href="Modal.SigmaClosedReflectiveSubuniverse.html#1392" class="Bound">A</a><a id="1474" class="Symbol">)</a> <a id="1476" class="Symbol">→</a> <a id="1478" href="Modal.SigmaClosedReflectiveSubuniverse.html#1406" class="Bound">B</a> <a id="1480" class="Symbol">(</a><a id="1481" href="Modal.ReflectiveSubuniverse.html#878" class="Function">η</a> <a id="1483" href="Modal.SigmaClosedReflectiveSubuniverse.html#1392" class="Bound">A</a> <a id="1485" href="Modal.SigmaClosedReflectiveSubuniverse.html#1469" class="Bound">a</a><a id="1486" class="Symbol">))</a>
 <a id="1490" class="Symbol">→</a> <a id="1492" class="Symbol">(</a><a id="1493" href="Modal.SigmaClosedReflectiveSubuniverse.html#1493" class="Bound">α</a> <a id="1495" class="Symbol">:</a> <a id="1497" href="Modal.ReflectiveSubuniverse.html#767" class="Function">○</a> <a id="1499" href="Modal.SigmaClosedReflectiveSubuniverse.html#1392" class="Bound">A</a><a id="1500" class="Symbol">)</a> <a id="1502" class="Symbol">→</a> <a id="1504" href="Modal.SigmaClosedReflectiveSubuniverse.html#1406" class="Bound">B</a> <a id="1506" href="Modal.SigmaClosedReflectiveSubuniverse.html#1493" class="Bound">α</a>
<a id="1508" href="Modal.SigmaClosedReflectiveSubuniverse.html#1355" class="Function">○-induction</a> <a id="1520" href="Modal.SigmaClosedReflectiveSubuniverse.html#1520" class="Bound">fe</a> <a id="1523" href="Modal.SigmaClosedReflectiveSubuniverse.html#1523" class="Bound">A</a> <a id="1525" href="Modal.SigmaClosedReflectiveSubuniverse.html#1525" class="Bound">B</a> <a id="1527" href="Modal.SigmaClosedReflectiveSubuniverse.html#1527" class="Bound">B-modal</a> <a id="1535" href="Modal.SigmaClosedReflectiveSubuniverse.html#1535" class="Bound">f</a> <a id="1537" href="Modal.SigmaClosedReflectiveSubuniverse.html#1537" class="Bound">α</a> <a id="1539" class="Symbol">=</a> <a id="1541" href="MLTT.Id.html#735" class="Function">transport</a> <a id="1551" href="Modal.SigmaClosedReflectiveSubuniverse.html#1525" class="Bound">B</a> <a id="1553" class="Symbol">(</a><a id="1554" href="UF.Base.html#11014" class="Function">happly</a> <a id="1561" href="Modal.SigmaClosedReflectiveSubuniverse.html#1710" class="Function">h</a> <a id="1563" href="Modal.SigmaClosedReflectiveSubuniverse.html#1537" class="Bound">α</a><a id="1564" class="Symbol">)</a> <a id="1566" class="Symbol">(</a><a id="1567" href="MLTT.Sigma-Type.html#209" class="Field">pr₂</a> <a id="1571" class="Symbol">(</a><a id="1572" href="Modal.SigmaClosedReflectiveSubuniverse.html#1587" class="Function">g</a> <a id="1574" href="Modal.SigmaClosedReflectiveSubuniverse.html#1537" class="Bound">α</a><a id="1575" class="Symbol">))</a>
 <a id="1579" class="Keyword">where</a>
  <a id="1587" href="Modal.SigmaClosedReflectiveSubuniverse.html#1587" class="Function">g</a> <a id="1589" class="Symbol">:</a> <a id="1591" href="Modal.ReflectiveSubuniverse.html#767" class="Function">○</a> <a id="1593" href="Modal.SigmaClosedReflectiveSubuniverse.html#1523" class="Bound">A</a> <a id="1595" class="Symbol">→</a> <a id="1597" href="MLTT.Sigma-Type.html#116" class="Record">Σ</a> <a id="1599" href="Modal.SigmaClosedReflectiveSubuniverse.html#1525" class="Bound">B</a>
  <a id="1603" href="Modal.SigmaClosedReflectiveSubuniverse.html#1587" class="Function">g</a> <a id="1605" class="Symbol">=</a> <a id="1607" href="Modal.ReflectiveSubuniverse.html#1318" class="Function">○-rec</a>
       <a id="1620" class="Symbol">_</a> <a id="1622" class="Symbol">_</a>
       <a id="1631" class="Symbol">(</a><a id="1632" href="Modal.SigmaClosedReflectiveSubuniverse.html#744" class="Bound">P-is-sigma-closed</a> <a id="1650" class="Symbol">_</a> <a id="1652" class="Symbol">_</a> <a id="1654" class="Symbol">(</a><a id="1655" href="Modal.ReflectiveSubuniverse.html#805" class="Function">○-is-modal</a> <a id="1666" class="Symbol">_)</a> <a id="1669" href="Modal.SigmaClosedReflectiveSubuniverse.html#1527" class="Bound">B-modal</a><a id="1676" class="Symbol">)</a>
       <a id="1685" class="Symbol">λ</a> <a id="1687" href="Modal.SigmaClosedReflectiveSubuniverse.html#1687" class="Bound">a</a> <a id="1689" class="Symbol">→</a> <a id="1691" class="Symbol">(</a><a id="1692" href="Modal.ReflectiveSubuniverse.html#878" class="Function">η</a> <a id="1694" class="Symbol">_</a> <a id="1696" href="Modal.SigmaClosedReflectiveSubuniverse.html#1687" class="Bound">a</a><a id="1697" class="Symbol">)</a> <a id="1699" href="MLTT.Sigma.html#395" class="InductiveConstructor Operator">,</a> <a id="1701" class="Symbol">(</a><a id="1702" href="Modal.SigmaClosedReflectiveSubuniverse.html#1535" class="Bound">f</a> <a id="1704" href="Modal.SigmaClosedReflectiveSubuniverse.html#1687" class="Bound">a</a><a id="1705" class="Symbol">)</a>

  <a id="1710" href="Modal.SigmaClosedReflectiveSubuniverse.html#1710" class="Function">h</a> <a id="1712" class="Symbol">:</a> <a id="1714" href="MLTT.Sigma-Type.html#198" class="Field">pr₁</a> <a id="1718" href="MLTT.Pi.html#513" class="Function Operator">∘</a> <a id="1720" href="Modal.SigmaClosedReflectiveSubuniverse.html#1587" class="Function">g</a> <a id="1722" href="MLTT.Id.html#193" class="Datatype Operator">＝</a> <a id="1724" href="MLTT.Pi.html#444" class="Function">id</a>
  <a id="1729" href="Modal.SigmaClosedReflectiveSubuniverse.html#1710" class="Function">h</a> <a id="1731" class="Symbol">=</a> <a id="1733" href="Modal.ReflectiveSubuniverse.html#1857" class="Function">○-rec-ext</a>
       <a id="1750" class="Symbol">_</a> <a id="1752" class="Symbol">_</a>
       <a id="1761" class="Symbol">(</a><a id="1762" href="Modal.ReflectiveSubuniverse.html#805" class="Function">○-is-modal</a> <a id="1773" class="Symbol">_)</a>
       <a id="1783" class="Symbol">_</a> <a id="1785" class="Symbol">_</a>
       <a id="1794" class="Symbol">(</a><a id="1795" href="UF.FunExt.html#1242" class="Function">dfunext</a> <a id="1803" href="Modal.SigmaClosedReflectiveSubuniverse.html#1520" class="Bound">fe</a> <a id="1806" class="Symbol">(λ</a> <a id="1809" href="Modal.SigmaClosedReflectiveSubuniverse.html#1809" class="Bound">a</a> <a id="1811" class="Symbol">→</a> <a id="1813" href="MLTT.Id.html#1136" class="Function">ap</a> <a id="1816" href="MLTT.Sigma-Type.html#198" class="Field">pr₁</a> <a id="1820" class="Symbol">(</a><a id="1821" href="Modal.ReflectiveSubuniverse.html#1664" class="Function">○-rec-compute</a> <a id="1835" class="Symbol">_</a> <a id="1837" class="Symbol">_</a> <a id="1839" class="Symbol">_</a> <a id="1841" class="Symbol">_</a> <a id="1843" href="Modal.SigmaClosedReflectiveSubuniverse.html#1809" class="Bound">a</a><a id="1844" class="Symbol">)))</a>
<a id="1848" class="Markup">\end{code}</a><a id="1858" class="Background">
</a></pre></body></html>