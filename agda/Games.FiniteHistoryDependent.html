<!DOCTYPE HTML>
<html><head><meta charset="utf-8"><title>Games.FiniteHistoryDependent</title><link rel="stylesheet" href="Agda.css"><script type="text/javascript" src="highlight-hover.js"></script></head><body><pre class="Agda"><a id="1" class="Background">Martin Escardo, Paulo Oliva, 2-27 July 2021

The following paper is based on this file:

  [0] Martin Escardo and Paulo Oliva. Higher-order games with
      dependent types.  Theoretical Computer Science, Volume 974, 29
      September 2023, 114111.
      https://doi.org/10.48550/arXiv.2212.07735
      https://doi.org/10.1016/j.tcs.2023.114111

We study finite, history dependent games of perfect information using
selection functions and dependent-type trees.

This is based on our previous work.

  [1] M.H. Escardó and Paulo Oliva. Sequential Games and Optimal
      Strategies. Proceedings of the Royal Society A, 467:1519-1545,
      2011. https://doi.org/10.1098/rspa.2010.0471

We generalize [1] by considering the case that the type Xₖ of moves xₖ
at round k depends on the moves played at the previous rounds. So in a
sequence of moves x₀,x₁,x₂,…, we have that

  * the type X₀ of initial moves doesn&#39;t depend on anything,
  * the type X₁ depends on the first move x₀ : X₀,
  * the type X₂ depends on the first move x₀ : X₀ and the
    second move x₁ : X₁.
  …

In order to achieve this generalization, we work with game trees
whose nodes are labelled by types that collect the allowed moves at a
given round. Then a play x₀,x₁,x₂,…, is a path in such a tree.

This formulation of the notion of game naturally accounts for finite
games of *unbounded* length, which in [1] was achieved by continuous,
infinite games instead.

We assume a given type R of outcomes for games as a module parameter.

</a><a id="1508" class="Markup">\begin{code}</a>

<a id="1522" class="Symbol">{-#</a> <a id="1526" class="Keyword">OPTIONS</a> <a id="1534" class="Pragma">--safe</a> <a id="1541" class="Pragma">--without-K</a> <a id="1553" class="Symbol">#-}</a> <a id="1557" class="Comment">--</a>

<a id="1561" class="Keyword">open</a> <a id="1566" class="Keyword">import</a> <a id="1573" href="MLTT.Spartan.html" class="Module">MLTT.Spartan</a> <a id="1586" class="Keyword">hiding</a> <a id="1593" class="Symbol">(</a><a id="1594" href="MLTT.Id.html#438" class="Function">J</a><a id="1595" class="Symbol">)</a>

<a id="1598" class="Keyword">module</a> <a id="1605" href="Games.FiniteHistoryDependent.html" class="Module">Games.FiniteHistoryDependent</a> <a id="1634" class="Symbol">(</a><a id="1635" href="Games.FiniteHistoryDependent.html#1635" class="Bound">R</a> <a id="1637" class="Symbol">:</a> <a id="1639" href="Notation.General.html#372" class="Function">Type</a><a id="1643" class="Symbol">)</a> <a id="1645" class="Keyword">where</a>

<a id="1652" class="Keyword">open</a> <a id="1657" class="Keyword">import</a> <a id="1664" href="Games.Monad.html" class="Module">Games.Monad</a>
<a id="1676" class="Keyword">open</a> <a id="1681" class="Keyword">import</a> <a id="1688" href="Games.J.html" class="Module">Games.J</a>
<a id="1696" class="Keyword">open</a> <a id="1701" class="Keyword">import</a> <a id="1708" href="Games.K.html" class="Module">Games.K</a>
<a id="1716" class="Keyword">open</a> <a id="1721" class="Keyword">import</a> <a id="1728" href="Games.JK.html" class="Module">Games.JK</a>
<a id="1737" class="Keyword">open</a> <a id="1742" class="Keyword">import</a> <a id="1749" href="UF.Base.html" class="Module">UF.Base</a>
<a id="1757" class="Keyword">open</a> <a id="1762" class="Keyword">import</a> <a id="1769" href="UF.FunExt.html" class="Module">UF.FunExt</a>

<a id="1780" class="Keyword">open</a> <a id="1785" href="Games.K.html#425" class="Module">K-definitions</a> <a id="1799" href="Games.FiniteHistoryDependent.html#1635" class="Bound">R</a>
<a id="1801" class="Keyword">open</a> <a id="1806" href="Games.J.html#414" class="Module">J-definitions</a> <a id="1820" href="Games.FiniteHistoryDependent.html#1635" class="Bound">R</a>

<a id="1823" class="Markup">\end{code}</a><a id="1833" class="Background">

The following module defines the main data structure we use in order
to represent the above kind of game:

</a><a id="1942" class="Markup">\begin{code}</a>

<a id="1956" class="Keyword">open</a> <a id="1961" class="Keyword">import</a> <a id="1968" href="Games.TypeTrees.html" class="Module">Games.TypeTrees</a>

<a id="1985" class="Markup">\end{code}</a><a id="1995" class="Background">

We use quantifiers as in Section 1 of reference [1], defined in
another module.

In the same way as the type of moves at a given stage of the game
depends on the previously played moves, so do the quantifiers and
selection functions.

𝓚 decorates each internal node X of a type tree with the type K X of
quantifiers over X.

</a><a id="2322" class="Markup">\begin{code}</a>

<a id="𝓚"></a><a id="2336" href="Games.FiniteHistoryDependent.html#2336" class="Function">𝓚</a> <a id="2338" class="Symbol">:</a> <a id="2340" href="Games.TypeTrees.html#712" class="Datatype">𝑻</a> <a id="2342" class="Symbol">→</a> <a id="2344" href="Notation.General.html#372" class="Function">Type</a>
<a id="2349" href="Games.FiniteHistoryDependent.html#2336" class="Function">𝓚</a> <a id="2351" class="Symbol">=</a> <a id="2353" href="Games.TypeTrees.html#2113" class="Function">structure</a> <a id="2363" href="Games.K.html#458" class="Function">K</a>

<a id="remark-𝓚"></a><a id="2366" href="Games.FiniteHistoryDependent.html#2366" class="Function">remark-𝓚</a> <a id="2375" class="Symbol">:</a> <a id="2377" class="Symbol">{</a><a id="2378" href="Games.FiniteHistoryDependent.html#2378" class="Bound">X</a> <a id="2380" class="Symbol">:</a> <a id="2382" href="Notation.General.html#372" class="Function">Type</a><a id="2386" class="Symbol">}</a> <a id="2388" class="Symbol">{</a><a id="2389" href="Games.FiniteHistoryDependent.html#2389" class="Bound">Xf</a> <a id="2392" class="Symbol">:</a> <a id="2394" href="Games.FiniteHistoryDependent.html#2378" class="Bound">X</a> <a id="2396" class="Symbol">→</a> <a id="2398" href="Games.TypeTrees.html#712" class="Datatype">𝑻</a><a id="2399" class="Symbol">}</a>
         <a id="2410" class="Symbol">→</a> <a id="2412" class="Symbol">(</a><a id="2413" href="Games.FiniteHistoryDependent.html#2336" class="Function">𝓚</a> <a id="2415" class="InductiveConstructor">[]</a>       <a id="2424" href="MLTT.Id.html#193" class="Datatype Operator">＝</a> <a id="2426" href="MLTT.Unit.html#129" class="Record">𝟙</a><a id="2427" class="Symbol">)</a>
         <a id="2438" href="MLTT.Sigma.html#558" class="Function Operator">×</a> <a id="2440" class="Symbol">(</a><a id="2441" href="Games.FiniteHistoryDependent.html#2336" class="Function">𝓚</a> <a id="2443" class="Symbol">(</a><a id="2444" href="Games.FiniteHistoryDependent.html#2378" class="Bound">X</a> <a id="2446" class="InductiveConstructor Operator">∷</a> <a id="2448" href="Games.FiniteHistoryDependent.html#2389" class="Bound">Xf</a><a id="2450" class="Symbol">)</a> <a id="2452" href="MLTT.Id.html#193" class="Datatype Operator">＝</a> <a id="2454" href="Games.K.html#458" class="Function">K</a> <a id="2456" href="Games.FiniteHistoryDependent.html#2378" class="Bound">X</a> <a id="2458" href="MLTT.Sigma.html#558" class="Function Operator">×</a> <a id="2460" class="Symbol">((</a><a id="2462" href="Games.FiniteHistoryDependent.html#2462" class="Bound">x</a> <a id="2464" class="Symbol">:</a> <a id="2466" href="Games.FiniteHistoryDependent.html#2378" class="Bound">X</a><a id="2467" class="Symbol">)</a> <a id="2469" class="Symbol">→</a> <a id="2471" href="Games.FiniteHistoryDependent.html#2336" class="Function">𝓚</a> <a id="2473" class="Symbol">(</a><a id="2474" href="Games.FiniteHistoryDependent.html#2389" class="Bound">Xf</a> <a id="2477" href="Games.FiniteHistoryDependent.html#2462" class="Bound">x</a><a id="2478" class="Symbol">)))</a>
<a id="2482" href="Games.FiniteHistoryDependent.html#2366" class="Function">remark-𝓚</a> <a id="2491" class="Symbol">=</a> <a id="2493" href="MLTT.Identity-Type.html#157" class="InductiveConstructor">refl</a> <a id="2498" href="MLTT.Sigma.html#395" class="InductiveConstructor Operator">,</a> <a id="2500" href="MLTT.Identity-Type.html#157" class="InductiveConstructor">refl</a>

<a id="2506" class="Markup">\end{code}</a><a id="2516" class="Background">

 * ϕ  ranges over the type K X of quantifiers.
 * ϕt ranges over the type 𝓚 Xt of quantifier trees.
 * ϕf ranges over the type (x : X) → 𝓚 (Xf x) of quantifier forests.


Sequencing quantifiers, as constructed in Definition 2 of reference [1],
but using our tree representation of games instead:

</a><a id="2815" class="Markup">\begin{code}</a>

<a id="sequenceᴷ"></a><a id="2829" href="Games.FiniteHistoryDependent.html#2829" class="Function">sequenceᴷ</a> <a id="2839" class="Symbol">:</a> <a id="2841" class="Symbol">{</a><a id="2842" href="Games.FiniteHistoryDependent.html#2842" class="Bound">Xt</a> <a id="2845" class="Symbol">:</a> <a id="2847" href="Games.TypeTrees.html#712" class="Datatype">𝑻</a><a id="2848" class="Symbol">}</a> <a id="2850" class="Symbol">→</a> <a id="2852" href="Games.FiniteHistoryDependent.html#2336" class="Function">𝓚</a> <a id="2854" href="Games.FiniteHistoryDependent.html#2842" class="Bound">Xt</a> <a id="2857" class="Symbol">→</a> <a id="2859" href="Games.K.html#458" class="Function">K</a> <a id="2861" class="Symbol">(</a><a id="2862" href="Games.TypeTrees.html#899" class="Function">Path</a> <a id="2867" href="Games.FiniteHistoryDependent.html#2842" class="Bound">Xt</a><a id="2869" class="Symbol">)</a>
<a id="2871" href="Games.FiniteHistoryDependent.html#2829" class="Function">sequenceᴷ</a> <a id="2881" class="Symbol">=</a> <a id="2883" href="Games.TypeTrees.html#3782" class="Function">path-sequence</a> <a id="2897" class="Symbol">(</a><a id="2898" href="Games.K.html#170" class="Function">𝕂</a> <a id="2900" href="Games.FiniteHistoryDependent.html#1635" class="Bound">R</a><a id="2901" class="Symbol">)</a>

<a id="2904" class="Markup">\end{code}</a><a id="2914" class="Background">

The following is Definition 3 of the above reference [1].

A game is defined by a game tree Xt, a type R of outcomes, a
quantifier tree ϕt and an outcome function q:

</a><a id="3083" class="Markup">\begin{code}</a>

<a id="3097" class="Keyword">record</a> <a id="Game"></a><a id="3104" href="Games.FiniteHistoryDependent.html#3104" class="Record">Game</a> <a id="3109" class="Symbol">:</a> <a id="3111" href="Notation.General.html#384" class="Function">Type₁</a> <a id="3117" class="Keyword">where</a>
 <a id="3124" class="Keyword">constructor</a> <a id="game"></a><a id="3136" href="Games.FiniteHistoryDependent.html#3136" class="InductiveConstructor">game</a>
 <a id="3142" class="Keyword">field</a>
  <a id="Game.Xt"></a><a id="3150" href="Games.FiniteHistoryDependent.html#3150" class="Field">Xt</a> <a id="3153" class="Symbol">:</a> <a id="3155" href="Games.TypeTrees.html#712" class="Datatype">𝑻</a>
  <a id="Game.q"></a><a id="3159" href="Games.FiniteHistoryDependent.html#3159" class="Field">q</a>  <a id="3162" class="Symbol">:</a> <a id="3164" href="Games.TypeTrees.html#899" class="Function">Path</a> <a id="3169" href="Games.FiniteHistoryDependent.html#3150" class="Field">Xt</a> <a id="3172" class="Symbol">→</a> <a id="3174" href="Games.FiniteHistoryDependent.html#1635" class="Bound">R</a>
  <a id="Game.ϕt"></a><a id="3178" href="Games.FiniteHistoryDependent.html#3178" class="Field">ϕt</a> <a id="3181" class="Symbol">:</a> <a id="3183" href="Games.FiniteHistoryDependent.html#2336" class="Function">𝓚</a> <a id="3185" href="Games.FiniteHistoryDependent.html#3150" class="Field">Xt</a>

<a id="3189" class="Keyword">open</a> <a id="3194" href="Games.FiniteHistoryDependent.html#3104" class="Module">Game</a> <a id="3199" class="Keyword">public</a>

<a id="3207" class="Markup">\end{code}</a><a id="3217" class="Background">

We can think of Xt as the rules of the game, and R, ϕt and q as the
objective of the game.

We define the optimal outcome of a game to be the sequencing of its
quantifiers applied to the outcome function (Theorem 3.1 of [1]).

</a><a id="3446" class="Markup">\begin{code}</a>

<a id="optimal-outcome"></a><a id="3460" href="Games.FiniteHistoryDependent.html#3460" class="Function">optimal-outcome</a> <a id="3476" class="Symbol">:</a> <a id="3478" href="Games.FiniteHistoryDependent.html#3104" class="Record">Game</a> <a id="3483" class="Symbol">→</a> <a id="3485" href="Games.FiniteHistoryDependent.html#1635" class="Bound">R</a>
<a id="3487" href="Games.FiniteHistoryDependent.html#3460" class="Function">optimal-outcome</a> <a id="3503" class="Symbol">(</a><a id="3504" href="Games.FiniteHistoryDependent.html#3136" class="InductiveConstructor">game</a> <a id="3509" href="Games.FiniteHistoryDependent.html#3509" class="Bound">Xt</a> <a id="3512" href="Games.FiniteHistoryDependent.html#3512" class="Bound">q</a> <a id="3514" href="Games.FiniteHistoryDependent.html#3514" class="Bound">ϕt</a><a id="3516" class="Symbol">)</a> <a id="3518" class="Symbol">=</a> <a id="3520" href="Games.FiniteHistoryDependent.html#2829" class="Function">sequenceᴷ</a> <a id="3530" href="Games.FiniteHistoryDependent.html#3514" class="Bound">ϕt</a> <a id="3533" href="Games.FiniteHistoryDependent.html#3512" class="Bound">q</a>

<a id="3536" class="Markup">\end{code}</a><a id="3546" class="Background">

A strategy assigns a move to each mode of a tree. This corresponds to
Definition 4 of [1]:

</a><a id="3640" class="Markup">\begin{code}</a>

<a id="Strategy"></a><a id="3654" href="Games.FiniteHistoryDependent.html#3654" class="Function">Strategy</a> <a id="3663" class="Symbol">:</a> <a id="3665" href="Games.TypeTrees.html#712" class="Datatype">𝑻</a> <a id="3667" class="Symbol">→</a> <a id="3669" href="Notation.General.html#372" class="Function">Type</a>
<a id="3674" href="Games.FiniteHistoryDependent.html#3654" class="Function">Strategy</a> <a id="3683" class="Symbol">=</a> <a id="3685" href="Games.TypeTrees.html#2113" class="Function">structure</a> <a id="3695" href="MLTT.Pi.html#444" class="Function">id</a>

<a id="remark-Strategy"></a><a id="3699" href="Games.FiniteHistoryDependent.html#3699" class="Function">remark-Strategy</a> <a id="3715" class="Symbol">:</a> <a id="3717" class="Symbol">{</a><a id="3718" href="Games.FiniteHistoryDependent.html#3718" class="Bound">X</a> <a id="3720" class="Symbol">:</a> <a id="3722" href="Notation.General.html#372" class="Function">Type</a><a id="3726" class="Symbol">}</a> <a id="3728" class="Symbol">{</a><a id="3729" href="Games.FiniteHistoryDependent.html#3729" class="Bound">Xf</a> <a id="3732" class="Symbol">:</a> <a id="3734" href="Games.FiniteHistoryDependent.html#3718" class="Bound">X</a> <a id="3736" class="Symbol">→</a> <a id="3738" href="Games.TypeTrees.html#712" class="Datatype">𝑻</a><a id="3739" class="Symbol">}</a>
                <a id="3757" class="Symbol">→</a> <a id="3759" class="Symbol">(</a><a id="3760" href="Games.FiniteHistoryDependent.html#3654" class="Function">Strategy</a> <a id="3769" class="InductiveConstructor">[]</a>       <a id="3778" href="MLTT.Id.html#193" class="Datatype Operator">＝</a> <a id="3780" href="MLTT.Unit.html#129" class="Record">𝟙</a><a id="3781" class="Symbol">)</a>
                <a id="3799" href="MLTT.Sigma.html#558" class="Function Operator">×</a> <a id="3801" class="Symbol">(</a><a id="3802" href="Games.FiniteHistoryDependent.html#3654" class="Function">Strategy</a> <a id="3811" class="Symbol">(</a><a id="3812" href="Games.FiniteHistoryDependent.html#3718" class="Bound">X</a> <a id="3814" class="InductiveConstructor Operator">∷</a> <a id="3816" href="Games.FiniteHistoryDependent.html#3729" class="Bound">Xf</a><a id="3818" class="Symbol">)</a> <a id="3820" href="MLTT.Id.html#193" class="Datatype Operator">＝</a> <a id="3822" href="Games.FiniteHistoryDependent.html#3718" class="Bound">X</a> <a id="3824" href="MLTT.Sigma.html#558" class="Function Operator">×</a> <a id="3826" class="Symbol">((</a><a id="3828" href="Games.FiniteHistoryDependent.html#3828" class="Bound">x</a> <a id="3830" class="Symbol">:</a> <a id="3832" href="Games.FiniteHistoryDependent.html#3718" class="Bound">X</a><a id="3833" class="Symbol">)</a> <a id="3835" class="Symbol">→</a> <a id="3837" href="Games.FiniteHistoryDependent.html#3654" class="Function">Strategy</a> <a id="3846" class="Symbol">(</a><a id="3847" href="Games.FiniteHistoryDependent.html#3729" class="Bound">Xf</a> <a id="3850" href="Games.FiniteHistoryDependent.html#3828" class="Bound">x</a><a id="3851" class="Symbol">)))</a>
<a id="3855" href="Games.FiniteHistoryDependent.html#3699" class="Function">remark-Strategy</a> <a id="3871" class="Symbol">=</a> <a id="3873" href="MLTT.Identity-Type.html#157" class="InductiveConstructor">refl</a> <a id="3878" href="MLTT.Sigma.html#395" class="InductiveConstructor Operator">,</a> <a id="3880" href="MLTT.Identity-Type.html#157" class="InductiveConstructor">refl</a>

<a id="3886" class="Markup">\end{code}</a><a id="3896" class="Background">

 * σ ranges over the type Strategy Xt of strategies for a
   dependent-type tree Xt.

 * σf ranges over the type (x : X) → Strategy (Xf x) of strategy
   forests for a dependent-type forest Xf.

We get a path in the tree by following any given strategy:

</a><a id="4153" class="Markup">\begin{code}</a>

<a id="strategic-path"></a><a id="4167" href="Games.FiniteHistoryDependent.html#4167" class="Function">strategic-path</a> <a id="4182" class="Symbol">:</a> <a id="4184" class="Symbol">{</a><a id="4185" href="Games.FiniteHistoryDependent.html#4185" class="Bound">Xt</a> <a id="4188" class="Symbol">:</a> <a id="4190" href="Games.TypeTrees.html#712" class="Datatype">𝑻</a><a id="4191" class="Symbol">}</a> <a id="4193" class="Symbol">→</a> <a id="4195" href="Games.FiniteHistoryDependent.html#3654" class="Function">Strategy</a> <a id="4204" href="Games.FiniteHistoryDependent.html#4185" class="Bound">Xt</a> <a id="4207" class="Symbol">→</a> <a id="4209" href="Games.TypeTrees.html#899" class="Function">Path</a> <a id="4214" href="Games.FiniteHistoryDependent.html#4185" class="Bound">Xt</a>
<a id="4217" href="Games.FiniteHistoryDependent.html#4167" class="Function">strategic-path</a> <a id="4232" class="Symbol">=</a> <a id="4234" href="Games.TypeTrees.html#3782" class="Function">path-sequence</a> <a id="4248" href="Games.Monad.html#4444" class="Function">𝕀𝕕</a>

<a id="remark-strategic-path"></a><a id="4252" href="Games.FiniteHistoryDependent.html#4252" class="Function">remark-strategic-path</a> <a id="4274" class="Symbol">:</a> <a id="4276" class="Symbol">{</a><a id="4277" href="Games.FiniteHistoryDependent.html#4277" class="Bound">X</a> <a id="4279" class="Symbol">:</a> <a id="4281" href="Notation.General.html#372" class="Function">Type</a><a id="4285" class="Symbol">}</a> <a id="4287" class="Symbol">{</a><a id="4288" href="Games.FiniteHistoryDependent.html#4288" class="Bound">Xf</a> <a id="4291" class="Symbol">:</a> <a id="4293" href="Games.FiniteHistoryDependent.html#4277" class="Bound">X</a> <a id="4295" class="Symbol">→</a> <a id="4297" href="Games.TypeTrees.html#712" class="Datatype">𝑻</a><a id="4298" class="Symbol">}</a> <a id="4300" class="Symbol">{</a><a id="4301" href="Games.FiniteHistoryDependent.html#4301" class="Bound">x</a> <a id="4303" class="Symbol">:</a> <a id="4305" href="Games.FiniteHistoryDependent.html#4277" class="Bound">X</a><a id="4306" class="Symbol">}</a>
                        <a id="4332" class="Symbol">{</a><a id="4333" href="Games.FiniteHistoryDependent.html#4333" class="Bound">σf</a> <a id="4336" class="Symbol">:</a> <a id="4338" class="Symbol">(</a><a id="4339" href="Games.FiniteHistoryDependent.html#4339" class="Bound">x</a> <a id="4341" class="Symbol">:</a> <a id="4343" href="Games.FiniteHistoryDependent.html#4277" class="Bound">X</a><a id="4344" class="Symbol">)</a> <a id="4346" class="Symbol">→</a> <a id="4348" href="Games.FiniteHistoryDependent.html#3654" class="Function">Strategy</a> <a id="4357" class="Symbol">(</a><a id="4358" href="Games.FiniteHistoryDependent.html#4288" class="Bound">Xf</a> <a id="4361" href="Games.FiniteHistoryDependent.html#4339" class="Bound">x</a><a id="4362" class="Symbol">)}</a>
                      <a id="4387" class="Symbol">→</a> <a id="4389" class="Symbol">(</a><a id="4390" href="Games.FiniteHistoryDependent.html#4167" class="Function">strategic-path</a> <a id="4405" class="Symbol">{</a><a id="4406" class="InductiveConstructor">[]</a><a id="4408" class="Symbol">}</a>     <a id="4414" href="Games.TypeTrees.html#1267" class="InductiveConstructor">⟨⟩</a>        <a id="4424" href="MLTT.Id.html#193" class="Datatype Operator">＝</a> <a id="4426" href="Games.TypeTrees.html#1267" class="InductiveConstructor">⟨⟩</a><a id="4428" class="Symbol">)</a>
                      <a id="4452" href="MLTT.Sigma.html#558" class="Function Operator">×</a> <a id="4454" class="Symbol">(</a><a id="4455" href="Games.FiniteHistoryDependent.html#4167" class="Function">strategic-path</a> <a id="4470" class="Symbol">{</a><a id="4471" href="Games.FiniteHistoryDependent.html#4277" class="Bound">X</a> <a id="4473" class="InductiveConstructor Operator">∷</a> <a id="4475" href="Games.FiniteHistoryDependent.html#4288" class="Bound">Xf</a><a id="4477" class="Symbol">}</a> <a id="4479" class="Symbol">(</a><a id="4480" href="Games.FiniteHistoryDependent.html#4301" class="Bound">x</a> <a id="4482" href="Games.TypeTrees.html#1289" class="InductiveConstructor Operator">::</a> <a id="4485" href="Games.FiniteHistoryDependent.html#4333" class="Bound">σf</a><a id="4487" class="Symbol">)</a> <a id="4489" href="MLTT.Id.html#193" class="Datatype Operator">＝</a> <a id="4491" href="Games.FiniteHistoryDependent.html#4301" class="Bound">x</a> <a id="4493" href="Games.TypeTrees.html#1289" class="InductiveConstructor Operator">::</a> <a id="4496" href="Games.FiniteHistoryDependent.html#4167" class="Function">strategic-path</a> <a id="4511" class="Symbol">(</a><a id="4512" href="Games.FiniteHistoryDependent.html#4333" class="Bound">σf</a> <a id="4515" href="Games.FiniteHistoryDependent.html#4301" class="Bound">x</a><a id="4516" class="Symbol">))</a>
<a id="4519" href="Games.FiniteHistoryDependent.html#4252" class="Function">remark-strategic-path</a> <a id="4541" class="Symbol">=</a> <a id="4543" href="MLTT.Identity-Type.html#157" class="InductiveConstructor">refl</a> <a id="4548" href="MLTT.Sigma.html#395" class="InductiveConstructor Operator">,</a> <a id="4550" href="MLTT.Identity-Type.html#157" class="InductiveConstructor">refl</a>

<a id="4556" class="Markup">\end{code}</a><a id="4566" class="Background">

In the notation of reference [1] above, Definition 5, a strategy σ
for a game (Xt,R,ϕt,q) is said to be optimal, or in subgame perfect
equilibrium (abbreviated sgpe), if for every partial play a₀,…,aₖ₋₁
of length k, we have

   q(a₀,…,aₖ₋₁,bₖ(a₀,…,aₖ₋₁),…,bₙ₋₁(a₀,…,aₖ₋₁))
 = ϕₖ(λxₖ.q(a₀,…,aₖ₋₁,xₖ,bₖ₊₁(a₀,…,aₖ₋₁,xₖ),…,bₙ₋₁(a₀,…,aₖ₋₁,xₖ)))

where the sequence b is inductively defined by

  bⱼ(a₀,…,aₖ₋₁) = σⱼ(a₀,…,aₖ₋₁,bₖ(a₀,…,aₖ₋₁),…,bⱼ₋₁(a₀,…,aₖ₋₁))

for k ≤ j &lt; n.

Intuitively, the strategy σ is optimal if the outcome

  q(a₀,…,aₖ₋₁,bₖ(a₀,…,aₖ₋₁),…,bₙ₋₁(a₀,…,aₖ₋₁))

obtained by following σ is the best possible outcome as described by
the quantifier ϕₖ for each round k, considering all possible
deviations xₖ from the strategy at that round.

For the purposes of our generalization of [1] to dependent games, it
is convenient to define this notion by induction on the game tree Xt:

</a><a id="5459" class="Markup">\begin{code}</a>

<a id="is-in-equilibrium"></a><a id="5473" href="Games.FiniteHistoryDependent.html#5473" class="Function">is-in-equilibrium</a> <a id="5491" class="Symbol">:</a> <a id="5493" class="Symbol">{</a><a id="5494" href="Games.FiniteHistoryDependent.html#5494" class="Bound">X</a> <a id="5496" class="Symbol">:</a> <a id="5498" href="Notation.General.html#372" class="Function">Type</a><a id="5502" class="Symbol">}</a> <a id="5504" class="Symbol">{</a><a id="5505" href="Games.FiniteHistoryDependent.html#5505" class="Bound">Xf</a> <a id="5508" class="Symbol">:</a> <a id="5510" href="Games.FiniteHistoryDependent.html#5494" class="Bound">X</a> <a id="5512" class="Symbol">→</a> <a id="5514" href="Games.TypeTrees.html#712" class="Datatype">𝑻</a><a id="5515" class="Symbol">}</a>
                    <a id="5537" class="Symbol">(</a><a id="5538" href="Games.FiniteHistoryDependent.html#5538" class="Bound">q</a> <a id="5540" class="Symbol">:</a> <a id="5542" class="Symbol">(</a><a id="5543" href="MLTT.Sigma.html#423" class="Function">Σ</a> <a id="5545" href="Games.FiniteHistoryDependent.html#5545" class="Bound">x</a> <a id="5547" href="MLTT.Sigma.html#423" class="Function">꞉</a> <a id="5549" href="Games.FiniteHistoryDependent.html#5494" class="Bound">X</a> <a id="5551" href="MLTT.Sigma.html#423" class="Function">,</a> <a id="5553" href="Games.TypeTrees.html#899" class="Function">Path</a> <a id="5558" class="Symbol">(</a><a id="5559" href="Games.FiniteHistoryDependent.html#5505" class="Bound">Xf</a> <a id="5562" href="Games.FiniteHistoryDependent.html#5545" class="Bound">x</a><a id="5563" class="Symbol">))</a> <a id="5566" class="Symbol">→</a> <a id="5568" href="Games.FiniteHistoryDependent.html#1635" class="Bound">R</a><a id="5569" class="Symbol">)</a>
                    <a id="5591" class="Symbol">(</a><a id="5592" href="Games.FiniteHistoryDependent.html#5592" class="Bound">ϕ</a> <a id="5594" class="Symbol">:</a> <a id="5596" href="Games.K.html#458" class="Function">K</a> <a id="5598" href="Games.FiniteHistoryDependent.html#5494" class="Bound">X</a><a id="5599" class="Symbol">)</a>
                  <a id="5619" class="Symbol">→</a> <a id="5621" href="Games.FiniteHistoryDependent.html#3654" class="Function">Strategy</a> <a id="5630" class="Symbol">(</a><a id="5631" href="Games.FiniteHistoryDependent.html#5494" class="Bound">X</a> <a id="5633" class="InductiveConstructor Operator">∷</a> <a id="5635" href="Games.FiniteHistoryDependent.html#5505" class="Bound">Xf</a><a id="5637" class="Symbol">)</a>
                  <a id="5657" class="Symbol">→</a> <a id="5659" href="Notation.General.html#372" class="Function">Type</a>
<a id="5664" href="Games.FiniteHistoryDependent.html#5473" class="Function">is-in-equilibrium</a> <a id="5682" class="Symbol">{</a><a id="5683" href="Games.FiniteHistoryDependent.html#5683" class="Bound">X</a><a id="5684" class="Symbol">}</a> <a id="5686" class="Symbol">{</a><a id="5687" href="Games.FiniteHistoryDependent.html#5687" class="Bound">Xf</a><a id="5689" class="Symbol">}</a> <a id="5691" href="Games.FiniteHistoryDependent.html#5691" class="Bound">q</a> <a id="5693" href="Games.FiniteHistoryDependent.html#5693" class="Bound">ϕ</a> <a id="5695" href="Games.FiniteHistoryDependent.html#5695" class="Bound">σt</a><a id="5697" class="Symbol">@(</a><a id="5699" href="Games.FiniteHistoryDependent.html#5699" class="Bound">x₀</a> <a id="5702" href="Games.TypeTrees.html#1289" class="InductiveConstructor Operator">::</a> <a id="5705" href="Games.FiniteHistoryDependent.html#5705" class="Bound">σf</a><a id="5707" class="Symbol">)</a>  <a id="5710" class="Symbol">=</a>
 <a id="5713" href="Games.TypeTrees.html#1615" class="Function">subpred</a> <a id="5721" href="Games.FiniteHistoryDependent.html#5691" class="Bound">q</a> <a id="5723" href="Games.FiniteHistoryDependent.html#5699" class="Bound">x₀</a> <a id="5726" class="Symbol">(</a><a id="5727" href="Games.FiniteHistoryDependent.html#4167" class="Function">strategic-path</a> <a id="5742" class="Symbol">(</a><a id="5743" href="Games.FiniteHistoryDependent.html#5705" class="Bound">σf</a> <a id="5746" href="Games.FiniteHistoryDependent.html#5699" class="Bound">x₀</a><a id="5748" class="Symbol">))</a> <a id="5751" href="MLTT.Id.html#193" class="Datatype Operator">＝</a> <a id="5753" href="Games.FiniteHistoryDependent.html#5693" class="Bound">ϕ</a> <a id="5755" class="Symbol">(λ</a> <a id="5758" href="Games.FiniteHistoryDependent.html#5758" class="Bound">x</a> <a id="5760" class="Symbol">→</a> <a id="5762" href="Games.TypeTrees.html#1615" class="Function">subpred</a> <a id="5770" href="Games.FiniteHistoryDependent.html#5691" class="Bound">q</a> <a id="5772" href="Games.FiniteHistoryDependent.html#5758" class="Bound">x</a> <a id="5774" class="Symbol">(</a><a id="5775" href="Games.FiniteHistoryDependent.html#4167" class="Function">strategic-path</a> <a id="5790" class="Symbol">(</a><a id="5791" href="Games.FiniteHistoryDependent.html#5705" class="Bound">σf</a> <a id="5794" href="Games.FiniteHistoryDependent.html#5758" class="Bound">x</a><a id="5795" class="Symbol">)))</a>

<a id="is-in-sgpe"></a><a id="5800" href="Games.FiniteHistoryDependent.html#5800" class="Function">is-in-sgpe</a> <a id="5811" class="Symbol">:</a> <a id="5813" class="Symbol">{</a><a id="5814" href="Games.FiniteHistoryDependent.html#5814" class="Bound">Xt</a> <a id="5817" class="Symbol">:</a> <a id="5819" href="Games.TypeTrees.html#712" class="Datatype">𝑻</a><a id="5820" class="Symbol">}</a> <a id="5822" class="Symbol">→</a> <a id="5824" href="Games.FiniteHistoryDependent.html#2336" class="Function">𝓚</a> <a id="5826" href="Games.FiniteHistoryDependent.html#5814" class="Bound">Xt</a> <a id="5829" class="Symbol">→</a> <a id="5831" class="Symbol">(</a><a id="5832" href="Games.TypeTrees.html#899" class="Function">Path</a> <a id="5837" href="Games.FiniteHistoryDependent.html#5814" class="Bound">Xt</a> <a id="5840" class="Symbol">→</a> <a id="5842" href="Games.FiniteHistoryDependent.html#1635" class="Bound">R</a><a id="5843" class="Symbol">)</a> <a id="5845" class="Symbol">→</a> <a id="5847" href="Games.FiniteHistoryDependent.html#3654" class="Function">Strategy</a> <a id="5856" href="Games.FiniteHistoryDependent.html#5814" class="Bound">Xt</a> <a id="5859" class="Symbol">→</a> <a id="5861" href="Notation.General.html#372" class="Function">Type</a>
<a id="5866" href="Games.FiniteHistoryDependent.html#5800" class="Function">is-in-sgpe</a> <a id="5877" class="Symbol">{</a><a id="5878" href="Games.TypeTrees.html#730" class="InductiveConstructor">[]</a><a id="5880" class="Symbol">}</a>     <a id="5886" href="Games.TypeTrees.html#1267" class="InductiveConstructor">⟨⟩</a>        <a id="5896" href="Games.FiniteHistoryDependent.html#5896" class="Bound">q</a> <a id="5898" href="Games.TypeTrees.html#1267" class="InductiveConstructor">⟨⟩</a>            <a id="5912" class="Symbol">=</a> <a id="5914" href="MLTT.Unit.html#129" class="Record">𝟙</a>
<a id="5916" href="Games.FiniteHistoryDependent.html#5800" class="Function">is-in-sgpe</a> <a id="5927" class="Symbol">{</a><a id="5928" href="Games.FiniteHistoryDependent.html#5928" class="Bound">X</a> <a id="5930" href="Games.TypeTrees.html#740" class="InductiveConstructor Operator">∷</a> <a id="5932" href="Games.FiniteHistoryDependent.html#5932" class="Bound">Xf</a><a id="5934" class="Symbol">}</a> <a id="5936" class="Symbol">(</a><a id="5937" href="Games.FiniteHistoryDependent.html#5937" class="Bound">ϕ</a> <a id="5939" href="Games.TypeTrees.html#1289" class="InductiveConstructor Operator">::</a> <a id="5942" href="Games.FiniteHistoryDependent.html#5942" class="Bound">ϕf</a><a id="5944" class="Symbol">)</a> <a id="5946" href="Games.FiniteHistoryDependent.html#5946" class="Bound">q</a> <a id="5948" href="Games.FiniteHistoryDependent.html#5948" class="Bound">σt</a><a id="5950" class="Symbol">@(</a><a id="5952" href="Games.FiniteHistoryDependent.html#5952" class="Bound">x₀</a> <a id="5955" href="Games.TypeTrees.html#1289" class="InductiveConstructor Operator">::</a> <a id="5958" href="Games.FiniteHistoryDependent.html#5958" class="Bound">σf</a><a id="5960" class="Symbol">)</a> <a id="5962" class="Symbol">=</a>
   <a id="5967" href="Games.FiniteHistoryDependent.html#5473" class="Function">is-in-equilibrium</a> <a id="5985" href="Games.FiniteHistoryDependent.html#5946" class="Bound">q</a> <a id="5987" href="Games.FiniteHistoryDependent.html#5937" class="Bound">ϕ</a> <a id="5989" href="Games.FiniteHistoryDependent.html#5948" class="Bound">σt</a>
 <a id="5993" href="MLTT.Sigma.html#558" class="Function Operator">×</a> <a id="5995" class="Symbol">((</a><a id="5997" href="Games.FiniteHistoryDependent.html#5997" class="Bound">x</a> <a id="5999" class="Symbol">:</a> <a id="6001" href="Games.FiniteHistoryDependent.html#5928" class="Bound">X</a><a id="6002" class="Symbol">)</a> <a id="6004" class="Symbol">→</a> <a id="6006" href="Games.FiniteHistoryDependent.html#5800" class="Function">is-in-sgpe</a> <a id="6017" class="Symbol">{</a><a id="6018" href="Games.FiniteHistoryDependent.html#5932" class="Bound">Xf</a> <a id="6021" href="Games.FiniteHistoryDependent.html#5997" class="Bound">x</a><a id="6022" class="Symbol">}</a> <a id="6024" class="Symbol">(</a><a id="6025" href="Games.FiniteHistoryDependent.html#5942" class="Bound">ϕf</a> <a id="6028" href="Games.FiniteHistoryDependent.html#5997" class="Bound">x</a><a id="6029" class="Symbol">)</a> <a id="6031" class="Symbol">(</a><a id="6032" href="Games.TypeTrees.html#1615" class="Function">subpred</a> <a id="6040" href="Games.FiniteHistoryDependent.html#5946" class="Bound">q</a> <a id="6042" href="Games.FiniteHistoryDependent.html#5997" class="Bound">x</a><a id="6043" class="Symbol">)</a> <a id="6045" class="Symbol">(</a><a id="6046" href="Games.FiniteHistoryDependent.html#5958" class="Bound">σf</a> <a id="6049" href="Games.FiniteHistoryDependent.html#5997" class="Bound">x</a><a id="6050" class="Symbol">))</a>

<a id="6054" class="Markup">\end{code}</a><a id="6064" class="Background">

In the above definition:

 * If the game tree is empty, then the strategy is empty, and we say
   that it is true that it is in sgpe, where &quot;true&quot; is represented by
   the unit type 𝟙 in propositions-as-types.

 * If the game tree has a root X followed by a forest Xf, then the
   strategy must be of the form x₀ :: σf, where x₀ is the first move
   according to the strategy, and where σf is a forest of strategies
   that depends on a deviation x.

   So the first part

     subpred q x₀ (strategic-path (σf x₀)) ＝ ϕ (λ x → subpred q x (strategic-path (σf x)))

   of the definition is as in the comment above, but with a partial
   play of length k=0, and the second (inductive) part, says that the
   substrategy σf x, for any deviation x, is in subgame perfect
   equilibrium in the subgame

     (Xf x , R , ϕf x , subpred q x).

As discussed above, we say that a strategy for a game is optimal if it
is in subgame perfect equilibrium.

</a><a id="7010" class="Markup">\begin{code}</a>

<a id="is-optimal"></a><a id="7024" href="Games.FiniteHistoryDependent.html#7024" class="Function">is-optimal</a> <a id="7035" class="Symbol">:</a> <a id="7037" class="Symbol">(</a><a id="7038" href="Games.FiniteHistoryDependent.html#7038" class="Bound">G</a> <a id="7040" class="Symbol">:</a> <a id="7042" href="Games.FiniteHistoryDependent.html#3104" class="Record">Game</a><a id="7046" class="Symbol">)</a> <a id="7048" class="Symbol">(</a><a id="7049" href="Games.FiniteHistoryDependent.html#7049" class="Bound">σ</a> <a id="7051" class="Symbol">:</a> <a id="7053" href="Games.FiniteHistoryDependent.html#3654" class="Function">Strategy</a> <a id="7062" class="Symbol">(</a><a id="7063" href="Games.FiniteHistoryDependent.html#3150" class="Field">Xt</a> <a id="7066" href="Games.FiniteHistoryDependent.html#7038" class="Bound">G</a><a id="7067" class="Symbol">))</a> <a id="7070" class="Symbol">→</a> <a id="7072" href="Notation.General.html#372" class="Function">Type</a>
<a id="7077" href="Games.FiniteHistoryDependent.html#7024" class="Function">is-optimal</a> <a id="7088" class="Symbol">(</a><a id="7089" href="Games.FiniteHistoryDependent.html#3136" class="InductiveConstructor">game</a> <a id="7094" href="Games.FiniteHistoryDependent.html#7094" class="Bound">Xt</a> <a id="7097" href="Games.FiniteHistoryDependent.html#7097" class="Bound">ϕt</a> <a id="7100" href="Games.FiniteHistoryDependent.html#7100" class="Bound">q</a><a id="7101" class="Symbol">)</a> <a id="7103" href="Games.FiniteHistoryDependent.html#7103" class="Bound">σ</a> <a id="7105" class="Symbol">=</a> <a id="7107" href="Games.FiniteHistoryDependent.html#5800" class="Function">is-in-sgpe</a> <a id="7118" class="Symbol">{</a><a id="7119" href="Games.FiniteHistoryDependent.html#7094" class="Bound">Xt</a><a id="7121" class="Symbol">}</a> <a id="7123" href="Games.FiniteHistoryDependent.html#7100" class="Bound">q</a> <a id="7125" href="Games.FiniteHistoryDependent.html#7097" class="Bound">ϕt</a> <a id="7128" href="Games.FiniteHistoryDependent.html#7103" class="Bound">σ</a>

<a id="7131" class="Markup">\end{code}</a><a id="7141" class="Background">

The main lemma is that the optimal outcome is the same thing as the
application of the outcome function to the path induced by a strategy
in perfect subgame equilibrium.

The following is Theorem 3.1 of reference [1].

</a><a id="7362" class="Markup">\begin{code}</a>

<a id="sgpe-lemma"></a><a id="7376" href="Games.FiniteHistoryDependent.html#7376" class="Function">sgpe-lemma</a> <a id="7387" class="Symbol">:</a> <a id="7389" href="UF.FunExt.html#1047" class="Function">Fun-Ext</a>
           <a id="7408" class="Symbol">→</a> <a id="7410" class="Symbol">(</a><a id="7411" href="Games.FiniteHistoryDependent.html#7411" class="Bound">Xt</a> <a id="7414" class="Symbol">:</a> <a id="7416" href="Games.TypeTrees.html#712" class="Datatype">𝑻</a><a id="7417" class="Symbol">)</a> <a id="7419" class="Symbol">(</a><a id="7420" href="Games.FiniteHistoryDependent.html#7420" class="Bound">ϕt</a> <a id="7423" class="Symbol">:</a> <a id="7425" href="Games.FiniteHistoryDependent.html#2336" class="Function">𝓚</a> <a id="7427" href="Games.FiniteHistoryDependent.html#7411" class="Bound">Xt</a><a id="7429" class="Symbol">)</a> <a id="7431" class="Symbol">(</a><a id="7432" href="Games.FiniteHistoryDependent.html#7432" class="Bound">q</a> <a id="7434" class="Symbol">:</a> <a id="7436" href="Games.TypeTrees.html#899" class="Function">Path</a> <a id="7441" href="Games.FiniteHistoryDependent.html#7411" class="Bound">Xt</a> <a id="7444" class="Symbol">→</a> <a id="7446" href="Games.FiniteHistoryDependent.html#1635" class="Bound">R</a><a id="7447" class="Symbol">)</a> <a id="7449" class="Symbol">(</a><a id="7450" href="Games.FiniteHistoryDependent.html#7450" class="Bound">σ</a> <a id="7452" class="Symbol">:</a> <a id="7454" href="Games.FiniteHistoryDependent.html#3654" class="Function">Strategy</a> <a id="7463" href="Games.FiniteHistoryDependent.html#7411" class="Bound">Xt</a><a id="7465" class="Symbol">)</a>
           <a id="7478" class="Symbol">→</a> <a id="7480" href="Games.FiniteHistoryDependent.html#5800" class="Function">is-in-sgpe</a> <a id="7491" href="Games.FiniteHistoryDependent.html#7420" class="Bound">ϕt</a> <a id="7494" href="Games.FiniteHistoryDependent.html#7432" class="Bound">q</a> <a id="7496" href="Games.FiniteHistoryDependent.html#7450" class="Bound">σ</a>
           <a id="7509" class="Symbol">→</a> <a id="7511" href="Games.FiniteHistoryDependent.html#7432" class="Bound">q</a> <a id="7513" class="Symbol">(</a><a id="7514" href="Games.FiniteHistoryDependent.html#4167" class="Function">strategic-path</a> <a id="7529" href="Games.FiniteHistoryDependent.html#7450" class="Bound">σ</a><a id="7530" class="Symbol">)</a> <a id="7532" href="MLTT.Id.html#193" class="Datatype Operator">＝</a> <a id="7534" href="Games.FiniteHistoryDependent.html#2829" class="Function">sequenceᴷ</a> <a id="7544" href="Games.FiniteHistoryDependent.html#7420" class="Bound">ϕt</a> <a id="7547" href="Games.FiniteHistoryDependent.html#7432" class="Bound">q</a>
<a id="7549" href="Games.FiniteHistoryDependent.html#7376" class="Function">sgpe-lemma</a> <a id="7560" href="Games.FiniteHistoryDependent.html#7560" class="Bound">fe</a> <a id="7563" href="Games.TypeTrees.html#730" class="InductiveConstructor">[]</a>       <a id="7572" href="Games.TypeTrees.html#1267" class="InductiveConstructor">⟨⟩</a>        <a id="7582" href="Games.FiniteHistoryDependent.html#7582" class="Bound">q</a> <a id="7584" href="Games.TypeTrees.html#1267" class="InductiveConstructor">⟨⟩</a>        <a id="7594" href="Games.TypeTrees.html#1267" class="InductiveConstructor">⟨⟩</a>       <a id="7603" class="Symbol">=</a> <a id="7605" href="MLTT.Identity-Type.html#157" class="InductiveConstructor">refl</a>
<a id="7610" href="Games.FiniteHistoryDependent.html#7376" class="Function">sgpe-lemma</a> <a id="7621" href="Games.FiniteHistoryDependent.html#7621" class="Bound">fe</a> <a id="7624" class="Symbol">(</a><a id="7625" href="Games.FiniteHistoryDependent.html#7625" class="Bound">X</a> <a id="7627" href="Games.TypeTrees.html#740" class="InductiveConstructor Operator">∷</a> <a id="7629" href="Games.FiniteHistoryDependent.html#7629" class="Bound">Xf</a><a id="7631" class="Symbol">)</a> <a id="7633" class="Symbol">(</a><a id="7634" href="Games.FiniteHistoryDependent.html#7634" class="Bound">ϕ</a> <a id="7636" href="Games.TypeTrees.html#1289" class="InductiveConstructor Operator">::</a> <a id="7639" href="Games.FiniteHistoryDependent.html#7639" class="Bound">ϕt</a><a id="7641" class="Symbol">)</a> <a id="7643" href="Games.FiniteHistoryDependent.html#7643" class="Bound">q</a> <a id="7645" class="Symbol">(</a><a id="7646" href="Games.FiniteHistoryDependent.html#7646" class="Bound">a</a> <a id="7648" href="Games.TypeTrees.html#1289" class="InductiveConstructor Operator">::</a> <a id="7651" href="Games.FiniteHistoryDependent.html#7651" class="Bound">σf</a><a id="7653" class="Symbol">)</a> <a id="7655" class="Symbol">(</a><a id="7656" href="Games.FiniteHistoryDependent.html#7656" class="Bound">h</a> <a id="7658" href="Games.TypeTrees.html#1289" class="InductiveConstructor Operator">::</a> <a id="7661" href="Games.FiniteHistoryDependent.html#7661" class="Bound">t</a><a id="7662" class="Symbol">)</a> <a id="7664" class="Symbol">=</a> <a id="7666" href="Games.FiniteHistoryDependent.html#7933" class="Function">γ</a>
 <a id="7669" class="Keyword">where</a>
  <a id="7677" href="Games.FiniteHistoryDependent.html#7677" class="Function">observation-t</a> <a id="7691" class="Symbol">:</a> <a id="7693" href="Notation.General.html#3115" class="Function">type-of</a> <a id="7701" href="Games.FiniteHistoryDependent.html#7661" class="Bound">t</a> <a id="7703" href="MLTT.Id.html#193" class="Datatype Operator">＝</a> <a id="7705" class="Symbol">((</a><a id="7707" href="Games.FiniteHistoryDependent.html#7707" class="Bound">x</a> <a id="7709" class="Symbol">:</a> <a id="7711" href="Games.FiniteHistoryDependent.html#7625" class="Bound">X</a><a id="7712" class="Symbol">)</a> <a id="7714" class="Symbol">→</a> <a id="7716" href="Games.FiniteHistoryDependent.html#5800" class="Function">is-in-sgpe</a> <a id="7727" class="Symbol">(</a><a id="7728" href="Games.FiniteHistoryDependent.html#7639" class="Bound">ϕt</a> <a id="7731" href="Games.FiniteHistoryDependent.html#7707" class="Bound">x</a><a id="7732" class="Symbol">)</a> <a id="7734" class="Symbol">(</a><a id="7735" href="Games.TypeTrees.html#1615" class="Function">subpred</a> <a id="7743" href="Games.FiniteHistoryDependent.html#7643" class="Bound">q</a> <a id="7745" href="Games.FiniteHistoryDependent.html#7707" class="Bound">x</a><a id="7746" class="Symbol">)</a> <a id="7748" class="Symbol">(</a><a id="7749" href="Games.FiniteHistoryDependent.html#7651" class="Bound">σf</a> <a id="7752" href="Games.FiniteHistoryDependent.html#7707" class="Bound">x</a><a id="7753" class="Symbol">))</a>
  <a id="7758" href="Games.FiniteHistoryDependent.html#7677" class="Function">observation-t</a> <a id="7772" class="Symbol">=</a> <a id="7774" href="MLTT.Identity-Type.html#157" class="InductiveConstructor">refl</a>

  <a id="7782" href="Games.FiniteHistoryDependent.html#7782" class="Function">IH</a> <a id="7785" class="Symbol">:</a> <a id="7787" class="Symbol">(</a><a id="7788" href="Games.FiniteHistoryDependent.html#7788" class="Bound">x</a> <a id="7790" class="Symbol">:</a> <a id="7792" href="Games.FiniteHistoryDependent.html#7625" class="Bound">X</a><a id="7793" class="Symbol">)</a> <a id="7795" class="Symbol">→</a> <a id="7797" href="Games.TypeTrees.html#1615" class="Function">subpred</a> <a id="7805" href="Games.FiniteHistoryDependent.html#7643" class="Bound">q</a> <a id="7807" href="Games.FiniteHistoryDependent.html#7788" class="Bound">x</a> <a id="7809" class="Symbol">(</a><a id="7810" href="Games.FiniteHistoryDependent.html#4167" class="Function">strategic-path</a> <a id="7825" class="Symbol">(</a><a id="7826" href="Games.FiniteHistoryDependent.html#7651" class="Bound">σf</a> <a id="7829" href="Games.FiniteHistoryDependent.html#7788" class="Bound">x</a><a id="7830" class="Symbol">))</a> <a id="7833" href="MLTT.Id.html#193" class="Datatype Operator">＝</a> <a id="7835" href="Games.FiniteHistoryDependent.html#2829" class="Function">sequenceᴷ</a> <a id="7845" class="Symbol">(</a><a id="7846" href="Games.FiniteHistoryDependent.html#7639" class="Bound">ϕt</a> <a id="7849" href="Games.FiniteHistoryDependent.html#7788" class="Bound">x</a><a id="7850" class="Symbol">)</a> <a id="7852" class="Symbol">(</a><a id="7853" href="Games.TypeTrees.html#1615" class="Function">subpred</a> <a id="7861" href="Games.FiniteHistoryDependent.html#7643" class="Bound">q</a> <a id="7863" href="Games.FiniteHistoryDependent.html#7788" class="Bound">x</a><a id="7864" class="Symbol">)</a>
  <a id="7868" href="Games.FiniteHistoryDependent.html#7782" class="Function">IH</a> <a id="7871" href="Games.FiniteHistoryDependent.html#7871" class="Bound">x</a> <a id="7873" class="Symbol">=</a> <a id="7875" href="Games.FiniteHistoryDependent.html#7376" class="Function">sgpe-lemma</a> <a id="7886" href="Games.FiniteHistoryDependent.html#7621" class="Bound">fe</a> <a id="7889" class="Symbol">(</a><a id="7890" href="Games.FiniteHistoryDependent.html#7629" class="Bound">Xf</a> <a id="7893" href="Games.FiniteHistoryDependent.html#7871" class="Bound">x</a><a id="7894" class="Symbol">)</a> <a id="7896" class="Symbol">(</a><a id="7897" href="Games.FiniteHistoryDependent.html#7639" class="Bound">ϕt</a> <a id="7900" href="Games.FiniteHistoryDependent.html#7871" class="Bound">x</a><a id="7901" class="Symbol">)</a> <a id="7903" class="Symbol">(</a><a id="7904" href="Games.TypeTrees.html#1615" class="Function">subpred</a> <a id="7912" href="Games.FiniteHistoryDependent.html#7643" class="Bound">q</a> <a id="7914" href="Games.FiniteHistoryDependent.html#7871" class="Bound">x</a><a id="7915" class="Symbol">)</a> <a id="7917" class="Symbol">(</a><a id="7918" href="Games.FiniteHistoryDependent.html#7651" class="Bound">σf</a> <a id="7921" href="Games.FiniteHistoryDependent.html#7871" class="Bound">x</a><a id="7922" class="Symbol">)</a> <a id="7924" class="Symbol">(</a><a id="7925" href="Games.FiniteHistoryDependent.html#7661" class="Bound">t</a> <a id="7927" href="Games.FiniteHistoryDependent.html#7871" class="Bound">x</a><a id="7928" class="Symbol">)</a>

  <a id="7933" href="Games.FiniteHistoryDependent.html#7933" class="Function">γ</a> <a id="7935" class="Symbol">=</a> <a id="7937" href="Games.TypeTrees.html#1615" class="Function">subpred</a> <a id="7945" href="Games.FiniteHistoryDependent.html#7643" class="Bound">q</a> <a id="7947" href="Games.FiniteHistoryDependent.html#7646" class="Bound">a</a> <a id="7949" class="Symbol">(</a><a id="7950" href="Games.FiniteHistoryDependent.html#4167" class="Function">strategic-path</a> <a id="7965" class="Symbol">(</a><a id="7966" href="Games.FiniteHistoryDependent.html#7651" class="Bound">σf</a> <a id="7969" href="Games.FiniteHistoryDependent.html#7646" class="Bound">a</a><a id="7970" class="Symbol">))</a>           <a id="7983" href="MLTT.Id.html#2239" class="Function Operator">＝⟨</a> <a id="7986" href="Games.FiniteHistoryDependent.html#7656" class="Bound">h</a> <a id="7988" href="MLTT.Id.html#2239" class="Function Operator">⟩</a>
      <a id="7996" href="Games.FiniteHistoryDependent.html#7634" class="Bound">ϕ</a> <a id="7998" class="Symbol">(λ</a> <a id="8001" href="Games.FiniteHistoryDependent.html#8001" class="Bound">x</a> <a id="8003" class="Symbol">→</a> <a id="8005" href="Games.TypeTrees.html#1615" class="Function">subpred</a> <a id="8013" href="Games.FiniteHistoryDependent.html#7643" class="Bound">q</a> <a id="8015" href="Games.FiniteHistoryDependent.html#8001" class="Bound">x</a> <a id="8017" class="Symbol">(</a><a id="8018" href="Games.FiniteHistoryDependent.html#4167" class="Function">strategic-path</a> <a id="8033" class="Symbol">(</a><a id="8034" href="Games.FiniteHistoryDependent.html#7651" class="Bound">σf</a> <a id="8037" href="Games.FiniteHistoryDependent.html#8001" class="Bound">x</a><a id="8038" class="Symbol">)))</a> <a id="8042" href="MLTT.Id.html#2239" class="Function Operator">＝⟨</a> <a id="8045" href="MLTT.Id.html#1136" class="Function">ap</a> <a id="8048" href="Games.FiniteHistoryDependent.html#7634" class="Bound">ϕ</a> <a id="8050" class="Symbol">(</a><a id="8051" href="UF.FunExt.html#1242" class="Function">dfunext</a> <a id="8059" href="Games.FiniteHistoryDependent.html#7621" class="Bound">fe</a> <a id="8062" href="Games.FiniteHistoryDependent.html#7782" class="Function">IH</a><a id="8064" class="Symbol">)</a> <a id="8066" href="MLTT.Id.html#2239" class="Function Operator">⟩</a>
      <a id="8074" href="Games.FiniteHistoryDependent.html#7634" class="Bound">ϕ</a> <a id="8076" class="Symbol">(λ</a> <a id="8079" href="Games.FiniteHistoryDependent.html#8079" class="Bound">x</a> <a id="8081" class="Symbol">→</a> <a id="8083" href="Games.FiniteHistoryDependent.html#2829" class="Function">sequenceᴷ</a> <a id="8093" class="Symbol">(</a><a id="8094" href="Games.FiniteHistoryDependent.html#7639" class="Bound">ϕt</a> <a id="8097" href="Games.FiniteHistoryDependent.html#8079" class="Bound">x</a><a id="8098" class="Symbol">)</a> <a id="8100" class="Symbol">(</a><a id="8101" href="Games.TypeTrees.html#1615" class="Function">subpred</a> <a id="8109" href="Games.FiniteHistoryDependent.html#7643" class="Bound">q</a> <a id="8111" href="Games.FiniteHistoryDependent.html#8079" class="Bound">x</a><a id="8112" class="Symbol">))</a>      <a id="8120" href="MLTT.Id.html#2321" class="Function Operator">∎</a>

<a id="8123" class="Markup">\end{code}</a><a id="8133" class="Background">

This can be reformulated as follows in terms of the type of games:

</a><a id="8203" class="Markup">\begin{code}</a>

<a id="optimality-theorem"></a><a id="8217" href="Games.FiniteHistoryDependent.html#8217" class="Function">optimality-theorem</a> <a id="8236" class="Symbol">:</a> <a id="8238" href="UF.FunExt.html#1047" class="Function">Fun-Ext</a>
                   <a id="8265" class="Symbol">→</a> <a id="8267" class="Symbol">(</a><a id="8268" href="Games.FiniteHistoryDependent.html#8268" class="Bound">G</a> <a id="8270" class="Symbol">:</a> <a id="8272" href="Games.FiniteHistoryDependent.html#3104" class="Record">Game</a><a id="8276" class="Symbol">)</a> <a id="8278" class="Symbol">(</a><a id="8279" href="Games.FiniteHistoryDependent.html#8279" class="Bound">σ</a> <a id="8281" class="Symbol">:</a> <a id="8283" href="Games.FiniteHistoryDependent.html#3654" class="Function">Strategy</a> <a id="8292" class="Symbol">(</a><a id="8293" href="Games.FiniteHistoryDependent.html#3150" class="Field">Xt</a> <a id="8296" href="Games.FiniteHistoryDependent.html#8268" class="Bound">G</a><a id="8297" class="Symbol">))</a>
                   <a id="8319" class="Symbol">→</a> <a id="8321" href="Games.FiniteHistoryDependent.html#7024" class="Function">is-optimal</a> <a id="8332" href="Games.FiniteHistoryDependent.html#8268" class="Bound">G</a> <a id="8334" href="Games.FiniteHistoryDependent.html#8279" class="Bound">σ</a>
                   <a id="8355" class="Symbol">→</a> <a id="8357" href="Games.FiniteHistoryDependent.html#3159" class="Field">q</a> <a id="8359" href="Games.FiniteHistoryDependent.html#8268" class="Bound">G</a> <a id="8361" class="Symbol">(</a><a id="8362" href="Games.FiniteHistoryDependent.html#4167" class="Function">strategic-path</a> <a id="8377" href="Games.FiniteHistoryDependent.html#8279" class="Bound">σ</a><a id="8378" class="Symbol">)</a> <a id="8380" href="MLTT.Id.html#193" class="Datatype Operator">＝</a> <a id="8382" href="Games.FiniteHistoryDependent.html#3460" class="Function">optimal-outcome</a> <a id="8398" href="Games.FiniteHistoryDependent.html#8268" class="Bound">G</a>
<a id="8400" href="Games.FiniteHistoryDependent.html#8217" class="Function">optimality-theorem</a> <a id="8419" href="Games.FiniteHistoryDependent.html#8419" class="Bound">fe</a> <a id="8422" class="Symbol">(</a><a id="8423" href="Games.FiniteHistoryDependent.html#3136" class="InductiveConstructor">game</a> <a id="8428" href="Games.FiniteHistoryDependent.html#8428" class="Bound">Xt</a> <a id="8431" href="Games.FiniteHistoryDependent.html#8431" class="Bound">ϕt</a> <a id="8434" href="Games.FiniteHistoryDependent.html#8434" class="Bound">q</a><a id="8435" class="Symbol">)</a> <a id="8437" class="Symbol">=</a> <a id="8439" href="Games.FiniteHistoryDependent.html#7376" class="Function">sgpe-lemma</a> <a id="8450" href="Games.FiniteHistoryDependent.html#8419" class="Bound">fe</a> <a id="8453" href="Games.FiniteHistoryDependent.html#8428" class="Bound">Xt</a> <a id="8456" href="Games.FiniteHistoryDependent.html#8434" class="Bound">q</a> <a id="8458" href="Games.FiniteHistoryDependent.html#8431" class="Bound">ϕt</a>

<a id="8462" class="Markup">\end{code}</a><a id="8472" class="Background">

We now show how to use selection functions to compute a sgpe strategy.

We use selection functions, as in Section 2 of reference [1], defined
in another module.

𝓙 assigns types of selection functions to the nodes.

</a><a id="8690" class="Markup">\begin{code}</a>

<a id="𝓙"></a><a id="8704" href="Games.FiniteHistoryDependent.html#8704" class="Function">𝓙</a> <a id="8706" class="Symbol">:</a> <a id="8708" href="Games.TypeTrees.html#712" class="Datatype">𝑻</a> <a id="8710" class="Symbol">→</a> <a id="8712" href="Notation.General.html#372" class="Function">Type</a>
<a id="8717" href="Games.FiniteHistoryDependent.html#8704" class="Function">𝓙</a> <a id="8719" class="Symbol">=</a> <a id="8721" href="Games.TypeTrees.html#2113" class="Function">structure</a> <a id="8731" href="Games.J.html#447" class="Function">J</a>

<a id="remark-𝓙"></a><a id="8734" href="Games.FiniteHistoryDependent.html#8734" class="Function">remark-𝓙</a> <a id="8743" class="Symbol">:</a> <a id="8745" class="Symbol">{</a><a id="8746" href="Games.FiniteHistoryDependent.html#8746" class="Bound">X</a> <a id="8748" class="Symbol">:</a> <a id="8750" href="Notation.General.html#372" class="Function">Type</a><a id="8754" class="Symbol">}</a> <a id="8756" class="Symbol">{</a><a id="8757" href="Games.FiniteHistoryDependent.html#8757" class="Bound">Xf</a> <a id="8760" class="Symbol">:</a> <a id="8762" href="Games.FiniteHistoryDependent.html#8746" class="Bound">X</a> <a id="8764" class="Symbol">→</a> <a id="8766" href="Games.TypeTrees.html#712" class="Datatype">𝑻</a><a id="8767" class="Symbol">}</a>
         <a id="8778" class="Symbol">→</a> <a id="8780" class="Symbol">(</a><a id="8781" href="Games.FiniteHistoryDependent.html#8704" class="Function">𝓙</a> <a id="8783" class="InductiveConstructor">[]</a> <a id="8786" href="MLTT.Id.html#193" class="Datatype Operator">＝</a> <a id="8788" href="MLTT.Unit.html#129" class="Record">𝟙</a><a id="8789" class="Symbol">)</a>
         <a id="8800" href="MLTT.Sigma.html#558" class="Function Operator">×</a> <a id="8802" class="Symbol">(</a><a id="8803" href="Games.FiniteHistoryDependent.html#8704" class="Function">𝓙</a> <a id="8805" class="Symbol">(</a><a id="8806" href="Games.FiniteHistoryDependent.html#8746" class="Bound">X</a> <a id="8808" class="InductiveConstructor Operator">∷</a> <a id="8810" href="Games.FiniteHistoryDependent.html#8757" class="Bound">Xf</a><a id="8812" class="Symbol">)</a> <a id="8814" href="MLTT.Id.html#193" class="Datatype Operator">＝</a> <a id="8816" href="Games.J.html#447" class="Function">J</a> <a id="8818" href="Games.FiniteHistoryDependent.html#8746" class="Bound">X</a> <a id="8820" href="MLTT.Sigma.html#558" class="Function Operator">×</a> <a id="8822" class="Symbol">((</a><a id="8824" href="Games.FiniteHistoryDependent.html#8824" class="Bound">x</a> <a id="8826" class="Symbol">:</a> <a id="8828" href="Games.FiniteHistoryDependent.html#8746" class="Bound">X</a><a id="8829" class="Symbol">)</a> <a id="8831" class="Symbol">→</a> <a id="8833" href="Games.FiniteHistoryDependent.html#8704" class="Function">𝓙</a> <a id="8835" class="Symbol">(</a><a id="8836" href="Games.FiniteHistoryDependent.html#8757" class="Bound">Xf</a> <a id="8839" href="Games.FiniteHistoryDependent.html#8824" class="Bound">x</a><a id="8840" class="Symbol">)))</a>
<a id="8844" href="Games.FiniteHistoryDependent.html#8734" class="Function">remark-𝓙</a> <a id="8853" class="Symbol">=</a> <a id="8855" href="MLTT.Identity-Type.html#157" class="InductiveConstructor">refl</a> <a id="8860" href="MLTT.Sigma.html#395" class="InductiveConstructor Operator">,</a> <a id="8862" href="MLTT.Identity-Type.html#157" class="InductiveConstructor">refl</a>

<a id="8868" class="Markup">\end{code}</a><a id="8878" class="Background">

 * ε ranges over the type J X of selection functions.
 * εt ranges over the type 𝓙 Xt of selection-function trees.
 * εf ranges over the type (x : X) → 𝓙 (Xf x) of selection-function forests.

Sequencing selection functions, as constructed in Definition 12 of
reference [1], but using our tree representation of games instead:

</a><a id="9208" class="Markup">\begin{code}</a>

<a id="sequenceᴶ"></a><a id="9222" href="Games.FiniteHistoryDependent.html#9222" class="Function">sequenceᴶ</a> <a id="9232" class="Symbol">:</a> <a id="9234" class="Symbol">{</a><a id="9235" href="Games.FiniteHistoryDependent.html#9235" class="Bound">Xt</a> <a id="9238" class="Symbol">:</a> <a id="9240" href="Games.TypeTrees.html#712" class="Datatype">𝑻</a><a id="9241" class="Symbol">}</a> <a id="9243" class="Symbol">→</a> <a id="9245" href="Games.FiniteHistoryDependent.html#8704" class="Function">𝓙</a> <a id="9247" href="Games.FiniteHistoryDependent.html#9235" class="Bound">Xt</a> <a id="9250" class="Symbol">→</a> <a id="9252" href="Games.J.html#447" class="Function">J</a> <a id="9254" class="Symbol">(</a><a id="9255" href="Games.TypeTrees.html#899" class="Function">Path</a> <a id="9260" href="Games.FiniteHistoryDependent.html#9235" class="Bound">Xt</a><a id="9262" class="Symbol">)</a>
<a id="9264" href="Games.FiniteHistoryDependent.html#9222" class="Function">sequenceᴶ</a> <a id="9274" class="Symbol">=</a> <a id="9276" href="Games.TypeTrees.html#3782" class="Function">path-sequence</a> <a id="9290" class="Symbol">(</a><a id="9291" href="Games.J.html#192" class="Function">𝕁</a> <a id="9293" href="Games.FiniteHistoryDependent.html#1635" class="Bound">R</a><a id="9294" class="Symbol">)</a>

<a id="9297" class="Markup">\end{code}</a><a id="9307" class="Background">

The following, which defines a strategy from given selection
functions, is defined in Theorem 5.4 of [1], with the difference that
here, for the moment, we consider only single-valued quantifiers.

</a><a id="9507" class="Markup">\begin{code}</a>

<a id="selection-strategy"></a><a id="9521" href="Games.FiniteHistoryDependent.html#9521" class="Function">selection-strategy</a> <a id="9540" class="Symbol">:</a> <a id="9542" class="Symbol">{</a><a id="9543" href="Games.FiniteHistoryDependent.html#9543" class="Bound">Xt</a> <a id="9546" class="Symbol">:</a> <a id="9548" href="Games.TypeTrees.html#712" class="Datatype">𝑻</a><a id="9549" class="Symbol">}</a> <a id="9551" class="Symbol">→</a> <a id="9553" href="Games.FiniteHistoryDependent.html#8704" class="Function">𝓙</a> <a id="9555" href="Games.FiniteHistoryDependent.html#9543" class="Bound">Xt</a> <a id="9558" class="Symbol">→</a> <a id="9560" class="Symbol">(</a><a id="9561" href="Games.TypeTrees.html#899" class="Function">Path</a> <a id="9566" href="Games.FiniteHistoryDependent.html#9543" class="Bound">Xt</a> <a id="9569" class="Symbol">→</a> <a id="9571" href="Games.FiniteHistoryDependent.html#1635" class="Bound">R</a><a id="9572" class="Symbol">)</a> <a id="9574" class="Symbol">→</a> <a id="9576" href="Games.FiniteHistoryDependent.html#3654" class="Function">Strategy</a> <a id="9585" href="Games.FiniteHistoryDependent.html#9543" class="Bound">Xt</a>
<a id="9588" href="Games.FiniteHistoryDependent.html#9521" class="Function">selection-strategy</a> <a id="9607" class="Symbol">{</a><a id="9608" href="Games.TypeTrees.html#730" class="InductiveConstructor">[]</a><a id="9610" class="Symbol">}</a>     <a id="9616" href="Games.TypeTrees.html#1267" class="InductiveConstructor">⟨⟩</a>           <a id="9629" href="Games.FiniteHistoryDependent.html#9629" class="Bound">q</a> <a id="9631" class="Symbol">=</a> <a id="9633" href="Games.TypeTrees.html#1267" class="InductiveConstructor">⟨⟩</a>
<a id="9636" href="Games.FiniteHistoryDependent.html#9521" class="Function">selection-strategy</a> <a id="9655" class="Symbol">{</a><a id="9656" href="Games.FiniteHistoryDependent.html#9656" class="Bound">X</a> <a id="9658" href="Games.TypeTrees.html#740" class="InductiveConstructor Operator">∷</a> <a id="9660" href="Games.FiniteHistoryDependent.html#9660" class="Bound">Xf</a><a id="9662" class="Symbol">}</a> <a id="9664" href="Games.FiniteHistoryDependent.html#9664" class="Bound">εt</a><a id="9666" class="Symbol">@(</a><a id="9668" href="Games.FiniteHistoryDependent.html#9668" class="Bound">ε</a> <a id="9670" href="Games.TypeTrees.html#1289" class="InductiveConstructor Operator">::</a> <a id="9673" href="Games.FiniteHistoryDependent.html#9673" class="Bound">εf</a><a id="9675" class="Symbol">)</a> <a id="9677" href="Games.FiniteHistoryDependent.html#9677" class="Bound">q</a> <a id="9679" class="Symbol">=</a> <a id="9681" href="Games.FiniteHistoryDependent.html#9743" class="Function">x₀</a> <a id="9684" href="Games.TypeTrees.html#1289" class="InductiveConstructor Operator">::</a> <a id="9687" href="Games.FiniteHistoryDependent.html#9773" class="Function">σf</a>
 <a id="9691" class="Keyword">where</a>
  <a id="9699" href="Games.FiniteHistoryDependent.html#9699" class="Function">xs</a> <a id="9702" class="Symbol">:</a> <a id="9704" href="Games.TypeTrees.html#899" class="Function">Path</a> <a id="9709" class="Symbol">(</a><a id="9710" href="Games.FiniteHistoryDependent.html#9656" class="Bound">X</a> <a id="9712" href="Games.TypeTrees.html#740" class="InductiveConstructor Operator">∷</a> <a id="9714" href="Games.FiniteHistoryDependent.html#9660" class="Bound">Xf</a><a id="9716" class="Symbol">)</a>
  <a id="9720" href="Games.FiniteHistoryDependent.html#9699" class="Function">xs</a> <a id="9723" class="Symbol">=</a> <a id="9725" href="Games.FiniteHistoryDependent.html#9222" class="Function">sequenceᴶ</a> <a id="9735" href="Games.FiniteHistoryDependent.html#9664" class="Bound">εt</a> <a id="9738" href="Games.FiniteHistoryDependent.html#9677" class="Bound">q</a>

  <a id="9743" href="Games.FiniteHistoryDependent.html#9743" class="Function">x₀</a> <a id="9746" class="Symbol">:</a> <a id="9748" href="Games.FiniteHistoryDependent.html#9656" class="Bound">X</a>
  <a id="9752" href="Games.FiniteHistoryDependent.html#9743" class="Function">x₀</a> <a id="9755" class="Symbol">=</a> <a id="9757" href="Games.TypeTrees.html#1311" class="Function">path-head</a> <a id="9767" href="Games.FiniteHistoryDependent.html#9699" class="Function">xs</a>

  <a id="9773" href="Games.FiniteHistoryDependent.html#9773" class="Function">σf</a> <a id="9776" class="Symbol">:</a> <a id="9778" class="Symbol">(</a><a id="9779" href="Games.FiniteHistoryDependent.html#9779" class="Bound">x</a> <a id="9781" class="Symbol">:</a> <a id="9783" href="Games.FiniteHistoryDependent.html#9656" class="Bound">X</a><a id="9784" class="Symbol">)</a> <a id="9786" class="Symbol">→</a> <a id="9788" href="Games.FiniteHistoryDependent.html#3654" class="Function">Strategy</a> <a id="9797" class="Symbol">(</a><a id="9798" href="Games.FiniteHistoryDependent.html#9660" class="Bound">Xf</a> <a id="9801" href="Games.FiniteHistoryDependent.html#9779" class="Bound">x</a><a id="9802" class="Symbol">)</a>
  <a id="9806" href="Games.FiniteHistoryDependent.html#9773" class="Function">σf</a> <a id="9809" href="Games.FiniteHistoryDependent.html#9809" class="Bound">x</a> <a id="9811" class="Symbol">=</a> <a id="9813" href="Games.FiniteHistoryDependent.html#9521" class="Function">selection-strategy</a> <a id="9832" class="Symbol">{</a><a id="9833" href="Games.FiniteHistoryDependent.html#9660" class="Bound">Xf</a> <a id="9836" href="Games.FiniteHistoryDependent.html#9809" class="Bound">x</a><a id="9837" class="Symbol">}</a> <a id="9839" class="Symbol">(</a><a id="9840" href="Games.FiniteHistoryDependent.html#9673" class="Bound">εf</a> <a id="9843" href="Games.FiniteHistoryDependent.html#9809" class="Bound">x</a><a id="9844" class="Symbol">)</a> <a id="9846" class="Symbol">(</a><a id="9847" href="Games.TypeTrees.html#1615" class="Function">subpred</a> <a id="9855" href="Games.FiniteHistoryDependent.html#9677" class="Bound">q</a> <a id="9857" href="Games.FiniteHistoryDependent.html#9809" class="Bound">x</a><a id="9858" class="Symbol">)</a>

<a id="9861" class="Markup">\end{code}</a><a id="9871" class="Background">

We convert a selection function into a quantifier as in Definition 10
of [1], using the function overline, defined in another module.

The work with the definition of a selection function being a selection
function for a quantifier as in Section 1 on [1], defined in another
module.

We generalize it to selection-function and quantifier trees in the
obvious way, by induction:

</a><a id="10252" class="Markup">\begin{code}</a>

<a id="10266" class="Keyword">open</a> <a id="10271" href="Games.JK.html#194" class="Module">JK</a> <a id="10274" href="Games.FiniteHistoryDependent.html#1635" class="Bound">R</a>

<a id="_Attains_"></a><a id="10277" href="Games.FiniteHistoryDependent.html#10277" class="Function Operator">_Attains_</a> <a id="10287" class="Symbol">:</a> <a id="10289" class="Symbol">{</a><a id="10290" href="Games.FiniteHistoryDependent.html#10290" class="Bound">Xt</a> <a id="10293" class="Symbol">:</a> <a id="10295" href="Games.TypeTrees.html#712" class="Datatype">𝑻</a><a id="10296" class="Symbol">}</a> <a id="10298" class="Symbol">→</a> <a id="10300" href="Games.FiniteHistoryDependent.html#8704" class="Function">𝓙</a> <a id="10302" href="Games.FiniteHistoryDependent.html#10290" class="Bound">Xt</a> <a id="10305" class="Symbol">→</a> <a id="10307" href="Games.FiniteHistoryDependent.html#2336" class="Function">𝓚</a> <a id="10309" href="Games.FiniteHistoryDependent.html#10290" class="Bound">Xt</a> <a id="10312" class="Symbol">→</a> <a id="10314" href="Notation.General.html#372" class="Function">Type</a>
<a id="10319" href="Games.FiniteHistoryDependent.html#10277" class="Function Operator">_Attains_</a> <a id="10329" class="Symbol">{</a><a id="10330" href="Games.TypeTrees.html#730" class="InductiveConstructor">[]</a><a id="10332" class="Symbol">}</a>     <a id="10338" href="Games.TypeTrees.html#1267" class="InductiveConstructor">⟨⟩</a>        <a id="10348" href="Games.TypeTrees.html#1267" class="InductiveConstructor">⟨⟩</a>        <a id="10358" class="Symbol">=</a> <a id="10360" href="MLTT.Unit.html#129" class="Record">𝟙</a>
<a id="10362" href="Games.FiniteHistoryDependent.html#10277" class="Function Operator">_Attains_</a> <a id="10372" class="Symbol">{</a><a id="10373" href="Games.FiniteHistoryDependent.html#10373" class="Bound">X</a> <a id="10375" href="Games.TypeTrees.html#740" class="InductiveConstructor Operator">∷</a> <a id="10377" href="Games.FiniteHistoryDependent.html#10377" class="Bound">Xf</a><a id="10379" class="Symbol">}</a> <a id="10381" class="Symbol">(</a><a id="10382" href="Games.FiniteHistoryDependent.html#10382" class="Bound">ε</a> <a id="10384" href="Games.TypeTrees.html#1289" class="InductiveConstructor Operator">::</a> <a id="10387" href="Games.FiniteHistoryDependent.html#10387" class="Bound">εf</a><a id="10389" class="Symbol">)</a> <a id="10391" class="Symbol">(</a><a id="10392" href="Games.FiniteHistoryDependent.html#10392" class="Bound">ϕ</a> <a id="10394" href="Games.TypeTrees.html#1289" class="InductiveConstructor Operator">::</a> <a id="10397" href="Games.FiniteHistoryDependent.html#10397" class="Bound">ϕf</a><a id="10399" class="Symbol">)</a> <a id="10401" class="Symbol">=</a> <a id="10403" class="Symbol">(</a><a id="10404" href="Games.FiniteHistoryDependent.html#10382" class="Bound">ε</a> <a id="10406" href="Games.JK.html#534" class="Function Operator">attains</a> <a id="10414" href="Games.FiniteHistoryDependent.html#10392" class="Bound">ϕ</a><a id="10415" class="Symbol">)</a>
                                       <a id="10456" href="MLTT.Sigma.html#558" class="Function Operator">×</a> <a id="10458" class="Symbol">((</a><a id="10460" href="Games.FiniteHistoryDependent.html#10460" class="Bound">x</a> <a id="10462" class="Symbol">:</a> <a id="10464" href="Games.FiniteHistoryDependent.html#10373" class="Bound">X</a><a id="10465" class="Symbol">)</a> <a id="10467" class="Symbol">→</a> <a id="10469" class="Symbol">(</a><a id="10470" href="Games.FiniteHistoryDependent.html#10387" class="Bound">εf</a> <a id="10473" href="Games.FiniteHistoryDependent.html#10460" class="Bound">x</a><a id="10474" class="Symbol">)</a> <a id="10476" href="Games.FiniteHistoryDependent.html#10277" class="Function Operator">Attains</a> <a id="10484" class="Symbol">(</a><a id="10485" href="Games.FiniteHistoryDependent.html#10397" class="Bound">ϕf</a> <a id="10488" href="Games.FiniteHistoryDependent.html#10460" class="Bound">x</a><a id="10489" class="Symbol">))</a>

<a id="10493" class="Markup">\end{code}</a><a id="10503" class="Background">

The following is the application of overline to each selection
function of a tree:

</a><a id="10589" class="Markup">\begin{code}</a>

<a id="Overline"></a><a id="10603" href="Games.FiniteHistoryDependent.html#10603" class="Function">Overline</a> <a id="10612" class="Symbol">:</a> <a id="10614" class="Symbol">{</a><a id="10615" href="Games.FiniteHistoryDependent.html#10615" class="Bound">Xt</a> <a id="10618" class="Symbol">:</a> <a id="10620" href="Games.TypeTrees.html#712" class="Datatype">𝑻</a><a id="10621" class="Symbol">}</a> <a id="10623" class="Symbol">→</a> <a id="10625" href="Games.FiniteHistoryDependent.html#8704" class="Function">𝓙</a> <a id="10627" href="Games.FiniteHistoryDependent.html#10615" class="Bound">Xt</a> <a id="10630" class="Symbol">→</a> <a id="10632" href="Games.FiniteHistoryDependent.html#2336" class="Function">𝓚</a> <a id="10634" href="Games.FiniteHistoryDependent.html#10615" class="Bound">Xt</a>
<a id="10637" href="Games.FiniteHistoryDependent.html#10603" class="Function">Overline</a> <a id="10646" class="Symbol">{</a><a id="10647" href="Games.TypeTrees.html#730" class="InductiveConstructor">[]</a><a id="10649" class="Symbol">}</a>     <a id="10655" href="Games.TypeTrees.html#1267" class="InductiveConstructor">⟨⟩</a>        <a id="10665" class="Symbol">=</a> <a id="10667" href="Games.TypeTrees.html#1267" class="InductiveConstructor">⟨⟩</a>
<a id="10670" href="Games.FiniteHistoryDependent.html#10603" class="Function">Overline</a> <a id="10679" class="Symbol">{</a><a id="10680" href="Games.FiniteHistoryDependent.html#10680" class="Bound">X</a> <a id="10682" href="Games.TypeTrees.html#740" class="InductiveConstructor Operator">∷</a> <a id="10684" href="Games.FiniteHistoryDependent.html#10684" class="Bound">Xf</a><a id="10686" class="Symbol">}</a> <a id="10688" class="Symbol">(</a><a id="10689" href="Games.FiniteHistoryDependent.html#10689" class="Bound">ε</a> <a id="10691" href="Games.TypeTrees.html#1289" class="InductiveConstructor Operator">::</a> <a id="10694" href="Games.FiniteHistoryDependent.html#10694" class="Bound">εf</a><a id="10696" class="Symbol">)</a> <a id="10698" class="Symbol">=</a> <a id="10700" href="Games.JK.html#261" class="Function">overline</a> <a id="10709" href="Games.FiniteHistoryDependent.html#10689" class="Bound">ε</a> <a id="10711" href="Games.TypeTrees.html#1289" class="InductiveConstructor Operator">::</a> <a id="10714" class="Symbol">(λ</a> <a id="10717" href="Games.FiniteHistoryDependent.html#10717" class="Bound">x</a> <a id="10719" class="Symbol">→</a> <a id="10721" href="Games.FiniteHistoryDependent.html#10603" class="Function">Overline</a> <a id="10730" class="Symbol">{</a><a id="10731" href="Games.FiniteHistoryDependent.html#10684" class="Bound">Xf</a> <a id="10734" href="Games.FiniteHistoryDependent.html#10717" class="Bound">x</a><a id="10735" class="Symbol">}</a> <a id="10737" class="Symbol">(</a><a id="10738" href="Games.FiniteHistoryDependent.html#10694" class="Bound">εf</a> <a id="10741" href="Games.FiniteHistoryDependent.html#10717" class="Bound">x</a><a id="10742" class="Symbol">))</a>

<a id="10746" class="Markup">\end{code}</a><a id="10756" class="Background">

The following is proved by straightforward induction on trees:

</a><a id="10822" class="Markup">\begin{code}</a>

<a id="observation"></a><a id="10836" href="Games.FiniteHistoryDependent.html#10836" class="Function">observation</a> <a id="10848" class="Symbol">:</a> <a id="10850" href="UF.FunExt.html#1047" class="Function">Fun-Ext</a>
            <a id="10870" class="Symbol">→</a> <a id="10872" class="Symbol">{</a><a id="10873" href="Games.FiniteHistoryDependent.html#10873" class="Bound">Xt</a> <a id="10876" class="Symbol">:</a> <a id="10878" href="Games.TypeTrees.html#712" class="Datatype">𝑻</a><a id="10879" class="Symbol">}</a> <a id="10881" class="Symbol">(</a><a id="10882" href="Games.FiniteHistoryDependent.html#10882" class="Bound">εt</a> <a id="10885" class="Symbol">:</a> <a id="10887" href="Games.FiniteHistoryDependent.html#8704" class="Function">𝓙</a> <a id="10889" href="Games.FiniteHistoryDependent.html#10873" class="Bound">Xt</a><a id="10891" class="Symbol">)</a> <a id="10893" class="Symbol">(</a><a id="10894" href="Games.FiniteHistoryDependent.html#10894" class="Bound">ϕt</a> <a id="10897" class="Symbol">:</a> <a id="10899" href="Games.FiniteHistoryDependent.html#2336" class="Function">𝓚</a> <a id="10901" href="Games.FiniteHistoryDependent.html#10873" class="Bound">Xt</a><a id="10903" class="Symbol">)</a>
            <a id="10917" class="Symbol">→</a> <a id="10919" href="Games.FiniteHistoryDependent.html#10882" class="Bound">εt</a> <a id="10922" href="Games.FiniteHistoryDependent.html#10277" class="Function Operator">Attains</a> <a id="10930" href="Games.FiniteHistoryDependent.html#10894" class="Bound">ϕt</a>
            <a id="10945" class="Symbol">→</a> <a id="10947" href="Games.FiniteHistoryDependent.html#10603" class="Function">Overline</a> <a id="10956" href="Games.FiniteHistoryDependent.html#10882" class="Bound">εt</a> <a id="10959" href="MLTT.Id.html#193" class="Datatype Operator">＝</a> <a id="10961" href="Games.FiniteHistoryDependent.html#10894" class="Bound">ϕt</a>
<a id="10964" href="Games.FiniteHistoryDependent.html#10836" class="Function">observation</a> <a id="10976" href="Games.FiniteHistoryDependent.html#10976" class="Bound">fe</a> <a id="10979" class="Symbol">{</a><a id="10980" href="Games.TypeTrees.html#730" class="InductiveConstructor">[]</a><a id="10982" class="Symbol">}</a>     <a id="10988" href="Games.TypeTrees.html#1267" class="InductiveConstructor">⟨⟩</a>        <a id="10998" href="Games.TypeTrees.html#1267" class="InductiveConstructor">⟨⟩</a>        <a id="11008" href="Games.TypeTrees.html#1267" class="InductiveConstructor">⟨⟩</a>        <a id="11018" class="Symbol">=</a> <a id="11020" href="MLTT.Identity-Type.html#157" class="InductiveConstructor">refl</a>
<a id="11025" href="Games.FiniteHistoryDependent.html#10836" class="Function">observation</a> <a id="11037" href="Games.FiniteHistoryDependent.html#11037" class="Bound">fe</a> <a id="11040" class="Symbol">{</a><a id="11041" href="Games.FiniteHistoryDependent.html#11041" class="Bound">X</a> <a id="11043" href="Games.TypeTrees.html#740" class="InductiveConstructor Operator">∷</a> <a id="11045" href="Games.FiniteHistoryDependent.html#11045" class="Bound">Xf</a><a id="11047" class="Symbol">}</a> <a id="11049" class="Symbol">(</a><a id="11050" href="Games.FiniteHistoryDependent.html#11050" class="Bound">ε</a> <a id="11052" href="Games.TypeTrees.html#1289" class="InductiveConstructor Operator">::</a> <a id="11055" href="Games.FiniteHistoryDependent.html#11055" class="Bound">εf</a><a id="11057" class="Symbol">)</a> <a id="11059" class="Symbol">(</a><a id="11060" href="Games.FiniteHistoryDependent.html#11060" class="Bound">ϕ</a> <a id="11062" href="Games.TypeTrees.html#1289" class="InductiveConstructor Operator">::</a> <a id="11065" href="Games.FiniteHistoryDependent.html#11065" class="Bound">ϕf</a><a id="11067" class="Symbol">)</a> <a id="11069" class="Symbol">(</a><a id="11070" href="Games.FiniteHistoryDependent.html#11070" class="Bound">a</a> <a id="11072" href="Games.TypeTrees.html#1289" class="InductiveConstructor Operator">::</a> <a id="11075" href="Games.FiniteHistoryDependent.html#11075" class="Bound">af</a><a id="11077" class="Symbol">)</a> <a id="11079" class="Symbol">=</a> <a id="11081" href="Games.FiniteHistoryDependent.html#11284" class="Function">γ</a>
 <a id="11084" class="Keyword">where</a>
  <a id="11092" href="Games.FiniteHistoryDependent.html#11092" class="Function">IH</a> <a id="11095" class="Symbol">:</a> <a id="11097" class="Symbol">(</a><a id="11098" href="Games.FiniteHistoryDependent.html#11098" class="Bound">x</a> <a id="11100" class="Symbol">:</a> <a id="11102" href="Games.FiniteHistoryDependent.html#11041" class="Bound">X</a><a id="11103" class="Symbol">)</a> <a id="11105" class="Symbol">→</a> <a id="11107" href="Games.FiniteHistoryDependent.html#10603" class="Function">Overline</a> <a id="11116" class="Symbol">(</a><a id="11117" href="Games.FiniteHistoryDependent.html#11055" class="Bound">εf</a> <a id="11120" href="Games.FiniteHistoryDependent.html#11098" class="Bound">x</a><a id="11121" class="Symbol">)</a> <a id="11123" href="MLTT.Id.html#193" class="Datatype Operator">＝</a> <a id="11125" href="Games.FiniteHistoryDependent.html#11065" class="Bound">ϕf</a> <a id="11128" href="Games.FiniteHistoryDependent.html#11098" class="Bound">x</a>
  <a id="11132" href="Games.FiniteHistoryDependent.html#11092" class="Function">IH</a> <a id="11135" href="Games.FiniteHistoryDependent.html#11135" class="Bound">x</a> <a id="11137" class="Symbol">=</a> <a id="11139" href="Games.FiniteHistoryDependent.html#10836" class="Function">observation</a> <a id="11151" href="Games.FiniteHistoryDependent.html#11037" class="Bound">fe</a> <a id="11154" class="Symbol">{</a><a id="11155" href="Games.FiniteHistoryDependent.html#11045" class="Bound">Xf</a> <a id="11158" href="Games.FiniteHistoryDependent.html#11135" class="Bound">x</a><a id="11159" class="Symbol">}</a> <a id="11161" class="Symbol">(</a><a id="11162" href="Games.FiniteHistoryDependent.html#11055" class="Bound">εf</a> <a id="11165" href="Games.FiniteHistoryDependent.html#11135" class="Bound">x</a><a id="11166" class="Symbol">)</a> <a id="11168" class="Symbol">(</a><a id="11169" href="Games.FiniteHistoryDependent.html#11065" class="Bound">ϕf</a> <a id="11172" href="Games.FiniteHistoryDependent.html#11135" class="Bound">x</a><a id="11173" class="Symbol">)</a> <a id="11175" class="Symbol">(</a><a id="11176" href="Games.FiniteHistoryDependent.html#11075" class="Bound">af</a> <a id="11179" href="Games.FiniteHistoryDependent.html#11135" class="Bound">x</a><a id="11180" class="Symbol">)</a>

  <a id="11185" href="Games.FiniteHistoryDependent.html#11185" class="Function">I</a> <a id="11187" class="Symbol">:</a> <a id="11189" href="Games.JK.html#261" class="Function">overline</a> <a id="11198" href="Games.FiniteHistoryDependent.html#11050" class="Bound">ε</a> <a id="11200" href="MLTT.Id.html#193" class="Datatype Operator">＝</a> <a id="11202" href="Games.FiniteHistoryDependent.html#11060" class="Bound">ϕ</a>
  <a id="11206" href="Games.FiniteHistoryDependent.html#11185" class="Function">I</a> <a id="11208" class="Symbol">=</a> <a id="11210" href="UF.FunExt.html#1242" class="Function">dfunext</a> <a id="11218" href="Games.FiniteHistoryDependent.html#11037" class="Bound">fe</a> <a id="11221" href="Games.FiniteHistoryDependent.html#11070" class="Bound">a</a>

  <a id="11226" href="Games.FiniteHistoryDependent.html#11226" class="Function">II</a> <a id="11229" class="Symbol">:</a> <a id="11231" class="Symbol">(λ</a> <a id="11234" href="Games.FiniteHistoryDependent.html#11234" class="Bound">x</a> <a id="11236" class="Symbol">→</a> <a id="11238" href="Games.FiniteHistoryDependent.html#10603" class="Function">Overline</a> <a id="11247" class="Symbol">(</a><a id="11248" href="Games.FiniteHistoryDependent.html#11055" class="Bound">εf</a> <a id="11251" href="Games.FiniteHistoryDependent.html#11234" class="Bound">x</a><a id="11252" class="Symbol">))</a> <a id="11255" href="MLTT.Id.html#193" class="Datatype Operator">＝</a> <a id="11257" href="Games.FiniteHistoryDependent.html#11065" class="Bound">ϕf</a>
  <a id="11262" href="Games.FiniteHistoryDependent.html#11226" class="Function">II</a> <a id="11265" class="Symbol">=</a> <a id="11267" href="UF.FunExt.html#1242" class="Function">dfunext</a> <a id="11275" href="Games.FiniteHistoryDependent.html#11037" class="Bound">fe</a> <a id="11278" href="Games.FiniteHistoryDependent.html#11092" class="Function">IH</a>

  <a id="11284" href="Games.FiniteHistoryDependent.html#11284" class="Function">γ</a> <a id="11286" class="Symbol">:</a> <a id="11288" href="Games.JK.html#261" class="Function">overline</a> <a id="11297" href="Games.FiniteHistoryDependent.html#11050" class="Bound">ε</a> <a id="11299" href="Games.TypeTrees.html#1289" class="InductiveConstructor Operator">::</a> <a id="11302" class="Symbol">(λ</a> <a id="11305" href="Games.FiniteHistoryDependent.html#11305" class="Bound">x</a> <a id="11307" class="Symbol">→</a> <a id="11309" href="Games.FiniteHistoryDependent.html#10603" class="Function">Overline</a> <a id="11318" class="Symbol">(</a><a id="11319" href="Games.FiniteHistoryDependent.html#11055" class="Bound">εf</a> <a id="11322" href="Games.FiniteHistoryDependent.html#11305" class="Bound">x</a><a id="11323" class="Symbol">))</a> <a id="11326" href="MLTT.Id.html#193" class="Datatype Operator">＝</a> <a id="11328" href="Games.FiniteHistoryDependent.html#11060" class="Bound">ϕ</a> <a id="11330" href="Games.TypeTrees.html#1289" class="InductiveConstructor Operator">::</a> <a id="11333" href="Games.FiniteHistoryDependent.html#11065" class="Bound">ϕf</a>
  <a id="11338" href="Games.FiniteHistoryDependent.html#11284" class="Function">γ</a> <a id="11340" class="Symbol">=</a> <a id="11342" href="UF.Base.html#7822" class="Function">ap₂</a> <a id="11346" href="Games.TypeTrees.html#1289" class="InductiveConstructor Operator">_::_</a> <a id="11351" href="Games.FiniteHistoryDependent.html#11185" class="Function">I</a> <a id="11353" href="Games.FiniteHistoryDependent.html#11226" class="Function">II</a>

<a id="observation-converse"></a><a id="11357" href="Games.FiniteHistoryDependent.html#11357" class="Function">observation-converse</a> <a id="11378" class="Symbol">:</a> <a id="11380" class="Symbol">{</a><a id="11381" href="Games.FiniteHistoryDependent.html#11381" class="Bound">Xt</a> <a id="11384" class="Symbol">:</a> <a id="11386" href="Games.TypeTrees.html#712" class="Datatype">𝑻</a><a id="11387" class="Symbol">}</a> <a id="11389" class="Symbol">(</a><a id="11390" href="Games.FiniteHistoryDependent.html#11390" class="Bound">εt</a> <a id="11393" class="Symbol">:</a> <a id="11395" href="Games.FiniteHistoryDependent.html#8704" class="Function">𝓙</a> <a id="11397" href="Games.FiniteHistoryDependent.html#11381" class="Bound">Xt</a><a id="11399" class="Symbol">)</a> <a id="11401" class="Symbol">(</a><a id="11402" href="Games.FiniteHistoryDependent.html#11402" class="Bound">ϕt</a> <a id="11405" class="Symbol">:</a> <a id="11407" href="Games.FiniteHistoryDependent.html#2336" class="Function">𝓚</a> <a id="11409" href="Games.FiniteHistoryDependent.html#11381" class="Bound">Xt</a><a id="11411" class="Symbol">)</a>
                     <a id="11434" class="Symbol">→</a> <a id="11436" href="Games.FiniteHistoryDependent.html#10603" class="Function">Overline</a> <a id="11445" href="Games.FiniteHistoryDependent.html#11390" class="Bound">εt</a> <a id="11448" href="MLTT.Id.html#193" class="Datatype Operator">＝</a> <a id="11450" href="Games.FiniteHistoryDependent.html#11402" class="Bound">ϕt</a>
                     <a id="11474" class="Symbol">→</a> <a id="11476" href="Games.FiniteHistoryDependent.html#11390" class="Bound">εt</a> <a id="11479" href="Games.FiniteHistoryDependent.html#10277" class="Function Operator">Attains</a> <a id="11487" href="Games.FiniteHistoryDependent.html#11402" class="Bound">ϕt</a>
<a id="11490" href="Games.FiniteHistoryDependent.html#11357" class="Function">observation-converse</a> <a id="11511" class="Symbol">{</a><a id="11512" href="Games.TypeTrees.html#730" class="InductiveConstructor">[]</a><a id="11514" class="Symbol">}</a>     <a id="11520" href="Games.FiniteHistoryDependent.html#11520" class="Bound">εt</a> <a id="11523" href="Games.FiniteHistoryDependent.html#11523" class="Bound">ϕt</a> <a id="11526" href="Games.FiniteHistoryDependent.html#11526" class="Bound">p</a> <a id="11528" class="Symbol">=</a> <a id="11530" href="Games.TypeTrees.html#1267" class="InductiveConstructor">⟨⟩</a>
<a id="11533" href="Games.FiniteHistoryDependent.html#11357" class="Function">observation-converse</a> <a id="11554" class="Symbol">{</a><a id="11555" href="Games.FiniteHistoryDependent.html#11555" class="Bound">X</a> <a id="11557" href="Games.TypeTrees.html#740" class="InductiveConstructor Operator">∷</a> <a id="11559" href="Games.FiniteHistoryDependent.html#11559" class="Bound">Xf</a><a id="11561" class="Symbol">}</a> <a id="11563" class="Symbol">(</a><a id="11564" href="Games.FiniteHistoryDependent.html#11564" class="Bound">ε</a> <a id="11566" href="Games.TypeTrees.html#1289" class="InductiveConstructor Operator">::</a> <a id="11569" href="Games.FiniteHistoryDependent.html#11569" class="Bound">εf</a><a id="11571" class="Symbol">)</a>
                     <a id="11594" class="Symbol">(</a><a id="11595" class="DottedPattern Symbol">.(λ</a> <a id="11599" href="Games.FiniteHistoryDependent.html#11599" class="DottedPattern Bound">p</a> <a id="11601" class="Symbol">→</a> <a id="11603" href="Games.FiniteHistoryDependent.html#11599" class="DottedPattern Bound">p</a> <a id="11605" class="DottedPattern Symbol">(</a><a id="11606" href="Games.FiniteHistoryDependent.html#11564" class="DottedPattern Bound">ε</a> <a id="11608" href="Games.FiniteHistoryDependent.html#11599" class="DottedPattern Bound">p</a><a id="11609" class="DottedPattern Symbol">))</a> <a id="11612" href="Games.TypeTrees.html#1289" class="InductiveConstructor Operator">::</a> <a id="11615" class="DottedPattern Symbol">.(λ</a> <a id="11619" href="Games.FiniteHistoryDependent.html#11619" class="DottedPattern Bound">x</a> <a id="11621" class="Symbol">→</a> <a id="11623" href="Games.FiniteHistoryDependent.html#10603" class="DottedPattern Function">Overline</a> <a id="11632" class="DottedPattern Symbol">(</a><a id="11633" href="Games.FiniteHistoryDependent.html#11569" class="DottedPattern Bound">εf</a> <a id="11636" href="Games.FiniteHistoryDependent.html#11619" class="DottedPattern Bound">x</a><a id="11637" class="DottedPattern Symbol">))</a><a id="11639" class="Symbol">)</a> <a id="11641" href="MLTT.Identity-Type.html#157" class="InductiveConstructor">refl</a> <a id="11646" class="Symbol">=</a>
 <a id="11649" class="Symbol">(λ</a> <a id="11652" href="Games.FiniteHistoryDependent.html#11652" class="Bound">x</a> <a id="11654" class="Symbol">→</a> <a id="11656" href="MLTT.Identity-Type.html#157" class="InductiveConstructor">refl</a><a id="11660" class="Symbol">)</a> <a id="11662" href="Games.TypeTrees.html#1289" class="InductiveConstructor Operator">::</a> <a id="11665" class="Symbol">(λ</a> <a id="11668" href="Games.FiniteHistoryDependent.html#11668" class="Bound">x</a> <a id="11670" class="Symbol">→</a> <a id="11672" href="Games.FiniteHistoryDependent.html#11357" class="Function">observation-converse</a> <a id="11693" class="Symbol">(</a><a id="11694" href="Games.FiniteHistoryDependent.html#11569" class="Bound">εf</a> <a id="11697" href="Games.FiniteHistoryDependent.html#11668" class="Bound">x</a><a id="11698" class="Symbol">)</a> <a id="11700" class="Symbol">(</a><a id="11701" href="Games.FiniteHistoryDependent.html#10603" class="Function">Overline</a> <a id="11710" class="Symbol">(</a><a id="11711" href="Games.FiniteHistoryDependent.html#11569" class="Bound">εf</a> <a id="11714" href="Games.FiniteHistoryDependent.html#11668" class="Bound">x</a><a id="11715" class="Symbol">))</a> <a id="11718" href="MLTT.Identity-Type.html#157" class="InductiveConstructor">refl</a><a id="11722" class="Symbol">)</a>

<a id="11725" class="Markup">\end{code}</a><a id="11735" class="Background">

Notice that the converse is also true, that is, if Overline εt ＝ ϕt
then εt are selections of ϕt, but we don&#39;t need this fact here.

</a><a id="11870" class="Markup">\begin{code}</a>

<a id="main-lemma"></a><a id="11884" href="Games.FiniteHistoryDependent.html#11884" class="Function">main-lemma</a> <a id="11895" class="Symbol">:</a> <a id="11897" class="Symbol">{</a><a id="11898" href="Games.FiniteHistoryDependent.html#11898" class="Bound">Xt</a> <a id="11901" class="Symbol">:</a> <a id="11903" href="Games.TypeTrees.html#712" class="Datatype">𝑻</a><a id="11904" class="Symbol">}</a> <a id="11906" class="Symbol">(</a><a id="11907" href="Games.FiniteHistoryDependent.html#11907" class="Bound">εt</a> <a id="11910" class="Symbol">:</a> <a id="11912" href="Games.FiniteHistoryDependent.html#8704" class="Function">𝓙</a> <a id="11914" href="Games.FiniteHistoryDependent.html#11898" class="Bound">Xt</a><a id="11916" class="Symbol">)</a> <a id="11918" class="Symbol">(</a><a id="11919" href="Games.FiniteHistoryDependent.html#11919" class="Bound">q</a> <a id="11921" class="Symbol">:</a> <a id="11923" href="Games.TypeTrees.html#899" class="Function">Path</a> <a id="11928" href="Games.FiniteHistoryDependent.html#11898" class="Bound">Xt</a> <a id="11931" class="Symbol">→</a> <a id="11933" href="Games.FiniteHistoryDependent.html#1635" class="Bound">R</a><a id="11934" class="Symbol">)</a>
           <a id="11947" class="Symbol">→</a> <a id="11949" href="Games.FiniteHistoryDependent.html#4167" class="Function">strategic-path</a> <a id="11964" class="Symbol">(</a><a id="11965" href="Games.FiniteHistoryDependent.html#9521" class="Function">selection-strategy</a> <a id="11984" href="Games.FiniteHistoryDependent.html#11907" class="Bound">εt</a> <a id="11987" href="Games.FiniteHistoryDependent.html#11919" class="Bound">q</a><a id="11988" class="Symbol">)</a>
           <a id="12001" href="MLTT.Id.html#193" class="Datatype Operator">＝</a> <a id="12003" href="Games.FiniteHistoryDependent.html#9222" class="Function">sequenceᴶ</a> <a id="12013" href="Games.FiniteHistoryDependent.html#11907" class="Bound">εt</a> <a id="12016" href="Games.FiniteHistoryDependent.html#11919" class="Bound">q</a>
<a id="12018" href="Games.FiniteHistoryDependent.html#11884" class="Function">main-lemma</a> <a id="12029" class="Symbol">{</a><a id="12030" href="Games.TypeTrees.html#730" class="InductiveConstructor">[]</a><a id="12032" class="Symbol">}</a>     <a id="12038" href="Games.TypeTrees.html#1267" class="InductiveConstructor">⟨⟩</a>           <a id="12051" href="Games.FiniteHistoryDependent.html#12051" class="Bound">q</a> <a id="12053" class="Symbol">=</a> <a id="12055" href="MLTT.Identity-Type.html#157" class="InductiveConstructor">refl</a>
<a id="12060" href="Games.FiniteHistoryDependent.html#11884" class="Function">main-lemma</a> <a id="12071" class="Symbol">{</a><a id="12072" href="Games.FiniteHistoryDependent.html#12072" class="Bound">X</a> <a id="12074" href="Games.TypeTrees.html#740" class="InductiveConstructor Operator">∷</a> <a id="12076" href="Games.FiniteHistoryDependent.html#12076" class="Bound">Xf</a><a id="12078" class="Symbol">}</a> <a id="12080" href="Games.FiniteHistoryDependent.html#12080" class="Bound">εt</a><a id="12082" class="Symbol">@(</a><a id="12084" href="Games.FiniteHistoryDependent.html#12084" class="Bound">ε</a> <a id="12086" href="Games.TypeTrees.html#1289" class="InductiveConstructor Operator">::</a> <a id="12089" href="Games.FiniteHistoryDependent.html#12089" class="Bound">εf</a><a id="12091" class="Symbol">)</a> <a id="12093" href="Games.FiniteHistoryDependent.html#12093" class="Bound">q</a> <a id="12095" class="Symbol">=</a>
 <a id="12098" href="Games.FiniteHistoryDependent.html#4167" class="Function">strategic-path</a> <a id="12113" class="Symbol">(</a><a id="12114" href="Games.FiniteHistoryDependent.html#9521" class="Function">selection-strategy</a> <a id="12133" class="Symbol">(</a><a id="12134" href="Games.FiniteHistoryDependent.html#12084" class="Bound">ε</a> <a id="12136" href="Games.TypeTrees.html#1289" class="InductiveConstructor Operator">::</a> <a id="12139" href="Games.FiniteHistoryDependent.html#12089" class="Bound">εf</a><a id="12141" class="Symbol">)</a> <a id="12143" href="Games.FiniteHistoryDependent.html#12093" class="Bound">q</a><a id="12144" class="Symbol">)</a> <a id="12146" href="MLTT.Id.html#2239" class="Function Operator">＝⟨</a> <a id="12149" href="MLTT.Identity-Type.html#157" class="InductiveConstructor">refl</a> <a id="12154" href="MLTT.Id.html#2239" class="Function Operator">⟩</a>
 <a id="12157" href="Games.FiniteHistoryDependent.html#12537" class="Function">x₀</a> <a id="12160" href="Games.TypeTrees.html#1289" class="InductiveConstructor Operator">::</a> <a id="12163" href="Games.FiniteHistoryDependent.html#4167" class="Function">strategic-path</a> <a id="12178" class="Symbol">(</a><a id="12179" href="Games.FiniteHistoryDependent.html#12582" class="Function">σf</a> <a id="12182" href="Games.FiniteHistoryDependent.html#12537" class="Function">x₀</a><a id="12184" class="Symbol">)</a>                    <a id="12205" href="MLTT.Id.html#2239" class="Function Operator">＝⟨</a> <a id="12208" href="MLTT.Id.html#1136" class="Function">ap</a> <a id="12211" class="Symbol">(</a><a id="12212" href="Games.FiniteHistoryDependent.html#12537" class="Function">x₀</a> <a id="12215" href="Games.TypeTrees.html#1289" class="InductiveConstructor Operator">::_</a><a id="12218" class="Symbol">)</a> <a id="12220" href="Games.FiniteHistoryDependent.html#12672" class="Function">IH</a> <a id="12223" href="MLTT.Id.html#2239" class="Function Operator">⟩</a>
 <a id="12226" href="Games.FiniteHistoryDependent.html#12537" class="Function">x₀</a> <a id="12229" href="Games.TypeTrees.html#1289" class="InductiveConstructor Operator">::</a> <a id="12232" href="Games.FiniteHistoryDependent.html#9222" class="Function">sequenceᴶ</a> <a id="12242" class="Symbol">{</a><a id="12243" href="Games.FiniteHistoryDependent.html#12076" class="Bound">Xf</a> <a id="12246" href="Games.FiniteHistoryDependent.html#12537" class="Function">x₀</a><a id="12248" class="Symbol">}</a> <a id="12250" class="Symbol">(</a><a id="12251" href="Games.FiniteHistoryDependent.html#12089" class="Bound">εf</a> <a id="12254" href="Games.FiniteHistoryDependent.html#12537" class="Function">x₀</a><a id="12256" class="Symbol">)</a> <a id="12258" class="Symbol">(</a><a id="12259" href="Games.TypeTrees.html#1615" class="Function">subpred</a> <a id="12267" href="Games.FiniteHistoryDependent.html#12093" class="Bound">q</a> <a id="12269" href="Games.FiniteHistoryDependent.html#12537" class="Function">x₀</a><a id="12271" class="Symbol">)</a>  <a id="12274" href="MLTT.Id.html#2239" class="Function Operator">＝⟨</a> <a id="12277" href="MLTT.Identity-Type.html#157" class="InductiveConstructor">refl</a> <a id="12282" href="MLTT.Id.html#2239" class="Function Operator">⟩</a>
 <a id="12285" href="Games.FiniteHistoryDependent.html#12537" class="Function">x₀</a> <a id="12288" href="Games.TypeTrees.html#1289" class="InductiveConstructor Operator">::</a> <a id="12291" href="Games.FiniteHistoryDependent.html#12462" class="Function">ν</a> <a id="12293" href="Games.FiniteHistoryDependent.html#12537" class="Function">x₀</a>                                      <a id="12333" href="MLTT.Id.html#2239" class="Function Operator">＝⟨</a> <a id="12336" href="MLTT.Identity-Type.html#157" class="InductiveConstructor">refl</a> <a id="12341" href="MLTT.Id.html#2239" class="Function Operator">⟩</a>
 <a id="12344" class="Symbol">(</a><a id="12345" href="Games.FiniteHistoryDependent.html#12084" class="Bound">ε</a> <a id="12347" href="Games.J.html#484" class="Function Operator">⊗ᴶ</a> <a id="12350" class="Symbol">(λ</a> <a id="12353" href="Games.FiniteHistoryDependent.html#12353" class="Bound">x</a> <a id="12355" class="Symbol">→</a> <a id="12357" href="Games.FiniteHistoryDependent.html#9222" class="Function">sequenceᴶ</a> <a id="12367" class="Symbol">{</a><a id="12368" href="Games.FiniteHistoryDependent.html#12076" class="Bound">Xf</a> <a id="12371" href="Games.FiniteHistoryDependent.html#12353" class="Bound">x</a><a id="12372" class="Symbol">}</a> <a id="12374" class="Symbol">(</a><a id="12375" href="Games.FiniteHistoryDependent.html#12089" class="Bound">εf</a> <a id="12378" href="Games.FiniteHistoryDependent.html#12353" class="Bound">x</a><a id="12379" class="Symbol">)))</a> <a id="12383" href="Games.FiniteHistoryDependent.html#12093" class="Bound">q</a>        <a id="12392" href="MLTT.Id.html#2239" class="Function Operator">＝⟨</a> <a id="12395" href="MLTT.Identity-Type.html#157" class="InductiveConstructor">refl</a> <a id="12400" href="MLTT.Id.html#2239" class="Function Operator">⟩</a>
 <a id="12403" href="Games.FiniteHistoryDependent.html#9222" class="Function">sequenceᴶ</a> <a id="12413" class="Symbol">(</a><a id="12414" href="Games.FiniteHistoryDependent.html#12084" class="Bound">ε</a> <a id="12416" href="Games.TypeTrees.html#1289" class="InductiveConstructor Operator">::</a> <a id="12419" href="Games.FiniteHistoryDependent.html#12089" class="Bound">εf</a><a id="12421" class="Symbol">)</a> <a id="12423" href="Games.FiniteHistoryDependent.html#12093" class="Bound">q</a>                           <a id="12451" href="MLTT.Id.html#2321" class="Function Operator">∎</a>
 <a id="12454" class="Keyword">where</a>
  <a id="12462" href="Games.FiniteHistoryDependent.html#12462" class="Function">ν</a> <a id="12464" class="Symbol">:</a> <a id="12466" class="Symbol">(</a><a id="12467" href="Games.FiniteHistoryDependent.html#12467" class="Bound">x</a> <a id="12469" class="Symbol">:</a> <a id="12471" href="Games.FiniteHistoryDependent.html#12072" class="Bound">X</a><a id="12472" class="Symbol">)</a> <a id="12474" class="Symbol">→</a> <a id="12476" href="Games.TypeTrees.html#899" class="Function">Path</a> <a id="12481" class="Symbol">(</a><a id="12482" href="Games.FiniteHistoryDependent.html#12076" class="Bound">Xf</a> <a id="12485" href="Games.FiniteHistoryDependent.html#12467" class="Bound">x</a><a id="12486" class="Symbol">)</a>
  <a id="12490" href="Games.FiniteHistoryDependent.html#12462" class="Function">ν</a> <a id="12492" href="Games.FiniteHistoryDependent.html#12492" class="Bound">x</a> <a id="12494" class="Symbol">=</a> <a id="12496" href="Games.FiniteHistoryDependent.html#9222" class="Function">sequenceᴶ</a> <a id="12506" class="Symbol">{</a><a id="12507" href="Games.FiniteHistoryDependent.html#12076" class="Bound">Xf</a> <a id="12510" href="Games.FiniteHistoryDependent.html#12492" class="Bound">x</a><a id="12511" class="Symbol">}</a> <a id="12513" class="Symbol">(</a><a id="12514" href="Games.FiniteHistoryDependent.html#12089" class="Bound">εf</a> <a id="12517" href="Games.FiniteHistoryDependent.html#12492" class="Bound">x</a><a id="12518" class="Symbol">)</a> <a id="12520" class="Symbol">(</a><a id="12521" href="Games.TypeTrees.html#1615" class="Function">subpred</a> <a id="12529" href="Games.FiniteHistoryDependent.html#12093" class="Bound">q</a> <a id="12531" href="Games.FiniteHistoryDependent.html#12492" class="Bound">x</a><a id="12532" class="Symbol">)</a>

  <a id="12537" href="Games.FiniteHistoryDependent.html#12537" class="Function">x₀</a> <a id="12540" class="Symbol">:</a> <a id="12542" href="Games.FiniteHistoryDependent.html#12072" class="Bound">X</a>
  <a id="12546" href="Games.FiniteHistoryDependent.html#12537" class="Function">x₀</a> <a id="12549" class="Symbol">=</a> <a id="12551" href="Games.FiniteHistoryDependent.html#12084" class="Bound">ε</a> <a id="12553" class="Symbol">(λ</a> <a id="12556" href="Games.FiniteHistoryDependent.html#12556" class="Bound">x</a> <a id="12558" class="Symbol">→</a> <a id="12560" href="Games.TypeTrees.html#1615" class="Function">subpred</a> <a id="12568" href="Games.FiniteHistoryDependent.html#12093" class="Bound">q</a> <a id="12570" href="Games.FiniteHistoryDependent.html#12556" class="Bound">x</a> <a id="12572" class="Symbol">(</a><a id="12573" href="Games.FiniteHistoryDependent.html#12462" class="Function">ν</a> <a id="12575" href="Games.FiniteHistoryDependent.html#12556" class="Bound">x</a><a id="12576" class="Symbol">))</a>

  <a id="12582" href="Games.FiniteHistoryDependent.html#12582" class="Function">σf</a> <a id="12585" class="Symbol">:</a> <a id="12587" class="Symbol">(</a><a id="12588" href="Games.FiniteHistoryDependent.html#12588" class="Bound">x</a> <a id="12590" class="Symbol">:</a> <a id="12592" href="Games.FiniteHistoryDependent.html#12072" class="Bound">X</a><a id="12593" class="Symbol">)</a> <a id="12595" class="Symbol">→</a> <a id="12597" href="Games.FiniteHistoryDependent.html#3654" class="Function">Strategy</a> <a id="12606" class="Symbol">(</a><a id="12607" href="Games.FiniteHistoryDependent.html#12076" class="Bound">Xf</a> <a id="12610" href="Games.FiniteHistoryDependent.html#12588" class="Bound">x</a><a id="12611" class="Symbol">)</a>
  <a id="12615" href="Games.FiniteHistoryDependent.html#12582" class="Function">σf</a> <a id="12618" href="Games.FiniteHistoryDependent.html#12618" class="Bound">x</a> <a id="12620" class="Symbol">=</a> <a id="12622" href="Games.FiniteHistoryDependent.html#9521" class="Function">selection-strategy</a> <a id="12641" class="Symbol">{</a><a id="12642" href="Games.FiniteHistoryDependent.html#12076" class="Bound">Xf</a> <a id="12645" href="Games.FiniteHistoryDependent.html#12618" class="Bound">x</a><a id="12646" class="Symbol">}</a> <a id="12648" class="Symbol">(</a><a id="12649" href="Games.FiniteHistoryDependent.html#12089" class="Bound">εf</a> <a id="12652" href="Games.FiniteHistoryDependent.html#12618" class="Bound">x</a><a id="12653" class="Symbol">)</a> <a id="12655" class="Symbol">(</a><a id="12656" href="Games.TypeTrees.html#1615" class="Function">subpred</a> <a id="12664" href="Games.FiniteHistoryDependent.html#12093" class="Bound">q</a> <a id="12666" href="Games.FiniteHistoryDependent.html#12618" class="Bound">x</a><a id="12667" class="Symbol">)</a>

  <a id="12672" href="Games.FiniteHistoryDependent.html#12672" class="Function">IH</a> <a id="12675" class="Symbol">:</a> <a id="12677" href="Games.FiniteHistoryDependent.html#4167" class="Function">strategic-path</a> <a id="12692" class="Symbol">(</a><a id="12693" href="Games.FiniteHistoryDependent.html#12582" class="Function">σf</a> <a id="12696" href="Games.FiniteHistoryDependent.html#12537" class="Function">x₀</a><a id="12698" class="Symbol">)</a> <a id="12700" href="MLTT.Id.html#193" class="Datatype Operator">＝</a> <a id="12702" href="Games.FiniteHistoryDependent.html#9222" class="Function">sequenceᴶ</a> <a id="12712" class="Symbol">{</a><a id="12713" href="Games.FiniteHistoryDependent.html#12076" class="Bound">Xf</a> <a id="12716" href="Games.FiniteHistoryDependent.html#12537" class="Function">x₀</a><a id="12718" class="Symbol">}</a> <a id="12720" class="Symbol">(</a><a id="12721" href="Games.FiniteHistoryDependent.html#12089" class="Bound">εf</a> <a id="12724" href="Games.FiniteHistoryDependent.html#12537" class="Function">x₀</a><a id="12726" class="Symbol">)</a> <a id="12728" class="Symbol">(</a><a id="12729" href="Games.TypeTrees.html#1615" class="Function">subpred</a> <a id="12737" href="Games.FiniteHistoryDependent.html#12093" class="Bound">q</a> <a id="12739" href="Games.FiniteHistoryDependent.html#12537" class="Function">x₀</a><a id="12741" class="Symbol">)</a>
  <a id="12745" href="Games.FiniteHistoryDependent.html#12672" class="Function">IH</a> <a id="12748" class="Symbol">=</a> <a id="12750" href="Games.FiniteHistoryDependent.html#11884" class="Function">main-lemma</a> <a id="12761" class="Symbol">(</a><a id="12762" href="Games.FiniteHistoryDependent.html#12089" class="Bound">εf</a> <a id="12765" href="Games.FiniteHistoryDependent.html#12537" class="Function">x₀</a><a id="12767" class="Symbol">)</a> <a id="12769" class="Symbol">(</a><a id="12770" href="Games.TypeTrees.html#1615" class="Function">subpred</a> <a id="12778" href="Games.FiniteHistoryDependent.html#12093" class="Bound">q</a> <a id="12780" href="Games.FiniteHistoryDependent.html#12537" class="Function">x₀</a><a id="12782" class="Symbol">)</a>

<a id="selection-strategy-lemma"></a><a id="12785" href="Games.FiniteHistoryDependent.html#12785" class="Function">selection-strategy-lemma</a> <a id="12810" class="Symbol">:</a> <a id="12812" href="UF.FunExt.html#1047" class="Function">Fun-Ext</a>
                         <a id="12845" class="Symbol">→</a> <a id="12847" class="Symbol">{</a><a id="12848" href="Games.FiniteHistoryDependent.html#12848" class="Bound">Xt</a> <a id="12851" class="Symbol">:</a> <a id="12853" href="Games.TypeTrees.html#712" class="Datatype">𝑻</a><a id="12854" class="Symbol">}</a> <a id="12856" class="Symbol">(</a><a id="12857" href="Games.FiniteHistoryDependent.html#12857" class="Bound">εt</a> <a id="12860" class="Symbol">:</a> <a id="12862" href="Games.FiniteHistoryDependent.html#8704" class="Function">𝓙</a> <a id="12864" href="Games.FiniteHistoryDependent.html#12848" class="Bound">Xt</a><a id="12866" class="Symbol">)</a> <a id="12868" class="Symbol">(</a><a id="12869" href="Games.FiniteHistoryDependent.html#12869" class="Bound">q</a> <a id="12871" class="Symbol">:</a> <a id="12873" href="Games.TypeTrees.html#899" class="Function">Path</a> <a id="12878" href="Games.FiniteHistoryDependent.html#12848" class="Bound">Xt</a> <a id="12881" class="Symbol">→</a> <a id="12883" href="Games.FiniteHistoryDependent.html#1635" class="Bound">R</a><a id="12884" class="Symbol">)</a>
                         <a id="12911" class="Symbol">→</a> <a id="12913" href="Games.FiniteHistoryDependent.html#5800" class="Function">is-in-sgpe</a> <a id="12924" class="Symbol">(</a><a id="12925" href="Games.FiniteHistoryDependent.html#10603" class="Function">Overline</a> <a id="12934" href="Games.FiniteHistoryDependent.html#12857" class="Bound">εt</a><a id="12936" class="Symbol">)</a> <a id="12938" href="Games.FiniteHistoryDependent.html#12869" class="Bound">q</a> <a id="12940" class="Symbol">(</a><a id="12941" href="Games.FiniteHistoryDependent.html#9521" class="Function">selection-strategy</a> <a id="12960" href="Games.FiniteHistoryDependent.html#12857" class="Bound">εt</a> <a id="12963" href="Games.FiniteHistoryDependent.html#12869" class="Bound">q</a><a id="12964" class="Symbol">)</a>
<a id="12966" href="Games.FiniteHistoryDependent.html#12785" class="Function">selection-strategy-lemma</a> <a id="12991" href="Games.FiniteHistoryDependent.html#12991" class="Bound">fe</a> <a id="12994" class="Symbol">{</a><a id="12995" href="Games.TypeTrees.html#730" class="InductiveConstructor">[]</a><a id="12997" class="Symbol">}</a>     <a id="13003" href="Games.TypeTrees.html#1267" class="InductiveConstructor">⟨⟩</a>           <a id="13016" href="Games.FiniteHistoryDependent.html#13016" class="Bound">q</a> <a id="13018" class="Symbol">=</a> <a id="13020" href="Games.TypeTrees.html#1267" class="InductiveConstructor">⟨⟩</a>
<a id="13023" href="Games.FiniteHistoryDependent.html#12785" class="Function">selection-strategy-lemma</a> <a id="13048" href="Games.FiniteHistoryDependent.html#13048" class="Bound">fe</a> <a id="13051" class="Symbol">{</a><a id="13052" href="Games.FiniteHistoryDependent.html#13052" class="Bound">X</a> <a id="13054" href="Games.TypeTrees.html#740" class="InductiveConstructor Operator">∷</a> <a id="13056" href="Games.FiniteHistoryDependent.html#13056" class="Bound">Xf</a><a id="13058" class="Symbol">}</a> <a id="13060" href="Games.FiniteHistoryDependent.html#13060" class="Bound">εt</a><a id="13062" class="Symbol">@(</a><a id="13064" href="Games.FiniteHistoryDependent.html#13064" class="Bound">ε</a> <a id="13066" href="Games.TypeTrees.html#1289" class="InductiveConstructor Operator">::</a> <a id="13069" href="Games.FiniteHistoryDependent.html#13069" class="Bound">εf</a><a id="13071" class="Symbol">)</a> <a id="13073" href="Games.FiniteHistoryDependent.html#13073" class="Bound">q</a> <a id="13075" class="Symbol">=</a> <a id="13077" href="Games.FiniteHistoryDependent.html#13985" class="Function">γ</a>
 <a id="13080" class="Keyword">where</a>
  <a id="13088" href="Games.FiniteHistoryDependent.html#13088" class="Function">σf</a> <a id="13091" class="Symbol">:</a> <a id="13093" class="Symbol">(</a><a id="13094" href="Games.FiniteHistoryDependent.html#13094" class="Bound">x</a> <a id="13096" class="Symbol">:</a> <a id="13098" href="Games.FiniteHistoryDependent.html#13052" class="Bound">X</a><a id="13099" class="Symbol">)</a> <a id="13101" class="Symbol">→</a> <a id="13103" href="Games.FiniteHistoryDependent.html#3654" class="Function">Strategy</a> <a id="13112" class="Symbol">(</a><a id="13113" href="Games.FiniteHistoryDependent.html#13056" class="Bound">Xf</a> <a id="13116" href="Games.FiniteHistoryDependent.html#13094" class="Bound">x</a><a id="13117" class="Symbol">)</a>
  <a id="13121" href="Games.FiniteHistoryDependent.html#13088" class="Function">σf</a> <a id="13124" href="Games.FiniteHistoryDependent.html#13124" class="Bound">x</a> <a id="13126" class="Symbol">=</a> <a id="13128" href="Games.FiniteHistoryDependent.html#9521" class="Function">selection-strategy</a> <a id="13147" class="Symbol">(</a><a id="13148" href="Games.FiniteHistoryDependent.html#13069" class="Bound">εf</a> <a id="13151" href="Games.FiniteHistoryDependent.html#13124" class="Bound">x</a><a id="13152" class="Symbol">)</a> <a id="13154" class="Symbol">(</a><a id="13155" href="Games.TypeTrees.html#1615" class="Function">subpred</a> <a id="13163" href="Games.FiniteHistoryDependent.html#13073" class="Bound">q</a> <a id="13165" href="Games.FiniteHistoryDependent.html#13124" class="Bound">x</a><a id="13166" class="Symbol">)</a>

  <a id="13171" href="Games.FiniteHistoryDependent.html#13171" class="Function">x₀</a> <a id="13174" href="Games.FiniteHistoryDependent.html#13174" class="Function">x₁</a> <a id="13177" class="Symbol">:</a> <a id="13179" href="Games.FiniteHistoryDependent.html#13052" class="Bound">X</a>
  <a id="13183" href="Games.FiniteHistoryDependent.html#13171" class="Function">x₀</a> <a id="13186" class="Symbol">=</a> <a id="13188" href="Games.FiniteHistoryDependent.html#13064" class="Bound">ε</a> <a id="13190" class="Symbol">(λ</a> <a id="13193" href="Games.FiniteHistoryDependent.html#13193" class="Bound">x</a> <a id="13195" class="Symbol">→</a> <a id="13197" href="Games.TypeTrees.html#1615" class="Function">subpred</a> <a id="13205" href="Games.FiniteHistoryDependent.html#13073" class="Bound">q</a> <a id="13207" href="Games.FiniteHistoryDependent.html#13193" class="Bound">x</a> <a id="13209" class="Symbol">(</a><a id="13210" href="Games.FiniteHistoryDependent.html#9222" class="Function">sequenceᴶ</a> <a id="13220" class="Symbol">(</a><a id="13221" href="Games.FiniteHistoryDependent.html#13069" class="Bound">εf</a> <a id="13224" href="Games.FiniteHistoryDependent.html#13193" class="Bound">x</a><a id="13225" class="Symbol">)</a> <a id="13227" class="Symbol">(</a><a id="13228" href="Games.TypeTrees.html#1615" class="Function">subpred</a> <a id="13236" href="Games.FiniteHistoryDependent.html#13073" class="Bound">q</a> <a id="13238" href="Games.FiniteHistoryDependent.html#13193" class="Bound">x</a><a id="13239" class="Symbol">)))</a>
  <a id="13245" href="Games.FiniteHistoryDependent.html#13174" class="Function">x₁</a> <a id="13248" class="Symbol">=</a> <a id="13250" href="Games.FiniteHistoryDependent.html#13064" class="Bound">ε</a> <a id="13252" class="Symbol">(λ</a> <a id="13255" href="Games.FiniteHistoryDependent.html#13255" class="Bound">x</a> <a id="13257" class="Symbol">→</a> <a id="13259" href="Games.TypeTrees.html#1615" class="Function">subpred</a> <a id="13267" href="Games.FiniteHistoryDependent.html#13073" class="Bound">q</a> <a id="13269" href="Games.FiniteHistoryDependent.html#13255" class="Bound">x</a> <a id="13271" class="Symbol">(</a><a id="13272" href="Games.FiniteHistoryDependent.html#4167" class="Function">strategic-path</a> <a id="13287" class="Symbol">(</a><a id="13288" href="Games.FiniteHistoryDependent.html#13088" class="Function">σf</a> <a id="13291" href="Games.FiniteHistoryDependent.html#13255" class="Bound">x</a><a id="13292" class="Symbol">)))</a>

  <a id="13299" href="Games.FiniteHistoryDependent.html#13299" class="Function">I</a> <a id="13301" class="Symbol">:</a> <a id="13303" class="Symbol">(</a><a id="13304" href="Games.FiniteHistoryDependent.html#13304" class="Bound">x</a> <a id="13306" class="Symbol">:</a> <a id="13308" href="Games.FiniteHistoryDependent.html#13052" class="Bound">X</a><a id="13309" class="Symbol">)</a> <a id="13311" class="Symbol">→</a> <a id="13313" href="Games.FiniteHistoryDependent.html#4167" class="Function">strategic-path</a> <a id="13328" class="Symbol">(</a><a id="13329" href="Games.FiniteHistoryDependent.html#13088" class="Function">σf</a> <a id="13332" href="Games.FiniteHistoryDependent.html#13304" class="Bound">x</a><a id="13333" class="Symbol">)</a> <a id="13335" href="MLTT.Id.html#193" class="Datatype Operator">＝</a> <a id="13337" href="Games.FiniteHistoryDependent.html#9222" class="Function">sequenceᴶ</a> <a id="13347" class="Symbol">(</a><a id="13348" href="Games.FiniteHistoryDependent.html#13069" class="Bound">εf</a> <a id="13351" href="Games.FiniteHistoryDependent.html#13304" class="Bound">x</a><a id="13352" class="Symbol">)</a> <a id="13354" class="Symbol">(</a><a id="13355" href="Games.TypeTrees.html#1615" class="Function">subpred</a> <a id="13363" href="Games.FiniteHistoryDependent.html#13073" class="Bound">q</a> <a id="13365" href="Games.FiniteHistoryDependent.html#13304" class="Bound">x</a><a id="13366" class="Symbol">)</a>
  <a id="13370" href="Games.FiniteHistoryDependent.html#13299" class="Function">I</a> <a id="13372" href="Games.FiniteHistoryDependent.html#13372" class="Bound">x</a> <a id="13374" class="Symbol">=</a> <a id="13376" href="Games.FiniteHistoryDependent.html#11884" class="Function">main-lemma</a> <a id="13387" class="Symbol">(</a><a id="13388" href="Games.FiniteHistoryDependent.html#13069" class="Bound">εf</a> <a id="13391" href="Games.FiniteHistoryDependent.html#13372" class="Bound">x</a><a id="13392" class="Symbol">)</a> <a id="13394" class="Symbol">(</a><a id="13395" href="Games.TypeTrees.html#1615" class="Function">subpred</a> <a id="13403" href="Games.FiniteHistoryDependent.html#13073" class="Bound">q</a> <a id="13405" href="Games.FiniteHistoryDependent.html#13372" class="Bound">x</a><a id="13406" class="Symbol">)</a>

  <a id="13411" href="Games.FiniteHistoryDependent.html#13411" class="Function">II</a> <a id="13414" class="Symbol">:</a> <a id="13416" href="Games.FiniteHistoryDependent.html#13174" class="Function">x₁</a> <a id="13419" href="MLTT.Id.html#193" class="Datatype Operator">＝</a> <a id="13421" href="Games.FiniteHistoryDependent.html#13171" class="Function">x₀</a>
  <a id="13426" href="Games.FiniteHistoryDependent.html#13411" class="Function">II</a> <a id="13429" class="Symbol">=</a> <a id="13431" href="MLTT.Id.html#1136" class="Function">ap</a> <a id="13434" class="Symbol">(λ</a> <a id="13437" href="Games.FiniteHistoryDependent.html#13437" class="Bound">-</a> <a id="13439" class="Symbol">→</a> <a id="13441" href="Games.FiniteHistoryDependent.html#13064" class="Bound">ε</a> <a id="13443" class="Symbol">(λ</a> <a id="13446" href="Games.FiniteHistoryDependent.html#13446" class="Bound">x</a> <a id="13448" class="Symbol">→</a> <a id="13450" href="Games.TypeTrees.html#1615" class="Function">subpred</a> <a id="13458" href="Games.FiniteHistoryDependent.html#13073" class="Bound">q</a> <a id="13460" href="Games.FiniteHistoryDependent.html#13446" class="Bound">x</a> <a id="13462" class="Symbol">(</a><a id="13463" href="Games.FiniteHistoryDependent.html#13437" class="Bound">-</a> <a id="13465" href="Games.FiniteHistoryDependent.html#13446" class="Bound">x</a><a id="13466" class="Symbol">)))</a> <a id="13470" class="Symbol">(</a><a id="13471" href="UF.FunExt.html#1242" class="Function">dfunext</a> <a id="13479" href="Games.FiniteHistoryDependent.html#13048" class="Bound">fe</a> <a id="13482" href="Games.FiniteHistoryDependent.html#13299" class="Function">I</a><a id="13483" class="Symbol">)</a>

  <a id="13488" href="Games.FiniteHistoryDependent.html#13488" class="Function">III</a> <a id="13492" class="Symbol">=</a> <a id="13494" href="Games.JK.html#261" class="Function">overline</a> <a id="13503" href="Games.FiniteHistoryDependent.html#13064" class="Bound">ε</a> <a id="13505" class="Symbol">(λ</a> <a id="13508" href="Games.FiniteHistoryDependent.html#13508" class="Bound">x</a> <a id="13510" class="Symbol">→</a> <a id="13512" href="Games.TypeTrees.html#1615" class="Function">subpred</a> <a id="13520" href="Games.FiniteHistoryDependent.html#13073" class="Bound">q</a> <a id="13522" href="Games.FiniteHistoryDependent.html#13508" class="Bound">x</a> <a id="13524" class="Symbol">(</a><a id="13525" href="Games.FiniteHistoryDependent.html#4167" class="Function">strategic-path</a> <a id="13540" class="Symbol">(</a><a id="13541" href="Games.FiniteHistoryDependent.html#13088" class="Function">σf</a> <a id="13544" href="Games.FiniteHistoryDependent.html#13508" class="Bound">x</a><a id="13545" class="Symbol">)))</a> <a id="13549" href="MLTT.Id.html#2239" class="Function Operator">＝⟨</a> <a id="13552" href="MLTT.Identity-Type.html#157" class="InductiveConstructor">refl</a> <a id="13557" href="MLTT.Id.html#2239" class="Function Operator">⟩</a>
        <a id="13567" href="Games.TypeTrees.html#1615" class="Function">subpred</a> <a id="13575" href="Games.FiniteHistoryDependent.html#13073" class="Bound">q</a> <a id="13577" href="Games.FiniteHistoryDependent.html#13174" class="Function">x₁</a> <a id="13580" class="Symbol">(</a><a id="13581" href="Games.FiniteHistoryDependent.html#4167" class="Function">strategic-path</a> <a id="13596" class="Symbol">(</a><a id="13597" href="Games.FiniteHistoryDependent.html#13088" class="Function">σf</a> <a id="13600" href="Games.FiniteHistoryDependent.html#13174" class="Function">x₁</a><a id="13602" class="Symbol">))</a>                  <a id="13622" href="MLTT.Id.html#2239" class="Function Operator">＝⟨</a> <a id="13625" href="Games.FiniteHistoryDependent.html#13709" class="Function">IV</a> <a id="13628" href="MLTT.Id.html#2239" class="Function Operator">⟩</a>
        <a id="13638" href="Games.TypeTrees.html#1615" class="Function">subpred</a> <a id="13646" href="Games.FiniteHistoryDependent.html#13073" class="Bound">q</a> <a id="13648" href="Games.FiniteHistoryDependent.html#13171" class="Function">x₀</a> <a id="13651" class="Symbol">(</a><a id="13652" href="Games.FiniteHistoryDependent.html#4167" class="Function">strategic-path</a> <a id="13667" class="Symbol">(</a><a id="13668" href="Games.FiniteHistoryDependent.html#13088" class="Function">σf</a> <a id="13671" href="Games.FiniteHistoryDependent.html#13171" class="Function">x₀</a><a id="13673" class="Symbol">))</a>                  <a id="13693" href="MLTT.Id.html#2321" class="Function Operator">∎</a>

   <a id="13699" class="Keyword">where</a>
    <a id="13709" href="Games.FiniteHistoryDependent.html#13709" class="Function">IV</a> <a id="13712" class="Symbol">=</a> <a id="13714" href="MLTT.Id.html#1136" class="Function">ap</a> <a id="13717" class="Symbol">(λ</a> <a id="13720" href="Games.FiniteHistoryDependent.html#13720" class="Bound">-</a> <a id="13722" class="Symbol">→</a> <a id="13724" href="Games.TypeTrees.html#1615" class="Function">subpred</a> <a id="13732" href="Games.FiniteHistoryDependent.html#13073" class="Bound">q</a> <a id="13734" href="Games.FiniteHistoryDependent.html#13720" class="Bound">-</a> <a id="13736" class="Symbol">(</a><a id="13737" href="Games.FiniteHistoryDependent.html#4167" class="Function">strategic-path</a> <a id="13752" class="Symbol">(</a><a id="13753" href="Games.FiniteHistoryDependent.html#13088" class="Function">σf</a> <a id="13756" href="Games.FiniteHistoryDependent.html#13720" class="Bound">-</a><a id="13757" class="Symbol">)))</a> <a id="13761" href="Games.FiniteHistoryDependent.html#13411" class="Function">II</a>

  <a id="13767" href="Games.FiniteHistoryDependent.html#13767" class="Function">IH</a> <a id="13770" class="Symbol">:</a> <a id="13772" class="Symbol">(</a><a id="13773" href="Games.FiniteHistoryDependent.html#13773" class="Bound">x</a> <a id="13775" class="Symbol">:</a> <a id="13777" href="Games.FiniteHistoryDependent.html#13052" class="Bound">X</a><a id="13778" class="Symbol">)</a> <a id="13780" class="Symbol">→</a> <a id="13782" href="Games.FiniteHistoryDependent.html#5800" class="Function">is-in-sgpe</a>
                   <a id="13812" class="Symbol">(</a><a id="13813" href="Games.FiniteHistoryDependent.html#10603" class="Function">Overline</a> <a id="13822" class="Symbol">(</a><a id="13823" href="Games.FiniteHistoryDependent.html#13069" class="Bound">εf</a> <a id="13826" href="Games.FiniteHistoryDependent.html#13773" class="Bound">x</a><a id="13827" class="Symbol">))</a>
                   <a id="13849" class="Symbol">(</a><a id="13850" href="Games.TypeTrees.html#1615" class="Function">subpred</a> <a id="13858" href="Games.FiniteHistoryDependent.html#13073" class="Bound">q</a> <a id="13860" href="Games.FiniteHistoryDependent.html#13773" class="Bound">x</a><a id="13861" class="Symbol">)</a>
                   <a id="13882" class="Symbol">(</a><a id="13883" href="Games.FiniteHistoryDependent.html#9521" class="Function">selection-strategy</a> <a id="13902" class="Symbol">(</a><a id="13903" href="Games.FiniteHistoryDependent.html#13069" class="Bound">εf</a> <a id="13906" href="Games.FiniteHistoryDependent.html#13773" class="Bound">x</a><a id="13907" class="Symbol">)</a> <a id="13909" class="Symbol">(</a><a id="13910" href="Games.TypeTrees.html#1615" class="Function">subpred</a> <a id="13918" href="Games.FiniteHistoryDependent.html#13073" class="Bound">q</a> <a id="13920" href="Games.FiniteHistoryDependent.html#13773" class="Bound">x</a><a id="13921" class="Symbol">))</a>
  <a id="13926" href="Games.FiniteHistoryDependent.html#13767" class="Function">IH</a> <a id="13929" href="Games.FiniteHistoryDependent.html#13929" class="Bound">x</a> <a id="13931" class="Symbol">=</a> <a id="13933" href="Games.FiniteHistoryDependent.html#12785" class="Function">selection-strategy-lemma</a> <a id="13958" href="Games.FiniteHistoryDependent.html#13048" class="Bound">fe</a> <a id="13961" class="Symbol">(</a><a id="13962" href="Games.FiniteHistoryDependent.html#13069" class="Bound">εf</a> <a id="13965" href="Games.FiniteHistoryDependent.html#13929" class="Bound">x</a><a id="13966" class="Symbol">)</a> <a id="13968" class="Symbol">(</a><a id="13969" href="Games.TypeTrees.html#1615" class="Function">subpred</a> <a id="13977" href="Games.FiniteHistoryDependent.html#13073" class="Bound">q</a> <a id="13979" href="Games.FiniteHistoryDependent.html#13929" class="Bound">x</a><a id="13980" class="Symbol">)</a>

  <a id="13985" href="Games.FiniteHistoryDependent.html#13985" class="Function">γ</a> <a id="13987" class="Symbol">:</a> <a id="13989" href="Games.FiniteHistoryDependent.html#5800" class="Function">is-in-sgpe</a> <a id="14000" class="Symbol">(</a><a id="14001" href="Games.FiniteHistoryDependent.html#10603" class="Function">Overline</a> <a id="14010" href="Games.FiniteHistoryDependent.html#13060" class="Bound">εt</a><a id="14012" class="Symbol">)</a> <a id="14014" href="Games.FiniteHistoryDependent.html#13073" class="Bound">q</a> <a id="14016" class="Symbol">(</a><a id="14017" href="Games.FiniteHistoryDependent.html#13171" class="Function">x₀</a> <a id="14020" href="Games.TypeTrees.html#1289" class="InductiveConstructor Operator">::</a> <a id="14023" href="Games.FiniteHistoryDependent.html#13088" class="Function">σf</a><a id="14025" class="Symbol">)</a>
  <a id="14029" href="Games.FiniteHistoryDependent.html#13985" class="Function">γ</a> <a id="14031" class="Symbol">=</a> <a id="14033" class="Symbol">(</a><a id="14034" href="Games.FiniteHistoryDependent.html#13488" class="Function">III</a> <a id="14038" href="MLTT.Id.html#1055" class="Function Operator">⁻¹</a><a id="14040" class="Symbol">)</a> <a id="14042" href="Games.TypeTrees.html#1289" class="InductiveConstructor Operator">::</a> <a id="14045" href="Games.FiniteHistoryDependent.html#13767" class="Function">IH</a>

<a id="14049" class="Markup">\end{code}</a><a id="14059" class="Background">

The following, which shows how to use selection functions to compute
optimal strategies, corresponds to Theorem 6.2 of [1].

</a><a id="14186" class="Markup">\begin{code}</a>

<a id="selection-strategy-theorem"></a><a id="14200" href="Games.FiniteHistoryDependent.html#14200" class="Function">selection-strategy-theorem</a> <a id="14227" class="Symbol">:</a> <a id="14229" href="UF.FunExt.html#1047" class="Function">Fun-Ext</a>
                           <a id="14264" class="Symbol">→</a> <a id="14266" class="Symbol">{</a><a id="14267" href="Games.FiniteHistoryDependent.html#14267" class="Bound">Xt</a> <a id="14270" class="Symbol">:</a> <a id="14272" href="Games.TypeTrees.html#712" class="Datatype">𝑻</a><a id="14273" class="Symbol">}</a> <a id="14275" class="Symbol">(</a><a id="14276" href="Games.FiniteHistoryDependent.html#14276" class="Bound">εt</a> <a id="14279" class="Symbol">:</a> <a id="14281" href="Games.FiniteHistoryDependent.html#8704" class="Function">𝓙</a> <a id="14283" href="Games.FiniteHistoryDependent.html#14267" class="Bound">Xt</a><a id="14285" class="Symbol">)</a>
                             <a id="14316" class="Symbol">(</a><a id="14317" href="Games.FiniteHistoryDependent.html#14317" class="Bound">ϕt</a> <a id="14320" class="Symbol">:</a> <a id="14322" href="Games.FiniteHistoryDependent.html#2336" class="Function">𝓚</a> <a id="14324" href="Games.FiniteHistoryDependent.html#14267" class="Bound">Xt</a><a id="14326" class="Symbol">)</a> <a id="14328" class="Symbol">(</a><a id="14329" href="Games.FiniteHistoryDependent.html#14329" class="Bound">q</a> <a id="14331" class="Symbol">:</a> <a id="14333" href="Games.TypeTrees.html#899" class="Function">Path</a> <a id="14338" href="Games.FiniteHistoryDependent.html#14267" class="Bound">Xt</a> <a id="14341" class="Symbol">→</a> <a id="14343" href="Games.FiniteHistoryDependent.html#1635" class="Bound">R</a><a id="14344" class="Symbol">)</a>
                           <a id="14373" class="Symbol">→</a> <a id="14375" href="Games.FiniteHistoryDependent.html#14276" class="Bound">εt</a> <a id="14378" href="Games.FiniteHistoryDependent.html#10277" class="Function Operator">Attains</a> <a id="14386" href="Games.FiniteHistoryDependent.html#14317" class="Bound">ϕt</a>
                           <a id="14416" class="Symbol">→</a> <a id="14418" href="Games.FiniteHistoryDependent.html#5800" class="Function">is-in-sgpe</a> <a id="14429" href="Games.FiniteHistoryDependent.html#14317" class="Bound">ϕt</a> <a id="14432" href="Games.FiniteHistoryDependent.html#14329" class="Bound">q</a> <a id="14434" class="Symbol">(</a><a id="14435" href="Games.FiniteHistoryDependent.html#9521" class="Function">selection-strategy</a> <a id="14454" href="Games.FiniteHistoryDependent.html#14276" class="Bound">εt</a> <a id="14457" href="Games.FiniteHistoryDependent.html#14329" class="Bound">q</a><a id="14458" class="Symbol">)</a>
<a id="14460" href="Games.FiniteHistoryDependent.html#14200" class="Function">selection-strategy-theorem</a> <a id="14487" href="Games.FiniteHistoryDependent.html#14487" class="Bound">fe</a> <a id="14490" href="Games.FiniteHistoryDependent.html#14490" class="Bound">εt</a> <a id="14493" href="Games.FiniteHistoryDependent.html#14493" class="Bound">ϕt</a> <a id="14496" href="Games.FiniteHistoryDependent.html#14496" class="Bound">q</a> <a id="14498" href="Games.FiniteHistoryDependent.html#14498" class="Bound">a</a> <a id="14500" class="Symbol">=</a> <a id="14502" href="Games.FiniteHistoryDependent.html#14669" class="Function">III</a>
 <a id="14507" class="Keyword">where</a>
  <a id="14515" href="Games.FiniteHistoryDependent.html#14515" class="Function">I</a> <a id="14517" class="Symbol">:</a> <a id="14519" href="Games.FiniteHistoryDependent.html#10603" class="Function">Overline</a> <a id="14528" href="Games.FiniteHistoryDependent.html#14490" class="Bound">εt</a> <a id="14531" href="MLTT.Id.html#193" class="Datatype Operator">＝</a> <a id="14533" href="Games.FiniteHistoryDependent.html#14493" class="Bound">ϕt</a>
  <a id="14538" href="Games.FiniteHistoryDependent.html#14515" class="Function">I</a> <a id="14540" class="Symbol">=</a> <a id="14542" href="Games.FiniteHistoryDependent.html#10836" class="Function">observation</a> <a id="14554" href="Games.FiniteHistoryDependent.html#14487" class="Bound">fe</a> <a id="14557" href="Games.FiniteHistoryDependent.html#14490" class="Bound">εt</a> <a id="14560" href="Games.FiniteHistoryDependent.html#14493" class="Bound">ϕt</a> <a id="14563" href="Games.FiniteHistoryDependent.html#14498" class="Bound">a</a>

  <a id="14568" href="Games.FiniteHistoryDependent.html#14568" class="Function">II</a> <a id="14571" class="Symbol">:</a> <a id="14573" href="Games.FiniteHistoryDependent.html#5800" class="Function">is-in-sgpe</a> <a id="14584" class="Symbol">(</a><a id="14585" href="Games.FiniteHistoryDependent.html#10603" class="Function">Overline</a> <a id="14594" href="Games.FiniteHistoryDependent.html#14490" class="Bound">εt</a><a id="14596" class="Symbol">)</a> <a id="14598" href="Games.FiniteHistoryDependent.html#14496" class="Bound">q</a> <a id="14600" class="Symbol">(</a><a id="14601" href="Games.FiniteHistoryDependent.html#9521" class="Function">selection-strategy</a> <a id="14620" href="Games.FiniteHistoryDependent.html#14490" class="Bound">εt</a> <a id="14623" href="Games.FiniteHistoryDependent.html#14496" class="Bound">q</a><a id="14624" class="Symbol">)</a>
  <a id="14628" href="Games.FiniteHistoryDependent.html#14568" class="Function">II</a> <a id="14631" class="Symbol">=</a> <a id="14633" href="Games.FiniteHistoryDependent.html#12785" class="Function">selection-strategy-lemma</a> <a id="14658" href="Games.FiniteHistoryDependent.html#14487" class="Bound">fe</a> <a id="14661" href="Games.FiniteHistoryDependent.html#14490" class="Bound">εt</a> <a id="14664" href="Games.FiniteHistoryDependent.html#14496" class="Bound">q</a>

  <a id="14669" href="Games.FiniteHistoryDependent.html#14669" class="Function">III</a> <a id="14673" class="Symbol">:</a> <a id="14675" href="Games.FiniteHistoryDependent.html#5800" class="Function">is-in-sgpe</a> <a id="14686" href="Games.FiniteHistoryDependent.html#14493" class="Bound">ϕt</a> <a id="14689" href="Games.FiniteHistoryDependent.html#14496" class="Bound">q</a> <a id="14691" class="Symbol">(</a><a id="14692" href="Games.FiniteHistoryDependent.html#9521" class="Function">selection-strategy</a> <a id="14711" href="Games.FiniteHistoryDependent.html#14490" class="Bound">εt</a> <a id="14714" href="Games.FiniteHistoryDependent.html#14496" class="Bound">q</a><a id="14715" class="Symbol">)</a>
  <a id="14719" href="Games.FiniteHistoryDependent.html#14669" class="Function">III</a> <a id="14723" class="Symbol">=</a> <a id="14725" href="MLTT.Id.html#735" class="Function">transport</a> <a id="14735" class="Symbol">(λ</a> <a id="14738" href="Games.FiniteHistoryDependent.html#14738" class="Bound">-</a> <a id="14740" class="Symbol">→</a> <a id="14742" href="Games.FiniteHistoryDependent.html#5800" class="Function">is-in-sgpe</a> <a id="14753" href="Games.FiniteHistoryDependent.html#14738" class="Bound">-</a> <a id="14755" href="Games.FiniteHistoryDependent.html#14496" class="Bound">q</a> <a id="14757" class="Symbol">(</a><a id="14758" href="Games.FiniteHistoryDependent.html#9521" class="Function">selection-strategy</a> <a id="14777" href="Games.FiniteHistoryDependent.html#14490" class="Bound">εt</a> <a id="14780" href="Games.FiniteHistoryDependent.html#14496" class="Bound">q</a><a id="14781" class="Symbol">))</a> <a id="14784" href="Games.FiniteHistoryDependent.html#14515" class="Function">I</a> <a id="14786" href="Games.FiniteHistoryDependent.html#14568" class="Function">II</a>


<a id="Selection-Strategy-Theorem"></a><a id="14791" href="Games.FiniteHistoryDependent.html#14791" class="Function">Selection-Strategy-Theorem</a> <a id="14818" class="Symbol">:</a> <a id="14820" href="UF.FunExt.html#1047" class="Function">Fun-Ext</a>
                           <a id="14855" class="Symbol">→</a> <a id="14857" class="Symbol">(</a><a id="14858" href="Games.FiniteHistoryDependent.html#14858" class="Bound">G</a> <a id="14860" class="Symbol">:</a> <a id="14862" href="Games.FiniteHistoryDependent.html#3104" class="Record">Game</a><a id="14866" class="Symbol">)</a> <a id="14868" class="Symbol">(</a><a id="14869" href="Games.FiniteHistoryDependent.html#14869" class="Bound">εt</a> <a id="14872" class="Symbol">:</a> <a id="14874" href="Games.FiniteHistoryDependent.html#8704" class="Function">𝓙</a> <a id="14876" class="Symbol">(</a><a id="14877" href="Games.FiniteHistoryDependent.html#3150" class="Field">Xt</a> <a id="14880" href="Games.FiniteHistoryDependent.html#14858" class="Bound">G</a><a id="14881" class="Symbol">))</a>
                           <a id="14911" class="Symbol">→</a> <a id="14913" href="Games.FiniteHistoryDependent.html#14869" class="Bound">εt</a> <a id="14916" href="Games.FiniteHistoryDependent.html#10277" class="Function Operator">Attains</a> <a id="14924" class="Symbol">(</a><a id="14925" href="Games.FiniteHistoryDependent.html#3178" class="Field">ϕt</a> <a id="14928" href="Games.FiniteHistoryDependent.html#14858" class="Bound">G</a><a id="14929" class="Symbol">)</a>
                           <a id="14958" class="Symbol">→</a> <a id="14960" href="Games.FiniteHistoryDependent.html#7024" class="Function">is-optimal</a> <a id="14971" href="Games.FiniteHistoryDependent.html#14858" class="Bound">G</a> <a id="14973" class="Symbol">(</a><a id="14974" href="Games.FiniteHistoryDependent.html#9521" class="Function">selection-strategy</a> <a id="14993" href="Games.FiniteHistoryDependent.html#14869" class="Bound">εt</a> <a id="14996" class="Symbol">(</a><a id="14997" href="Games.FiniteHistoryDependent.html#3159" class="Field">q</a> <a id="14999" href="Games.FiniteHistoryDependent.html#14858" class="Bound">G</a><a id="15000" class="Symbol">))</a>
<a id="15003" href="Games.FiniteHistoryDependent.html#14791" class="Function">Selection-Strategy-Theorem</a> <a id="15030" href="Games.FiniteHistoryDependent.html#15030" class="Bound">fe</a> <a id="15033" class="Symbol">(</a><a id="15034" href="Games.FiniteHistoryDependent.html#3136" class="InductiveConstructor">game</a> <a id="15039" href="Games.FiniteHistoryDependent.html#15039" class="Bound">Xt</a> <a id="15042" href="Games.FiniteHistoryDependent.html#15042" class="Bound">ϕt</a> <a id="15045" href="Games.FiniteHistoryDependent.html#15045" class="Bound">q</a><a id="15046" class="Symbol">)</a> <a id="15048" href="Games.FiniteHistoryDependent.html#15048" class="Bound">εt</a> <a id="15051" class="Symbol">=</a> <a id="15053" href="Games.FiniteHistoryDependent.html#14200" class="Function">selection-strategy-theorem</a> <a id="15080" href="Games.FiniteHistoryDependent.html#15030" class="Bound">fe</a> <a id="15083" href="Games.FiniteHistoryDependent.html#15048" class="Bound">εt</a> <a id="15086" href="Games.FiniteHistoryDependent.html#15045" class="Bound">q</a> <a id="15088" href="Games.FiniteHistoryDependent.html#15042" class="Bound">ϕt</a>

<a id="15092" class="Markup">\end{code}</a><a id="15102" class="Background">

Added 27th August 2023 after the above was submitted for publication.

</a><a id="15175" class="Markup">\begin{code}</a>

<a id="selection-strategy-corollary"></a><a id="15189" href="Games.FiniteHistoryDependent.html#15189" class="Function">selection-strategy-corollary</a> <a id="15218" class="Symbol">:</a> <a id="15220" href="UF.FunExt.html#1047" class="Function">Fun-Ext</a>
                             <a id="15257" class="Symbol">→</a> <a id="15259" class="Symbol">(</a><a id="15260" href="Games.FiniteHistoryDependent.html#15260" class="Bound">G</a> <a id="15262" class="Symbol">:</a> <a id="15264" href="Games.FiniteHistoryDependent.html#3104" class="Record">Game</a><a id="15268" class="Symbol">)</a> <a id="15270" class="Symbol">(</a><a id="15271" href="Games.FiniteHistoryDependent.html#15271" class="Bound">εt</a> <a id="15274" class="Symbol">:</a> <a id="15276" href="Games.FiniteHistoryDependent.html#8704" class="Function">𝓙</a> <a id="15278" class="Symbol">(</a><a id="15279" href="Games.FiniteHistoryDependent.html#3150" class="Field">Xt</a> <a id="15282" href="Games.FiniteHistoryDependent.html#15260" class="Bound">G</a><a id="15283" class="Symbol">))</a>
                             <a id="15315" class="Symbol">→</a> <a id="15317" href="Games.FiniteHistoryDependent.html#15271" class="Bound">εt</a> <a id="15320" href="Games.FiniteHistoryDependent.html#10277" class="Function Operator">Attains</a> <a id="15328" class="Symbol">(</a><a id="15329" href="Games.FiniteHistoryDependent.html#3178" class="Field">ϕt</a> <a id="15332" href="Games.FiniteHistoryDependent.html#15260" class="Bound">G</a><a id="15333" class="Symbol">)</a>
                             <a id="15364" class="Symbol">→</a> <a id="15366" href="Games.FiniteHistoryDependent.html#3159" class="Field">q</a> <a id="15368" href="Games.FiniteHistoryDependent.html#15260" class="Bound">G</a> <a id="15370" class="Symbol">(</a><a id="15371" href="Games.FiniteHistoryDependent.html#9222" class="Function">sequenceᴶ</a> <a id="15381" href="Games.FiniteHistoryDependent.html#15271" class="Bound">εt</a> <a id="15384" class="Symbol">(</a><a id="15385" href="Games.FiniteHistoryDependent.html#3159" class="Field">q</a> <a id="15387" href="Games.FiniteHistoryDependent.html#15260" class="Bound">G</a><a id="15388" class="Symbol">))</a> <a id="15391" href="MLTT.Id.html#193" class="Datatype Operator">＝</a> <a id="15393" href="Games.FiniteHistoryDependent.html#3460" class="Function">optimal-outcome</a> <a id="15409" href="Games.FiniteHistoryDependent.html#15260" class="Bound">G</a>
<a id="15411" href="Games.FiniteHistoryDependent.html#15189" class="Function">selection-strategy-corollary</a> <a id="15440" href="Games.FiniteHistoryDependent.html#15440" class="Bound">fe</a> <a id="15443" href="Games.FiniteHistoryDependent.html#15443" class="Bound">G</a> <a id="15445" href="Games.FiniteHistoryDependent.html#15445" class="Bound">εt</a> <a id="15448" href="Games.FiniteHistoryDependent.html#15448" class="Bound">a</a> <a id="15450" class="Symbol">=</a>
 <a id="15453" href="Games.FiniteHistoryDependent.html#3159" class="Field">q</a> <a id="15455" href="Games.FiniteHistoryDependent.html#15443" class="Bound">G</a> <a id="15457" class="Symbol">(</a><a id="15458" href="Games.FiniteHistoryDependent.html#9222" class="Function">sequenceᴶ</a> <a id="15468" href="Games.FiniteHistoryDependent.html#15445" class="Bound">εt</a> <a id="15471" class="Symbol">(</a><a id="15472" href="Games.FiniteHistoryDependent.html#3159" class="Field">q</a> <a id="15474" href="Games.FiniteHistoryDependent.html#15443" class="Bound">G</a><a id="15475" class="Symbol">))</a>                           <a id="15504" href="MLTT.Id.html#2239" class="Function Operator">＝⟨</a> <a id="15507" href="Games.FiniteHistoryDependent.html#15636" class="Function">I</a> <a id="15509" href="MLTT.Id.html#2239" class="Function Operator">⟩</a>
 <a id="15512" href="Games.FiniteHistoryDependent.html#3159" class="Field">q</a> <a id="15514" href="Games.FiniteHistoryDependent.html#15443" class="Bound">G</a> <a id="15516" class="Symbol">(</a><a id="15517" href="Games.FiniteHistoryDependent.html#4167" class="Function">strategic-path</a> <a id="15532" class="Symbol">(</a><a id="15533" href="Games.FiniteHistoryDependent.html#9521" class="Function">selection-strategy</a> <a id="15552" href="Games.FiniteHistoryDependent.html#15445" class="Bound">εt</a> <a id="15555" class="Symbol">(</a><a id="15556" href="Games.FiniteHistoryDependent.html#3159" class="Field">q</a> <a id="15558" href="Games.FiniteHistoryDependent.html#15443" class="Bound">G</a><a id="15559" class="Symbol">)))</a> <a id="15563" href="MLTT.Id.html#2239" class="Function Operator">＝⟨</a> <a id="15566" href="Games.FiniteHistoryDependent.html#15679" class="Function">II</a> <a id="15569" href="MLTT.Id.html#2239" class="Function Operator">⟩</a>
 <a id="15572" href="Games.FiniteHistoryDependent.html#3460" class="Function">optimal-outcome</a> <a id="15588" href="Games.FiniteHistoryDependent.html#15443" class="Bound">G</a>                                  <a id="15623" href="MLTT.Id.html#2321" class="Function Operator">∎</a>
  <a id="15627" class="Keyword">where</a>
   <a id="15636" href="Games.FiniteHistoryDependent.html#15636" class="Function">I</a>  <a id="15639" class="Symbol">=</a> <a id="15641" href="MLTT.Id.html#1136" class="Function">ap</a> <a id="15644" class="Symbol">(</a><a id="15645" href="Games.FiniteHistoryDependent.html#3159" class="Field">q</a> <a id="15647" href="Games.FiniteHistoryDependent.html#15443" class="Bound">G</a><a id="15648" class="Symbol">)</a> <a id="15650" class="Symbol">((</a><a id="15652" href="Games.FiniteHistoryDependent.html#11884" class="Function">main-lemma</a> <a id="15663" href="Games.FiniteHistoryDependent.html#15445" class="Bound">εt</a> <a id="15666" class="Symbol">(</a><a id="15667" href="Games.FiniteHistoryDependent.html#3159" class="Field">q</a> <a id="15669" href="Games.FiniteHistoryDependent.html#15443" class="Bound">G</a><a id="15670" class="Symbol">))</a><a id="15672" href="MLTT.Id.html#1055" class="Function Operator">⁻¹</a><a id="15674" class="Symbol">)</a>
   <a id="15679" href="Games.FiniteHistoryDependent.html#15679" class="Function">II</a> <a id="15682" class="Symbol">=</a> <a id="15684" href="Games.FiniteHistoryDependent.html#7376" class="Function">sgpe-lemma</a> <a id="15695" href="Games.FiniteHistoryDependent.html#15440" class="Bound">fe</a> <a id="15698" class="Symbol">(</a><a id="15699" href="Games.FiniteHistoryDependent.html#3150" class="Field">Xt</a> <a id="15702" href="Games.FiniteHistoryDependent.html#15443" class="Bound">G</a><a id="15703" class="Symbol">)</a> <a id="15705" class="Symbol">(</a><a id="15706" href="Games.FiniteHistoryDependent.html#3178" class="Field">ϕt</a> <a id="15709" href="Games.FiniteHistoryDependent.html#15443" class="Bound">G</a><a id="15710" class="Symbol">)</a> <a id="15712" class="Symbol">(</a><a id="15713" href="Games.FiniteHistoryDependent.html#3159" class="Field">q</a> <a id="15715" href="Games.FiniteHistoryDependent.html#15443" class="Bound">G</a><a id="15716" class="Symbol">)</a>
         <a id="15727" class="Symbol">(</a><a id="15728" href="Games.FiniteHistoryDependent.html#9521" class="Function">selection-strategy</a> <a id="15747" href="Games.FiniteHistoryDependent.html#15445" class="Bound">εt</a> <a id="15750" class="Symbol">(</a><a id="15751" href="Games.FiniteHistoryDependent.html#3159" class="Field">q</a> <a id="15753" href="Games.FiniteHistoryDependent.html#15443" class="Bound">G</a><a id="15754" class="Symbol">))</a>
         <a id="15766" class="Symbol">(</a><a id="15767" href="Games.FiniteHistoryDependent.html#14791" class="Function">Selection-Strategy-Theorem</a> <a id="15794" href="Games.FiniteHistoryDependent.html#15440" class="Bound">fe</a> <a id="15797" href="Games.FiniteHistoryDependent.html#15443" class="Bound">G</a> <a id="15799" href="Games.FiniteHistoryDependent.html#15445" class="Bound">εt</a> <a id="15802" href="Games.FiniteHistoryDependent.html#15448" class="Bound">a</a><a id="15803" class="Symbol">)</a>

<a id="15806" class="Markup">\end{code}</a><a id="15816" class="Background">
</a></pre></body></html>