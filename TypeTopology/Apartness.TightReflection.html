<!DOCTYPE HTML>
<html><head><meta charset="utf-8"><title>Apartness.TightReflection</title><link rel="stylesheet" href="Agda.css"><script type="text/javascript" src="highlight-hover.js"></script></head><body><pre class="Agda"><a id="1" class="Background">Martin Escardo, 26 January 2018.

Moved from the file TotallySeparated 22 August 2024.

Every apartness relation has a tight reflection, in the categorical
sense of reflection, where the morphisms are strongly extensional
functions.

</a><a id="235" class="Markup">\begin{code}</a>

<a id="249" class="Symbol">{-#</a> <a id="253" class="Keyword">OPTIONS</a> <a id="261" class="Pragma">--safe</a> <a id="268" class="Pragma">--without-K</a> <a id="280" class="Symbol">#-}</a>

<a id="285" class="Keyword">open</a> <a id="290" class="Keyword">import</a> <a id="297" href="UF.PropTrunc.html" class="Module">UF.PropTrunc</a>

<a id="311" class="Keyword">module</a> <a id="318" href="Apartness.TightReflection.html" class="Module">Apartness.TightReflection</a>
        <a id="352" class="Symbol">(</a><a id="353" href="Apartness.TightReflection.html#353" class="Bound">pt</a> <a id="356" class="Symbol">:</a> <a id="358" href="UF.PropTrunc.html#486" class="Record">propositional-truncations-exist</a><a id="389" class="Symbol">)</a>
       <a id="398" class="Keyword">where</a>

<a id="405" class="Keyword">open</a> <a id="410" class="Keyword">import</a> <a id="417" href="Apartness.Definition.html" class="Module">Apartness.Definition</a>
<a id="438" class="Keyword">open</a> <a id="443" class="Keyword">import</a> <a id="450" href="Apartness.Morphisms.html" class="Module">Apartness.Morphisms</a>
<a id="470" class="Keyword">open</a> <a id="475" class="Keyword">import</a> <a id="482" href="Apartness.Negation.html" class="Module">Apartness.Negation</a> <a id="501" href="Apartness.TightReflection.html#353" class="Bound">pt</a>
<a id="504" class="Keyword">open</a> <a id="509" class="Keyword">import</a> <a id="516" href="MLTT.Spartan.html" class="Module">MLTT.Spartan</a>
<a id="529" class="Keyword">open</a> <a id="534" class="Keyword">import</a> <a id="541" href="UF.Base.html" class="Module">UF.Base</a>
<a id="549" class="Keyword">open</a> <a id="554" class="Keyword">import</a> <a id="561" href="UF.Embeddings.html" class="Module">UF.Embeddings</a>
<a id="575" class="Keyword">open</a> <a id="580" class="Keyword">import</a> <a id="587" href="UF.Equiv.html" class="Module">UF.Equiv</a>
<a id="596" class="Keyword">open</a> <a id="601" class="Keyword">import</a> <a id="608" href="UF.FunExt.html" class="Module">UF.FunExt</a>
<a id="618" class="Keyword">open</a> <a id="623" class="Keyword">import</a> <a id="630" href="UF.ImageAndSurjection.html" class="Module">UF.ImageAndSurjection</a> <a id="652" href="Apartness.TightReflection.html#353" class="Bound">pt</a>
<a id="655" class="Keyword">open</a> <a id="660" class="Keyword">import</a> <a id="667" href="UF.Powerset.html" class="Module">UF.Powerset</a> <a id="679" class="Keyword">hiding</a> <a id="686" class="Symbol">(</a><a id="687" href="UF.Powerset-MultiUniverse.html#7977" class="Function">𝕋</a><a id="688" class="Symbol">)</a>
<a id="690" class="Keyword">open</a> <a id="695" class="Keyword">import</a> <a id="702" href="UF.Sets.html" class="Module">UF.Sets</a>
<a id="710" class="Keyword">open</a> <a id="715" class="Keyword">import</a> <a id="722" href="UF.Sets-Properties.html" class="Module">UF.Sets-Properties</a>
<a id="741" class="Keyword">open</a> <a id="746" class="Keyword">import</a> <a id="753" href="UF.SubtypeClassifier.html" class="Module">UF.SubtypeClassifier</a>
<a id="774" class="Keyword">open</a> <a id="779" class="Keyword">import</a> <a id="786" href="UF.Subsingletons.html" class="Module">UF.Subsingletons</a>
<a id="803" class="Keyword">open</a> <a id="808" class="Keyword">import</a> <a id="815" href="UF.Subsingletons-FunExt.html" class="Module">UF.Subsingletons-FunExt</a>

<a id="840" class="Keyword">open</a> <a id="845" href="UF.PropTrunc.html#792" class="Module">PropositionalTruncation</a> <a id="869" href="Apartness.TightReflection.html#353" class="Bound">pt</a>
<a id="872" class="Keyword">open</a> <a id="877" href="Apartness.Definition.html#2639" class="Module">Apartness</a> <a id="887" href="Apartness.TightReflection.html#353" class="Bound">pt</a>

<a id="891" class="Keyword">module</a> <a id="tight-reflection"></a><a id="898" href="Apartness.TightReflection.html#898" class="Module">tight-reflection</a>
        <a id="923" class="Symbol">(</a><a id="924" href="Apartness.TightReflection.html#924" class="Bound">fe</a> <a id="927" class="Symbol">:</a> <a id="929" href="UF.FunExt.html#1047" class="Function">Fun-Ext</a><a id="936" class="Symbol">)</a>
        <a id="946" class="Symbol">(</a><a id="947" href="Apartness.TightReflection.html#947" class="Bound">pe</a> <a id="950" class="Symbol">:</a> <a id="952" href="UF.Subsingletons.html#7675" class="Function">propext</a> <a id="960" href="MLTT.Universes.html#3835" class="Generalizable">𝓥</a><a id="961" class="Symbol">)</a>
        <a id="971" class="Symbol">(</a><a id="972" href="Apartness.TightReflection.html#972" class="Bound">X</a> <a id="974" class="Symbol">:</a> <a id="976" href="MLTT.Universes.html#3833" class="Generalizable">𝓤</a> <a id="978" href="MLTT.Universes.html#3976" class="Function Operator">̇</a> <a id="980" class="Symbol">)</a>
        <a id="990" class="Symbol">(</a><a id="991" href="Apartness.TightReflection.html#991" class="Bound Operator">_♯_</a> <a id="995" class="Symbol">:</a> <a id="997" href="Apartness.TightReflection.html#972" class="Bound">X</a> <a id="999" class="Symbol">→</a> <a id="1001" href="Apartness.TightReflection.html#972" class="Bound">X</a> <a id="1003" class="Symbol">→</a> <a id="1005" href="MLTT.Universes.html#3835" class="Generalizable">𝓥</a> <a id="1007" href="MLTT.Universes.html#3976" class="Function Operator">̇</a> <a id="1009" class="Symbol">)</a>
        <a id="1019" class="Symbol">(</a><a id="1020" href="Apartness.TightReflection.html#1020" class="Bound">♯p</a> <a id="1023" class="Symbol">:</a> <a id="1025" href="Apartness.Definition.html#541" class="Function">is-prop-valued</a> <a id="1040" href="Apartness.TightReflection.html#991" class="Bound Operator">_♯_</a><a id="1043" class="Symbol">)</a>
        <a id="1053" class="Symbol">(</a><a id="1054" href="Apartness.TightReflection.html#1054" class="Bound">♯i</a> <a id="1057" class="Symbol">:</a> <a id="1059" href="Apartness.Definition.html#557" class="Function">is-irreflexive</a> <a id="1074" href="Apartness.TightReflection.html#991" class="Bound Operator">_♯_</a><a id="1077" class="Symbol">)</a>
        <a id="1087" class="Symbol">(</a><a id="1088" href="Apartness.TightReflection.html#1088" class="Bound">♯s</a> <a id="1091" class="Symbol">:</a> <a id="1093" href="Apartness.Definition.html#573" class="Function">is-symmetric</a> <a id="1106" href="Apartness.TightReflection.html#991" class="Bound Operator">_♯_</a><a id="1109" class="Symbol">)</a>
        <a id="1119" class="Symbol">(</a><a id="1120" href="Apartness.TightReflection.html#1120" class="Bound">♯c</a> <a id="1123" class="Symbol">:</a> <a id="1125" href="Apartness.Definition.html#2730" class="Function">is-cotransitive</a> <a id="1141" href="Apartness.TightReflection.html#991" class="Bound Operator">_♯_</a><a id="1144" class="Symbol">)</a>
      <a id="1152" class="Keyword">where</a>

<a id="1159" class="Markup">\end{code}</a><a id="1169" class="Background">

We now name the standard equivalence relation induced by _♯_.

</a><a id="1234" class="Markup">\begin{code}</a>

 <a id="tight-reflection._~_"></a><a id="1249" href="Apartness.TightReflection.html#1249" class="Function Operator">_~_</a> <a id="1253" class="Symbol">:</a> <a id="1255" href="Apartness.TightReflection.html#972" class="Bound">X</a> <a id="1257" class="Symbol">→</a> <a id="1259" href="Apartness.TightReflection.html#972" class="Bound">X</a> <a id="1261" class="Symbol">→</a> <a id="1263" href="Apartness.TightReflection.html#960" class="Bound">𝓥</a> <a id="1265" href="MLTT.Universes.html#3976" class="Function Operator">̇</a>
 <a id="1268" href="Apartness.TightReflection.html#1268" class="Bound">x</a> <a id="1270" href="Apartness.TightReflection.html#1249" class="Function Operator">~</a> <a id="1272" href="Apartness.TightReflection.html#1272" class="Bound">y</a> <a id="1274" class="Symbol">=</a> <a id="1276" href="MLTT.Negation.html#278" class="Function Operator">¬</a> <a id="1278" class="Symbol">(</a><a id="1279" href="Apartness.TightReflection.html#1268" class="Bound">x</a> <a id="1281" href="Apartness.TightReflection.html#991" class="Bound Operator">♯</a> <a id="1283" href="Apartness.TightReflection.html#1272" class="Bound">y</a><a id="1284" class="Symbol">)</a>

<a id="1287" class="Markup">\end{code}</a><a id="1297" class="Background">

 For certain purposes we need the apartness axioms packed into a
 single axiom.

</a><a id="1380" class="Markup">\begin{code}</a>

 <a id="tight-reflection.♯a"></a><a id="1395" href="Apartness.TightReflection.html#1395" class="Function">♯a</a> <a id="1398" class="Symbol">:</a> <a id="1400" href="Apartness.Definition.html#2746" class="Function">is-apartness</a> <a id="1413" href="Apartness.TightReflection.html#991" class="Bound Operator">_♯_</a>
 <a id="1418" href="Apartness.TightReflection.html#1395" class="Function">♯a</a> <a id="1421" class="Symbol">=</a> <a id="1423" class="Symbol">(</a><a id="1424" href="Apartness.TightReflection.html#1020" class="Bound">♯p</a> <a id="1427" href="MLTT.Sigma.html#395" class="InductiveConstructor Operator">,</a> <a id="1429" href="Apartness.TightReflection.html#1054" class="Bound">♯i</a> <a id="1432" href="MLTT.Sigma.html#395" class="InductiveConstructor Operator">,</a> <a id="1434" href="Apartness.TightReflection.html#1088" class="Bound">♯s</a> <a id="1437" href="MLTT.Sigma.html#395" class="InductiveConstructor Operator">,</a> <a id="1439" href="Apartness.TightReflection.html#1120" class="Bound">♯c</a><a id="1441" class="Symbol">)</a>

<a id="1444" class="Markup">\end{code}</a><a id="1454" class="Background">

Initially we tried to work with the function apart : X → (X → 𝓥 ̇ )
defined by apart = _♯_. However, at some point in the development
below it was difficult to proceed, when we need that the identity
type apart x = apart y is a proposition. This should be the case
because _♯_ is is-prop-valued. The most convenient way to achieve this
is to restrict the codomain of apart from 𝓥 to Ω, so that the
codomain of apart is a set.

</a><a id="1883" class="Markup">\begin{code}</a>

 <a id="tight-reflection.α"></a><a id="1898" href="Apartness.TightReflection.html#1898" class="Function">α</a> <a id="1900" class="Symbol">:</a> <a id="1902" href="Apartness.TightReflection.html#972" class="Bound">X</a> <a id="1904" class="Symbol">→</a> <a id="1906" class="Symbol">(</a><a id="1907" href="Apartness.TightReflection.html#972" class="Bound">X</a> <a id="1909" class="Symbol">→</a> <a id="1911" href="UF.SubtypeClassifier.html#422" class="Function">Ω</a> <a id="1913" href="Apartness.TightReflection.html#960" class="Bound">𝓥</a><a id="1914" class="Symbol">)</a>
 <a id="1917" href="Apartness.TightReflection.html#1898" class="Function">α</a> <a id="1919" href="Apartness.TightReflection.html#1919" class="Bound">x</a> <a id="1921" href="Apartness.TightReflection.html#1921" class="Bound">y</a> <a id="1923" class="Symbol">=</a> <a id="1925" href="Apartness.TightReflection.html#1919" class="Bound">x</a> <a id="1927" href="Apartness.TightReflection.html#991" class="Bound Operator">♯</a> <a id="1929" href="Apartness.TightReflection.html#1921" class="Bound">y</a> <a id="1931" href="MLTT.Sigma.html#395" class="InductiveConstructor Operator">,</a> <a id="1933" href="Apartness.TightReflection.html#1020" class="Bound">♯p</a> <a id="1936" href="Apartness.TightReflection.html#1919" class="Bound">x</a> <a id="1938" href="Apartness.TightReflection.html#1921" class="Bound">y</a>

<a id="1941" class="Markup">\end{code}</a><a id="1951" class="Background">

The following is an immediate consequence of the fact that two
equivalent elements have the same apartness class, using functional
and propositional extensionality.

</a><a id="2119" class="Markup">\begin{code}</a>

 <a id="tight-reflection.α-lemma"></a><a id="2134" href="Apartness.TightReflection.html#2134" class="Function">α-lemma</a> <a id="2142" class="Symbol">:</a> <a id="2144" class="Symbol">(</a><a id="2145" href="Apartness.TightReflection.html#2145" class="Bound">x</a> <a id="2147" href="Apartness.TightReflection.html#2147" class="Bound">y</a> <a id="2149" class="Symbol">:</a> <a id="2151" href="Apartness.TightReflection.html#972" class="Bound">X</a><a id="2152" class="Symbol">)</a> <a id="2154" class="Symbol">→</a> <a id="2156" href="Apartness.TightReflection.html#2145" class="Bound">x</a> <a id="2158" href="Apartness.TightReflection.html#1249" class="Function Operator">~</a> <a id="2160" href="Apartness.TightReflection.html#2147" class="Bound">y</a> <a id="2162" class="Symbol">→</a> <a id="2164" href="Apartness.TightReflection.html#1898" class="Function">α</a> <a id="2166" href="Apartness.TightReflection.html#2145" class="Bound">x</a> <a id="2168" href="MLTT.Id.html#193" class="Datatype Operator">＝</a> <a id="2170" href="Apartness.TightReflection.html#1898" class="Function">α</a> <a id="2172" href="Apartness.TightReflection.html#2147" class="Bound">y</a>
 <a id="2175" href="Apartness.TightReflection.html#2134" class="Function">α-lemma</a> <a id="2183" href="Apartness.TightReflection.html#2183" class="Bound">x</a> <a id="2185" href="Apartness.TightReflection.html#2185" class="Bound">y</a> <a id="2187" href="Apartness.TightReflection.html#2187" class="Bound">na</a> <a id="2190" class="Symbol">=</a> <a id="2192" href="UF.FunExt.html#1242" class="Function">dfunext</a> <a id="2200" href="Apartness.TightReflection.html#924" class="Bound">fe</a> <a id="2203" href="Apartness.TightReflection.html#2413" class="Function">h</a>
  <a id="2207" class="Keyword">where</a>
   <a id="2216" href="Apartness.TightReflection.html#2216" class="Function">f</a> <a id="2218" class="Symbol">:</a> <a id="2220" class="Symbol">(</a><a id="2221" href="Apartness.TightReflection.html#2221" class="Bound">z</a> <a id="2223" class="Symbol">:</a> <a id="2225" href="Apartness.TightReflection.html#972" class="Bound">X</a><a id="2226" class="Symbol">)</a> <a id="2228" class="Symbol">→</a> <a id="2230" href="Apartness.TightReflection.html#2183" class="Bound">x</a> <a id="2232" href="Apartness.TightReflection.html#991" class="Bound Operator">♯</a> <a id="2234" href="Apartness.TightReflection.html#2221" class="Bound">z</a> <a id="2236" href="Notation.General.html#2586" class="Function Operator">↔</a> <a id="2238" href="Apartness.TightReflection.html#2185" class="Bound">y</a> <a id="2240" href="Apartness.TightReflection.html#991" class="Bound Operator">♯</a> <a id="2242" href="Apartness.TightReflection.html#2221" class="Bound">z</a>
   <a id="2247" href="Apartness.TightReflection.html#2216" class="Function">f</a> <a id="2249" class="Symbol">=</a> <a id="2251" href="Apartness.Negation.html#1006" class="Function">elements-that-are-not-apart-have-the-same-apartness-class</a> <a id="2309" href="Apartness.TightReflection.html#2183" class="Bound">x</a> <a id="2311" href="Apartness.TightReflection.html#2185" class="Bound">y</a> <a id="2313" href="Apartness.TightReflection.html#991" class="Bound Operator">_♯_</a> <a id="2317" href="Apartness.TightReflection.html#1395" class="Function">♯a</a> <a id="2320" href="Apartness.TightReflection.html#2187" class="Bound">na</a>

   <a id="2327" href="Apartness.TightReflection.html#2327" class="Function">g</a> <a id="2329" class="Symbol">:</a> <a id="2331" class="Symbol">(</a><a id="2332" href="Apartness.TightReflection.html#2332" class="Bound">z</a> <a id="2334" class="Symbol">:</a> <a id="2336" href="Apartness.TightReflection.html#972" class="Bound">X</a><a id="2337" class="Symbol">)</a> <a id="2339" class="Symbol">→</a> <a id="2341" href="Apartness.TightReflection.html#2183" class="Bound">x</a> <a id="2343" href="Apartness.TightReflection.html#991" class="Bound Operator">♯</a> <a id="2345" href="Apartness.TightReflection.html#2332" class="Bound">z</a> <a id="2347" href="MLTT.Id.html#193" class="Datatype Operator">＝</a> <a id="2349" href="Apartness.TightReflection.html#2185" class="Bound">y</a> <a id="2351" href="Apartness.TightReflection.html#991" class="Bound Operator">♯</a> <a id="2353" href="Apartness.TightReflection.html#2332" class="Bound">z</a>
   <a id="2358" href="Apartness.TightReflection.html#2327" class="Function">g</a> <a id="2360" href="Apartness.TightReflection.html#2360" class="Bound">z</a> <a id="2362" class="Symbol">=</a> <a id="2364" href="Apartness.TightReflection.html#947" class="Bound">pe</a> <a id="2367" class="Symbol">(</a><a id="2368" href="Apartness.TightReflection.html#1020" class="Bound">♯p</a> <a id="2371" href="Apartness.TightReflection.html#2183" class="Bound">x</a> <a id="2373" href="Apartness.TightReflection.html#2360" class="Bound">z</a><a id="2374" class="Symbol">)</a> <a id="2376" class="Symbol">(</a><a id="2377" href="Apartness.TightReflection.html#1020" class="Bound">♯p</a> <a id="2380" href="Apartness.TightReflection.html#2185" class="Bound">y</a> <a id="2382" href="Apartness.TightReflection.html#2360" class="Bound">z</a><a id="2383" class="Symbol">)</a> <a id="2385" class="Symbol">(</a><a id="2386" href="MLTT.Sigma-Type.html#198" class="Field">pr₁</a> <a id="2390" class="Symbol">(</a><a id="2391" href="Apartness.TightReflection.html#2216" class="Function">f</a> <a id="2393" href="Apartness.TightReflection.html#2360" class="Bound">z</a><a id="2394" class="Symbol">))</a> <a id="2397" class="Symbol">(</a><a id="2398" href="MLTT.Sigma-Type.html#209" class="Field">pr₂</a> <a id="2402" class="Symbol">(</a><a id="2403" href="Apartness.TightReflection.html#2216" class="Function">f</a> <a id="2405" href="Apartness.TightReflection.html#2360" class="Bound">z</a><a id="2406" class="Symbol">))</a>

   <a id="2413" href="Apartness.TightReflection.html#2413" class="Function">h</a> <a id="2415" class="Symbol">:</a> <a id="2417" class="Symbol">(</a><a id="2418" href="Apartness.TightReflection.html#2418" class="Bound">z</a> <a id="2420" class="Symbol">:</a> <a id="2422" href="Apartness.TightReflection.html#972" class="Bound">X</a><a id="2423" class="Symbol">)</a> <a id="2425" class="Symbol">→</a> <a id="2427" href="Apartness.TightReflection.html#1898" class="Function">α</a> <a id="2429" href="Apartness.TightReflection.html#2183" class="Bound">x</a> <a id="2431" href="Apartness.TightReflection.html#2418" class="Bound">z</a> <a id="2433" href="MLTT.Id.html#193" class="Datatype Operator">＝</a> <a id="2435" href="Apartness.TightReflection.html#1898" class="Function">α</a> <a id="2437" href="Apartness.TightReflection.html#2185" class="Bound">y</a> <a id="2439" href="Apartness.TightReflection.html#2418" class="Bound">z</a>
   <a id="2444" href="Apartness.TightReflection.html#2413" class="Function">h</a> <a id="2446" href="Apartness.TightReflection.html#2446" class="Bound">z</a> <a id="2448" class="Symbol">=</a> <a id="2450" href="UF.Subsingletons.html#4965" class="Function">to-subtype-＝</a> <a id="2463" class="Symbol">(λ</a> <a id="2466" href="Apartness.TightReflection.html#2466" class="Bound">_</a> <a id="2468" class="Symbol">→</a> <a id="2470" href="UF.Subsingletons-FunExt.html#1368" class="Function">being-prop-is-prop</a> <a id="2489" href="Apartness.TightReflection.html#924" class="Bound">fe</a><a id="2491" class="Symbol">)</a> <a id="2493" class="Symbol">(</a><a id="2494" href="Apartness.TightReflection.html#2327" class="Function">g</a> <a id="2496" href="Apartness.TightReflection.html#2446" class="Bound">z</a><a id="2497" class="Symbol">)</a>

<a id="2500" class="Markup">\end{code}</a><a id="2510" class="Background">

We now construct the tight reflection of (X,♯) to get (X&#39;,♯&#39;)
together with a universal strongly extensional map from X into tight
apartness types. We take X&#39; to be the image of the map α.

</a><a id="2702" class="Markup">\begin{code}</a>

 <a id="tight-reflection.X&#39;"></a><a id="2717" href="Apartness.TightReflection.html#2717" class="Function">X&#39;</a> <a id="2720" class="Symbol">:</a> <a id="2722" href="Apartness.TightReflection.html#976" class="Bound">𝓤</a> <a id="2724" href="Agda.Primitive.html#961" class="Primitive Operator">⊔</a> <a id="2726" href="Apartness.TightReflection.html#960" class="Bound">𝓥</a> <a id="2728" href="Agda.Primitive.html#931" class="Primitive Operator">⁺</a> <a id="2730" href="MLTT.Universes.html#3976" class="Function Operator">̇</a>
 <a id="2733" href="Apartness.TightReflection.html#2717" class="Function">X&#39;</a> <a id="2736" class="Symbol">=</a> <a id="2738" href="UF.ImageAndSurjection.html#939" class="Function">image</a> <a id="2744" href="Apartness.TightReflection.html#1898" class="Function">α</a>

<a id="2747" class="Markup">\end{code}</a><a id="2757" class="Background">

The type X may or may not be a set, but its tight reflection is
necessarily a set, and we can see this before we define a tight
apartness on it.

</a><a id="2905" class="Markup">\begin{code}</a>

 <a id="tight-reflection.X&#39;-is-set"></a><a id="2920" href="Apartness.TightReflection.html#2920" class="Function">X&#39;-is-set</a> <a id="2930" class="Symbol">:</a> <a id="2932" href="UF.Sets.html#709" class="Function">is-set</a> <a id="2939" href="Apartness.TightReflection.html#2717" class="Function">X&#39;</a>
 <a id="2943" href="Apartness.TightReflection.html#2920" class="Function">X&#39;-is-set</a> <a id="2953" class="Symbol">=</a> <a id="2955" href="UF.Sets-Properties.html#988" class="Function">subsets-of-sets-are-sets</a> <a id="2980" class="Symbol">(</a><a id="2981" href="Apartness.TightReflection.html#972" class="Bound">X</a> <a id="2983" class="Symbol">→</a> <a id="2985" href="UF.SubtypeClassifier.html#422" class="Function">Ω</a> <a id="2987" href="Apartness.TightReflection.html#960" class="Bound">𝓥</a><a id="2988" class="Symbol">)</a> <a id="2990" class="Symbol">_</a>
              <a id="3006" class="Symbol">(</a><a id="3007" href="UF.Powerset-MultiUniverse.html#1288" class="Function">powersets-are-sets&#39;&#39;</a> <a id="3028" href="Apartness.TightReflection.html#924" class="Bound">fe</a> <a id="3031" href="Apartness.TightReflection.html#924" class="Bound">fe</a> <a id="3034" href="Apartness.TightReflection.html#947" class="Bound">pe</a><a id="3036" class="Symbol">)</a> <a id="3038" href="UF.PropTrunc.html#573" class="Field">∥∥-is-prop</a>

 <a id="tight-reflection.η"></a><a id="3051" href="Apartness.TightReflection.html#3051" class="Function">η</a> <a id="3053" class="Symbol">:</a> <a id="3055" href="Apartness.TightReflection.html#972" class="Bound">X</a> <a id="3057" class="Symbol">→</a> <a id="3059" href="Apartness.TightReflection.html#2717" class="Function">X&#39;</a>
 <a id="3063" href="Apartness.TightReflection.html#3051" class="Function">η</a> <a id="3065" class="Symbol">=</a> <a id="3067" href="UF.ImageAndSurjection.html#1131" class="Function">corestriction</a> <a id="3081" href="Apartness.TightReflection.html#1898" class="Function">α</a>

<a id="3084" class="Markup">\end{code}</a><a id="3094" class="Background">

The following induction principle is our main tool. Its uses look
convoluted at times by the need to show that the property one is
doing induction over is proposition valued. Typically this involves
the use of the fact the propositions form an exponential ideal, and,
 more generally, are closed under products.

</a><a id="3409" class="Markup">\begin{code}</a>

 <a id="tight-reflection.η-is-surjection"></a><a id="3424" href="Apartness.TightReflection.html#3424" class="Function">η-is-surjection</a> <a id="3440" class="Symbol">:</a> <a id="3442" href="UF.ImageAndSurjection.html#1587" class="Function">is-surjection</a> <a id="3456" href="Apartness.TightReflection.html#3051" class="Function">η</a>
 <a id="3459" href="Apartness.TightReflection.html#3424" class="Function">η-is-surjection</a> <a id="3475" class="Symbol">=</a> <a id="3477" href="UF.ImageAndSurjection.html#1921" class="Function">corestrictions-are-surjections</a> <a id="3508" href="Apartness.TightReflection.html#1898" class="Function">α</a>

 <a id="tight-reflection.η-induction"></a><a id="3512" href="Apartness.TightReflection.html#3512" class="Function">η-induction</a> <a id="3524" class="Symbol">:</a> <a id="3526" class="Symbol">(</a><a id="3527" href="Apartness.TightReflection.html#3527" class="Bound">P</a> <a id="3529" class="Symbol">:</a> <a id="3531" href="Apartness.TightReflection.html#2717" class="Function">X&#39;</a> <a id="3534" class="Symbol">→</a> <a id="3536" href="MLTT.Universes.html#3837" class="Generalizable">𝓦</a> <a id="3538" href="MLTT.Universes.html#3976" class="Function Operator">̇</a> <a id="3540" class="Symbol">)</a>
             <a id="3555" class="Symbol">→</a> <a id="3557" class="Symbol">((</a><a id="3559" href="Apartness.TightReflection.html#3559" class="Bound">x&#39;</a> <a id="3562" class="Symbol">:</a> <a id="3564" href="Apartness.TightReflection.html#2717" class="Function">X&#39;</a><a id="3566" class="Symbol">)</a> <a id="3568" class="Symbol">→</a> <a id="3570" href="UF.Subsingletons.html#469" class="Function">is-prop</a> <a id="3578" class="Symbol">(</a><a id="3579" href="Apartness.TightReflection.html#3527" class="Bound">P</a> <a id="3581" href="Apartness.TightReflection.html#3559" class="Bound">x&#39;</a><a id="3583" class="Symbol">))</a>
             <a id="3599" class="Symbol">→</a> <a id="3601" class="Symbol">((</a><a id="3603" href="Apartness.TightReflection.html#3603" class="Bound">x</a> <a id="3605" class="Symbol">:</a> <a id="3607" href="Apartness.TightReflection.html#972" class="Bound">X</a><a id="3608" class="Symbol">)</a> <a id="3610" class="Symbol">→</a> <a id="3612" href="Apartness.TightReflection.html#3527" class="Bound">P</a> <a id="3614" class="Symbol">(</a><a id="3615" href="Apartness.TightReflection.html#3051" class="Function">η</a> <a id="3617" href="Apartness.TightReflection.html#3603" class="Bound">x</a><a id="3618" class="Symbol">))</a>
             <a id="3634" class="Symbol">→</a> <a id="3636" class="Symbol">(</a><a id="3637" href="Apartness.TightReflection.html#3637" class="Bound">x&#39;</a> <a id="3640" class="Symbol">:</a> <a id="3642" href="Apartness.TightReflection.html#2717" class="Function">X&#39;</a><a id="3644" class="Symbol">)</a> <a id="3646" class="Symbol">→</a> <a id="3648" href="Apartness.TightReflection.html#3527" class="Bound">P</a> <a id="3650" href="Apartness.TightReflection.html#3637" class="Bound">x&#39;</a>
 <a id="3654" href="Apartness.TightReflection.html#3512" class="Function">η-induction</a> <a id="3666" class="Symbol">=</a> <a id="3668" href="UF.ImageAndSurjection.html#5219" class="Function">surjection-induction</a> <a id="3689" href="Apartness.TightReflection.html#3051" class="Function">η</a> <a id="3691" href="Apartness.TightReflection.html#3424" class="Function">η-is-surjection</a>

<a id="3708" class="Markup">\end{code}</a><a id="3718" class="Background">

The apartness relation _♯&#39;_ on X&#39; is defined as follows.

</a><a id="3778" class="Markup">\begin{code}</a>

 <a id="tight-reflection._♯&#39;_"></a><a id="3793" href="Apartness.TightReflection.html#3793" class="Function Operator">_♯&#39;_</a> <a id="3798" class="Symbol">:</a> <a id="3800" href="Apartness.TightReflection.html#2717" class="Function">X&#39;</a> <a id="3803" class="Symbol">→</a> <a id="3805" href="Apartness.TightReflection.html#2717" class="Function">X&#39;</a> <a id="3808" class="Symbol">→</a> <a id="3810" href="Apartness.TightReflection.html#976" class="Bound">𝓤</a> <a id="3812" href="Agda.Primitive.html#961" class="Primitive Operator">⊔</a> <a id="3814" href="Apartness.TightReflection.html#960" class="Bound">𝓥</a> <a id="3816" href="Agda.Primitive.html#931" class="Primitive Operator">⁺</a> <a id="3818" href="MLTT.Universes.html#3976" class="Function Operator">̇</a>
 <a id="3821" class="Symbol">(</a><a id="3822" href="Apartness.TightReflection.html#3822" class="Bound">u</a> <a id="3824" href="MLTT.Sigma.html#395" class="InductiveConstructor Operator">,</a> <a id="3826" class="Symbol">_)</a> <a id="3829" href="Apartness.TightReflection.html#3793" class="Function Operator">♯&#39;</a> <a id="3832" class="Symbol">(</a><a id="3833" href="Apartness.TightReflection.html#3833" class="Bound">v</a> <a id="3835" href="MLTT.Sigma.html#395" class="InductiveConstructor Operator">,</a> <a id="3837" class="Symbol">_)</a> <a id="3840" class="Symbol">=</a> <a id="3842" href="UF.PropTrunc.html#2407" class="Function">∃</a> <a id="3844" href="Apartness.TightReflection.html#3844" class="Bound">x</a> <a id="3846" href="UF.PropTrunc.html#2407" class="Function">꞉</a> <a id="3848" href="Apartness.TightReflection.html#972" class="Bound">X</a> <a id="3850" href="UF.PropTrunc.html#2407" class="Function">,</a> <a id="3852" href="MLTT.Sigma.html#423" class="Function">Σ</a> <a id="3854" href="Apartness.TightReflection.html#3854" class="Bound">y</a> <a id="3856" href="MLTT.Sigma.html#423" class="Function">꞉</a> <a id="3858" href="Apartness.TightReflection.html#972" class="Bound">X</a> <a id="3860" href="MLTT.Sigma.html#423" class="Function">,</a> <a id="3862" class="Symbol">(</a><a id="3863" href="Apartness.TightReflection.html#3844" class="Bound">x</a> <a id="3865" href="Apartness.TightReflection.html#991" class="Bound Operator">♯</a> <a id="3867" href="Apartness.TightReflection.html#3854" class="Bound">y</a><a id="3868" class="Symbol">)</a> <a id="3870" href="MLTT.Sigma.html#558" class="Function Operator">×</a> <a id="3872" class="Symbol">(</a><a id="3873" href="Apartness.TightReflection.html#1898" class="Function">α</a> <a id="3875" href="Apartness.TightReflection.html#3844" class="Bound">x</a> <a id="3877" href="MLTT.Id.html#193" class="Datatype Operator">＝</a> <a id="3879" href="Apartness.TightReflection.html#3822" class="Bound">u</a><a id="3880" class="Symbol">)</a> <a id="3882" href="MLTT.Sigma.html#558" class="Function Operator">×</a> <a id="3884" class="Symbol">(</a><a id="3885" href="Apartness.TightReflection.html#1898" class="Function">α</a> <a id="3887" href="Apartness.TightReflection.html#3854" class="Bound">y</a> <a id="3889" href="MLTT.Id.html#193" class="Datatype Operator">＝</a> <a id="3891" href="Apartness.TightReflection.html#3833" class="Bound">v</a><a id="3892" class="Symbol">)</a>

<a id="3895" class="Markup">\end{code}</a><a id="3905" class="Background">

Then η preserves and reflects apartness.

</a><a id="3949" class="Markup">\begin{code}</a>

 <a id="tight-reflection.η-preserves-apartness"></a><a id="3964" href="Apartness.TightReflection.html#3964" class="Function">η-preserves-apartness</a> <a id="3986" class="Symbol">:</a> <a id="3988" href="Apartness.Morphisms.html#1199" class="Function">preserves</a> <a id="3998" href="Apartness.TightReflection.html#991" class="Bound Operator">_♯_</a> <a id="4002" href="Apartness.TightReflection.html#3793" class="Function Operator">_♯&#39;_</a> <a id="4007" href="Apartness.TightReflection.html#3051" class="Function">η</a>
 <a id="4010" href="Apartness.TightReflection.html#3964" class="Function">η-preserves-apartness</a> <a id="4032" class="Symbol">{</a><a id="4033" href="Apartness.TightReflection.html#4033" class="Bound">x</a><a id="4034" class="Symbol">}</a> <a id="4036" class="Symbol">{</a><a id="4037" href="Apartness.TightReflection.html#4037" class="Bound">y</a><a id="4038" class="Symbol">}</a> <a id="4040" href="Apartness.TightReflection.html#4040" class="Bound">a</a> <a id="4042" class="Symbol">=</a> <a id="4044" href="UF.PropTrunc.html#630" class="Field Operator">∣</a> <a id="4046" href="Apartness.TightReflection.html#4033" class="Bound">x</a> <a id="4048" href="MLTT.Sigma.html#395" class="InductiveConstructor Operator">,</a> <a id="4050" href="Apartness.TightReflection.html#4037" class="Bound">y</a> <a id="4052" href="MLTT.Sigma.html#395" class="InductiveConstructor Operator">,</a> <a id="4054" href="Apartness.TightReflection.html#4040" class="Bound">a</a> <a id="4056" href="MLTT.Sigma.html#395" class="InductiveConstructor Operator">,</a> <a id="4058" href="MLTT.Identity-Type.html#157" class="InductiveConstructor">refl</a> <a id="4063" href="MLTT.Sigma.html#395" class="InductiveConstructor Operator">,</a> <a id="4065" href="MLTT.Identity-Type.html#157" class="InductiveConstructor">refl</a> <a id="4070" href="UF.PropTrunc.html#630" class="Field Operator">∣</a>

 <a id="tight-reflection.η-is-strongly-extensional"></a><a id="4074" href="Apartness.TightReflection.html#4074" class="Function">η-is-strongly-extensional</a> <a id="4100" class="Symbol">:</a> <a id="4102" href="Apartness.Morphisms.html#494" class="Function">is-strongly-extensional</a> <a id="4126" href="Apartness.TightReflection.html#991" class="Bound Operator">_♯_</a> <a id="4130" href="Apartness.TightReflection.html#3793" class="Function Operator">_♯&#39;_</a> <a id="4135" href="Apartness.TightReflection.html#3051" class="Function">η</a>
 <a id="4138" href="Apartness.TightReflection.html#4074" class="Function">η-is-strongly-extensional</a> <a id="4164" href="Apartness.TightReflection.html#4164" class="Bound">x</a> <a id="4166" href="Apartness.TightReflection.html#4166" class="Bound">y</a> <a id="4168" class="Symbol">=</a> <a id="4170" href="UF.PropTrunc.html#676" class="Field">∥∥-rec</a> <a id="4177" class="Symbol">(</a><a id="4178" href="Apartness.TightReflection.html#1020" class="Bound">♯p</a> <a id="4181" href="Apartness.TightReflection.html#4164" class="Bound">x</a> <a id="4183" href="Apartness.TightReflection.html#4166" class="Bound">y</a><a id="4184" class="Symbol">)</a> <a id="4186" href="Apartness.TightReflection.html#4199" class="Function">g</a>
  <a id="4190" class="Keyword">where</a>
   <a id="4199" href="Apartness.TightReflection.html#4199" class="Function">g</a> <a id="4201" class="Symbol">:</a> <a id="4203" class="Symbol">(</a><a id="4204" href="MLTT.Sigma.html#423" class="Function">Σ</a> <a id="4206" href="Apartness.TightReflection.html#4206" class="Bound">x&#39;</a> <a id="4209" href="MLTT.Sigma.html#423" class="Function">꞉</a> <a id="4211" href="Apartness.TightReflection.html#972" class="Bound">X</a> <a id="4213" href="MLTT.Sigma.html#423" class="Function">,</a> <a id="4215" href="MLTT.Sigma.html#423" class="Function">Σ</a> <a id="4217" href="Apartness.TightReflection.html#4217" class="Bound">y&#39;</a> <a id="4220" href="MLTT.Sigma.html#423" class="Function">꞉</a> <a id="4222" href="Apartness.TightReflection.html#972" class="Bound">X</a> <a id="4224" href="MLTT.Sigma.html#423" class="Function">,</a> <a id="4226" class="Symbol">(</a><a id="4227" href="Apartness.TightReflection.html#4206" class="Bound">x&#39;</a> <a id="4230" href="Apartness.TightReflection.html#991" class="Bound Operator">♯</a> <a id="4232" href="Apartness.TightReflection.html#4217" class="Bound">y&#39;</a><a id="4234" class="Symbol">)</a> <a id="4236" href="MLTT.Sigma.html#558" class="Function Operator">×</a> <a id="4238" class="Symbol">(</a><a id="4239" href="Apartness.TightReflection.html#1898" class="Function">α</a> <a id="4241" href="Apartness.TightReflection.html#4206" class="Bound">x&#39;</a> <a id="4244" href="MLTT.Id.html#193" class="Datatype Operator">＝</a> <a id="4246" href="Apartness.TightReflection.html#1898" class="Function">α</a> <a id="4248" href="Apartness.TightReflection.html#4164" class="Bound">x</a><a id="4249" class="Symbol">)</a> <a id="4251" href="MLTT.Sigma.html#558" class="Function Operator">×</a> <a id="4253" class="Symbol">(</a><a id="4254" href="Apartness.TightReflection.html#1898" class="Function">α</a> <a id="4256" href="Apartness.TightReflection.html#4217" class="Bound">y&#39;</a> <a id="4259" href="MLTT.Id.html#193" class="Datatype Operator">＝</a> <a id="4261" href="Apartness.TightReflection.html#1898" class="Function">α</a> <a id="4263" href="Apartness.TightReflection.html#4166" class="Bound">y</a><a id="4264" class="Symbol">))</a>
     <a id="4272" class="Symbol">→</a> <a id="4274" href="Apartness.TightReflection.html#4164" class="Bound">x</a> <a id="4276" href="Apartness.TightReflection.html#991" class="Bound Operator">♯</a> <a id="4278" href="Apartness.TightReflection.html#4166" class="Bound">y</a>
   <a id="4283" href="Apartness.TightReflection.html#4199" class="Function">g</a> <a id="4285" class="Symbol">(</a><a id="4286" href="Apartness.TightReflection.html#4286" class="Bound">x&#39;</a> <a id="4289" href="MLTT.Sigma.html#395" class="InductiveConstructor Operator">,</a> <a id="4291" href="Apartness.TightReflection.html#4291" class="Bound">y&#39;</a> <a id="4294" href="MLTT.Sigma.html#395" class="InductiveConstructor Operator">,</a> <a id="4296" href="Apartness.TightReflection.html#4296" class="Bound">a</a> <a id="4298" href="MLTT.Sigma.html#395" class="InductiveConstructor Operator">,</a> <a id="4300" href="Apartness.TightReflection.html#4300" class="Bound">p</a> <a id="4302" href="MLTT.Sigma.html#395" class="InductiveConstructor Operator">,</a> <a id="4304" href="Apartness.TightReflection.html#4304" class="Bound">q</a><a id="4305" class="Symbol">)</a> <a id="4307" class="Symbol">=</a> <a id="4309" href="Apartness.TightReflection.html#1088" class="Bound">♯s</a> <a id="4312" class="Symbol">_</a> <a id="4314" class="Symbol">_</a> <a id="4316" class="Symbol">(</a><a id="4317" href="Apartness.TightReflection.html#4421" class="Function">j</a> <a id="4319" class="Symbol">(</a><a id="4320" href="Apartness.TightReflection.html#1088" class="Bound">♯s</a> <a id="4323" class="Symbol">_</a> <a id="4325" class="Symbol">_</a> <a id="4327" class="Symbol">(</a><a id="4328" href="Apartness.TightReflection.html#4350" class="Function">i</a> <a id="4330" href="Apartness.TightReflection.html#4296" class="Bound">a</a><a id="4331" class="Symbol">)))</a>
    <a id="4339" class="Keyword">where</a>
     <a id="4350" href="Apartness.TightReflection.html#4350" class="Function">i</a> <a id="4352" class="Symbol">:</a> <a id="4354" href="Apartness.TightReflection.html#4286" class="Bound">x&#39;</a> <a id="4357" href="Apartness.TightReflection.html#991" class="Bound Operator">♯</a> <a id="4359" href="Apartness.TightReflection.html#4291" class="Bound">y&#39;</a> <a id="4362" class="Symbol">→</a> <a id="4364" href="Apartness.TightReflection.html#4164" class="Bound">x</a> <a id="4366" href="Apartness.TightReflection.html#991" class="Bound Operator">♯</a> <a id="4368" href="Apartness.TightReflection.html#4291" class="Bound">y&#39;</a>
     <a id="4376" href="Apartness.TightReflection.html#4350" class="Function">i</a> <a id="4378" class="Symbol">=</a> <a id="4380" href="UF.Equiv.html#3890" class="Function">idtofun</a> <a id="4388" class="Symbol">_</a> <a id="4390" class="Symbol">_</a> <a id="4392" class="Symbol">(</a><a id="4393" href="MLTT.Id.html#1136" class="Function">ap</a> <a id="4396" href="MLTT.Sigma-Type.html#198" class="Field">pr₁</a> <a id="4400" class="Symbol">(</a><a id="4401" href="UF.Base.html#10649" class="Function">happly</a> <a id="4408" href="Apartness.TightReflection.html#4300" class="Bound">p</a> <a id="4410" href="Apartness.TightReflection.html#4291" class="Bound">y&#39;</a><a id="4412" class="Symbol">))</a>

     <a id="4421" href="Apartness.TightReflection.html#4421" class="Function">j</a> <a id="4423" class="Symbol">:</a> <a id="4425" href="Apartness.TightReflection.html#4291" class="Bound">y&#39;</a> <a id="4428" href="Apartness.TightReflection.html#991" class="Bound Operator">♯</a> <a id="4430" href="Apartness.TightReflection.html#4164" class="Bound">x</a> <a id="4432" class="Symbol">→</a> <a id="4434" href="Apartness.TightReflection.html#4166" class="Bound">y</a> <a id="4436" href="Apartness.TightReflection.html#991" class="Bound Operator">♯</a> <a id="4438" href="Apartness.TightReflection.html#4164" class="Bound">x</a>
     <a id="4445" href="Apartness.TightReflection.html#4421" class="Function">j</a> <a id="4447" class="Symbol">=</a> <a id="4449" href="UF.Equiv.html#3890" class="Function">idtofun</a> <a id="4457" class="Symbol">_</a> <a id="4459" class="Symbol">_</a> <a id="4461" class="Symbol">(</a><a id="4462" href="MLTT.Id.html#1136" class="Function">ap</a> <a id="4465" href="MLTT.Sigma-Type.html#198" class="Field">pr₁</a> <a id="4469" class="Symbol">(</a><a id="4470" href="UF.Base.html#10649" class="Function">happly</a> <a id="4477" href="Apartness.TightReflection.html#4304" class="Bound">q</a> <a id="4479" href="Apartness.TightReflection.html#4164" class="Bound">x</a><a id="4480" class="Symbol">))</a>

<a id="4484" class="Markup">\end{code}</a><a id="4494" class="Background">

Of course, we must check that _♯&#39;_ is indeed an apartness
relation. We do this by η-induction. These proofs by induction need
routine proofs that some things are propositions.

</a><a id="4673" class="Markup">\begin{code}</a>

 <a id="tight-reflection.♯&#39;p"></a><a id="4688" href="Apartness.TightReflection.html#4688" class="Function">♯&#39;p</a> <a id="4692" class="Symbol">:</a> <a id="4694" href="Apartness.Definition.html#541" class="Function">is-prop-valued</a> <a id="4709" href="Apartness.TightReflection.html#3793" class="Function Operator">_♯&#39;_</a>
 <a id="4715" href="Apartness.TightReflection.html#4688" class="Function">♯&#39;p</a> <a id="4719" class="Symbol">_</a> <a id="4721" class="Symbol">_</a> <a id="4723" class="Symbol">=</a> <a id="4725" href="UF.PropTrunc.html#573" class="Field">∥∥-is-prop</a>

 <a id="tight-reflection.♯&#39;i"></a><a id="4738" href="Apartness.TightReflection.html#4738" class="Function">♯&#39;i</a> <a id="4742" class="Symbol">:</a> <a id="4744" href="Apartness.Definition.html#557" class="Function">is-irreflexive</a> <a id="4759" href="Apartness.TightReflection.html#3793" class="Function Operator">_♯&#39;_</a>
 <a id="4765" href="Apartness.TightReflection.html#4738" class="Function">♯&#39;i</a> <a id="4769" class="Symbol">=</a> <a id="4771" href="Apartness.TightReflection.html#4900" class="Function">by-induction</a>
  <a id="4786" class="Keyword">where</a>
   <a id="4795" href="Apartness.TightReflection.html#4795" class="Function">induction-step</a> <a id="4810" class="Symbol">:</a> <a id="4812" class="Symbol">∀</a> <a id="4814" href="Apartness.TightReflection.html#4814" class="Bound">x</a> <a id="4816" class="Symbol">→</a> <a id="4818" href="MLTT.Negation.html#278" class="Function Operator">¬</a> <a id="4820" class="Symbol">(</a><a id="4821" href="Apartness.TightReflection.html#3051" class="Function">η</a> <a id="4823" href="Apartness.TightReflection.html#4814" class="Bound">x</a> <a id="4825" href="Apartness.TightReflection.html#3793" class="Function Operator">♯&#39;</a> <a id="4828" href="Apartness.TightReflection.html#3051" class="Function">η</a> <a id="4830" href="Apartness.TightReflection.html#4814" class="Bound">x</a><a id="4831" class="Symbol">)</a>
   <a id="4836" href="Apartness.TightReflection.html#4795" class="Function">induction-step</a> <a id="4851" href="Apartness.TightReflection.html#4851" class="Bound">x</a> <a id="4853" href="Apartness.TightReflection.html#4853" class="Bound">a</a> <a id="4855" class="Symbol">=</a> <a id="4857" href="Apartness.TightReflection.html#1054" class="Bound">♯i</a> <a id="4860" href="Apartness.TightReflection.html#4851" class="Bound">x</a> <a id="4862" class="Symbol">(</a><a id="4863" href="Apartness.TightReflection.html#4074" class="Function">η-is-strongly-extensional</a> <a id="4889" href="Apartness.TightReflection.html#4851" class="Bound">x</a> <a id="4891" href="Apartness.TightReflection.html#4851" class="Bound">x</a> <a id="4893" href="Apartness.TightReflection.html#4853" class="Bound">a</a><a id="4894" class="Symbol">)</a>

   <a id="4900" href="Apartness.TightReflection.html#4900" class="Function">by-induction</a> <a id="4913" class="Symbol">=</a> <a id="4915" href="Apartness.TightReflection.html#3512" class="Function">η-induction</a> <a id="4927" class="Symbol">(λ</a> <a id="4930" href="Apartness.TightReflection.html#4930" class="Bound">x&#39;</a> <a id="4933" class="Symbol">→</a> <a id="4935" href="MLTT.Negation.html#278" class="Function Operator">¬</a> <a id="4937" class="Symbol">(</a><a id="4938" href="Apartness.TightReflection.html#4930" class="Bound">x&#39;</a> <a id="4941" href="Apartness.TightReflection.html#3793" class="Function Operator">♯&#39;</a> <a id="4944" href="Apartness.TightReflection.html#4930" class="Bound">x&#39;</a><a id="4946" class="Symbol">))</a>
                   <a id="4968" class="Symbol">(λ</a> <a id="4971" href="Apartness.TightReflection.html#4971" class="Bound">_</a> <a id="4973" class="Symbol">→</a> <a id="4975" href="UF.Subsingletons-FunExt.html#614" class="Function">Π-is-prop</a> <a id="4985" href="Apartness.TightReflection.html#924" class="Bound">fe</a> <a id="4988" class="Symbol">(λ</a> <a id="4991" href="Apartness.TightReflection.html#4991" class="Bound">_</a> <a id="4993" class="Symbol">→</a> <a id="4995" href="UF.Subsingletons.html#2785" class="Function">𝟘-is-prop</a><a id="5004" class="Symbol">))</a>
                   <a id="5026" href="Apartness.TightReflection.html#4795" class="Function">induction-step</a>

 <a id="tight-reflection.♯&#39;s"></a><a id="5043" href="Apartness.TightReflection.html#5043" class="Function">♯&#39;s</a> <a id="5047" class="Symbol">:</a> <a id="5049" href="Apartness.Definition.html#573" class="Function">is-symmetric</a> <a id="5062" href="Apartness.TightReflection.html#3793" class="Function Operator">_♯&#39;_</a>
 <a id="5068" href="Apartness.TightReflection.html#5043" class="Function">♯&#39;s</a> <a id="5072" class="Symbol">=</a> <a id="5074" href="Apartness.TightReflection.html#5276" class="Function">by-nested-induction</a>
  <a id="5096" class="Keyword">where</a>
   <a id="5105" href="Apartness.TightReflection.html#5105" class="Function">induction-step</a> <a id="5120" class="Symbol">:</a> <a id="5122" class="Symbol">∀</a> <a id="5124" href="Apartness.TightReflection.html#5124" class="Bound">x</a> <a id="5126" href="Apartness.TightReflection.html#5126" class="Bound">y</a> <a id="5128" class="Symbol">→</a> <a id="5130" href="Apartness.TightReflection.html#3051" class="Function">η</a> <a id="5132" href="Apartness.TightReflection.html#5124" class="Bound">x</a> <a id="5134" href="Apartness.TightReflection.html#3793" class="Function Operator">♯&#39;</a> <a id="5137" href="Apartness.TightReflection.html#3051" class="Function">η</a> <a id="5139" href="Apartness.TightReflection.html#5126" class="Bound">y</a> <a id="5141" class="Symbol">→</a> <a id="5143" href="Apartness.TightReflection.html#3051" class="Function">η</a> <a id="5145" href="Apartness.TightReflection.html#5126" class="Bound">y</a> <a id="5147" href="Apartness.TightReflection.html#3793" class="Function Operator">♯&#39;</a> <a id="5150" href="Apartness.TightReflection.html#3051" class="Function">η</a> <a id="5152" href="Apartness.TightReflection.html#5124" class="Bound">x</a>
   <a id="5157" href="Apartness.TightReflection.html#5105" class="Function">induction-step</a> <a id="5172" href="Apartness.TightReflection.html#5172" class="Bound">x</a> <a id="5174" href="Apartness.TightReflection.html#5174" class="Bound">y</a> <a id="5176" href="Apartness.TightReflection.html#5176" class="Bound">a</a> <a id="5178" class="Symbol">=</a> <a id="5180" href="Apartness.TightReflection.html#3964" class="Function">η-preserves-apartness</a>
                           <a id="5229" class="Symbol">(</a><a id="5230" href="Apartness.TightReflection.html#1088" class="Bound">♯s</a> <a id="5233" href="Apartness.TightReflection.html#5172" class="Bound">x</a> <a id="5235" href="Apartness.TightReflection.html#5174" class="Bound">y</a> <a id="5237" class="Symbol">(</a><a id="5238" href="Apartness.TightReflection.html#4074" class="Function">η-is-strongly-extensional</a> <a id="5264" href="Apartness.TightReflection.html#5172" class="Bound">x</a> <a id="5266" href="Apartness.TightReflection.html#5174" class="Bound">y</a> <a id="5268" href="Apartness.TightReflection.html#5176" class="Bound">a</a><a id="5269" class="Symbol">))</a>

   <a id="5276" href="Apartness.TightReflection.html#5276" class="Function">by-nested-induction</a> <a id="5296" class="Symbol">=</a>
     <a id="5303" href="Apartness.TightReflection.html#3512" class="Function">η-induction</a> <a id="5315" class="Symbol">(λ</a> <a id="5318" href="Apartness.TightReflection.html#5318" class="Bound">x&#39;</a> <a id="5321" class="Symbol">→</a> <a id="5323" class="Symbol">∀</a> <a id="5325" href="Apartness.TightReflection.html#5325" class="Bound">y&#39;</a> <a id="5328" class="Symbol">→</a> <a id="5330" href="Apartness.TightReflection.html#5318" class="Bound">x&#39;</a> <a id="5333" href="Apartness.TightReflection.html#3793" class="Function Operator">♯&#39;</a> <a id="5336" href="Apartness.TightReflection.html#5325" class="Bound">y&#39;</a> <a id="5339" class="Symbol">→</a> <a id="5341" href="Apartness.TightReflection.html#5325" class="Bound">y&#39;</a> <a id="5344" href="Apartness.TightReflection.html#3793" class="Function Operator">♯&#39;</a> <a id="5347" href="Apartness.TightReflection.html#5318" class="Bound">x&#39;</a><a id="5349" class="Symbol">)</a>
      <a id="5357" class="Symbol">(λ</a> <a id="5360" href="Apartness.TightReflection.html#5360" class="Bound">x&#39;</a> <a id="5363" class="Symbol">→</a> <a id="5365" href="UF.Subsingletons-FunExt.html#6281" class="Function">Π₂-is-prop</a> <a id="5376" href="Apartness.TightReflection.html#924" class="Bound">fe</a> <a id="5379" class="Symbol">(λ</a> <a id="5382" href="Apartness.TightReflection.html#5382" class="Bound">y&#39;</a> <a id="5385" href="Apartness.TightReflection.html#5385" class="Bound">_</a> <a id="5387" class="Symbol">→</a> <a id="5389" href="Apartness.TightReflection.html#4688" class="Function">♯&#39;p</a> <a id="5393" href="Apartness.TightReflection.html#5382" class="Bound">y&#39;</a> <a id="5396" href="Apartness.TightReflection.html#5360" class="Bound">x&#39;</a><a id="5398" class="Symbol">))</a>
      <a id="5407" class="Symbol">(λ</a> <a id="5410" href="Apartness.TightReflection.html#5410" class="Bound">x</a> <a id="5412" class="Symbol">→</a> <a id="5414" href="Apartness.TightReflection.html#3512" class="Function">η-induction</a> <a id="5426" class="Symbol">(λ</a> <a id="5429" href="Apartness.TightReflection.html#5429" class="Bound">y&#39;</a> <a id="5432" class="Symbol">→</a> <a id="5434" href="Apartness.TightReflection.html#3051" class="Function">η</a> <a id="5436" href="Apartness.TightReflection.html#5410" class="Bound">x</a> <a id="5438" href="Apartness.TightReflection.html#3793" class="Function Operator">♯&#39;</a> <a id="5441" href="Apartness.TightReflection.html#5429" class="Bound">y&#39;</a> <a id="5444" class="Symbol">→</a> <a id="5446" href="Apartness.TightReflection.html#5429" class="Bound">y&#39;</a> <a id="5449" href="Apartness.TightReflection.html#3793" class="Function Operator">♯&#39;</a> <a id="5452" href="Apartness.TightReflection.html#3051" class="Function">η</a> <a id="5454" href="Apartness.TightReflection.html#5410" class="Bound">x</a><a id="5455" class="Symbol">)</a>
               <a id="5472" class="Symbol">(λ</a> <a id="5475" href="Apartness.TightReflection.html#5475" class="Bound">y&#39;</a> <a id="5478" class="Symbol">→</a> <a id="5480" href="UF.Subsingletons-FunExt.html#614" class="Function">Π-is-prop</a> <a id="5490" href="Apartness.TightReflection.html#924" class="Bound">fe</a> <a id="5493" class="Symbol">(λ</a> <a id="5496" href="Apartness.TightReflection.html#5496" class="Bound">_</a> <a id="5498" class="Symbol">→</a> <a id="5500" href="Apartness.TightReflection.html#4688" class="Function">♯&#39;p</a> <a id="5504" href="Apartness.TightReflection.html#5475" class="Bound">y&#39;</a> <a id="5507" class="Symbol">(</a><a id="5508" href="Apartness.TightReflection.html#3051" class="Function">η</a> <a id="5510" href="Apartness.TightReflection.html#5410" class="Bound">x</a><a id="5511" class="Symbol">)))</a>
               <a id="5530" class="Symbol">(</a><a id="5531" href="Apartness.TightReflection.html#5105" class="Function">induction-step</a> <a id="5546" href="Apartness.TightReflection.html#5410" class="Bound">x</a><a id="5547" class="Symbol">))</a>

 <a id="tight-reflection.♯&#39;c"></a><a id="5552" href="Apartness.TightReflection.html#5552" class="Function">♯&#39;c</a> <a id="5556" class="Symbol">:</a> <a id="5558" href="Apartness.Definition.html#2730" class="Function">is-cotransitive</a> <a id="5574" href="Apartness.TightReflection.html#3793" class="Function Operator">_♯&#39;_</a>
 <a id="5580" href="Apartness.TightReflection.html#5552" class="Function">♯&#39;c</a> <a id="5584" class="Symbol">=</a> <a id="5586" href="Apartness.TightReflection.html#5993" class="Function">by-nested-induction</a>
  <a id="5608" class="Keyword">where</a>
   <a id="5617" href="Apartness.TightReflection.html#5617" class="Function">induction-step</a> <a id="5632" class="Symbol">:</a> <a id="5634" class="Symbol">∀</a> <a id="5636" href="Apartness.TightReflection.html#5636" class="Bound">x</a> <a id="5638" href="Apartness.TightReflection.html#5638" class="Bound">y</a> <a id="5640" href="Apartness.TightReflection.html#5640" class="Bound">z</a> <a id="5642" class="Symbol">→</a> <a id="5644" href="Apartness.TightReflection.html#3051" class="Function">η</a> <a id="5646" href="Apartness.TightReflection.html#5636" class="Bound">x</a> <a id="5648" href="Apartness.TightReflection.html#3793" class="Function Operator">♯&#39;</a> <a id="5651" href="Apartness.TightReflection.html#3051" class="Function">η</a> <a id="5653" href="Apartness.TightReflection.html#5638" class="Bound">y</a> <a id="5655" class="Symbol">→</a> <a id="5657" href="Apartness.TightReflection.html#3051" class="Function">η</a> <a id="5659" href="Apartness.TightReflection.html#5636" class="Bound">x</a> <a id="5661" href="Apartness.TightReflection.html#3793" class="Function Operator">♯&#39;</a> <a id="5664" href="Apartness.TightReflection.html#3051" class="Function">η</a> <a id="5666" href="Apartness.TightReflection.html#5640" class="Bound">z</a> <a id="5668" href="UF.PropTrunc.html#3076" class="Function Operator">∨</a> <a id="5670" href="Apartness.TightReflection.html#3051" class="Function">η</a> <a id="5672" href="Apartness.TightReflection.html#5638" class="Bound">y</a> <a id="5674" href="Apartness.TightReflection.html#3793" class="Function Operator">♯&#39;</a> <a id="5677" href="Apartness.TightReflection.html#3051" class="Function">η</a> <a id="5679" href="Apartness.TightReflection.html#5640" class="Bound">z</a>
   <a id="5684" href="Apartness.TightReflection.html#5617" class="Function">induction-step</a> <a id="5699" href="Apartness.TightReflection.html#5699" class="Bound">x</a> <a id="5701" href="Apartness.TightReflection.html#5701" class="Bound">y</a> <a id="5703" href="Apartness.TightReflection.html#5703" class="Bound">z</a> <a id="5705" href="Apartness.TightReflection.html#5705" class="Bound">a</a> <a id="5707" class="Symbol">=</a> <a id="5709" href="UF.PropTrunc.html#1817" class="Function">∥∥-functor</a> <a id="5720" href="Apartness.TightReflection.html#5843" class="Function">c</a> <a id="5722" href="Apartness.TightReflection.html#5798" class="Function">b</a>
    <a id="5728" class="Keyword">where</a>
     <a id="5739" href="Apartness.TightReflection.html#5739" class="Function">a&#39;</a> <a id="5742" class="Symbol">:</a> <a id="5744" href="Apartness.TightReflection.html#5699" class="Bound">x</a> <a id="5746" href="Apartness.TightReflection.html#991" class="Bound Operator">♯</a> <a id="5748" href="Apartness.TightReflection.html#5701" class="Bound">y</a>
     <a id="5755" href="Apartness.TightReflection.html#5739" class="Function">a&#39;</a> <a id="5758" class="Symbol">=</a> <a id="5760" href="Apartness.TightReflection.html#4074" class="Function">η-is-strongly-extensional</a> <a id="5786" href="Apartness.TightReflection.html#5699" class="Bound">x</a> <a id="5788" href="Apartness.TightReflection.html#5701" class="Bound">y</a> <a id="5790" href="Apartness.TightReflection.html#5705" class="Bound">a</a>

     <a id="5798" href="Apartness.TightReflection.html#5798" class="Function">b</a> <a id="5800" class="Symbol">:</a> <a id="5802" href="Apartness.TightReflection.html#5699" class="Bound">x</a> <a id="5804" href="Apartness.TightReflection.html#991" class="Bound Operator">♯</a> <a id="5806" href="Apartness.TightReflection.html#5703" class="Bound">z</a> <a id="5808" href="UF.PropTrunc.html#3076" class="Function Operator">∨</a> <a id="5810" href="Apartness.TightReflection.html#5701" class="Bound">y</a> <a id="5812" href="Apartness.TightReflection.html#991" class="Bound Operator">♯</a> <a id="5814" href="Apartness.TightReflection.html#5703" class="Bound">z</a>
     <a id="5821" href="Apartness.TightReflection.html#5798" class="Function">b</a> <a id="5823" class="Symbol">=</a> <a id="5825" href="Apartness.TightReflection.html#1120" class="Bound">♯c</a> <a id="5828" href="Apartness.TightReflection.html#5699" class="Bound">x</a> <a id="5830" href="Apartness.TightReflection.html#5701" class="Bound">y</a> <a id="5832" href="Apartness.TightReflection.html#5703" class="Bound">z</a> <a id="5834" href="Apartness.TightReflection.html#5739" class="Function">a&#39;</a>

     <a id="5843" href="Apartness.TightReflection.html#5843" class="Function">c</a> <a id="5845" class="Symbol">:</a> <a id="5847" class="Symbol">(</a><a id="5848" href="Apartness.TightReflection.html#5699" class="Bound">x</a> <a id="5850" href="Apartness.TightReflection.html#991" class="Bound Operator">♯</a> <a id="5852" href="Apartness.TightReflection.html#5703" class="Bound">z</a><a id="5853" class="Symbol">)</a> <a id="5855" href="MLTT.Plus-Type.html#120" class="Datatype Operator">+</a> <a id="5857" class="Symbol">(</a><a id="5858" href="Apartness.TightReflection.html#5701" class="Bound">y</a> <a id="5860" href="Apartness.TightReflection.html#991" class="Bound Operator">♯</a> <a id="5862" href="Apartness.TightReflection.html#5703" class="Bound">z</a><a id="5863" class="Symbol">)</a> <a id="5865" class="Symbol">→</a> <a id="5867" class="Symbol">(</a><a id="5868" href="Apartness.TightReflection.html#3051" class="Function">η</a> <a id="5870" href="Apartness.TightReflection.html#5699" class="Bound">x</a> <a id="5872" href="Apartness.TightReflection.html#3793" class="Function Operator">♯&#39;</a> <a id="5875" href="Apartness.TightReflection.html#3051" class="Function">η</a> <a id="5877" href="Apartness.TightReflection.html#5703" class="Bound">z</a><a id="5878" class="Symbol">)</a> <a id="5880" href="MLTT.Plus-Type.html#120" class="Datatype Operator">+</a> <a id="5882" class="Symbol">(</a><a id="5883" href="Apartness.TightReflection.html#3051" class="Function">η</a> <a id="5885" href="Apartness.TightReflection.html#5701" class="Bound">y</a> <a id="5887" href="Apartness.TightReflection.html#3793" class="Function Operator">♯&#39;</a> <a id="5890" href="Apartness.TightReflection.html#3051" class="Function">η</a> <a id="5892" href="Apartness.TightReflection.html#5703" class="Bound">z</a><a id="5893" class="Symbol">)</a>
     <a id="5900" href="Apartness.TightReflection.html#5843" class="Function">c</a> <a id="5902" class="Symbol">(</a><a id="5903" href="MLTT.Plus-Type.html#169" class="InductiveConstructor">inl</a> <a id="5907" href="Apartness.TightReflection.html#5907" class="Bound">e</a><a id="5908" class="Symbol">)</a> <a id="5910" class="Symbol">=</a> <a id="5912" href="MLTT.Plus-Type.html#169" class="InductiveConstructor">inl</a> <a id="5916" class="Symbol">(</a><a id="5917" href="Apartness.TightReflection.html#3964" class="Function">η-preserves-apartness</a> <a id="5939" href="Apartness.TightReflection.html#5907" class="Bound">e</a><a id="5940" class="Symbol">)</a>
     <a id="5947" href="Apartness.TightReflection.html#5843" class="Function">c</a> <a id="5949" class="Symbol">(</a><a id="5950" href="MLTT.Plus-Type.html#186" class="InductiveConstructor">inr</a> <a id="5954" href="Apartness.TightReflection.html#5954" class="Bound">f</a><a id="5955" class="Symbol">)</a> <a id="5957" class="Symbol">=</a> <a id="5959" href="MLTT.Plus-Type.html#186" class="InductiveConstructor">inr</a> <a id="5963" class="Symbol">(</a><a id="5964" href="Apartness.TightReflection.html#3964" class="Function">η-preserves-apartness</a> <a id="5986" href="Apartness.TightReflection.html#5954" class="Bound">f</a><a id="5987" class="Symbol">)</a>

   <a id="5993" href="Apartness.TightReflection.html#5993" class="Function">by-nested-induction</a> <a id="6013" class="Symbol">=</a>
     <a id="6020" href="Apartness.TightReflection.html#3512" class="Function">η-induction</a> <a id="6032" class="Symbol">(λ</a> <a id="6035" href="Apartness.TightReflection.html#6035" class="Bound">x&#39;</a> <a id="6038" class="Symbol">→</a> <a id="6040" class="Symbol">∀</a> <a id="6042" href="Apartness.TightReflection.html#6042" class="Bound">y&#39;</a> <a id="6045" href="Apartness.TightReflection.html#6045" class="Bound">z&#39;</a> <a id="6048" class="Symbol">→</a> <a id="6050" href="Apartness.TightReflection.html#6035" class="Bound">x&#39;</a> <a id="6053" href="Apartness.TightReflection.html#3793" class="Function Operator">♯&#39;</a> <a id="6056" href="Apartness.TightReflection.html#6042" class="Bound">y&#39;</a> <a id="6059" class="Symbol">→</a> <a id="6061" class="Symbol">(</a><a id="6062" href="Apartness.TightReflection.html#6035" class="Bound">x&#39;</a> <a id="6065" href="Apartness.TightReflection.html#3793" class="Function Operator">♯&#39;</a> <a id="6068" href="Apartness.TightReflection.html#6045" class="Bound">z&#39;</a><a id="6070" class="Symbol">)</a> <a id="6072" href="UF.PropTrunc.html#3076" class="Function Operator">∨</a> <a id="6074" class="Symbol">(</a><a id="6075" href="Apartness.TightReflection.html#6042" class="Bound">y&#39;</a> <a id="6078" href="Apartness.TightReflection.html#3793" class="Function Operator">♯&#39;</a> <a id="6081" href="Apartness.TightReflection.html#6045" class="Bound">z&#39;</a><a id="6083" class="Symbol">))</a>
      <a id="6092" class="Symbol">(λ</a> <a id="6095" href="Apartness.TightReflection.html#6095" class="Bound">_</a> <a id="6097" class="Symbol">→</a> <a id="6099" href="UF.Subsingletons-FunExt.html#6504" class="Function">Π₃-is-prop</a> <a id="6110" href="Apartness.TightReflection.html#924" class="Bound">fe</a> <a id="6113" class="Symbol">(λ</a> <a id="6116" href="Apartness.TightReflection.html#6116" class="Bound">_</a> <a id="6118" href="Apartness.TightReflection.html#6118" class="Bound">_</a> <a id="6120" href="Apartness.TightReflection.html#6120" class="Bound">_</a> <a id="6122" class="Symbol">→</a> <a id="6124" href="UF.PropTrunc.html#573" class="Field">∥∥-is-prop</a><a id="6134" class="Symbol">))</a>
      <a id="6143" class="Symbol">(λ</a> <a id="6146" href="Apartness.TightReflection.html#6146" class="Bound">x</a> <a id="6148" class="Symbol">→</a> <a id="6150" href="Apartness.TightReflection.html#3512" class="Function">η-induction</a> <a id="6162" class="Symbol">(λ</a> <a id="6165" href="Apartness.TightReflection.html#6165" class="Bound">y&#39;</a> <a id="6168" class="Symbol">→</a> <a id="6170" class="Symbol">∀</a> <a id="6172" href="Apartness.TightReflection.html#6172" class="Bound">z&#39;</a> <a id="6175" class="Symbol">→</a> <a id="6177" href="Apartness.TightReflection.html#3051" class="Function">η</a> <a id="6179" href="Apartness.TightReflection.html#6146" class="Bound">x</a> <a id="6181" href="Apartness.TightReflection.html#3793" class="Function Operator">♯&#39;</a> <a id="6184" href="Apartness.TightReflection.html#6165" class="Bound">y&#39;</a> <a id="6187" class="Symbol">→</a> <a id="6189" class="Symbol">(</a><a id="6190" href="Apartness.TightReflection.html#3051" class="Function">η</a> <a id="6192" href="Apartness.TightReflection.html#6146" class="Bound">x</a> <a id="6194" href="Apartness.TightReflection.html#3793" class="Function Operator">♯&#39;</a> <a id="6197" href="Apartness.TightReflection.html#6172" class="Bound">z&#39;</a><a id="6199" class="Symbol">)</a> <a id="6201" href="UF.PropTrunc.html#3076" class="Function Operator">∨</a> <a id="6203" class="Symbol">(</a><a id="6204" href="Apartness.TightReflection.html#6165" class="Bound">y&#39;</a> <a id="6207" href="Apartness.TightReflection.html#3793" class="Function Operator">♯&#39;</a> <a id="6210" href="Apartness.TightReflection.html#6172" class="Bound">z&#39;</a><a id="6212" class="Symbol">))</a>
               <a id="6230" class="Symbol">(λ</a> <a id="6233" href="Apartness.TightReflection.html#6233" class="Bound">_</a> <a id="6235" class="Symbol">→</a> <a id="6237" href="UF.Subsingletons-FunExt.html#6281" class="Function">Π₂-is-prop</a> <a id="6248" href="Apartness.TightReflection.html#924" class="Bound">fe</a> <a id="6251" class="Symbol">(λ</a> <a id="6254" href="Apartness.TightReflection.html#6254" class="Bound">_</a> <a id="6256" href="Apartness.TightReflection.html#6256" class="Bound">_</a> <a id="6258" class="Symbol">→</a> <a id="6260" href="UF.PropTrunc.html#573" class="Field">∥∥-is-prop</a><a id="6270" class="Symbol">))</a>
               <a id="6288" class="Symbol">(λ</a> <a id="6291" href="Apartness.TightReflection.html#6291" class="Bound">y</a> <a id="6293" class="Symbol">→</a> <a id="6295" href="Apartness.TightReflection.html#3512" class="Function">η-induction</a> <a id="6307" class="Symbol">(λ</a> <a id="6310" href="Apartness.TightReflection.html#6310" class="Bound">z&#39;</a> <a id="6313" class="Symbol">→</a> <a id="6315" href="Apartness.TightReflection.html#3051" class="Function">η</a> <a id="6317" href="Apartness.TightReflection.html#6146" class="Bound">x</a> <a id="6319" href="Apartness.TightReflection.html#3793" class="Function Operator">♯&#39;</a> <a id="6322" href="Apartness.TightReflection.html#3051" class="Function">η</a> <a id="6324" href="Apartness.TightReflection.html#6291" class="Bound">y</a> <a id="6326" class="Symbol">→</a> <a id="6328" class="Symbol">(</a><a id="6329" href="Apartness.TightReflection.html#3051" class="Function">η</a> <a id="6331" href="Apartness.TightReflection.html#6146" class="Bound">x</a> <a id="6333" href="Apartness.TightReflection.html#3793" class="Function Operator">♯&#39;</a> <a id="6336" href="Apartness.TightReflection.html#6310" class="Bound">z&#39;</a><a id="6338" class="Symbol">)</a> <a id="6340" href="UF.PropTrunc.html#3076" class="Function Operator">∨</a> <a id="6342" class="Symbol">(</a><a id="6343" href="Apartness.TightReflection.html#3051" class="Function">η</a> <a id="6345" href="Apartness.TightReflection.html#6291" class="Bound">y</a> <a id="6347" href="Apartness.TightReflection.html#3793" class="Function Operator">♯&#39;</a> <a id="6350" href="Apartness.TightReflection.html#6310" class="Bound">z&#39;</a><a id="6352" class="Symbol">))</a>
                        <a id="6379" class="Symbol">(λ</a> <a id="6382" href="Apartness.TightReflection.html#6382" class="Bound">_</a> <a id="6384" class="Symbol">→</a> <a id="6386" href="UF.Subsingletons-FunExt.html#614" class="Function">Π-is-prop</a> <a id="6396" href="Apartness.TightReflection.html#924" class="Bound">fe</a> <a id="6399" class="Symbol">(λ</a> <a id="6402" href="Apartness.TightReflection.html#6402" class="Bound">_</a> <a id="6404" class="Symbol">→</a> <a id="6406" href="UF.PropTrunc.html#573" class="Field">∥∥-is-prop</a><a id="6416" class="Symbol">))</a>
                        <a id="6443" class="Symbol">(</a><a id="6444" href="Apartness.TightReflection.html#5617" class="Function">induction-step</a> <a id="6459" href="Apartness.TightReflection.html#6146" class="Bound">x</a> <a id="6461" href="Apartness.TightReflection.html#6291" class="Bound">y</a><a id="6462" class="Symbol">)))</a>

 <a id="tight-reflection.♯&#39;a"></a><a id="6468" href="Apartness.TightReflection.html#6468" class="Function">♯&#39;a</a> <a id="6472" class="Symbol">:</a> <a id="6474" href="Apartness.Definition.html#2746" class="Function">is-apartness</a> <a id="6487" href="Apartness.TightReflection.html#3793" class="Function Operator">_♯&#39;_</a>
 <a id="6493" href="Apartness.TightReflection.html#6468" class="Function">♯&#39;a</a> <a id="6497" class="Symbol">=</a> <a id="6499" class="Symbol">(</a><a id="6500" href="Apartness.TightReflection.html#4688" class="Function">♯&#39;p</a> <a id="6504" href="MLTT.Sigma.html#395" class="InductiveConstructor Operator">,</a> <a id="6506" href="Apartness.TightReflection.html#4738" class="Function">♯&#39;i</a> <a id="6510" href="MLTT.Sigma.html#395" class="InductiveConstructor Operator">,</a> <a id="6512" href="Apartness.TightReflection.html#5043" class="Function">♯&#39;s</a> <a id="6516" href="MLTT.Sigma.html#395" class="InductiveConstructor Operator">,</a> <a id="6518" href="Apartness.TightReflection.html#5552" class="Function">♯&#39;c</a><a id="6521" class="Symbol">)</a>

<a id="6524" class="Markup">\end{code}</a><a id="6534" class="Background">

The tightness of _♯&#39;_ cannot by proved by induction by reduction to
properties of _♯_, as above, because _♯_ is not (necessarily)
tight. We need to work with the definitions of X&#39; and _♯&#39;_ directly.

</a><a id="6736" class="Markup">\begin{code}</a>

 <a id="tight-reflection.♯&#39;t"></a><a id="6751" href="Apartness.TightReflection.html#6751" class="Function">♯&#39;t</a> <a id="6755" class="Symbol">:</a> <a id="6757" href="Apartness.Definition.html#613" class="Function">is-tight</a> <a id="6766" href="Apartness.TightReflection.html#3793" class="Function Operator">_♯&#39;_</a>
 <a id="6772" href="Apartness.TightReflection.html#6751" class="Function">♯&#39;t</a> <a id="6776" class="Symbol">(</a><a id="6777" href="Apartness.TightReflection.html#6777" class="Bound">u</a> <a id="6779" href="MLTT.Sigma.html#395" class="InductiveConstructor Operator">,</a> <a id="6781" href="Apartness.TightReflection.html#6781" class="Bound">e</a><a id="6782" class="Symbol">)</a> <a id="6784" class="Symbol">(</a><a id="6785" href="Apartness.TightReflection.html#6785" class="Bound">v</a> <a id="6787" href="MLTT.Sigma.html#395" class="InductiveConstructor Operator">,</a> <a id="6789" href="Apartness.TightReflection.html#6789" class="Bound">f</a><a id="6790" class="Symbol">)</a> <a id="6792" href="Apartness.TightReflection.html#6792" class="Bound">n</a> <a id="6794" class="Symbol">=</a> <a id="6796" href="UF.PropTrunc.html#676" class="Field">∥∥-rec</a> <a id="6803" href="Apartness.TightReflection.html#2920" class="Function">X&#39;-is-set</a> <a id="6813" class="Symbol">(λ</a> <a id="6816" href="Apartness.TightReflection.html#6816" class="Bound">σ</a> <a id="6818" class="Symbol">→</a> <a id="6820" href="UF.PropTrunc.html#676" class="Field">∥∥-rec</a> <a id="6827" href="Apartness.TightReflection.html#2920" class="Function">X&#39;-is-set</a> <a id="6837" class="Symbol">(</a><a id="6838" href="Apartness.TightReflection.html#6859" class="Function">h</a> <a id="6840" href="Apartness.TightReflection.html#6816" class="Bound">σ</a><a id="6841" class="Symbol">)</a> <a id="6843" href="Apartness.TightReflection.html#6789" class="Bound">f</a><a id="6844" class="Symbol">)</a> <a id="6846" href="Apartness.TightReflection.html#6781" class="Bound">e</a>
  <a id="6850" class="Keyword">where</a>
   <a id="6859" href="Apartness.TightReflection.html#6859" class="Function">h</a> <a id="6861" class="Symbol">:</a> <a id="6863" class="Symbol">(</a><a id="6864" href="MLTT.Sigma.html#423" class="Function">Σ</a> <a id="6866" href="Apartness.TightReflection.html#6866" class="Bound">x</a> <a id="6868" href="MLTT.Sigma.html#423" class="Function">꞉</a> <a id="6870" href="Apartness.TightReflection.html#972" class="Bound">X</a> <a id="6872" href="MLTT.Sigma.html#423" class="Function">,</a> <a id="6874" href="Apartness.TightReflection.html#1898" class="Function">α</a> <a id="6876" href="Apartness.TightReflection.html#6866" class="Bound">x</a> <a id="6878" href="MLTT.Id.html#193" class="Datatype Operator">＝</a> <a id="6880" href="Apartness.TightReflection.html#6777" class="Bound">u</a><a id="6881" class="Symbol">)</a> <a id="6883" class="Symbol">→</a> <a id="6885" class="Symbol">(</a><a id="6886" href="MLTT.Sigma.html#423" class="Function">Σ</a> <a id="6888" href="Apartness.TightReflection.html#6888" class="Bound">y</a> <a id="6890" href="MLTT.Sigma.html#423" class="Function">꞉</a> <a id="6892" href="Apartness.TightReflection.html#972" class="Bound">X</a> <a id="6894" href="MLTT.Sigma.html#423" class="Function">,</a> <a id="6896" href="Apartness.TightReflection.html#1898" class="Function">α</a> <a id="6898" href="Apartness.TightReflection.html#6888" class="Bound">y</a> <a id="6900" href="MLTT.Id.html#193" class="Datatype Operator">＝</a> <a id="6902" href="Apartness.TightReflection.html#6785" class="Bound">v</a><a id="6903" class="Symbol">)</a> <a id="6905" class="Symbol">→</a> <a id="6907" class="Symbol">(</a><a id="6908" href="Apartness.TightReflection.html#6777" class="Bound">u</a> <a id="6910" href="MLTT.Sigma.html#395" class="InductiveConstructor Operator">,</a> <a id="6912" href="Apartness.TightReflection.html#6781" class="Bound">e</a><a id="6913" class="Symbol">)</a> <a id="6915" href="MLTT.Id.html#193" class="Datatype Operator">＝</a> <a id="6917" class="Symbol">(</a><a id="6918" href="Apartness.TightReflection.html#6785" class="Bound">v</a> <a id="6920" href="MLTT.Sigma.html#395" class="InductiveConstructor Operator">,</a> <a id="6922" href="Apartness.TightReflection.html#6789" class="Bound">f</a><a id="6923" class="Symbol">)</a>
   <a id="6928" href="Apartness.TightReflection.html#6859" class="Function">h</a> <a id="6930" class="Symbol">(</a><a id="6931" href="Apartness.TightReflection.html#6931" class="Bound">x</a> <a id="6933" href="MLTT.Sigma.html#395" class="InductiveConstructor Operator">,</a> <a id="6935" href="Apartness.TightReflection.html#6935" class="Bound">p</a><a id="6936" class="Symbol">)</a> <a id="6938" class="Symbol">(</a><a id="6939" href="Apartness.TightReflection.html#6939" class="Bound">y</a> <a id="6941" href="MLTT.Sigma.html#395" class="InductiveConstructor Operator">,</a> <a id="6943" href="Apartness.TightReflection.html#6943" class="Bound">q</a><a id="6944" class="Symbol">)</a> <a id="6946" class="Symbol">=</a> <a id="6948" href="UF.Base.html#14568" class="Function">to-Σ-＝</a> <a id="6955" class="Symbol">(</a><a id="6956" href="Apartness.TightReflection.html#7130" class="Function">t</a> <a id="6958" href="MLTT.Sigma.html#395" class="InductiveConstructor Operator">,</a> <a id="6960" href="UF.PropTrunc.html#573" class="Field">∥∥-is-prop</a> <a id="6971" class="Symbol">_</a> <a id="6973" class="Symbol">_)</a>
    <a id="6980" class="Keyword">where</a>
     <a id="6991" href="Apartness.TightReflection.html#6991" class="Function">remark</a> <a id="6998" class="Symbol">:</a> <a id="7000" href="UF.PropTrunc.html#2489" class="Function">¬∃</a> <a id="7003" href="Apartness.TightReflection.html#7003" class="Bound">x</a> <a id="7005" href="UF.PropTrunc.html#2489" class="Function">꞉</a> <a id="7007" href="Apartness.TightReflection.html#972" class="Bound">X</a> <a id="7009" href="UF.PropTrunc.html#2489" class="Function">,</a> <a id="7011" href="MLTT.Sigma.html#423" class="Function">Σ</a> <a id="7013" href="Apartness.TightReflection.html#7013" class="Bound">y</a> <a id="7015" href="MLTT.Sigma.html#423" class="Function">꞉</a> <a id="7017" href="Apartness.TightReflection.html#972" class="Bound">X</a> <a id="7019" href="MLTT.Sigma.html#423" class="Function">,</a> <a id="7021" class="Symbol">(</a><a id="7022" href="Apartness.TightReflection.html#7003" class="Bound">x</a> <a id="7024" href="Apartness.TightReflection.html#991" class="Bound Operator">♯</a> <a id="7026" href="Apartness.TightReflection.html#7013" class="Bound">y</a><a id="7027" class="Symbol">)</a> <a id="7029" href="MLTT.Sigma.html#558" class="Function Operator">×</a> <a id="7031" class="Symbol">(</a><a id="7032" href="Apartness.TightReflection.html#1898" class="Function">α</a> <a id="7034" href="Apartness.TightReflection.html#7003" class="Bound">x</a> <a id="7036" href="MLTT.Id.html#193" class="Datatype Operator">＝</a> <a id="7038" href="Apartness.TightReflection.html#6777" class="Bound">u</a><a id="7039" class="Symbol">)</a> <a id="7041" href="MLTT.Sigma.html#558" class="Function Operator">×</a> <a id="7043" class="Symbol">(</a><a id="7044" href="Apartness.TightReflection.html#1898" class="Function">α</a> <a id="7046" href="Apartness.TightReflection.html#7013" class="Bound">y</a> <a id="7048" href="MLTT.Id.html#193" class="Datatype Operator">＝</a> <a id="7050" href="Apartness.TightReflection.html#6785" class="Bound">v</a><a id="7051" class="Symbol">)</a>
     <a id="7058" href="Apartness.TightReflection.html#6991" class="Function">remark</a> <a id="7065" class="Symbol">=</a> <a id="7067" href="Apartness.TightReflection.html#6792" class="Bound">n</a>

     <a id="7075" href="Apartness.TightReflection.html#7075" class="Function">r</a> <a id="7077" class="Symbol">:</a> <a id="7079" href="MLTT.Negation.html#278" class="Function Operator">¬</a> <a id="7081" class="Symbol">(</a><a id="7082" href="Apartness.TightReflection.html#6931" class="Bound">x</a> <a id="7084" href="Apartness.TightReflection.html#991" class="Bound Operator">♯</a> <a id="7086" href="Apartness.TightReflection.html#6939" class="Bound">y</a><a id="7087" class="Symbol">)</a>
     <a id="7094" href="Apartness.TightReflection.html#7075" class="Function">r</a> <a id="7096" href="Apartness.TightReflection.html#7096" class="Bound">a</a> <a id="7098" class="Symbol">=</a> <a id="7100" href="Apartness.TightReflection.html#6792" class="Bound">n</a> <a id="7102" href="UF.PropTrunc.html#630" class="Field Operator">∣</a> <a id="7104" href="Apartness.TightReflection.html#6931" class="Bound">x</a> <a id="7106" href="MLTT.Sigma.html#395" class="InductiveConstructor Operator">,</a> <a id="7108" href="Apartness.TightReflection.html#6939" class="Bound">y</a> <a id="7110" href="MLTT.Sigma.html#395" class="InductiveConstructor Operator">,</a> <a id="7112" href="Apartness.TightReflection.html#7096" class="Bound">a</a> <a id="7114" href="MLTT.Sigma.html#395" class="InductiveConstructor Operator">,</a> <a id="7116" href="Apartness.TightReflection.html#6935" class="Bound">p</a> <a id="7118" href="MLTT.Sigma.html#395" class="InductiveConstructor Operator">,</a> <a id="7120" href="Apartness.TightReflection.html#6943" class="Bound">q</a> <a id="7122" href="UF.PropTrunc.html#630" class="Field Operator">∣</a>

     <a id="7130" href="Apartness.TightReflection.html#7130" class="Function">t</a> <a id="7132" class="Symbol">:</a> <a id="7134" href="Apartness.TightReflection.html#6777" class="Bound">u</a> <a id="7136" href="MLTT.Id.html#193" class="Datatype Operator">＝</a> <a id="7138" href="Apartness.TightReflection.html#6785" class="Bound">v</a>
     <a id="7145" href="Apartness.TightReflection.html#7130" class="Function">t</a> <a id="7147" class="Symbol">=</a> <a id="7149" href="Apartness.TightReflection.html#6777" class="Bound">u</a>   <a id="7153" href="MLTT.Id.html#2239" class="Function Operator">＝⟨</a> <a id="7156" href="Apartness.TightReflection.html#6935" class="Bound">p</a> <a id="7158" href="MLTT.Id.html#1055" class="Function Operator">⁻¹</a> <a id="7161" href="MLTT.Id.html#2239" class="Function Operator">⟩</a>
         <a id="7172" href="Apartness.TightReflection.html#1898" class="Function">α</a> <a id="7174" href="Apartness.TightReflection.html#6931" class="Bound">x</a> <a id="7176" href="MLTT.Id.html#2239" class="Function Operator">＝⟨</a> <a id="7179" href="Apartness.TightReflection.html#2134" class="Function">α-lemma</a> <a id="7187" href="Apartness.TightReflection.html#6931" class="Bound">x</a> <a id="7189" href="Apartness.TightReflection.html#6939" class="Bound">y</a> <a id="7191" href="Apartness.TightReflection.html#7075" class="Function">r</a> <a id="7193" href="MLTT.Id.html#2239" class="Function Operator">⟩</a>
         <a id="7204" href="Apartness.TightReflection.html#1898" class="Function">α</a> <a id="7206" href="Apartness.TightReflection.html#6939" class="Bound">y</a> <a id="7208" href="MLTT.Id.html#2239" class="Function Operator">＝⟨</a> <a id="7211" href="Apartness.TightReflection.html#6943" class="Bound">q</a> <a id="7213" href="MLTT.Id.html#2239" class="Function Operator">⟩</a>
         <a id="7224" href="Apartness.TightReflection.html#6785" class="Bound">v</a>   <a id="7228" href="MLTT.Id.html#2321" class="Function Operator">∎</a>

<a id="7231" class="Markup">\end{code}</a><a id="7241" class="Background">

The tightness of _♯&#39;_ gives that η maps equivalent elements to equal
elements, and its irreflexity gives that elements with the same η
image are equivalent.

</a><a id="7401" class="Markup">\begin{code}</a>

 <a id="tight-reflection.η-equiv-gives-equal"></a><a id="7416" href="Apartness.TightReflection.html#7416" class="Function">η-equiv-gives-equal</a> <a id="7436" class="Symbol">:</a> <a id="7438" class="Symbol">{</a><a id="7439" href="Apartness.TightReflection.html#7439" class="Bound">x</a> <a id="7441" href="Apartness.TightReflection.html#7441" class="Bound">y</a> <a id="7443" class="Symbol">:</a> <a id="7445" href="Apartness.TightReflection.html#972" class="Bound">X</a><a id="7446" class="Symbol">}</a> <a id="7448" class="Symbol">→</a> <a id="7450" href="Apartness.TightReflection.html#7439" class="Bound">x</a> <a id="7452" href="Apartness.TightReflection.html#1249" class="Function Operator">~</a> <a id="7454" href="Apartness.TightReflection.html#7441" class="Bound">y</a> <a id="7456" class="Symbol">→</a> <a id="7458" href="Apartness.TightReflection.html#3051" class="Function">η</a> <a id="7460" href="Apartness.TightReflection.html#7439" class="Bound">x</a> <a id="7462" href="MLTT.Id.html#193" class="Datatype Operator">＝</a> <a id="7464" href="Apartness.TightReflection.html#3051" class="Function">η</a> <a id="7466" href="Apartness.TightReflection.html#7441" class="Bound">y</a>
 <a id="7469" href="Apartness.TightReflection.html#7416" class="Function">η-equiv-gives-equal</a> <a id="7489" class="Symbol">=</a> <a id="7491" href="Apartness.TightReflection.html#6751" class="Function">♯&#39;t</a> <a id="7495" class="Symbol">_</a> <a id="7497" class="Symbol">_</a> <a id="7499" href="MLTT.Pi.html#513" class="Function Operator">∘</a> <a id="7501" href="MLTT.Negation.html#1240" class="Function">contrapositive</a> <a id="7516" class="Symbol">(</a><a id="7517" href="Apartness.TightReflection.html#4074" class="Function">η-is-strongly-extensional</a> <a id="7543" class="Symbol">_</a> <a id="7545" class="Symbol">_)</a>

 <a id="tight-reflection.η-equal-gives-equiv"></a><a id="7550" href="Apartness.TightReflection.html#7550" class="Function">η-equal-gives-equiv</a> <a id="7570" class="Symbol">:</a> <a id="7572" class="Symbol">{</a><a id="7573" href="Apartness.TightReflection.html#7573" class="Bound">x</a> <a id="7575" href="Apartness.TightReflection.html#7575" class="Bound">y</a> <a id="7577" class="Symbol">:</a> <a id="7579" href="Apartness.TightReflection.html#972" class="Bound">X</a><a id="7580" class="Symbol">}</a> <a id="7582" class="Symbol">→</a> <a id="7584" href="Apartness.TightReflection.html#3051" class="Function">η</a> <a id="7586" href="Apartness.TightReflection.html#7573" class="Bound">x</a> <a id="7588" href="MLTT.Id.html#193" class="Datatype Operator">＝</a> <a id="7590" href="Apartness.TightReflection.html#3051" class="Function">η</a> <a id="7592" href="Apartness.TightReflection.html#7575" class="Bound">y</a> <a id="7594" class="Symbol">→</a> <a id="7596" href="Apartness.TightReflection.html#7573" class="Bound">x</a> <a id="7598" href="Apartness.TightReflection.html#1249" class="Function Operator">~</a> <a id="7600" href="Apartness.TightReflection.html#7575" class="Bound">y</a>
 <a id="7603" href="Apartness.TightReflection.html#7550" class="Function">η-equal-gives-equiv</a> <a id="7623" class="Symbol">{</a><a id="7624" href="Apartness.TightReflection.html#7624" class="Bound">x</a><a id="7625" class="Symbol">}</a> <a id="7627" class="Symbol">{</a><a id="7628" href="Apartness.TightReflection.html#7628" class="Bound">y</a><a id="7629" class="Symbol">}</a> <a id="7631" href="Apartness.TightReflection.html#7631" class="Bound">p</a> <a id="7633" href="Apartness.TightReflection.html#7633" class="Bound">a</a> <a id="7635" class="Symbol">=</a> <a id="7637" href="Apartness.TightReflection.html#4738" class="Function">♯&#39;i</a>
                                    <a id="7677" class="Symbol">(</a><a id="7678" href="Apartness.TightReflection.html#3051" class="Function">η</a> <a id="7680" href="Apartness.TightReflection.html#7628" class="Bound">y</a><a id="7681" class="Symbol">)</a>
                                    <a id="7719" class="Symbol">(</a><a id="7720" href="MLTT.Id.html#735" class="Function">transport</a> <a id="7730" class="Symbol">(λ</a> <a id="7733" href="Apartness.TightReflection.html#7733" class="Bound">-</a> <a id="7735" class="Symbol">→</a> <a id="7737" href="Apartness.TightReflection.html#7733" class="Bound">-</a> <a id="7739" href="Apartness.TightReflection.html#3793" class="Function Operator">♯&#39;</a> <a id="7742" href="Apartness.TightReflection.html#3051" class="Function">η</a> <a id="7744" href="Apartness.TightReflection.html#7628" class="Bound">y</a><a id="7745" class="Symbol">)</a>
                                    <a id="7783" href="Apartness.TightReflection.html#7631" class="Bound">p</a>
                                    <a id="7821" class="Symbol">(</a><a id="7822" href="Apartness.TightReflection.html#3964" class="Function">η-preserves-apartness</a> <a id="7844" href="Apartness.TightReflection.html#7633" class="Bound">a</a><a id="7845" class="Symbol">))</a>

<a id="7849" class="Markup">\end{code}</a><a id="7859" class="Background">

We now show that the above data provide the tight reflection, or
universal strongly extensional map from X to tight apartness types,
where unique existence is expressed by saying that a Σ type is a
singleton, as usual in univalent mathematics and homotopy type
theory. Notice the use of η-induction to avoid dealing directly with
the details of the constructions performed above.

</a><a id="8242" class="Markup">\begin{code}</a>

 <a id="8257" class="Keyword">module</a> <a id="8264" href="Apartness.TightReflection.html#8264" class="Module">_</a>
         <a id="8275" class="Symbol">{</a><a id="8276" href="Apartness.TightReflection.html#8276" class="Bound">𝓦</a> <a id="8278" href="Apartness.TightReflection.html#8278" class="Bound">𝓣</a> <a id="8280" class="Symbol">:</a> <a id="8282" href="Agda.Primitive.html#742" class="Postulate">Universe</a><a id="8290" class="Symbol">}</a>
         <a id="8301" class="Symbol">(</a><a id="8302" href="Apartness.TightReflection.html#8302" class="Bound">A</a> <a id="8304" class="Symbol">:</a> <a id="8306" href="Apartness.TightReflection.html#8276" class="Bound">𝓦</a> <a id="8308" href="MLTT.Universes.html#3976" class="Function Operator">̇</a> <a id="8310" class="Symbol">)</a>
         <a id="8321" class="Symbol">(</a><a id="8322" href="Apartness.TightReflection.html#8322" class="Bound Operator">_♯ᴬ_</a> <a id="8327" class="Symbol">:</a> <a id="8329" href="Apartness.TightReflection.html#8302" class="Bound">A</a> <a id="8331" class="Symbol">→</a> <a id="8333" href="Apartness.TightReflection.html#8302" class="Bound">A</a> <a id="8335" class="Symbol">→</a> <a id="8337" href="Apartness.TightReflection.html#8278" class="Bound">𝓣</a> <a id="8339" href="MLTT.Universes.html#3976" class="Function Operator">̇</a> <a id="8341" class="Symbol">)</a>
         <a id="8352" class="Symbol">(</a><a id="8353" href="Apartness.TightReflection.html#8353" class="Bound">♯ᴬa</a> <a id="8357" class="Symbol">:</a> <a id="8359" href="Apartness.Definition.html#2746" class="Function">is-apartness</a> <a id="8372" href="Apartness.TightReflection.html#8322" class="Bound Operator">_♯ᴬ_</a><a id="8376" class="Symbol">)</a>
         <a id="8387" class="Symbol">(</a><a id="8388" href="Apartness.TightReflection.html#8388" class="Bound">♯ᴬt</a> <a id="8392" class="Symbol">:</a> <a id="8394" href="Apartness.Definition.html#613" class="Function">is-tight</a> <a id="8403" href="Apartness.TightReflection.html#8322" class="Bound Operator">_♯ᴬ_</a><a id="8407" class="Symbol">)</a>
         <a id="8418" class="Symbol">(</a><a id="8419" href="Apartness.TightReflection.html#8419" class="Bound">f</a> <a id="8421" class="Symbol">:</a> <a id="8423" href="Apartness.TightReflection.html#972" class="Bound">X</a> <a id="8425" class="Symbol">→</a> <a id="8427" href="Apartness.TightReflection.html#8302" class="Bound">A</a><a id="8428" class="Symbol">)</a>
         <a id="8439" class="Symbol">(</a><a id="8440" href="Apartness.TightReflection.html#8440" class="Bound">f-is-strongly-extensional</a> <a id="8466" class="Symbol">:</a> <a id="8468" href="Apartness.Morphisms.html#494" class="Function">is-strongly-extensional</a> <a id="8492" href="Apartness.TightReflection.html#991" class="Bound Operator">_♯_</a> <a id="8496" href="Apartness.TightReflection.html#8322" class="Bound Operator">_♯ᴬ_</a> <a id="8501" href="Apartness.TightReflection.html#8419" class="Bound">f</a><a id="8502" class="Symbol">)</a>
        <a id="8512" class="Keyword">where</a>

  <a id="8521" class="Keyword">private</a>
   <a id="8532" href="Apartness.TightReflection.html#8532" class="Function">A-is-set</a> <a id="8541" class="Symbol">:</a> <a id="8543" href="UF.Sets.html#709" class="Function">is-set</a> <a id="8550" href="Apartness.TightReflection.html#8302" class="Bound">A</a>
   <a id="8555" href="Apartness.TightReflection.html#8532" class="Function">A-is-set</a> <a id="8564" class="Symbol">=</a> <a id="8566" href="Apartness.Definition.html#6905" class="Function">tight-types-are-sets</a> <a id="8587" href="Apartness.TightReflection.html#8322" class="Bound Operator">_♯ᴬ_</a> <a id="8592" href="Apartness.TightReflection.html#924" class="Bound">fe</a> <a id="8595" href="Apartness.TightReflection.html#8353" class="Bound">♯ᴬa</a> <a id="8599" href="Apartness.TightReflection.html#8388" class="Bound">♯ᴬt</a>

   <a id="8607" href="Apartness.TightReflection.html#8607" class="Function">f-transforms-~-into-=</a> <a id="8629" class="Symbol">:</a> <a id="8631" class="Symbol">{</a><a id="8632" href="Apartness.TightReflection.html#8632" class="Bound">x</a> <a id="8634" href="Apartness.TightReflection.html#8634" class="Bound">y</a> <a id="8636" class="Symbol">:</a> <a id="8638" href="Apartness.TightReflection.html#972" class="Bound">X</a><a id="8639" class="Symbol">}</a> <a id="8641" class="Symbol">→</a> <a id="8643" href="Apartness.TightReflection.html#8632" class="Bound">x</a> <a id="8645" href="Apartness.TightReflection.html#1249" class="Function Operator">~</a> <a id="8647" href="Apartness.TightReflection.html#8634" class="Bound">y</a> <a id="8649" class="Symbol">→</a> <a id="8651" href="Apartness.TightReflection.html#8419" class="Bound">f</a> <a id="8653" href="Apartness.TightReflection.html#8632" class="Bound">x</a> <a id="8655" href="MLTT.Id.html#193" class="Datatype Operator">＝</a> <a id="8657" href="Apartness.TightReflection.html#8419" class="Bound">f</a> <a id="8659" href="Apartness.TightReflection.html#8634" class="Bound">y</a>
   <a id="8664" href="Apartness.TightReflection.html#8607" class="Function">f-transforms-~-into-=</a> <a id="8686" class="Symbol">=</a> <a id="8688" href="Apartness.TightReflection.html#8388" class="Bound">♯ᴬt</a> <a id="8692" class="Symbol">_</a> <a id="8694" class="Symbol">_</a> <a id="8696" href="MLTT.Pi.html#513" class="Function Operator">∘</a> <a id="8698" href="MLTT.Negation.html#1240" class="Function">contrapositive</a> <a id="8713" class="Symbol">(</a><a id="8714" href="Apartness.TightReflection.html#8440" class="Bound">f-is-strongly-extensional</a> <a id="8740" class="Symbol">_</a> <a id="8742" class="Symbol">_)</a>

  <a id="8748" href="Apartness.TightReflection.html#8748" class="Function">tr-lemma</a> <a id="8757" class="Symbol">:</a> <a id="8759" class="Symbol">(</a><a id="8760" href="Apartness.TightReflection.html#8760" class="Bound">x&#39;</a> <a id="8763" class="Symbol">:</a> <a id="8765" href="Apartness.TightReflection.html#2717" class="Function">X&#39;</a><a id="8767" class="Symbol">)</a> <a id="8769" class="Symbol">→</a> <a id="8771" href="UF.Subsingletons.html#469" class="Function">is-prop</a> <a id="8779" class="Symbol">(</a><a id="8780" href="MLTT.Sigma.html#423" class="Function">Σ</a> <a id="8782" href="Apartness.TightReflection.html#8782" class="Bound">a</a> <a id="8784" href="MLTT.Sigma.html#423" class="Function">꞉</a> <a id="8786" href="Apartness.TightReflection.html#8302" class="Bound">A</a> <a id="8788" href="MLTT.Sigma.html#423" class="Function">,</a> <a id="8790" href="UF.PropTrunc.html#2407" class="Function">∃</a> <a id="8792" href="Apartness.TightReflection.html#8792" class="Bound">x</a> <a id="8794" href="UF.PropTrunc.html#2407" class="Function">꞉</a> <a id="8796" href="Apartness.TightReflection.html#972" class="Bound">X</a> <a id="8798" href="UF.PropTrunc.html#2407" class="Function">,</a> <a id="8800" class="Symbol">(</a><a id="8801" href="Apartness.TightReflection.html#3051" class="Function">η</a> <a id="8803" href="Apartness.TightReflection.html#8792" class="Bound">x</a> <a id="8805" href="MLTT.Id.html#193" class="Datatype Operator">＝</a> <a id="8807" href="Apartness.TightReflection.html#8760" class="Bound">x&#39;</a><a id="8809" class="Symbol">)</a> <a id="8811" href="MLTT.Sigma.html#558" class="Function Operator">×</a> <a id="8813" class="Symbol">(</a><a id="8814" href="Apartness.TightReflection.html#8419" class="Bound">f</a> <a id="8816" href="Apartness.TightReflection.html#8792" class="Bound">x</a> <a id="8818" href="MLTT.Id.html#193" class="Datatype Operator">＝</a> <a id="8820" href="Apartness.TightReflection.html#8782" class="Bound">a</a><a id="8821" class="Symbol">))</a>
  <a id="8826" href="Apartness.TightReflection.html#8748" class="Function">tr-lemma</a> <a id="8835" class="Symbol">=</a> <a id="8837" href="Apartness.TightReflection.html#3512" class="Function">η-induction</a> <a id="8849" class="Symbol">_</a> <a id="8851" href="Apartness.TightReflection.html#8883" class="Function">p</a> <a id="8853" href="Apartness.TightReflection.html#9009" class="Function">induction-step</a>
    <a id="8872" class="Keyword">where</a>
     <a id="8883" href="Apartness.TightReflection.html#8883" class="Function">p</a> <a id="8885" class="Symbol">:</a> <a id="8887" class="Symbol">(</a><a id="8888" href="Apartness.TightReflection.html#8888" class="Bound">x&#39;</a> <a id="8891" class="Symbol">:</a> <a id="8893" href="Apartness.TightReflection.html#2717" class="Function">X&#39;</a><a id="8895" class="Symbol">)</a>
       <a id="8904" class="Symbol">→</a> <a id="8906" href="UF.Subsingletons.html#469" class="Function">is-prop</a> <a id="8914" class="Symbol">(</a><a id="8915" href="UF.Subsingletons.html#469" class="Function">is-prop</a> <a id="8923" class="Symbol">(</a><a id="8924" href="MLTT.Sigma.html#423" class="Function">Σ</a> <a id="8926" href="Apartness.TightReflection.html#8926" class="Bound">a</a> <a id="8928" href="MLTT.Sigma.html#423" class="Function">꞉</a> <a id="8930" href="Apartness.TightReflection.html#8302" class="Bound">A</a> <a id="8932" href="MLTT.Sigma.html#423" class="Function">,</a> <a id="8934" href="UF.PropTrunc.html#2407" class="Function">∃</a> <a id="8936" href="Apartness.TightReflection.html#8936" class="Bound">x</a> <a id="8938" href="UF.PropTrunc.html#2407" class="Function">꞉</a> <a id="8940" href="Apartness.TightReflection.html#972" class="Bound">X</a> <a id="8942" href="UF.PropTrunc.html#2407" class="Function">,</a> <a id="8944" class="Symbol">(</a><a id="8945" href="Apartness.TightReflection.html#3051" class="Function">η</a> <a id="8947" href="Apartness.TightReflection.html#8936" class="Bound">x</a> <a id="8949" href="MLTT.Id.html#193" class="Datatype Operator">＝</a> <a id="8951" href="Apartness.TightReflection.html#8888" class="Bound">x&#39;</a><a id="8953" class="Symbol">)</a> <a id="8955" href="MLTT.Sigma.html#558" class="Function Operator">×</a> <a id="8957" class="Symbol">(</a><a id="8958" href="Apartness.TightReflection.html#8419" class="Bound">f</a> <a id="8960" href="Apartness.TightReflection.html#8936" class="Bound">x</a> <a id="8962" href="MLTT.Id.html#193" class="Datatype Operator">＝</a> <a id="8964" href="Apartness.TightReflection.html#8926" class="Bound">a</a><a id="8965" class="Symbol">)))</a>
     <a id="8974" href="Apartness.TightReflection.html#8883" class="Function">p</a> <a id="8976" href="Apartness.TightReflection.html#8976" class="Bound">x&#39;</a> <a id="8979" class="Symbol">=</a> <a id="8981" href="UF.Subsingletons-FunExt.html#1368" class="Function">being-prop-is-prop</a> <a id="9000" href="Apartness.TightReflection.html#924" class="Bound">fe</a>

     <a id="9009" href="Apartness.TightReflection.html#9009" class="Function">induction-step</a> <a id="9024" class="Symbol">:</a> <a id="9026" class="Symbol">(</a><a id="9027" href="Apartness.TightReflection.html#9027" class="Bound">y</a> <a id="9029" class="Symbol">:</a> <a id="9031" href="Apartness.TightReflection.html#972" class="Bound">X</a><a id="9032" class="Symbol">)</a>
                    <a id="9054" class="Symbol">→</a> <a id="9056" href="UF.Subsingletons.html#469" class="Function">is-prop</a> <a id="9064" class="Symbol">(</a><a id="9065" href="MLTT.Sigma.html#423" class="Function">Σ</a> <a id="9067" href="Apartness.TightReflection.html#9067" class="Bound">a</a> <a id="9069" href="MLTT.Sigma.html#423" class="Function">꞉</a> <a id="9071" href="Apartness.TightReflection.html#8302" class="Bound">A</a> <a id="9073" href="MLTT.Sigma.html#423" class="Function">,</a> <a id="9075" href="UF.PropTrunc.html#2407" class="Function">∃</a> <a id="9077" href="Apartness.TightReflection.html#9077" class="Bound">x</a> <a id="9079" href="UF.PropTrunc.html#2407" class="Function">꞉</a> <a id="9081" href="Apartness.TightReflection.html#972" class="Bound">X</a> <a id="9083" href="UF.PropTrunc.html#2407" class="Function">,</a> <a id="9085" class="Symbol">(</a><a id="9086" href="Apartness.TightReflection.html#3051" class="Function">η</a> <a id="9088" href="Apartness.TightReflection.html#9077" class="Bound">x</a> <a id="9090" href="MLTT.Id.html#193" class="Datatype Operator">＝</a> <a id="9092" href="Apartness.TightReflection.html#3051" class="Function">η</a> <a id="9094" href="Apartness.TightReflection.html#9027" class="Bound">y</a><a id="9095" class="Symbol">)</a> <a id="9097" href="MLTT.Sigma.html#558" class="Function Operator">×</a> <a id="9099" class="Symbol">(</a><a id="9100" href="Apartness.TightReflection.html#8419" class="Bound">f</a> <a id="9102" href="Apartness.TightReflection.html#9077" class="Bound">x</a> <a id="9104" href="MLTT.Id.html#193" class="Datatype Operator">＝</a> <a id="9106" href="Apartness.TightReflection.html#9067" class="Bound">a</a><a id="9107" class="Symbol">))</a>
     <a id="9115" href="Apartness.TightReflection.html#9009" class="Function">induction-step</a> <a id="9130" href="Apartness.TightReflection.html#9130" class="Bound">x</a> <a id="9132" class="Symbol">(</a><a id="9133" href="Apartness.TightReflection.html#9133" class="Bound">a</a> <a id="9135" href="MLTT.Sigma.html#395" class="InductiveConstructor Operator">,</a> <a id="9137" href="Apartness.TightReflection.html#9137" class="Bound">d</a><a id="9138" class="Symbol">)</a> <a id="9140" class="Symbol">(</a><a id="9141" href="Apartness.TightReflection.html#9141" class="Bound">b</a> <a id="9143" href="MLTT.Sigma.html#395" class="InductiveConstructor Operator">,</a> <a id="9145" href="Apartness.TightReflection.html#9145" class="Bound">e</a><a id="9146" class="Symbol">)</a> <a id="9148" class="Symbol">=</a> <a id="9150" href="UF.Base.html#14568" class="Function">to-Σ-＝</a> <a id="9157" class="Symbol">(</a><a id="9158" href="Apartness.TightReflection.html#9646" class="Function">IV</a> <a id="9161" href="MLTT.Sigma.html#395" class="InductiveConstructor Operator">,</a> <a id="9163" href="UF.PropTrunc.html#573" class="Field">∥∥-is-prop</a> <a id="9174" class="Symbol">_</a> <a id="9176" class="Symbol">_)</a>
      <a id="9185" class="Keyword">where</a>
       <a id="9198" href="Apartness.TightReflection.html#9198" class="Function">I</a> <a id="9200" class="Symbol">:</a> <a id="9202" class="Symbol">(</a><a id="9203" href="MLTT.Sigma.html#423" class="Function">Σ</a> <a id="9205" href="Apartness.TightReflection.html#9205" class="Bound">x&#39;</a> <a id="9208" href="MLTT.Sigma.html#423" class="Function">꞉</a> <a id="9210" href="Apartness.TightReflection.html#972" class="Bound">X</a> <a id="9212" href="MLTT.Sigma.html#423" class="Function">,</a> <a id="9214" class="Symbol">(</a><a id="9215" href="Apartness.TightReflection.html#3051" class="Function">η</a> <a id="9217" href="Apartness.TightReflection.html#9205" class="Bound">x&#39;</a> <a id="9220" href="MLTT.Id.html#193" class="Datatype Operator">＝</a> <a id="9222" href="Apartness.TightReflection.html#3051" class="Function">η</a> <a id="9224" href="Apartness.TightReflection.html#9130" class="Bound">x</a><a id="9225" class="Symbol">)</a> <a id="9227" href="MLTT.Sigma.html#558" class="Function Operator">×</a> <a id="9229" class="Symbol">(</a><a id="9230" href="Apartness.TightReflection.html#8419" class="Bound">f</a> <a id="9232" href="Apartness.TightReflection.html#9205" class="Bound">x&#39;</a> <a id="9235" href="MLTT.Id.html#193" class="Datatype Operator">＝</a> <a id="9237" href="Apartness.TightReflection.html#9133" class="Bound">a</a><a id="9238" class="Symbol">))</a>
         <a id="9250" class="Symbol">→</a> <a id="9252" class="Symbol">(</a><a id="9253" href="MLTT.Sigma.html#423" class="Function">Σ</a> <a id="9255" href="Apartness.TightReflection.html#9255" class="Bound">y&#39;</a> <a id="9258" href="MLTT.Sigma.html#423" class="Function">꞉</a> <a id="9260" href="Apartness.TightReflection.html#972" class="Bound">X</a> <a id="9262" href="MLTT.Sigma.html#423" class="Function">,</a> <a id="9264" class="Symbol">(</a><a id="9265" href="Apartness.TightReflection.html#3051" class="Function">η</a> <a id="9267" href="Apartness.TightReflection.html#9255" class="Bound">y&#39;</a> <a id="9270" href="MLTT.Id.html#193" class="Datatype Operator">＝</a> <a id="9272" href="Apartness.TightReflection.html#3051" class="Function">η</a> <a id="9274" href="Apartness.TightReflection.html#9130" class="Bound">x</a><a id="9275" class="Symbol">)</a> <a id="9277" href="MLTT.Sigma.html#558" class="Function Operator">×</a> <a id="9279" class="Symbol">(</a><a id="9280" href="Apartness.TightReflection.html#8419" class="Bound">f</a> <a id="9282" href="Apartness.TightReflection.html#9255" class="Bound">y&#39;</a> <a id="9285" href="MLTT.Id.html#193" class="Datatype Operator">＝</a> <a id="9287" href="Apartness.TightReflection.html#9141" class="Bound">b</a><a id="9288" class="Symbol">))</a>
         <a id="9300" class="Symbol">→</a> <a id="9302" href="Apartness.TightReflection.html#9133" class="Bound">a</a> <a id="9304" href="MLTT.Id.html#193" class="Datatype Operator">＝</a> <a id="9306" href="Apartness.TightReflection.html#9141" class="Bound">b</a>
       <a id="9315" href="Apartness.TightReflection.html#9198" class="Function">I</a> <a id="9317" class="Symbol">(</a><a id="9318" href="Apartness.TightReflection.html#9318" class="Bound">x&#39;</a> <a id="9321" href="MLTT.Sigma.html#395" class="InductiveConstructor Operator">,</a> <a id="9323" href="Apartness.TightReflection.html#9323" class="Bound">r</a> <a id="9325" href="MLTT.Sigma.html#395" class="InductiveConstructor Operator">,</a> <a id="9327" href="Apartness.TightReflection.html#9327" class="Bound">s</a><a id="9328" class="Symbol">)</a> <a id="9330" class="Symbol">(</a><a id="9331" href="Apartness.TightReflection.html#9331" class="Bound">y&#39;</a> <a id="9334" href="MLTT.Sigma.html#395" class="InductiveConstructor Operator">,</a> <a id="9336" href="Apartness.TightReflection.html#9336" class="Bound">t</a> <a id="9338" href="MLTT.Sigma.html#395" class="InductiveConstructor Operator">,</a> <a id="9340" href="Apartness.TightReflection.html#9340" class="Bound">u</a><a id="9341" class="Symbol">)</a> <a id="9343" class="Symbol">=</a>
        <a id="9353" href="Apartness.TightReflection.html#9133" class="Bound">a</a>    <a id="9358" href="MLTT.Id.html#2239" class="Function Operator">＝⟨</a> <a id="9361" href="Apartness.TightReflection.html#9327" class="Bound">s</a> <a id="9363" href="MLTT.Id.html#1055" class="Function Operator">⁻¹</a> <a id="9366" href="MLTT.Id.html#2239" class="Function Operator">⟩</a>
        <a id="9376" href="Apartness.TightReflection.html#8419" class="Bound">f</a> <a id="9378" href="Apartness.TightReflection.html#9318" class="Bound">x&#39;</a> <a id="9381" href="MLTT.Id.html#2239" class="Function Operator">＝⟨</a> <a id="9384" href="Apartness.TightReflection.html#8607" class="Function">f-transforms-~-into-=</a> <a id="9406" href="Apartness.TightReflection.html#9584" class="Function">III</a> <a id="9410" href="MLTT.Id.html#2239" class="Function Operator">⟩</a>
        <a id="9420" href="Apartness.TightReflection.html#8419" class="Bound">f</a> <a id="9422" href="Apartness.TightReflection.html#9331" class="Bound">y&#39;</a> <a id="9425" href="MLTT.Id.html#2239" class="Function Operator">＝⟨</a> <a id="9428" href="Apartness.TightReflection.html#9340" class="Bound">u</a> <a id="9430" href="MLTT.Id.html#2239" class="Function Operator">⟩</a>
        <a id="9440" href="Apartness.TightReflection.html#9141" class="Bound">b</a>    <a id="9445" href="MLTT.Id.html#2321" class="Function Operator">∎</a>
         <a id="9456" class="Keyword">where</a>
           <a id="9473" href="Apartness.TightReflection.html#9473" class="Function">II</a> <a id="9476" class="Symbol">:</a> <a id="9478" href="Apartness.TightReflection.html#3051" class="Function">η</a> <a id="9480" href="Apartness.TightReflection.html#9318" class="Bound">x&#39;</a> <a id="9483" href="MLTT.Id.html#193" class="Datatype Operator">＝</a> <a id="9485" href="Apartness.TightReflection.html#3051" class="Function">η</a> <a id="9487" href="Apartness.TightReflection.html#9331" class="Bound">y&#39;</a>
           <a id="9501" href="Apartness.TightReflection.html#9473" class="Function">II</a> <a id="9504" class="Symbol">=</a> <a id="9506" href="Apartness.TightReflection.html#3051" class="Function">η</a> <a id="9508" href="Apartness.TightReflection.html#9318" class="Bound">x&#39;</a> <a id="9511" href="MLTT.Id.html#2239" class="Function Operator">＝⟨</a> <a id="9514" href="Apartness.TightReflection.html#9323" class="Bound">r</a> <a id="9516" href="MLTT.Id.html#2239" class="Function Operator">⟩</a>
                <a id="9534" href="Apartness.TightReflection.html#3051" class="Function">η</a> <a id="9536" href="Apartness.TightReflection.html#9130" class="Bound">x</a>  <a id="9539" href="MLTT.Id.html#2239" class="Function Operator">＝⟨</a> <a id="9542" href="Apartness.TightReflection.html#9336" class="Bound">t</a> <a id="9544" href="MLTT.Id.html#1055" class="Function Operator">⁻¹</a> <a id="9547" href="MLTT.Id.html#2239" class="Function Operator">⟩</a>
                <a id="9565" href="Apartness.TightReflection.html#3051" class="Function">η</a> <a id="9567" href="Apartness.TightReflection.html#9331" class="Bound">y&#39;</a> <a id="9570" href="MLTT.Id.html#2321" class="Function Operator">∎</a>

           <a id="9584" href="Apartness.TightReflection.html#9584" class="Function">III</a> <a id="9588" class="Symbol">:</a> <a id="9590" href="Apartness.TightReflection.html#9318" class="Bound">x&#39;</a> <a id="9593" href="Apartness.TightReflection.html#1249" class="Function Operator">~</a> <a id="9595" href="Apartness.TightReflection.html#9331" class="Bound">y&#39;</a>
           <a id="9609" href="Apartness.TightReflection.html#9584" class="Function">III</a> <a id="9613" class="Symbol">=</a> <a id="9615" href="Apartness.TightReflection.html#7550" class="Function">η-equal-gives-equiv</a> <a id="9635" href="Apartness.TightReflection.html#9473" class="Function">II</a>

       <a id="9646" href="Apartness.TightReflection.html#9646" class="Function">IV</a> <a id="9649" class="Symbol">:</a> <a id="9651" href="Apartness.TightReflection.html#9133" class="Bound">a</a> <a id="9653" href="MLTT.Id.html#193" class="Datatype Operator">＝</a> <a id="9655" href="Apartness.TightReflection.html#9141" class="Bound">b</a>
       <a id="9664" href="Apartness.TightReflection.html#9646" class="Function">IV</a> <a id="9667" class="Symbol">=</a> <a id="9669" href="UF.PropTrunc.html#676" class="Field">∥∥-rec</a> <a id="9676" href="Apartness.TightReflection.html#8532" class="Function">A-is-set</a> <a id="9685" class="Symbol">(λ</a> <a id="9688" href="Apartness.TightReflection.html#9688" class="Bound">σ</a> <a id="9690" class="Symbol">→</a> <a id="9692" href="UF.PropTrunc.html#676" class="Field">∥∥-rec</a> <a id="9699" href="Apartness.TightReflection.html#8532" class="Function">A-is-set</a> <a id="9708" class="Symbol">(</a><a id="9709" href="Apartness.TightReflection.html#9198" class="Function">I</a> <a id="9711" href="Apartness.TightReflection.html#9688" class="Bound">σ</a><a id="9712" class="Symbol">)</a> <a id="9714" href="Apartness.TightReflection.html#9145" class="Bound">e</a><a id="9715" class="Symbol">)</a> <a id="9717" href="Apartness.TightReflection.html#9137" class="Bound">d</a>

  <a id="9722" href="Apartness.TightReflection.html#9722" class="Function">tr-construction</a> <a id="9738" class="Symbol">:</a> <a id="9740" class="Symbol">(</a><a id="9741" href="Apartness.TightReflection.html#9741" class="Bound">x&#39;</a> <a id="9744" class="Symbol">:</a> <a id="9746" href="Apartness.TightReflection.html#2717" class="Function">X&#39;</a><a id="9748" class="Symbol">)</a> <a id="9750" class="Symbol">→</a> <a id="9752" href="MLTT.Sigma.html#423" class="Function">Σ</a> <a id="9754" href="Apartness.TightReflection.html#9754" class="Bound">a</a> <a id="9756" href="MLTT.Sigma.html#423" class="Function">꞉</a> <a id="9758" href="Apartness.TightReflection.html#8302" class="Bound">A</a> <a id="9760" href="MLTT.Sigma.html#423" class="Function">,</a> <a id="9762" href="UF.PropTrunc.html#2407" class="Function">∃</a> <a id="9764" href="Apartness.TightReflection.html#9764" class="Bound">x</a> <a id="9766" href="UF.PropTrunc.html#2407" class="Function">꞉</a> <a id="9768" href="Apartness.TightReflection.html#972" class="Bound">X</a> <a id="9770" href="UF.PropTrunc.html#2407" class="Function">,</a> <a id="9772" class="Symbol">(</a><a id="9773" href="Apartness.TightReflection.html#3051" class="Function">η</a> <a id="9775" href="Apartness.TightReflection.html#9764" class="Bound">x</a> <a id="9777" href="MLTT.Id.html#193" class="Datatype Operator">＝</a> <a id="9779" href="Apartness.TightReflection.html#9741" class="Bound">x&#39;</a><a id="9781" class="Symbol">)</a> <a id="9783" href="MLTT.Sigma.html#558" class="Function Operator">×</a> <a id="9785" class="Symbol">(</a><a id="9786" href="Apartness.TightReflection.html#8419" class="Bound">f</a> <a id="9788" href="Apartness.TightReflection.html#9764" class="Bound">x</a> <a id="9790" href="MLTT.Id.html#193" class="Datatype Operator">＝</a> <a id="9792" href="Apartness.TightReflection.html#9754" class="Bound">a</a><a id="9793" class="Symbol">)</a>
  <a id="9797" href="Apartness.TightReflection.html#9722" class="Function">tr-construction</a> <a id="9813" class="Symbol">=</a> <a id="9815" href="Apartness.TightReflection.html#3512" class="Function">η-induction</a> <a id="9827" class="Symbol">_</a> <a id="9829" href="Apartness.TightReflection.html#8748" class="Function">tr-lemma</a> <a id="9838" href="Apartness.TightReflection.html#9866" class="Function">induction-step</a>
   <a id="9856" class="Keyword">where</a>
    <a id="9866" href="Apartness.TightReflection.html#9866" class="Function">induction-step</a> <a id="9881" class="Symbol">:</a> <a id="9883" class="Symbol">(</a><a id="9884" href="Apartness.TightReflection.html#9884" class="Bound">y</a> <a id="9886" class="Symbol">:</a> <a id="9888" href="Apartness.TightReflection.html#972" class="Bound">X</a><a id="9889" class="Symbol">)</a> <a id="9891" class="Symbol">→</a> <a id="9893" href="MLTT.Sigma.html#423" class="Function">Σ</a> <a id="9895" href="Apartness.TightReflection.html#9895" class="Bound">a</a> <a id="9897" href="MLTT.Sigma.html#423" class="Function">꞉</a> <a id="9899" href="Apartness.TightReflection.html#8302" class="Bound">A</a> <a id="9901" href="MLTT.Sigma.html#423" class="Function">,</a> <a id="9903" href="UF.PropTrunc.html#2407" class="Function">∃</a> <a id="9905" href="Apartness.TightReflection.html#9905" class="Bound">x</a> <a id="9907" href="UF.PropTrunc.html#2407" class="Function">꞉</a> <a id="9909" href="Apartness.TightReflection.html#972" class="Bound">X</a> <a id="9911" href="UF.PropTrunc.html#2407" class="Function">,</a> <a id="9913" class="Symbol">(</a><a id="9914" href="Apartness.TightReflection.html#3051" class="Function">η</a> <a id="9916" href="Apartness.TightReflection.html#9905" class="Bound">x</a> <a id="9918" href="MLTT.Id.html#193" class="Datatype Operator">＝</a> <a id="9920" href="Apartness.TightReflection.html#3051" class="Function">η</a> <a id="9922" href="Apartness.TightReflection.html#9884" class="Bound">y</a><a id="9923" class="Symbol">)</a> <a id="9925" href="MLTT.Sigma.html#558" class="Function Operator">×</a> <a id="9927" class="Symbol">(</a><a id="9928" href="Apartness.TightReflection.html#8419" class="Bound">f</a> <a id="9930" href="Apartness.TightReflection.html#9905" class="Bound">x</a> <a id="9932" href="MLTT.Id.html#193" class="Datatype Operator">＝</a> <a id="9934" href="Apartness.TightReflection.html#9895" class="Bound">a</a><a id="9935" class="Symbol">)</a>
    <a id="9941" href="Apartness.TightReflection.html#9866" class="Function">induction-step</a> <a id="9956" href="Apartness.TightReflection.html#9956" class="Bound">x</a> <a id="9958" class="Symbol">=</a> <a id="9960" href="Apartness.TightReflection.html#8419" class="Bound">f</a> <a id="9962" href="Apartness.TightReflection.html#9956" class="Bound">x</a> <a id="9964" href="MLTT.Sigma.html#395" class="InductiveConstructor Operator">,</a> <a id="9966" href="UF.PropTrunc.html#630" class="Field Operator">∣</a> <a id="9968" href="Apartness.TightReflection.html#9956" class="Bound">x</a> <a id="9970" href="MLTT.Sigma.html#395" class="InductiveConstructor Operator">,</a> <a id="9972" href="MLTT.Identity-Type.html#157" class="InductiveConstructor">refl</a> <a id="9977" href="MLTT.Sigma.html#395" class="InductiveConstructor Operator">,</a> <a id="9979" href="MLTT.Identity-Type.html#157" class="InductiveConstructor">refl</a> <a id="9984" href="UF.PropTrunc.html#630" class="Field Operator">∣</a>

  <a id="9989" href="Apartness.TightReflection.html#9989" class="Function">mediating-map</a> <a id="10003" class="Symbol">:</a> <a id="10005" href="Apartness.TightReflection.html#2717" class="Function">X&#39;</a> <a id="10008" class="Symbol">→</a> <a id="10010" href="Apartness.TightReflection.html#8302" class="Bound">A</a>
  <a id="10014" href="Apartness.TightReflection.html#9989" class="Function">mediating-map</a> <a id="10028" href="Apartness.TightReflection.html#10028" class="Bound">x&#39;</a> <a id="10031" class="Symbol">=</a> <a id="10033" href="MLTT.Sigma-Type.html#198" class="Field">pr₁</a> <a id="10037" class="Symbol">(</a><a id="10038" href="Apartness.TightReflection.html#9722" class="Function">tr-construction</a> <a id="10054" href="Apartness.TightReflection.html#10028" class="Bound">x&#39;</a><a id="10056" class="Symbol">)</a>

  <a id="10061" class="Keyword">private</a>
   <a id="10072" href="Apartness.TightReflection.html#10072" class="Function">f⁻</a> <a id="10075" class="Symbol">=</a> <a id="10077" href="Apartness.TightReflection.html#9989" class="Function">mediating-map</a>

  <a id="10094" href="Apartness.TightReflection.html#10094" class="Function">mediating-map-property</a> <a id="10117" class="Symbol">:</a> <a id="10119" class="Symbol">(</a><a id="10120" href="Apartness.TightReflection.html#10120" class="Bound">y</a> <a id="10122" class="Symbol">:</a> <a id="10124" href="Apartness.TightReflection.html#972" class="Bound">X</a><a id="10125" class="Symbol">)</a> <a id="10127" class="Symbol">→</a> <a id="10129" href="UF.PropTrunc.html#2407" class="Function">∃</a> <a id="10131" href="Apartness.TightReflection.html#10131" class="Bound">x</a> <a id="10133" href="UF.PropTrunc.html#2407" class="Function">꞉</a> <a id="10135" href="Apartness.TightReflection.html#972" class="Bound">X</a> <a id="10137" href="UF.PropTrunc.html#2407" class="Function">,</a> <a id="10139" class="Symbol">(</a><a id="10140" href="Apartness.TightReflection.html#3051" class="Function">η</a> <a id="10142" href="Apartness.TightReflection.html#10131" class="Bound">x</a> <a id="10144" href="MLTT.Id.html#193" class="Datatype Operator">＝</a> <a id="10146" href="Apartness.TightReflection.html#3051" class="Function">η</a> <a id="10148" href="Apartness.TightReflection.html#10120" class="Bound">y</a><a id="10149" class="Symbol">)</a> <a id="10151" href="MLTT.Sigma.html#558" class="Function Operator">×</a> <a id="10153" class="Symbol">(</a><a id="10154" href="Apartness.TightReflection.html#8419" class="Bound">f</a> <a id="10156" href="Apartness.TightReflection.html#10131" class="Bound">x</a> <a id="10158" href="MLTT.Id.html#193" class="Datatype Operator">＝</a> <a id="10160" href="Apartness.TightReflection.html#10072" class="Function">f⁻</a> <a id="10163" class="Symbol">(</a><a id="10164" href="Apartness.TightReflection.html#3051" class="Function">η</a> <a id="10166" href="Apartness.TightReflection.html#10120" class="Bound">y</a><a id="10167" class="Symbol">))</a>
  <a id="10172" href="Apartness.TightReflection.html#10094" class="Function">mediating-map-property</a> <a id="10195" href="Apartness.TightReflection.html#10195" class="Bound">y</a> <a id="10197" class="Symbol">=</a> <a id="10199" href="MLTT.Sigma-Type.html#209" class="Field">pr₂</a> <a id="10203" class="Symbol">(</a><a id="10204" href="Apartness.TightReflection.html#9722" class="Function">tr-construction</a> <a id="10220" class="Symbol">(</a><a id="10221" href="Apartness.TightReflection.html#3051" class="Function">η</a> <a id="10223" href="Apartness.TightReflection.html#10195" class="Bound">y</a><a id="10224" class="Symbol">))</a>

  <a id="10230" href="Apartness.TightReflection.html#10230" class="Function">mediating-triangle</a> <a id="10249" class="Symbol">:</a> <a id="10251" href="Apartness.TightReflection.html#10072" class="Function">f⁻</a> <a id="10254" href="MLTT.Pi.html#513" class="Function Operator">∘</a> <a id="10256" href="Apartness.TightReflection.html#3051" class="Function">η</a> <a id="10258" href="MLTT.Id.html#193" class="Datatype Operator">＝</a> <a id="10260" href="Apartness.TightReflection.html#8419" class="Bound">f</a>
  <a id="10264" href="Apartness.TightReflection.html#10230" class="Function">mediating-triangle</a> <a id="10283" class="Symbol">=</a> <a id="10285" href="UF.FunExt.html#1242" class="Function">dfunext</a> <a id="10293" href="Apartness.TightReflection.html#924" class="Bound">fe</a> <a id="10296" href="Apartness.TightReflection.html#10518" class="Function">II</a>
   <a id="10302" class="Keyword">where</a>
    <a id="10312" href="Apartness.TightReflection.html#10312" class="Function">I</a> <a id="10314" class="Symbol">:</a> <a id="10316" class="Symbol">(</a><a id="10317" href="Apartness.TightReflection.html#10317" class="Bound">y</a> <a id="10319" class="Symbol">:</a> <a id="10321" href="Apartness.TightReflection.html#972" class="Bound">X</a><a id="10322" class="Symbol">)</a> <a id="10324" class="Symbol">→</a> <a id="10326" class="Symbol">(</a><a id="10327" href="MLTT.Sigma.html#423" class="Function">Σ</a> <a id="10329" href="Apartness.TightReflection.html#10329" class="Bound">x</a> <a id="10331" href="MLTT.Sigma.html#423" class="Function">꞉</a> <a id="10333" href="Apartness.TightReflection.html#972" class="Bound">X</a> <a id="10335" href="MLTT.Sigma.html#423" class="Function">,</a> <a id="10337" class="Symbol">(</a><a id="10338" href="Apartness.TightReflection.html#3051" class="Function">η</a> <a id="10340" href="Apartness.TightReflection.html#10329" class="Bound">x</a> <a id="10342" href="MLTT.Id.html#193" class="Datatype Operator">＝</a> <a id="10344" href="Apartness.TightReflection.html#3051" class="Function">η</a> <a id="10346" href="Apartness.TightReflection.html#10317" class="Bound">y</a><a id="10347" class="Symbol">)</a> <a id="10349" href="MLTT.Sigma.html#558" class="Function Operator">×</a> <a id="10351" class="Symbol">(</a><a id="10352" href="Apartness.TightReflection.html#8419" class="Bound">f</a> <a id="10354" href="Apartness.TightReflection.html#10329" class="Bound">x</a> <a id="10356" href="MLTT.Id.html#193" class="Datatype Operator">＝</a> <a id="10358" href="Apartness.TightReflection.html#10072" class="Function">f⁻</a> <a id="10361" class="Symbol">(</a><a id="10362" href="Apartness.TightReflection.html#3051" class="Function">η</a> <a id="10364" href="Apartness.TightReflection.html#10317" class="Bound">y</a><a id="10365" class="Symbol">)))</a> <a id="10369" class="Symbol">→</a> <a id="10371" href="Apartness.TightReflection.html#10072" class="Function">f⁻</a> <a id="10374" class="Symbol">(</a><a id="10375" href="Apartness.TightReflection.html#3051" class="Function">η</a> <a id="10377" href="Apartness.TightReflection.html#10317" class="Bound">y</a><a id="10378" class="Symbol">)</a> <a id="10380" href="MLTT.Id.html#193" class="Datatype Operator">＝</a> <a id="10382" href="Apartness.TightReflection.html#8419" class="Bound">f</a> <a id="10384" href="Apartness.TightReflection.html#10317" class="Bound">y</a>
    <a id="10390" href="Apartness.TightReflection.html#10312" class="Function">I</a> <a id="10392" href="Apartness.TightReflection.html#10392" class="Bound">y</a> <a id="10394" class="Symbol">(</a><a id="10395" href="Apartness.TightReflection.html#10395" class="Bound">x</a> <a id="10397" href="MLTT.Sigma.html#395" class="InductiveConstructor Operator">,</a> <a id="10399" href="Apartness.TightReflection.html#10399" class="Bound">p</a> <a id="10401" href="MLTT.Sigma.html#395" class="InductiveConstructor Operator">,</a> <a id="10403" href="Apartness.TightReflection.html#10403" class="Bound">q</a><a id="10404" class="Symbol">)</a> <a id="10406" class="Symbol">=</a>
     <a id="10413" href="Apartness.TightReflection.html#10072" class="Function">f⁻</a> <a id="10416" class="Symbol">(</a><a id="10417" href="Apartness.TightReflection.html#3051" class="Function">η</a> <a id="10419" href="Apartness.TightReflection.html#10392" class="Bound">y</a><a id="10420" class="Symbol">)</a> <a id="10422" href="MLTT.Id.html#2239" class="Function Operator">＝⟨</a> <a id="10425" href="Apartness.TightReflection.html#10403" class="Bound">q</a> <a id="10427" href="MLTT.Id.html#1055" class="Function Operator">⁻¹</a> <a id="10430" href="MLTT.Id.html#2239" class="Function Operator">⟩</a>
     <a id="10437" href="Apartness.TightReflection.html#8419" class="Bound">f</a> <a id="10439" href="Apartness.TightReflection.html#10395" class="Bound">x</a>      <a id="10446" href="MLTT.Id.html#2239" class="Function Operator">＝⟨</a> <a id="10449" href="Apartness.TightReflection.html#8607" class="Function">f-transforms-~-into-=</a> <a id="10471" class="Symbol">(</a><a id="10472" href="Apartness.TightReflection.html#7550" class="Function">η-equal-gives-equiv</a> <a id="10492" href="Apartness.TightReflection.html#10399" class="Bound">p</a><a id="10493" class="Symbol">)</a> <a id="10495" href="MLTT.Id.html#2239" class="Function Operator">⟩</a>
     <a id="10502" href="Apartness.TightReflection.html#8419" class="Bound">f</a> <a id="10504" href="Apartness.TightReflection.html#10392" class="Bound">y</a>      <a id="10511" href="MLTT.Id.html#2321" class="Function Operator">∎</a>

    <a id="10518" href="Apartness.TightReflection.html#10518" class="Function">II</a> <a id="10521" class="Symbol">:</a> <a id="10523" class="Symbol">(</a><a id="10524" href="Apartness.TightReflection.html#10524" class="Bound">y</a> <a id="10526" class="Symbol">:</a> <a id="10528" href="Apartness.TightReflection.html#972" class="Bound">X</a><a id="10529" class="Symbol">)</a> <a id="10531" class="Symbol">→</a> <a id="10533" href="Apartness.TightReflection.html#10072" class="Function">f⁻</a> <a id="10536" class="Symbol">(</a><a id="10537" href="Apartness.TightReflection.html#3051" class="Function">η</a> <a id="10539" href="Apartness.TightReflection.html#10524" class="Bound">y</a><a id="10540" class="Symbol">)</a> <a id="10542" href="MLTT.Id.html#193" class="Datatype Operator">＝</a> <a id="10544" href="Apartness.TightReflection.html#8419" class="Bound">f</a> <a id="10546" href="Apartness.TightReflection.html#10524" class="Bound">y</a>
    <a id="10552" href="Apartness.TightReflection.html#10518" class="Function">II</a> <a id="10555" href="Apartness.TightReflection.html#10555" class="Bound">y</a> <a id="10557" class="Symbol">=</a> <a id="10559" href="UF.PropTrunc.html#676" class="Field">∥∥-rec</a> <a id="10566" href="Apartness.TightReflection.html#8532" class="Function">A-is-set</a> <a id="10575" class="Symbol">(</a><a id="10576" href="Apartness.TightReflection.html#10312" class="Function">I</a> <a id="10578" href="Apartness.TightReflection.html#10555" class="Bound">y</a><a id="10579" class="Symbol">)</a> <a id="10581" class="Symbol">(</a><a id="10582" href="Apartness.TightReflection.html#10094" class="Function">mediating-map-property</a> <a id="10605" href="Apartness.TightReflection.html#10555" class="Bound">y</a><a id="10606" class="Symbol">)</a>

  <a id="10611" class="Keyword">private</a>
   <a id="10622" href="Apartness.TightReflection.html#10622" class="Function">c&#39;</a> <a id="10625" class="Symbol">:</a> <a id="10627" href="UF.Subsingletons.html#1497" class="Function">is-central</a>
          <a id="10648" class="Symbol">(</a><a id="10649" href="MLTT.Sigma.html#423" class="Function">Σ</a> <a id="10651" href="Apartness.TightReflection.html#10651" class="Bound">f⁻</a> <a id="10654" href="MLTT.Sigma.html#423" class="Function">꞉</a> <a id="10656" class="Symbol">(</a><a id="10657" href="Apartness.TightReflection.html#2717" class="Function">X&#39;</a> <a id="10660" class="Symbol">→</a> <a id="10662" href="Apartness.TightReflection.html#8302" class="Bound">A</a><a id="10663" class="Symbol">)</a> <a id="10665" href="MLTT.Sigma.html#423" class="Function">,</a> <a id="10667" class="Symbol">(</a><a id="10668" href="Apartness.TightReflection.html#10651" class="Bound">f⁻</a> <a id="10671" href="MLTT.Pi.html#513" class="Function Operator">∘</a> <a id="10673" href="Apartness.TightReflection.html#3051" class="Function">η</a> <a id="10675" href="MLTT.Id.html#193" class="Datatype Operator">＝</a> <a id="10677" href="Apartness.TightReflection.html#8419" class="Bound">f</a><a id="10678" class="Symbol">))</a>
          <a id="10691" class="Symbol">(</a><a id="10692" href="Apartness.TightReflection.html#10072" class="Function">f⁻</a> <a id="10695" href="MLTT.Sigma.html#395" class="InductiveConstructor Operator">,</a> <a id="10697" href="Apartness.TightReflection.html#10230" class="Function">mediating-triangle</a><a id="10715" class="Symbol">)</a>
   <a id="10720" href="Apartness.TightReflection.html#10622" class="Function">c&#39;</a> <a id="10723" class="Symbol">(</a><a id="10724" href="Apartness.TightReflection.html#10724" class="Bound">f⁺</a> <a id="10727" href="MLTT.Sigma.html#395" class="InductiveConstructor Operator">,</a> <a id="10729" href="Apartness.TightReflection.html#10729" class="Bound">f⁺-triangle</a><a id="10740" class="Symbol">)</a> <a id="10742" class="Symbol">=</a> <a id="10744" href="Apartness.TightReflection.html#11187" class="Function">IV</a>
     <a id="10752" class="Keyword">where</a>
      <a id="10764" href="Apartness.TightReflection.html#10764" class="Function">I</a> <a id="10766" class="Symbol">:</a> <a id="10768" href="Apartness.TightReflection.html#10072" class="Function">f⁻</a> <a id="10771" href="MLTT.Pi.html#513" class="Function Operator">∘</a> <a id="10773" href="Apartness.TightReflection.html#3051" class="Function">η</a> <a id="10775" href="MLTT.Id.html#1425" class="Function Operator">∼</a> <a id="10777" href="Apartness.TightReflection.html#10724" class="Bound">f⁺</a> <a id="10780" href="MLTT.Pi.html#513" class="Function Operator">∘</a> <a id="10782" href="Apartness.TightReflection.html#3051" class="Function">η</a>
      <a id="10790" href="Apartness.TightReflection.html#10764" class="Function">I</a> <a id="10792" class="Symbol">=</a> <a id="10794" href="UF.Base.html#10649" class="Function">happly</a> <a id="10801" class="Symbol">(</a><a id="10802" href="Apartness.TightReflection.html#10072" class="Function">f⁻</a> <a id="10805" href="MLTT.Pi.html#513" class="Function Operator">∘</a> <a id="10807" href="Apartness.TightReflection.html#3051" class="Function">η</a>  <a id="10810" href="MLTT.Id.html#2239" class="Function Operator">＝⟨</a> <a id="10813" href="Apartness.TightReflection.html#10230" class="Function">mediating-triangle</a> <a id="10832" href="MLTT.Id.html#2239" class="Function Operator">⟩</a>
                  <a id="10852" href="Apartness.TightReflection.html#8419" class="Bound">f</a>       <a id="10860" href="MLTT.Id.html#2239" class="Function Operator">＝⟨</a> <a id="10863" href="Apartness.TightReflection.html#10729" class="Bound">f⁺-triangle</a> <a id="10875" href="MLTT.Id.html#1055" class="Function Operator">⁻¹</a> <a id="10878" href="MLTT.Id.html#2239" class="Function Operator">⟩</a>
                  <a id="10898" href="Apartness.TightReflection.html#10724" class="Bound">f⁺</a> <a id="10901" href="MLTT.Pi.html#513" class="Function Operator">∘</a> <a id="10903" href="Apartness.TightReflection.html#3051" class="Function">η</a>  <a id="10906" href="MLTT.Id.html#2321" class="Function Operator">∎</a><a id="10907" class="Symbol">)</a>

      <a id="10916" href="Apartness.TightReflection.html#10916" class="Function">II</a> <a id="10919" class="Symbol">:</a> <a id="10921" href="Apartness.TightReflection.html#10072" class="Function">f⁻</a> <a id="10924" href="MLTT.Id.html#193" class="Datatype Operator">＝</a> <a id="10926" href="Apartness.TightReflection.html#10724" class="Bound">f⁺</a>
      <a id="10935" href="Apartness.TightReflection.html#10916" class="Function">II</a> <a id="10938" class="Symbol">=</a> <a id="10940" href="UF.FunExt.html#1242" class="Function">dfunext</a> <a id="10948" href="Apartness.TightReflection.html#924" class="Bound">fe</a> <a id="10951" class="Symbol">(</a><a id="10952" href="Apartness.TightReflection.html#3512" class="Function">η-induction</a> <a id="10964" class="Symbol">_</a> <a id="10966" class="Symbol">(λ</a> <a id="10969" href="Apartness.TightReflection.html#10969" class="Bound">_</a> <a id="10971" class="Symbol">→</a> <a id="10973" href="Apartness.TightReflection.html#8532" class="Function">A-is-set</a><a id="10981" class="Symbol">)</a> <a id="10983" href="Apartness.TightReflection.html#10764" class="Function">I</a><a id="10984" class="Symbol">)</a>

      <a id="10993" href="Apartness.TightReflection.html#10993" class="Function">triangle</a> <a id="11002" class="Symbol">:</a> <a id="11004" href="Apartness.TightReflection.html#10724" class="Bound">f⁺</a> <a id="11007" href="MLTT.Pi.html#513" class="Function Operator">∘</a> <a id="11009" href="Apartness.TightReflection.html#3051" class="Function">η</a> <a id="11011" href="MLTT.Id.html#193" class="Datatype Operator">＝</a> <a id="11013" href="Apartness.TightReflection.html#8419" class="Bound">f</a>
      <a id="11021" href="Apartness.TightReflection.html#10993" class="Function">triangle</a> <a id="11030" class="Symbol">=</a> <a id="11032" href="MLTT.Id.html#735" class="Function">transport</a> <a id="11042" class="Symbol">(λ</a> <a id="11045" href="Apartness.TightReflection.html#11045" class="Bound">-</a> <a id="11047" class="Symbol">→</a> <a id="11049" href="Apartness.TightReflection.html#11045" class="Bound">-</a> <a id="11051" href="MLTT.Pi.html#513" class="Function Operator">∘</a> <a id="11053" href="Apartness.TightReflection.html#3051" class="Function">η</a> <a id="11055" href="MLTT.Id.html#193" class="Datatype Operator">＝</a> <a id="11057" href="Apartness.TightReflection.html#8419" class="Bound">f</a><a id="11058" class="Symbol">)</a> <a id="11060" href="Apartness.TightReflection.html#10916" class="Function">II</a> <a id="11063" href="Apartness.TightReflection.html#10230" class="Function">mediating-triangle</a>

      <a id="11089" href="Apartness.TightReflection.html#11089" class="Function">III</a> <a id="11093" class="Symbol">:</a> <a id="11095" href="Apartness.TightReflection.html#10993" class="Function">triangle</a> <a id="11104" href="MLTT.Id.html#193" class="Datatype Operator">＝</a> <a id="11106" href="Apartness.TightReflection.html#10729" class="Bound">f⁺-triangle</a>
      <a id="11124" href="Apartness.TightReflection.html#11089" class="Function">III</a> <a id="11128" class="Symbol">=</a> <a id="11130" href="UF.Sets-Properties.html#1260" class="Function">Π-is-set</a> <a id="11139" href="Apartness.TightReflection.html#924" class="Bound">fe</a> <a id="11142" class="Symbol">(λ</a> <a id="11145" href="Apartness.TightReflection.html#11145" class="Bound">_</a> <a id="11147" class="Symbol">→</a> <a id="11149" href="Apartness.TightReflection.html#8532" class="Function">A-is-set</a><a id="11157" class="Symbol">)</a> <a id="11159" href="Apartness.TightReflection.html#10993" class="Function">triangle</a> <a id="11168" href="Apartness.TightReflection.html#10729" class="Bound">f⁺-triangle</a>

      <a id="11187" href="Apartness.TightReflection.html#11187" class="Function">IV</a> <a id="11190" class="Symbol">:</a> <a id="11192" class="Symbol">(</a><a id="11193" href="Apartness.TightReflection.html#10072" class="Function">f⁻</a> <a id="11196" href="MLTT.Sigma.html#395" class="InductiveConstructor Operator">,</a> <a id="11198" href="Apartness.TightReflection.html#10230" class="Function">mediating-triangle</a><a id="11216" class="Symbol">)</a> <a id="11218" href="MLTT.Id.html#193" class="Datatype Operator">＝</a> <a id="11220" class="Symbol">(</a><a id="11221" href="Apartness.TightReflection.html#10724" class="Bound">f⁺</a> <a id="11224" href="MLTT.Sigma.html#395" class="InductiveConstructor Operator">,</a> <a id="11226" href="Apartness.TightReflection.html#10729" class="Bound">f⁺-triangle</a><a id="11237" class="Symbol">)</a>
      <a id="11245" href="Apartness.TightReflection.html#11187" class="Function">IV</a> <a id="11248" class="Symbol">=</a> <a id="11250" href="UF.Subsingletons.html#4965" class="Function">to-subtype-＝</a> <a id="11263" class="Symbol">(λ</a> <a id="11266" href="Apartness.TightReflection.html#11266" class="Bound">h</a> <a id="11268" class="Symbol">→</a> <a id="11270" href="UF.Sets-Properties.html#1260" class="Function">Π-is-set</a> <a id="11279" href="Apartness.TightReflection.html#924" class="Bound">fe</a> <a id="11282" class="Symbol">(λ</a> <a id="11285" href="Apartness.TightReflection.html#11285" class="Bound">_</a> <a id="11287" class="Symbol">→</a> <a id="11289" href="Apartness.TightReflection.html#8532" class="Function">A-is-set</a><a id="11297" class="Symbol">))</a> <a id="11300" href="Apartness.TightReflection.html#10916" class="Function">II</a>

  <a id="11306" href="Apartness.TightReflection.html#11306" class="Function">pre-tight-reflection</a> <a id="11327" class="Symbol">:</a> <a id="11329" href="UF.Subsingletons.html#8928" class="Function">∃!</a> <a id="11332" href="Apartness.TightReflection.html#11332" class="Bound">f⁻</a> <a id="11335" href="UF.Subsingletons.html#8928" class="Function">꞉</a> <a id="11337" class="Symbol">(</a><a id="11338" href="Apartness.TightReflection.html#2717" class="Function">X&#39;</a> <a id="11341" class="Symbol">→</a> <a id="11343" href="Apartness.TightReflection.html#8302" class="Bound">A</a><a id="11344" class="Symbol">)</a> <a id="11346" href="UF.Subsingletons.html#8928" class="Function">,</a> <a id="11348" class="Symbol">(</a><a id="11349" href="Apartness.TightReflection.html#11332" class="Bound">f⁻</a> <a id="11352" href="MLTT.Pi.html#513" class="Function Operator">∘</a> <a id="11354" href="Apartness.TightReflection.html#3051" class="Function">η</a> <a id="11356" href="MLTT.Id.html#193" class="Datatype Operator">＝</a> <a id="11358" href="Apartness.TightReflection.html#8419" class="Bound">f</a><a id="11359" class="Symbol">)</a>
  <a id="11363" href="Apartness.TightReflection.html#11306" class="Function">pre-tight-reflection</a> <a id="11384" class="Symbol">=</a> <a id="11386" class="Symbol">(</a><a id="11387" href="Apartness.TightReflection.html#10072" class="Function">f⁻</a> <a id="11390" href="MLTT.Sigma.html#395" class="InductiveConstructor Operator">,</a> <a id="11392" href="Apartness.TightReflection.html#10230" class="Function">mediating-triangle</a><a id="11410" class="Symbol">)</a> <a id="11412" href="MLTT.Sigma.html#395" class="InductiveConstructor Operator">,</a> <a id="11414" href="Apartness.TightReflection.html#10622" class="Function">c&#39;</a>

  <a id="11420" href="Apartness.TightReflection.html#11420" class="Function">mediating-map-is-strongly-extensional</a> <a id="11458" class="Symbol">:</a> <a id="11460" href="Apartness.Morphisms.html#494" class="Function">is-strongly-extensional</a> <a id="11484" href="Apartness.TightReflection.html#3793" class="Function Operator">_♯&#39;_</a> <a id="11489" href="Apartness.TightReflection.html#8322" class="Bound Operator">_♯ᴬ_</a> <a id="11494" href="Apartness.TightReflection.html#10072" class="Function">f⁻</a>
  <a id="11499" href="Apartness.TightReflection.html#11420" class="Function">mediating-map-is-strongly-extensional</a> <a id="11537" class="Symbol">=</a> <a id="11539" href="Apartness.TightReflection.html#11898" class="Function">V</a>
   <a id="11544" class="Keyword">where</a>
    <a id="11554" href="Apartness.TightReflection.html#11554" class="Function">I</a> <a id="11556" class="Symbol">:</a> <a id="11558" class="Symbol">(</a><a id="11559" href="Apartness.TightReflection.html#11559" class="Bound">x</a> <a id="11561" href="Apartness.TightReflection.html#11561" class="Bound">y</a> <a id="11563" class="Symbol">:</a> <a id="11565" href="Apartness.TightReflection.html#972" class="Bound">X</a><a id="11566" class="Symbol">)</a> <a id="11568" class="Symbol">→</a> <a id="11570" href="Apartness.TightReflection.html#10072" class="Function">f⁻</a> <a id="11573" class="Symbol">(</a><a id="11574" href="Apartness.TightReflection.html#3051" class="Function">η</a> <a id="11576" href="Apartness.TightReflection.html#11559" class="Bound">x</a><a id="11577" class="Symbol">)</a> <a id="11579" href="Apartness.TightReflection.html#8322" class="Bound Operator">♯ᴬ</a> <a id="11582" href="Apartness.TightReflection.html#10072" class="Function">f⁻</a> <a id="11585" class="Symbol">(</a><a id="11586" href="Apartness.TightReflection.html#3051" class="Function">η</a> <a id="11588" href="Apartness.TightReflection.html#11561" class="Bound">y</a><a id="11589" class="Symbol">)</a> <a id="11591" class="Symbol">→</a> <a id="11593" href="Apartness.TightReflection.html#3051" class="Function">η</a> <a id="11595" href="Apartness.TightReflection.html#11559" class="Bound">x</a> <a id="11597" href="Apartness.TightReflection.html#3793" class="Function Operator">♯&#39;</a> <a id="11600" href="Apartness.TightReflection.html#3051" class="Function">η</a> <a id="11602" href="Apartness.TightReflection.html#11561" class="Bound">y</a>
    <a id="11608" href="Apartness.TightReflection.html#11554" class="Function">I</a> <a id="11610" href="Apartness.TightReflection.html#11610" class="Bound">x</a> <a id="11612" href="Apartness.TightReflection.html#11612" class="Bound">y</a> <a id="11614" href="Apartness.TightReflection.html#11614" class="Bound">a</a> <a id="11616" class="Symbol">=</a> <a id="11618" href="Apartness.TightReflection.html#11840" class="Function">IV</a>
     <a id="11626" class="Keyword">where</a>
      <a id="11638" href="Apartness.TightReflection.html#11638" class="Function">II</a> <a id="11641" class="Symbol">:</a> <a id="11643" href="Apartness.TightReflection.html#8419" class="Bound">f</a> <a id="11645" href="Apartness.TightReflection.html#11610" class="Bound">x</a> <a id="11647" href="Apartness.TightReflection.html#8322" class="Bound Operator">♯ᴬ</a> <a id="11650" href="Apartness.TightReflection.html#8419" class="Bound">f</a> <a id="11652" href="Apartness.TightReflection.html#11612" class="Bound">y</a>
      <a id="11660" href="Apartness.TightReflection.html#11638" class="Function">II</a> <a id="11663" class="Symbol">=</a> <a id="11665" href="UF.Base.html#1753" class="Function">transport₂</a> <a id="11676" class="Symbol">(</a><a id="11677" href="Apartness.TightReflection.html#8322" class="Bound Operator">_♯ᴬ_</a><a id="11681" class="Symbol">)</a>
            <a id="11695" class="Symbol">(</a><a id="11696" href="UF.Base.html#10649" class="Function">happly</a> <a id="11703" href="Apartness.TightReflection.html#10230" class="Function">mediating-triangle</a> <a id="11722" href="Apartness.TightReflection.html#11610" class="Bound">x</a><a id="11723" class="Symbol">)</a>
            <a id="11737" class="Symbol">(</a><a id="11738" href="UF.Base.html#10649" class="Function">happly</a> <a id="11745" href="Apartness.TightReflection.html#10230" class="Function">mediating-triangle</a> <a id="11764" href="Apartness.TightReflection.html#11612" class="Bound">y</a><a id="11765" class="Symbol">)</a> <a id="11767" href="Apartness.TightReflection.html#11614" class="Bound">a</a>

      <a id="11776" href="Apartness.TightReflection.html#11776" class="Function">III</a> <a id="11780" class="Symbol">:</a> <a id="11782" href="Apartness.TightReflection.html#11610" class="Bound">x</a> <a id="11784" href="Apartness.TightReflection.html#991" class="Bound Operator">♯</a> <a id="11786" href="Apartness.TightReflection.html#11612" class="Bound">y</a>
      <a id="11794" href="Apartness.TightReflection.html#11776" class="Function">III</a> <a id="11798" class="Symbol">=</a> <a id="11800" href="Apartness.TightReflection.html#8440" class="Bound">f-is-strongly-extensional</a> <a id="11826" href="Apartness.TightReflection.html#11610" class="Bound">x</a> <a id="11828" href="Apartness.TightReflection.html#11612" class="Bound">y</a> <a id="11830" href="Apartness.TightReflection.html#11638" class="Function">II</a>

      <a id="11840" href="Apartness.TightReflection.html#11840" class="Function">IV</a> <a id="11843" class="Symbol">:</a> <a id="11845" href="Apartness.TightReflection.html#3051" class="Function">η</a> <a id="11847" href="Apartness.TightReflection.html#11610" class="Bound">x</a> <a id="11849" href="Apartness.TightReflection.html#3793" class="Function Operator">♯&#39;</a> <a id="11852" href="Apartness.TightReflection.html#3051" class="Function">η</a> <a id="11854" href="Apartness.TightReflection.html#11612" class="Bound">y</a>
      <a id="11862" href="Apartness.TightReflection.html#11840" class="Function">IV</a> <a id="11865" class="Symbol">=</a> <a id="11867" href="Apartness.TightReflection.html#3964" class="Function">η-preserves-apartness</a> <a id="11889" href="Apartness.TightReflection.html#11776" class="Function">III</a>

    <a id="11898" href="Apartness.TightReflection.html#11898" class="Function">V</a> <a id="11900" class="Symbol">:</a> <a id="11902" class="Symbol">∀</a> <a id="11904" href="Apartness.TightReflection.html#11904" class="Bound">x&#39;</a> <a id="11907" href="Apartness.TightReflection.html#11907" class="Bound">y&#39;</a> <a id="11910" class="Symbol">→</a> <a id="11912" href="Apartness.TightReflection.html#10072" class="Function">f⁻</a> <a id="11915" href="Apartness.TightReflection.html#11904" class="Bound">x&#39;</a> <a id="11918" href="Apartness.TightReflection.html#8322" class="Bound Operator">♯ᴬ</a> <a id="11921" href="Apartness.TightReflection.html#10072" class="Function">f⁻</a> <a id="11924" href="Apartness.TightReflection.html#11907" class="Bound">y&#39;</a> <a id="11927" class="Symbol">→</a> <a id="11929" href="Apartness.TightReflection.html#11904" class="Bound">x&#39;</a> <a id="11932" href="Apartness.TightReflection.html#3793" class="Function Operator">♯&#39;</a> <a id="11935" href="Apartness.TightReflection.html#11907" class="Bound">y&#39;</a>
    <a id="11942" href="Apartness.TightReflection.html#11898" class="Function">V</a> <a id="11944" class="Symbol">=</a> <a id="11946" href="Apartness.TightReflection.html#3512" class="Function">η-induction</a> <a id="11958" class="Symbol">(λ</a> <a id="11961" href="Apartness.TightReflection.html#11961" class="Bound">x&#39;</a> <a id="11964" class="Symbol">→</a> <a id="11966" class="Symbol">(</a><a id="11967" href="Apartness.TightReflection.html#11967" class="Bound">y&#39;</a> <a id="11970" class="Symbol">:</a> <a id="11972" href="Apartness.TightReflection.html#2717" class="Function">X&#39;</a><a id="11974" class="Symbol">)</a> <a id="11976" class="Symbol">→</a> <a id="11978" href="Apartness.TightReflection.html#10072" class="Function">f⁻</a> <a id="11981" href="Apartness.TightReflection.html#11961" class="Bound">x&#39;</a> <a id="11984" href="Apartness.TightReflection.html#8322" class="Bound Operator">♯ᴬ</a> <a id="11987" href="Apartness.TightReflection.html#10072" class="Function">f⁻</a> <a id="11990" href="Apartness.TightReflection.html#11967" class="Bound">y&#39;</a> <a id="11993" class="Symbol">→</a> <a id="11995" href="Apartness.TightReflection.html#11961" class="Bound">x&#39;</a> <a id="11998" href="Apartness.TightReflection.html#3793" class="Function Operator">♯&#39;</a> <a id="12001" href="Apartness.TightReflection.html#11967" class="Bound">y&#39;</a><a id="12003" class="Symbol">)</a>
          <a id="12015" class="Symbol">(λ</a> <a id="12018" href="Apartness.TightReflection.html#12018" class="Bound">x&#39;</a> <a id="12021" class="Symbol">→</a> <a id="12023" href="UF.Subsingletons-FunExt.html#6281" class="Function">Π₂-is-prop</a> <a id="12034" href="Apartness.TightReflection.html#924" class="Bound">fe</a> <a id="12037" class="Symbol">(λ</a> <a id="12040" href="Apartness.TightReflection.html#12040" class="Bound">y&#39;</a> <a id="12043" href="Apartness.TightReflection.html#12043" class="Bound">_</a> <a id="12045" class="Symbol">→</a> <a id="12047" href="Apartness.TightReflection.html#4688" class="Function">♯&#39;p</a> <a id="12051" href="Apartness.TightReflection.html#12018" class="Bound">x&#39;</a> <a id="12054" href="Apartness.TightReflection.html#12040" class="Bound">y&#39;</a><a id="12056" class="Symbol">))</a>
          <a id="12069" class="Symbol">(λ</a> <a id="12072" href="Apartness.TightReflection.html#12072" class="Bound">x</a> <a id="12074" class="Symbol">→</a> <a id="12076" href="Apartness.TightReflection.html#3512" class="Function">η-induction</a> <a id="12088" class="Symbol">(λ</a> <a id="12091" href="Apartness.TightReflection.html#12091" class="Bound">y&#39;</a> <a id="12094" class="Symbol">→</a> <a id="12096" href="Apartness.TightReflection.html#10072" class="Function">f⁻</a> <a id="12099" class="Symbol">(</a><a id="12100" href="Apartness.TightReflection.html#3051" class="Function">η</a> <a id="12102" href="Apartness.TightReflection.html#12072" class="Bound">x</a><a id="12103" class="Symbol">)</a> <a id="12105" href="Apartness.TightReflection.html#8322" class="Bound Operator">♯ᴬ</a> <a id="12108" href="Apartness.TightReflection.html#10072" class="Function">f⁻</a> <a id="12111" href="Apartness.TightReflection.html#12091" class="Bound">y&#39;</a> <a id="12114" class="Symbol">→</a> <a id="12116" href="Apartness.TightReflection.html#3051" class="Function">η</a> <a id="12118" href="Apartness.TightReflection.html#12072" class="Bound">x</a> <a id="12120" href="Apartness.TightReflection.html#3793" class="Function Operator">♯&#39;</a> <a id="12123" href="Apartness.TightReflection.html#12091" class="Bound">y&#39;</a><a id="12125" class="Symbol">)</a>
                  <a id="12145" class="Symbol">(λ</a> <a id="12148" href="Apartness.TightReflection.html#12148" class="Bound">y&#39;</a> <a id="12151" class="Symbol">→</a> <a id="12153" href="UF.Subsingletons-FunExt.html#614" class="Function">Π-is-prop</a> <a id="12163" href="Apartness.TightReflection.html#924" class="Bound">fe</a> <a id="12166" class="Symbol">(λ</a> <a id="12169" href="Apartness.TightReflection.html#12169" class="Bound">_</a> <a id="12171" class="Symbol">→</a> <a id="12173" href="Apartness.TightReflection.html#4688" class="Function">♯&#39;p</a> <a id="12177" class="Symbol">(</a><a id="12178" href="Apartness.TightReflection.html#3051" class="Function">η</a> <a id="12180" href="Apartness.TightReflection.html#12072" class="Bound">x</a><a id="12181" class="Symbol">)</a> <a id="12183" href="Apartness.TightReflection.html#12148" class="Bound">y&#39;</a><a id="12185" class="Symbol">))</a>
                  <a id="12206" class="Symbol">(</a><a id="12207" href="Apartness.TightReflection.html#11554" class="Function">I</a> <a id="12209" href="Apartness.TightReflection.html#12072" class="Bound">x</a><a id="12210" class="Symbol">))</a>

  <a id="12216" class="Keyword">private</a>
   <a id="12227" href="Apartness.TightReflection.html#12227" class="Function">c</a> <a id="12229" class="Symbol">:</a> <a id="12231" href="UF.Subsingletons.html#1497" class="Function">is-central</a>
        <a id="12250" class="Symbol">(</a><a id="12251" href="MLTT.Sigma.html#423" class="Function">Σ</a> <a id="12253" href="Apartness.TightReflection.html#12253" class="Bound">f⁻</a> <a id="12256" href="MLTT.Sigma.html#423" class="Function">꞉</a> <a id="12258" class="Symbol">(</a><a id="12259" href="Apartness.TightReflection.html#2717" class="Function">X&#39;</a> <a id="12262" class="Symbol">→</a> <a id="12264" href="Apartness.TightReflection.html#8302" class="Bound">A</a><a id="12265" class="Symbol">)</a> <a id="12267" href="MLTT.Sigma.html#423" class="Function">,</a> <a id="12269" class="Symbol">(</a><a id="12270" href="Apartness.Morphisms.html#494" class="Function">is-strongly-extensional</a> <a id="12294" href="Apartness.TightReflection.html#3793" class="Function Operator">_♯&#39;_</a> <a id="12299" href="Apartness.TightReflection.html#8322" class="Bound Operator">_♯ᴬ_</a> <a id="12304" href="Apartness.TightReflection.html#12253" class="Bound">f⁻</a><a id="12306" class="Symbol">)</a> <a id="12308" href="MLTT.Sigma.html#558" class="Function Operator">×</a> <a id="12310" class="Symbol">(</a><a id="12311" href="Apartness.TightReflection.html#12253" class="Bound">f⁻</a> <a id="12314" href="MLTT.Pi.html#513" class="Function Operator">∘</a> <a id="12316" href="Apartness.TightReflection.html#3051" class="Function">η</a> <a id="12318" href="MLTT.Id.html#193" class="Datatype Operator">＝</a> <a id="12320" href="Apartness.TightReflection.html#8419" class="Bound">f</a><a id="12321" class="Symbol">))</a>
        <a id="12332" class="Symbol">(</a><a id="12333" href="Apartness.TightReflection.html#10072" class="Function">f⁻</a> <a id="12336" href="MLTT.Sigma.html#395" class="InductiveConstructor Operator">,</a> <a id="12338" href="Apartness.TightReflection.html#11420" class="Function">mediating-map-is-strongly-extensional</a> <a id="12376" href="MLTT.Sigma.html#395" class="InductiveConstructor Operator">,</a> <a id="12378" href="Apartness.TightReflection.html#10230" class="Function">mediating-triangle</a><a id="12396" class="Symbol">)</a>
   <a id="12401" href="Apartness.TightReflection.html#12227" class="Function">c</a> <a id="12403" class="Symbol">(</a><a id="12404" href="Apartness.TightReflection.html#12404" class="Bound">f⁺</a> <a id="12407" href="MLTT.Sigma.html#395" class="InductiveConstructor Operator">,</a> <a id="12409" href="Apartness.TightReflection.html#12409" class="Bound">f⁺-is-strongly-extensional</a> <a id="12436" href="MLTT.Sigma.html#395" class="InductiveConstructor Operator">,</a> <a id="12438" href="Apartness.TightReflection.html#12438" class="Bound">f⁺-triangle</a><a id="12449" class="Symbol">)</a> <a id="12451" class="Symbol">=</a>
    <a id="12457" href="UF.Subsingletons.html#4965" class="Function">to-subtype-＝</a>
      <a id="12476" class="Symbol">(λ</a> <a id="12479" href="Apartness.TightReflection.html#12479" class="Bound">h</a> <a id="12481" class="Symbol">→</a> <a id="12483" href="UF.Subsingletons.html#4801" class="Function">×-is-prop</a>
               <a id="12508" class="Symbol">(</a><a id="12509" href="Apartness.Morphisms.html#698" class="Function">being-strongly-extensional-is-prop</a> <a id="12544" href="Apartness.TightReflection.html#924" class="Bound">fe</a> <a id="12547" href="Apartness.TightReflection.html#3793" class="Function Operator">_♯&#39;_</a> <a id="12552" href="Apartness.TightReflection.html#8322" class="Bound Operator">_♯ᴬ_</a> <a id="12557" href="Apartness.TightReflection.html#4688" class="Function">♯&#39;p</a> <a id="12561" href="Apartness.TightReflection.html#12479" class="Bound">h</a><a id="12562" class="Symbol">)</a>
               <a id="12579" class="Symbol">(</a><a id="12580" href="UF.Sets-Properties.html#1260" class="Function">Π-is-set</a> <a id="12589" href="Apartness.TightReflection.html#924" class="Bound">fe</a> <a id="12592" class="Symbol">(λ</a> <a id="12595" href="Apartness.TightReflection.html#12595" class="Bound">_</a> <a id="12597" class="Symbol">→</a> <a id="12599" href="Apartness.TightReflection.html#8532" class="Function">A-is-set</a><a id="12607" class="Symbol">)))</a>
      <a id="12617" class="Symbol">(</a><a id="12618" href="MLTT.Id.html#1136" class="Function">ap</a> <a id="12621" href="MLTT.Sigma-Type.html#198" class="Field">pr₁</a> <a id="12625" class="Symbol">(</a><a id="12626" href="Apartness.TightReflection.html#10622" class="Function">c&#39;</a> <a id="12629" class="Symbol">(</a><a id="12630" href="Apartness.TightReflection.html#12404" class="Bound">f⁺</a> <a id="12633" href="MLTT.Sigma.html#395" class="InductiveConstructor Operator">,</a> <a id="12635" href="Apartness.TightReflection.html#12438" class="Bound">f⁺-triangle</a><a id="12646" class="Symbol">)))</a>


  <a id="12654" href="Apartness.TightReflection.html#12654" class="Function">tight-reflection</a> <a id="12671" class="Symbol">:</a> <a id="12673" href="UF.Subsingletons.html#8928" class="Function">∃!</a> <a id="12676" href="Apartness.TightReflection.html#12676" class="Bound">f⁻</a> <a id="12679" href="UF.Subsingletons.html#8928" class="Function">꞉</a> <a id="12681" class="Symbol">(</a><a id="12682" href="Apartness.TightReflection.html#2717" class="Function">X&#39;</a> <a id="12685" class="Symbol">→</a> <a id="12687" href="Apartness.TightReflection.html#8302" class="Bound">A</a><a id="12688" class="Symbol">)</a>
                           <a id="12717" href="UF.Subsingletons.html#8928" class="Function">,</a> <a id="12719" class="Symbol">(</a><a id="12720" href="Apartness.Morphisms.html#494" class="Function">is-strongly-extensional</a> <a id="12744" href="Apartness.TightReflection.html#3793" class="Function Operator">_♯&#39;_</a> <a id="12749" href="Apartness.TightReflection.html#8322" class="Bound Operator">_♯ᴬ_</a> <a id="12754" href="Apartness.TightReflection.html#12676" class="Bound">f⁻</a><a id="12756" class="Symbol">)</a>
                           <a id="12785" href="MLTT.Sigma.html#558" class="Function Operator">×</a> <a id="12787" class="Symbol">(</a><a id="12788" href="Apartness.TightReflection.html#12676" class="Bound">f⁻</a> <a id="12791" href="MLTT.Pi.html#513" class="Function Operator">∘</a> <a id="12793" href="Apartness.TightReflection.html#3051" class="Function">η</a> <a id="12795" href="MLTT.Id.html#193" class="Datatype Operator">＝</a> <a id="12797" href="Apartness.TightReflection.html#8419" class="Bound">f</a><a id="12798" class="Symbol">)</a>
  <a id="12802" href="Apartness.TightReflection.html#12654" class="Function">tight-reflection</a> <a id="12819" class="Symbol">=</a> <a id="12821" class="Symbol">(</a><a id="12822" href="Apartness.TightReflection.html#10072" class="Function">f⁻</a> <a id="12825" href="MLTT.Sigma.html#395" class="InductiveConstructor Operator">,</a> <a id="12827" href="Apartness.TightReflection.html#11420" class="Function">mediating-map-is-strongly-extensional</a> <a id="12865" href="MLTT.Sigma.html#395" class="InductiveConstructor Operator">,</a>
                     <a id="12888" href="Apartness.TightReflection.html#10230" class="Function">mediating-triangle</a><a id="12906" class="Symbol">)</a> <a id="12908" href="MLTT.Sigma.html#395" class="InductiveConstructor Operator">,</a>
                     <a id="12931" href="Apartness.TightReflection.html#12227" class="Function">c</a>

<a id="12934" class="Markup">\end{code}</a><a id="12944" class="Background">

The following is an immediate consequence of the tight reflection,
by the usual categorical argument, using the fact that the identity
map is strongly extensional (with the identity function as the
proof). Notice that our construction of the reflection produces a
result in a universe higher than those where the starting data are,
to avoid impredicativity (aka propositional resizing). Nevertheless,
the usual categorical argument is applicable.

A direct proof that doesn&#39;t rely on the tight reflection is equally
short in this case, and is also included.

What the following construction says is that if _♯_ is tight, then
any element of X is uniquely determined by the set of elements apart
from it.

</a><a id="13651" class="Markup">\begin{code}</a>

 <a id="tight-reflection.tight-η-equiv-abstract-nonsense"></a><a id="13666" href="Apartness.TightReflection.html#13666" class="Function">tight-η-equiv-abstract-nonsense</a> <a id="13698" class="Symbol">:</a> <a id="13700" href="Apartness.Definition.html#613" class="Function">is-tight</a> <a id="13709" href="Apartness.TightReflection.html#991" class="Bound Operator">_♯_</a> <a id="13713" class="Symbol">→</a> <a id="13715" href="Apartness.TightReflection.html#972" class="Bound">X</a> <a id="13717" href="UF.Equiv.html#1318" class="Function Operator">≃</a> <a id="13719" href="Apartness.TightReflection.html#2717" class="Function">X&#39;</a>
 <a id="13723" href="Apartness.TightReflection.html#13666" class="Function">tight-η-equiv-abstract-nonsense</a> <a id="13755" href="Apartness.TightReflection.html#13755" class="Bound">♯t</a> <a id="13758" class="Symbol">=</a> <a id="13760" href="Apartness.TightReflection.html#3051" class="Function">η</a> <a id="13762" href="MLTT.Sigma.html#395" class="InductiveConstructor Operator">,</a> <a id="13764" class="Symbol">(</a><a id="13765" href="Apartness.TightReflection.html#14010" class="Function">θ</a> <a id="13767" href="MLTT.Sigma.html#395" class="InductiveConstructor Operator">,</a> <a id="13769" href="UF.Base.html#10649" class="Function">happly</a> <a id="13776" href="Apartness.TightReflection.html#14335" class="Function">p₄</a><a id="13778" class="Symbol">)</a> <a id="13780" href="MLTT.Sigma.html#395" class="InductiveConstructor Operator">,</a> <a id="13782" class="Symbol">(</a><a id="13783" href="Apartness.TightReflection.html#14010" class="Function">θ</a> <a id="13785" href="MLTT.Sigma.html#395" class="InductiveConstructor Operator">,</a> <a id="13787" href="UF.Base.html#10649" class="Function">happly</a> <a id="13794" href="Apartness.TightReflection.html#14173" class="Function">p₀</a><a id="13796" class="Symbol">)</a>
  <a id="13800" class="Keyword">where</a>
   <a id="13809" href="Apartness.TightReflection.html#13809" class="Function">u</a> <a id="13811" class="Symbol">:</a> <a id="13813" href="UF.Subsingletons.html#8928" class="Function">∃!</a> <a id="13816" href="Apartness.TightReflection.html#13816" class="Bound">θ</a> <a id="13818" href="UF.Subsingletons.html#8928" class="Function">꞉</a> <a id="13820" class="Symbol">(</a><a id="13821" href="Apartness.TightReflection.html#2717" class="Function">X&#39;</a> <a id="13824" class="Symbol">→</a> <a id="13826" href="Apartness.TightReflection.html#972" class="Bound">X</a><a id="13827" class="Symbol">)</a><a id="13828" href="UF.Subsingletons.html#8928" class="Function">,</a> <a id="13830" href="Apartness.TightReflection.html#13816" class="Bound">θ</a> <a id="13832" href="MLTT.Pi.html#513" class="Function Operator">∘</a> <a id="13834" href="Apartness.TightReflection.html#3051" class="Function">η</a> <a id="13836" href="MLTT.Id.html#193" class="Datatype Operator">＝</a> <a id="13838" href="MLTT.Pi.html#444" class="Function">id</a>
   <a id="13844" href="Apartness.TightReflection.html#13809" class="Function">u</a> <a id="13846" class="Symbol">=</a> <a id="13848" href="Apartness.TightReflection.html#11306" class="Function">pre-tight-reflection</a> <a id="13869" href="Apartness.TightReflection.html#972" class="Bound">X</a> <a id="13871" href="Apartness.TightReflection.html#991" class="Bound Operator">_♯_</a> <a id="13875" href="Apartness.TightReflection.html#1395" class="Function">♯a</a> <a id="13878" href="Apartness.TightReflection.html#13755" class="Bound">♯t</a> <a id="13881" href="MLTT.Pi.html#444" class="Function">id</a> <a id="13884" class="Symbol">(λ</a> <a id="13887" href="Apartness.TightReflection.html#13887" class="Bound">_</a> <a id="13889" href="Apartness.TightReflection.html#13889" class="Bound">_</a> <a id="13891" href="Apartness.TightReflection.html#13891" class="Bound">a</a> <a id="13893" class="Symbol">→</a> <a id="13895" href="Apartness.TightReflection.html#13891" class="Bound">a</a><a id="13896" class="Symbol">)</a>

   <a id="13902" href="Apartness.TightReflection.html#13902" class="Function">v</a> <a id="13904" class="Symbol">:</a> <a id="13906" href="UF.Subsingletons.html#8928" class="Function">∃!</a> <a id="13909" href="Apartness.TightReflection.html#13909" class="Bound">ζ</a> <a id="13911" href="UF.Subsingletons.html#8928" class="Function">꞉</a> <a id="13913" class="Symbol">(</a><a id="13914" href="Apartness.TightReflection.html#2717" class="Function">X&#39;</a> <a id="13917" class="Symbol">→</a> <a id="13919" href="Apartness.TightReflection.html#2717" class="Function">X&#39;</a><a id="13921" class="Symbol">)</a><a id="13922" href="UF.Subsingletons.html#8928" class="Function">,</a> <a id="13924" href="Apartness.TightReflection.html#13909" class="Bound">ζ</a> <a id="13926" href="MLTT.Pi.html#513" class="Function Operator">∘</a> <a id="13928" href="Apartness.TightReflection.html#3051" class="Function">η</a> <a id="13930" href="MLTT.Id.html#193" class="Datatype Operator">＝</a> <a id="13932" href="Apartness.TightReflection.html#3051" class="Function">η</a>
   <a id="13937" href="Apartness.TightReflection.html#13902" class="Function">v</a> <a id="13939" class="Symbol">=</a> <a id="13941" href="Apartness.TightReflection.html#11306" class="Function">pre-tight-reflection</a> <a id="13962" href="Apartness.TightReflection.html#2717" class="Function">X&#39;</a> <a id="13965" href="Apartness.TightReflection.html#3793" class="Function Operator">_♯&#39;_</a> <a id="13970" href="Apartness.TightReflection.html#6468" class="Function">♯&#39;a</a> <a id="13974" href="Apartness.TightReflection.html#6751" class="Function">♯&#39;t</a> <a id="13978" href="Apartness.TightReflection.html#3051" class="Function">η</a> <a id="13980" href="Apartness.TightReflection.html#4074" class="Function">η-is-strongly-extensional</a>

   <a id="14010" href="Apartness.TightReflection.html#14010" class="Function">θ</a> <a id="14012" class="Symbol">:</a> <a id="14014" href="Apartness.TightReflection.html#2717" class="Function">X&#39;</a> <a id="14017" class="Symbol">→</a> <a id="14019" href="Apartness.TightReflection.html#972" class="Bound">X</a>
   <a id="14024" href="Apartness.TightReflection.html#14010" class="Function">θ</a> <a id="14026" class="Symbol">=</a> <a id="14028" href="UF.Subsingletons.html#9432" class="Function">∃!-witness</a> <a id="14039" href="Apartness.TightReflection.html#13809" class="Function">u</a>

   <a id="14045" href="Apartness.TightReflection.html#14045" class="Function">ζ</a> <a id="14047" class="Symbol">:</a> <a id="14049" href="Apartness.TightReflection.html#2717" class="Function">X&#39;</a> <a id="14052" class="Symbol">→</a> <a id="14054" href="Apartness.TightReflection.html#2717" class="Function">X&#39;</a>
   <a id="14060" href="Apartness.TightReflection.html#14045" class="Function">ζ</a> <a id="14062" class="Symbol">=</a> <a id="14064" href="UF.Subsingletons.html#9432" class="Function">∃!-witness</a> <a id="14075" href="Apartness.TightReflection.html#13902" class="Function">v</a>

   <a id="14081" href="Apartness.TightReflection.html#14081" class="Function">φ</a> <a id="14083" class="Symbol">:</a> <a id="14085" class="Symbol">(</a><a id="14086" href="Apartness.TightReflection.html#14086" class="Bound">ζ&#39;</a> <a id="14089" class="Symbol">:</a> <a id="14091" href="Apartness.TightReflection.html#2717" class="Function">X&#39;</a> <a id="14094" class="Symbol">→</a> <a id="14096" href="Apartness.TightReflection.html#2717" class="Function">X&#39;</a><a id="14098" class="Symbol">)</a> <a id="14100" class="Symbol">→</a> <a id="14102" href="Apartness.TightReflection.html#14086" class="Bound">ζ&#39;</a> <a id="14105" href="MLTT.Pi.html#513" class="Function Operator">∘</a> <a id="14107" href="Apartness.TightReflection.html#3051" class="Function">η</a> <a id="14109" href="MLTT.Id.html#193" class="Datatype Operator">＝</a> <a id="14111" href="Apartness.TightReflection.html#3051" class="Function">η</a> <a id="14113" class="Symbol">→</a> <a id="14115" href="Apartness.TightReflection.html#14045" class="Function">ζ</a> <a id="14117" href="MLTT.Id.html#193" class="Datatype Operator">＝</a> <a id="14119" href="Apartness.TightReflection.html#14086" class="Bound">ζ&#39;</a>
   <a id="14125" href="Apartness.TightReflection.html#14081" class="Function">φ</a> <a id="14127" href="Apartness.TightReflection.html#14127" class="Bound">ζ&#39;</a> <a id="14130" href="Apartness.TightReflection.html#14130" class="Bound">p</a> <a id="14132" class="Symbol">=</a> <a id="14134" href="MLTT.Id.html#1136" class="Function">ap</a> <a id="14137" href="MLTT.Sigma-Type.html#198" class="Field">pr₁</a> <a id="14141" class="Symbol">(</a><a id="14142" href="UF.Subsingletons.html#9725" class="Function">∃!-uniqueness&#39;</a> <a id="14157" href="Apartness.TightReflection.html#13902" class="Function">v</a> <a id="14159" class="Symbol">(</a><a id="14160" href="Apartness.TightReflection.html#14127" class="Bound">ζ&#39;</a> <a id="14163" href="MLTT.Sigma.html#395" class="InductiveConstructor Operator">,</a> <a id="14165" href="Apartness.TightReflection.html#14130" class="Bound">p</a><a id="14166" class="Symbol">))</a>

   <a id="14173" href="Apartness.TightReflection.html#14173" class="Function">p₀</a> <a id="14176" class="Symbol">:</a> <a id="14178" href="Apartness.TightReflection.html#14010" class="Function">θ</a> <a id="14180" href="MLTT.Pi.html#513" class="Function Operator">∘</a> <a id="14182" href="Apartness.TightReflection.html#3051" class="Function">η</a> <a id="14184" href="MLTT.Id.html#193" class="Datatype Operator">＝</a> <a id="14186" href="MLTT.Pi.html#444" class="Function">id</a>
   <a id="14192" href="Apartness.TightReflection.html#14173" class="Function">p₀</a> <a id="14195" class="Symbol">=</a> <a id="14197" href="UF.Subsingletons.html#9512" class="Function">∃!-is-witness</a> <a id="14211" href="Apartness.TightReflection.html#13809" class="Function">u</a>

   <a id="14217" href="Apartness.TightReflection.html#14217" class="Function">p₁</a> <a id="14220" class="Symbol">:</a> <a id="14222" href="Apartness.TightReflection.html#3051" class="Function">η</a> <a id="14224" href="MLTT.Pi.html#513" class="Function Operator">∘</a> <a id="14226" href="Apartness.TightReflection.html#14010" class="Function">θ</a> <a id="14228" href="MLTT.Pi.html#513" class="Function Operator">∘</a> <a id="14230" href="Apartness.TightReflection.html#3051" class="Function">η</a> <a id="14232" href="MLTT.Id.html#193" class="Datatype Operator">＝</a> <a id="14234" href="Apartness.TightReflection.html#3051" class="Function">η</a>
   <a id="14239" href="Apartness.TightReflection.html#14217" class="Function">p₁</a> <a id="14242" class="Symbol">=</a> <a id="14244" href="MLTT.Id.html#1136" class="Function">ap</a> <a id="14247" class="Symbol">(</a><a id="14248" href="Apartness.TightReflection.html#3051" class="Function">η</a> <a id="14250" href="MLTT.Pi.html#513" class="Function Operator">∘_</a><a id="14252" class="Symbol">)</a> <a id="14254" href="Apartness.TightReflection.html#14173" class="Function">p₀</a>

   <a id="14261" href="Apartness.TightReflection.html#14261" class="Function">p₂</a> <a id="14264" class="Symbol">:</a> <a id="14266" href="Apartness.TightReflection.html#14045" class="Function">ζ</a> <a id="14268" href="MLTT.Id.html#193" class="Datatype Operator">＝</a> <a id="14270" href="Apartness.TightReflection.html#3051" class="Function">η</a> <a id="14272" href="MLTT.Pi.html#513" class="Function Operator">∘</a> <a id="14274" href="Apartness.TightReflection.html#14010" class="Function">θ</a>
   <a id="14279" href="Apartness.TightReflection.html#14261" class="Function">p₂</a> <a id="14282" class="Symbol">=</a> <a id="14284" href="Apartness.TightReflection.html#14081" class="Function">φ</a> <a id="14286" class="Symbol">(</a><a id="14287" href="Apartness.TightReflection.html#3051" class="Function">η</a> <a id="14289" href="MLTT.Pi.html#513" class="Function Operator">∘</a> <a id="14291" href="Apartness.TightReflection.html#14010" class="Function">θ</a><a id="14292" class="Symbol">)</a> <a id="14294" href="Apartness.TightReflection.html#14217" class="Function">p₁</a>

   <a id="14301" href="Apartness.TightReflection.html#14301" class="Function">p₃</a> <a id="14304" class="Symbol">:</a> <a id="14306" href="Apartness.TightReflection.html#14045" class="Function">ζ</a> <a id="14308" href="MLTT.Id.html#193" class="Datatype Operator">＝</a> <a id="14310" href="MLTT.Pi.html#444" class="Function">id</a>
   <a id="14316" href="Apartness.TightReflection.html#14301" class="Function">p₃</a> <a id="14319" class="Symbol">=</a> <a id="14321" href="Apartness.TightReflection.html#14081" class="Function">φ</a> <a id="14323" href="MLTT.Pi.html#444" class="Function">id</a> <a id="14326" href="MLTT.Identity-Type.html#157" class="InductiveConstructor">refl</a>

   <a id="14335" href="Apartness.TightReflection.html#14335" class="Function">p₄</a> <a id="14338" class="Symbol">=</a> <a id="14340" href="Apartness.TightReflection.html#3051" class="Function">η</a> <a id="14342" href="MLTT.Pi.html#513" class="Function Operator">∘</a> <a id="14344" href="Apartness.TightReflection.html#14010" class="Function">θ</a> <a id="14346" href="MLTT.Id.html#2239" class="Function Operator">＝⟨</a> <a id="14349" href="Apartness.TightReflection.html#14261" class="Function">p₂</a> <a id="14352" href="MLTT.Id.html#1055" class="Function Operator">⁻¹</a> <a id="14355" href="MLTT.Id.html#2239" class="Function Operator">⟩</a>
        <a id="14365" href="Apartness.TightReflection.html#14045" class="Function">ζ</a>     <a id="14371" href="MLTT.Id.html#2239" class="Function Operator">＝⟨</a> <a id="14374" href="Apartness.TightReflection.html#14301" class="Function">p₃</a> <a id="14377" href="MLTT.Id.html#2239" class="Function Operator">⟩</a>
        <a id="14387" href="MLTT.Pi.html#444" class="Function">id</a>    <a id="14393" href="MLTT.Id.html#2321" class="Function Operator">∎</a>

 <a id="tight-reflection.tight-η-equiv-direct"></a><a id="14397" href="Apartness.TightReflection.html#14397" class="Function">tight-η-equiv-direct</a> <a id="14418" class="Symbol">:</a> <a id="14420" href="Apartness.Definition.html#613" class="Function">is-tight</a> <a id="14429" href="Apartness.TightReflection.html#991" class="Bound Operator">_♯_</a> <a id="14433" class="Symbol">→</a> <a id="14435" href="Apartness.TightReflection.html#972" class="Bound">X</a> <a id="14437" href="UF.Equiv.html#1318" class="Function Operator">≃</a> <a id="14439" href="Apartness.TightReflection.html#2717" class="Function">X&#39;</a>
 <a id="14443" href="Apartness.TightReflection.html#14397" class="Function">tight-η-equiv-direct</a> <a id="14464" href="Apartness.TightReflection.html#14464" class="Bound">t</a> <a id="14466" class="Symbol">=</a> <a id="14468" class="Symbol">(</a><a id="14469" href="Apartness.TightReflection.html#3051" class="Function">η</a> <a id="14471" href="MLTT.Sigma.html#395" class="InductiveConstructor Operator">,</a> <a id="14473" href="UF.Equiv.html#10756" class="Function">vv-equivs-are-equivs</a> <a id="14494" href="Apartness.TightReflection.html#3051" class="Function">η</a> <a id="14496" href="Apartness.TightReflection.html#14824" class="Function">cm</a><a id="14498" class="Symbol">)</a>
  <a id="14502" class="Keyword">where</a>
   <a id="14511" href="Apartness.TightReflection.html#14511" class="Function">lc</a> <a id="14514" class="Symbol">:</a> <a id="14516" href="Notation.General.html#2165" class="Function">left-cancellable</a> <a id="14533" href="Apartness.TightReflection.html#3051" class="Function">η</a>
   <a id="14538" href="Apartness.TightReflection.html#14511" class="Function">lc</a> <a id="14541" class="Symbol">{</a><a id="14542" href="Apartness.TightReflection.html#14542" class="Bound">x</a><a id="14543" class="Symbol">}</a> <a id="14545" class="Symbol">{</a><a id="14546" href="Apartness.TightReflection.html#14546" class="Bound">y</a><a id="14547" class="Symbol">}</a> <a id="14549" href="Apartness.TightReflection.html#14549" class="Bound">p</a> <a id="14551" class="Symbol">=</a> <a id="14553" href="Apartness.TightReflection.html#14572" class="Function">j</a> <a id="14555" href="Apartness.TightReflection.html#14669" class="Function">h</a>
    <a id="14561" class="Keyword">where</a>
     <a id="14572" href="Apartness.TightReflection.html#14572" class="Function">j</a> <a id="14574" class="Symbol">:</a> <a id="14576" href="MLTT.Negation.html#278" class="Function Operator">¬</a> <a id="14578" class="Symbol">(</a><a id="14579" href="Apartness.TightReflection.html#3051" class="Function">η</a> <a id="14581" href="Apartness.TightReflection.html#14542" class="Bound">x</a> <a id="14583" href="Apartness.TightReflection.html#3793" class="Function Operator">♯&#39;</a> <a id="14586" href="Apartness.TightReflection.html#3051" class="Function">η</a> <a id="14588" href="Apartness.TightReflection.html#14546" class="Bound">y</a><a id="14589" class="Symbol">)</a> <a id="14591" class="Symbol">→</a> <a id="14593" href="Apartness.TightReflection.html#14542" class="Bound">x</a> <a id="14595" href="MLTT.Id.html#193" class="Datatype Operator">＝</a> <a id="14597" href="Apartness.TightReflection.html#14546" class="Bound">y</a>
     <a id="14604" href="Apartness.TightReflection.html#14572" class="Function">j</a> <a id="14606" class="Symbol">=</a> <a id="14608" href="Apartness.TightReflection.html#14464" class="Bound">t</a> <a id="14610" href="Apartness.TightReflection.html#14542" class="Bound">x</a> <a id="14612" href="Apartness.TightReflection.html#14546" class="Bound">y</a> <a id="14614" href="MLTT.Pi.html#513" class="Function Operator">∘</a> <a id="14616" href="MLTT.Negation.html#1240" class="Function">contrapositive</a> <a id="14631" class="Symbol">(</a><a id="14632" href="Apartness.TightReflection.html#3964" class="Function">η-preserves-apartness</a> <a id="14654" class="Symbol">{</a><a id="14655" href="Apartness.TightReflection.html#14542" class="Bound">x</a><a id="14656" class="Symbol">}</a> <a id="14658" class="Symbol">{</a><a id="14659" href="Apartness.TightReflection.html#14546" class="Bound">y</a><a id="14660" class="Symbol">})</a>

     <a id="14669" href="Apartness.TightReflection.html#14669" class="Function">h</a> <a id="14671" class="Symbol">:</a> <a id="14673" href="MLTT.Negation.html#278" class="Function Operator">¬</a> <a id="14675" class="Symbol">(</a><a id="14676" href="Apartness.TightReflection.html#3051" class="Function">η</a> <a id="14678" href="Apartness.TightReflection.html#14542" class="Bound">x</a> <a id="14680" href="Apartness.TightReflection.html#3793" class="Function Operator">♯&#39;</a> <a id="14683" href="Apartness.TightReflection.html#3051" class="Function">η</a> <a id="14685" href="Apartness.TightReflection.html#14546" class="Bound">y</a><a id="14686" class="Symbol">)</a>
     <a id="14693" href="Apartness.TightReflection.html#14669" class="Function">h</a> <a id="14695" href="Apartness.TightReflection.html#14695" class="Bound">a</a> <a id="14697" class="Symbol">=</a> <a id="14699" href="Apartness.TightReflection.html#4738" class="Function">♯&#39;i</a> <a id="14703" class="Symbol">(</a><a id="14704" href="Apartness.TightReflection.html#3051" class="Function">η</a> <a id="14706" href="Apartness.TightReflection.html#14546" class="Bound">y</a><a id="14707" class="Symbol">)</a> <a id="14709" class="Symbol">(</a><a id="14710" href="MLTT.Id.html#735" class="Function">transport</a> <a id="14720" class="Symbol">(λ</a> <a id="14723" href="Apartness.TightReflection.html#14723" class="Bound">-</a> <a id="14725" class="Symbol">→</a> <a id="14727" href="Apartness.TightReflection.html#14723" class="Bound">-</a> <a id="14729" href="Apartness.TightReflection.html#3793" class="Function Operator">♯&#39;</a> <a id="14732" href="Apartness.TightReflection.html#3051" class="Function">η</a> <a id="14734" href="Apartness.TightReflection.html#14546" class="Bound">y</a><a id="14735" class="Symbol">)</a> <a id="14737" href="Apartness.TightReflection.html#14549" class="Bound">p</a> <a id="14739" href="Apartness.TightReflection.html#14695" class="Bound">a</a><a id="14740" class="Symbol">)</a>

   <a id="14746" href="Apartness.TightReflection.html#14746" class="Function">e</a> <a id="14748" class="Symbol">:</a> <a id="14750" href="UF.Embeddings.html#592" class="Function">is-embedding</a> <a id="14763" href="Apartness.TightReflection.html#3051" class="Function">η</a>
   <a id="14768" href="Apartness.TightReflection.html#14746" class="Function">e</a> <a id="14770" class="Symbol">=</a> <a id="14772" href="UF.Embeddings.html#10450" class="Function">lc-maps-into-sets-are-embeddings</a> <a id="14805" href="Apartness.TightReflection.html#3051" class="Function">η</a> <a id="14807" href="Apartness.TightReflection.html#14511" class="Function">lc</a> <a id="14810" href="Apartness.TightReflection.html#2920" class="Function">X&#39;-is-set</a>

   <a id="14824" href="Apartness.TightReflection.html#14824" class="Function">cm</a> <a id="14827" class="Symbol">:</a> <a id="14829" href="UF.Equiv.html#10549" class="Function">is-vv-equiv</a> <a id="14841" href="Apartness.TightReflection.html#3051" class="Function">η</a>
   <a id="14846" href="Apartness.TightReflection.html#14824" class="Function">cm</a> <a id="14849" class="Symbol">=</a> <a id="14851" href="UF.ImageAndSurjection.html#3138" class="Function">surjective-embeddings-are-vv-equivs</a> <a id="14887" href="Apartness.TightReflection.html#3051" class="Function">η</a> <a id="14889" href="Apartness.TightReflection.html#14746" class="Function">e</a> <a id="14891" href="Apartness.TightReflection.html#3424" class="Function">η-is-surjection</a>

<a id="14908" class="Markup">\end{code}</a><a id="14918" class="Background">

TODO.

* The tight reflection has the universal property of the quotient by
  _~_. Conversely, the quotient by _~_ gives the tight reflection.

* The tight reflection of ♯₂ has the universal property of the totally
  separated reflection.

* If a type Y has an apartness with y₀ ♯ y₁, then
  the function type (X → Y) has an apartness

    f ♯ g := ∃ x ꞉ X , f x ♯ g x

  that tells apart the constant functions with values y₀ and y₁
  respectively.
</a></pre></body></html>