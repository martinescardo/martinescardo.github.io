<!DOCTYPE HTML>
<html><head><meta charset="utf-8"><title>InjectiveTypes.Algebra</title><link rel="stylesheet" href="Agda.css"><script type="text/javascript" src="highlight-hover.js"></script></head><body><pre class="Agda"><a id="1" class="Background">Martin Escardo, 22nd October 2024 - 22 May 2025

This file is work in progress and aims to eventually subsume the file
gist.InjectivesVersusAlgebras (at which point that file will be deleted).

We give conditions on algebraic injective structure on a type so that
it coincides with the algebraic structure for the partial-map
classifier (aka lifting) monad 𝓛 on types.

We call these conditions &quot;associativity&quot; and &quot;pullback naturality&quot;.

Associativity says that an extension (f|j)|k of an extension f|j is
the extension f|(k∘j) along the composition of the embeddings j and k,
as in the following commutative diagram.


                   j         k
              X ──────→ Y ──────→ Z
               ╲        │        ╱
                ╲       │       ╱
             f   ╲      │ f|j  ╱ (f|j)|k = f(k∘j
                  ╲     │     ╱
                   ╲    │    ╱
                    ╲   │   ╱
                     ➘  ↓  ↙
                        D

Pullback naturality is expressed by the following diagram, where the
square is a pullback and j (and hence k) is an embedding.

                   k
              A ──────→ B
              │ ⌟       │
           g  │         │ h
              │         │
              ↓    j    ↓
              X ──────→ Y
               ╲        │
                ╲       │
             f   ╲      │ f|j ∘ h = (f ∘ g) | k
                  ╲     │
                   ╲    │
                    ╲   │
                     ➘  ↓
                        D

It actually suffices to consider pullbacks of the form


        fiber j y ────→ 𝟙
              │ ⌟       │
              │         │ y
              │         │
              ↓    j    ↓
              X ──────→ Y

This is a sense in which extensions are pointwise.

One may wonder whether it is reasonable to consider naturality with
respect to all commutative squares

                   k
              A ──────→ B
              │         │
           g  │         │ h
              │         │
              ↓    j    ↓
              X ──────→ Y

where j and k are embeddings, but which are not necessarily
pullbacks. However, a counter-example is the commutative square


              𝟘 ──────→ 𝟙
              │         │
              │         │
              │         │
              ↓         ↓
              𝟙 ──────→ 𝟙

Now, an algebra α : 𝓛 D → D of the lifting monad amounts flabbiness
structure plus an associativity law on this structure. Via the
canonical correspondence between algebraic injective structure and
algebraic flabby structure, the above associativity condition
corresponds to the associativity law for 𝓛-algebras (which justifies
our terminology in the case of injectivity). In terms of flabbinnes,
this says that if we have a situation

            P × Q ────→ 𝟙
               ╲        │
                ╲       │
             f   ╲      │
                  ╲     │
                   ╲    │
                    ╲   │
                     ➘  ↓
                        D

where P and Q propositions, so that also P × Q is a proposition, then
we can

 1. extend f at once, or
 2. extend f in its first variable and then in its second variable,

and these two processes give the same result.

As for pullback naturality, it is given automatically by the canonical
construction of algebraic injectivity data from algebraic flabiness
data.

If we define homomorphisms h : D → E of algebraic injectives in the
obvious way, namely, that for any f : X → D and j : X ↪ Y we have that

    h ∘ f ∣ j = (h ∘ f) ∣ j

as (partially) illustrated by the (incomplete, due to typographical
reasons) diagram

                   j
              X ───────→ Y
               ╲       ╱
                ╲     ╱
               f ╲   ╱ f/j
                  ➘ ↙
                   D
                   │
                   │ h
                   ↓
                   E

then injective homomorphisms correspond to 𝓛-homomorphisms.

When we restrict to types that are sets, we get that the category of
associative, pullback-natural algebraically injective objects is
isomorphic to the category of 𝓛-algebras.

This result holds for the objects of any 1-topos, due to our
constructive reasoning in a restricted type theory.

However, at the moment we don&#39;t have a result for ∞-toposes, because,
although the associativity, pullback naturality and the algebra
equations are all property for sets, they are data, and we have proved
only a logical equivalence of associativity + pullback-naturality and
the 𝓛-algebra equations, rather than a full type equivalence (whose
possibility we are currently investigating).

</a><a id="4616" class="Markup">\begin{code}</a>

<a id="4630" class="Symbol">{-#</a> <a id="4634" class="Keyword">OPTIONS</a> <a id="4642" class="Pragma">--safe</a> <a id="4649" class="Pragma">--without-K</a> <a id="4661" class="Pragma">--lossy-unification</a> <a id="4681" class="Symbol">#-}</a>

<a id="4686" class="Keyword">open</a> <a id="4691" class="Keyword">import</a> <a id="4698" href="UF.FunExt.html" class="Module">UF.FunExt</a>

<a id="4709" class="Keyword">module</a> <a id="4716" href="InjectiveTypes.Algebra.html" class="Module">InjectiveTypes.Algebra</a>
        <a id="4747" class="Symbol">(</a><a id="4748" href="InjectiveTypes.Algebra.html#4748" class="Bound">fe</a> <a id="4751" class="Symbol">:</a> <a id="4753" href="UF.FunExt.html#995" class="Function">FunExt</a><a id="4759" class="Symbol">)</a>
       <a id="4768" class="Keyword">where</a>

<a id="fe&#39;"></a><a id="4775" href="InjectiveTypes.Algebra.html#4775" class="Function">fe&#39;</a> <a id="4779" class="Symbol">:</a> <a id="4781" href="UF.FunExt.html#1047" class="Function">Fun-Ext</a>
<a id="4789" href="InjectiveTypes.Algebra.html#4775" class="Function">fe&#39;</a> <a id="4793" class="Symbol">{</a><a id="4794" href="InjectiveTypes.Algebra.html#4794" class="Bound">𝓤</a><a id="4795" class="Symbol">}</a> <a id="4797" class="Symbol">{</a><a id="4798" href="InjectiveTypes.Algebra.html#4798" class="Bound">𝓥</a><a id="4799" class="Symbol">}</a> <a id="4801" class="Symbol">=</a> <a id="4803" href="InjectiveTypes.Algebra.html#4748" class="Bound">fe</a> <a id="4806" href="InjectiveTypes.Algebra.html#4794" class="Bound">𝓤</a> <a id="4808" href="InjectiveTypes.Algebra.html#4798" class="Bound">𝓥</a>

<a id="4811" class="Keyword">open</a> <a id="4816" class="Keyword">import</a> <a id="4823" href="InjectiveTypes.Blackboard.html" class="Module">InjectiveTypes.Blackboard</a> <a id="4849" href="InjectiveTypes.Algebra.html#4748" class="Bound">fe</a> <a id="4852" class="Keyword">hiding</a> <a id="4859" class="Symbol">(</a><a id="4860" href="InjectiveTypes.Blackboard.html#6034" class="Function">ηΠ</a> <a id="4863" class="Symbol">;</a> <a id="4865" href="InjectiveTypes.Blackboard.html#6078" class="Function">ηΣ</a><a id="4867" class="Symbol">)</a>
<a id="4869" class="Keyword">open</a> <a id="4874" class="Keyword">import</a> <a id="4881" href="MLTT.Spartan.html" class="Module">MLTT.Spartan</a>
<a id="4894" class="Keyword">open</a> <a id="4899" class="Keyword">import</a> <a id="4906" href="UF.Base.html" class="Module">UF.Base</a>
<a id="4914" class="Keyword">open</a> <a id="4919" class="Keyword">import</a> <a id="4926" href="UF.Embeddings.html" class="Module">UF.Embeddings</a>
<a id="4940" class="Keyword">open</a> <a id="4945" class="Keyword">import</a> <a id="4952" href="UF.Equiv.html" class="Module">UF.Equiv</a>
<a id="4961" class="Keyword">open</a> <a id="4966" class="Keyword">import</a> <a id="4973" href="UF.EquivalenceExamples.html" class="Module">UF.EquivalenceExamples</a>
<a id="4996" class="Keyword">open</a> <a id="5001" class="Keyword">import</a> <a id="5008" href="UF.Pullback.html" class="Module">UF.Pullback</a>
<a id="5020" class="Keyword">open</a> <a id="5025" class="Keyword">import</a> <a id="5032" href="UF.Subsingletons.html" class="Module">UF.Subsingletons</a>
<a id="5049" class="Keyword">open</a> <a id="5054" class="Keyword">import</a> <a id="5061" href="UF.Subsingletons-FunExt.html" class="Module">UF.Subsingletons-FunExt</a>
<a id="5085" class="Keyword">open</a> <a id="5090" class="Keyword">import</a> <a id="5097" href="UF.Univalence.html" class="Module">UF.Univalence</a>
<a id="5111" class="Keyword">open</a> <a id="5116" class="Keyword">import</a> <a id="5123" href="Lifting.Algebras.html" class="Module">Lifting.Algebras</a>

<a id="5141" class="Markup">\end{code}</a><a id="5151" class="Background">

Definition of algebraic injective homomorphisms.

</a><a id="5203" class="Markup">\begin{code}</a>

<a id="5217" class="Keyword">module</a> <a id="algebraic-injective-homomorphisms"></a><a id="5224" href="InjectiveTypes.Algebra.html#5224" class="Module">algebraic-injective-homomorphisms</a>
        <a id="5266" class="Symbol">{</a><a id="5267" href="InjectiveTypes.Algebra.html#5267" class="Bound">𝓤</a> <a id="5269" href="InjectiveTypes.Algebra.html#5269" class="Bound">𝓦</a> <a id="5271" href="InjectiveTypes.Algebra.html#5271" class="Bound">𝓣</a> <a id="5273" class="Symbol">:</a> <a id="5275" href="Agda.Primitive.html#742" class="Postulate">Universe</a><a id="5283" class="Symbol">}</a>
        <a id="5293" class="Symbol">(</a><a id="5294" href="InjectiveTypes.Algebra.html#5294" class="Bound">D</a> <a id="5296" class="Symbol">:</a> <a id="5298" href="InjectiveTypes.Algebra.html#5269" class="Bound">𝓦</a> <a id="5300" href="MLTT.Universes.html#3977" class="Function Operator">̇</a> <a id="5302" class="Symbol">)</a>
        <a id="5312" class="Symbol">(</a><a id="5313" href="InjectiveTypes.Algebra.html#5313" class="Bound">E</a> <a id="5315" class="Symbol">:</a> <a id="5317" href="InjectiveTypes.Algebra.html#5271" class="Bound">𝓣</a> <a id="5319" href="MLTT.Universes.html#3977" class="Function Operator">̇</a> <a id="5321" class="Symbol">)</a>
        <a id="5331" class="Symbol">(</a><a id="5332" href="InjectiveTypes.Algebra.html#5332" class="Bound">D-ainj</a> <a id="5339" class="Symbol">:</a> <a id="5341" href="InjectiveTypes.Blackboard.html#15851" class="Function">ainjective-type</a> <a id="5357" href="InjectiveTypes.Algebra.html#5294" class="Bound">D</a> <a id="5359" href="InjectiveTypes.Algebra.html#5267" class="Bound">𝓤</a> <a id="5361" href="InjectiveTypes.Algebra.html#5267" class="Bound">𝓤</a><a id="5362" class="Symbol">)</a>
        <a id="5372" class="Symbol">(</a><a id="5373" href="InjectiveTypes.Algebra.html#5373" class="Bound">E-ainj</a> <a id="5380" class="Symbol">:</a> <a id="5382" href="InjectiveTypes.Blackboard.html#15851" class="Function">ainjective-type</a> <a id="5398" href="InjectiveTypes.Algebra.html#5313" class="Bound">E</a> <a id="5400" href="InjectiveTypes.Algebra.html#5267" class="Bound">𝓤</a> <a id="5402" href="InjectiveTypes.Algebra.html#5267" class="Bound">𝓤</a><a id="5403" class="Symbol">)</a>
       <a id="5412" class="Keyword">where</a>

 <a id="algebraic-injective-homomorphisms._∣ᴰ_"></a><a id="5420" href="InjectiveTypes.Algebra.html#5420" class="Function Operator">_∣ᴰ_</a> <a id="5425" class="Symbol">:</a> <a id="5427" class="Symbol">{</a><a id="5428" href="InjectiveTypes.Algebra.html#5428" class="Bound">X</a> <a id="5430" href="InjectiveTypes.Algebra.html#5430" class="Bound">Y</a> <a id="5432" class="Symbol">:</a> <a id="5434" href="InjectiveTypes.Algebra.html#5267" class="Bound">𝓤</a> <a id="5436" href="MLTT.Universes.html#3977" class="Function Operator">̇</a> <a id="5438" class="Symbol">}</a> <a id="5440" class="Symbol">→</a> <a id="5442" class="Symbol">(</a><a id="5443" href="InjectiveTypes.Algebra.html#5428" class="Bound">X</a> <a id="5445" class="Symbol">→</a> <a id="5447" href="InjectiveTypes.Algebra.html#5294" class="Bound">D</a><a id="5448" class="Symbol">)</a> <a id="5450" class="Symbol">→</a> <a id="5452" class="Symbol">(</a><a id="5453" href="InjectiveTypes.Algebra.html#5428" class="Bound">X</a> <a id="5455" href="UF.Embeddings.html#2020" class="Function Operator">↪</a> <a id="5457" href="InjectiveTypes.Algebra.html#5430" class="Bound">Y</a><a id="5458" class="Symbol">)</a> <a id="5460" class="Symbol">→</a> <a id="5462" class="Symbol">(</a><a id="5463" href="InjectiveTypes.Algebra.html#5430" class="Bound">Y</a> <a id="5465" class="Symbol">→</a> <a id="5467" href="InjectiveTypes.Algebra.html#5294" class="Bound">D</a><a id="5468" class="Symbol">)</a>
 <a id="5471" href="InjectiveTypes.Algebra.html#5471" class="Bound">f</a> <a id="5473" href="InjectiveTypes.Algebra.html#5420" class="Function Operator">∣ᴰ</a> <a id="5476" href="InjectiveTypes.Algebra.html#5476" class="Bound">𝕛</a> <a id="5478" class="Symbol">=</a> <a id="5480" href="InjectiveTypes.Blackboard.html#16604" class="Function">extension&#39;</a> <a id="5491" href="InjectiveTypes.Algebra.html#5332" class="Bound">D-ainj</a> <a id="5498" href="InjectiveTypes.Algebra.html#5476" class="Bound">𝕛</a> <a id="5500" href="InjectiveTypes.Algebra.html#5471" class="Bound">f</a>

 <a id="algebraic-injective-homomorphisms._∣ᴱ_"></a><a id="5504" href="InjectiveTypes.Algebra.html#5504" class="Function Operator">_∣ᴱ_</a> <a id="5509" class="Symbol">:</a> <a id="5511" class="Symbol">{</a><a id="5512" href="InjectiveTypes.Algebra.html#5512" class="Bound">X</a> <a id="5514" href="InjectiveTypes.Algebra.html#5514" class="Bound">Y</a> <a id="5516" class="Symbol">:</a> <a id="5518" href="InjectiveTypes.Algebra.html#5267" class="Bound">𝓤</a> <a id="5520" href="MLTT.Universes.html#3977" class="Function Operator">̇</a> <a id="5522" class="Symbol">}</a> <a id="5524" class="Symbol">→</a> <a id="5526" class="Symbol">(</a><a id="5527" href="InjectiveTypes.Algebra.html#5512" class="Bound">X</a> <a id="5529" class="Symbol">→</a> <a id="5531" href="InjectiveTypes.Algebra.html#5313" class="Bound">E</a><a id="5532" class="Symbol">)</a> <a id="5534" class="Symbol">→</a> <a id="5536" class="Symbol">(</a><a id="5537" href="InjectiveTypes.Algebra.html#5512" class="Bound">X</a> <a id="5539" href="UF.Embeddings.html#2020" class="Function Operator">↪</a> <a id="5541" href="InjectiveTypes.Algebra.html#5514" class="Bound">Y</a><a id="5542" class="Symbol">)</a> <a id="5544" class="Symbol">→</a> <a id="5546" class="Symbol">(</a><a id="5547" href="InjectiveTypes.Algebra.html#5514" class="Bound">Y</a> <a id="5549" class="Symbol">→</a> <a id="5551" href="InjectiveTypes.Algebra.html#5313" class="Bound">E</a><a id="5552" class="Symbol">)</a>
 <a id="5555" href="InjectiveTypes.Algebra.html#5555" class="Bound">g</a> <a id="5557" href="InjectiveTypes.Algebra.html#5504" class="Function Operator">∣ᴱ</a> <a id="5560" href="InjectiveTypes.Algebra.html#5560" class="Bound">𝕛</a> <a id="5562" class="Symbol">=</a> <a id="5564" href="InjectiveTypes.Blackboard.html#16604" class="Function">extension&#39;</a> <a id="5575" href="InjectiveTypes.Algebra.html#5373" class="Bound">E-ainj</a> <a id="5582" href="InjectiveTypes.Algebra.html#5560" class="Bound">𝕛</a> <a id="5584" href="InjectiveTypes.Algebra.html#5555" class="Bound">g</a>

 <a id="algebraic-injective-homomorphisms.is-hom"></a><a id="5588" href="InjectiveTypes.Algebra.html#5588" class="Function">is-hom</a> <a id="5595" class="Symbol">:</a> <a id="5597" class="Symbol">(</a><a id="5598" href="InjectiveTypes.Algebra.html#5294" class="Bound">D</a> <a id="5600" class="Symbol">→</a> <a id="5602" href="InjectiveTypes.Algebra.html#5313" class="Bound">E</a><a id="5603" class="Symbol">)</a> <a id="5605" class="Symbol">→</a> <a id="5607" class="Symbol">(</a><a id="5608" href="InjectiveTypes.Algebra.html#5267" class="Bound">𝓤</a> <a id="5610" href="Agda.Primitive.html#931" class="Primitive Operator">⁺</a><a id="5611" class="Symbol">)</a> <a id="5613" href="Agda.Primitive.html#961" class="Primitive Operator">⊔</a> <a id="5615" href="InjectiveTypes.Algebra.html#5269" class="Bound">𝓦</a> <a id="5617" href="Agda.Primitive.html#961" class="Primitive Operator">⊔</a> <a id="5619" href="InjectiveTypes.Algebra.html#5271" class="Bound">𝓣</a> <a id="5621" href="MLTT.Universes.html#3977" class="Function Operator">̇</a>
 <a id="5624" href="InjectiveTypes.Algebra.html#5588" class="Function">is-hom</a> <a id="5631" href="InjectiveTypes.Algebra.html#5631" class="Bound">h</a> <a id="5633" class="Symbol">=</a> <a id="5635" class="Symbol">{</a><a id="5636" href="InjectiveTypes.Algebra.html#5636" class="Bound">X</a> <a id="5638" href="InjectiveTypes.Algebra.html#5638" class="Bound">Y</a> <a id="5640" class="Symbol">:</a> <a id="5642" href="InjectiveTypes.Algebra.html#5267" class="Bound">𝓤</a> <a id="5644" href="MLTT.Universes.html#3977" class="Function Operator">̇</a> <a id="5646" class="Symbol">}</a> <a id="5648" class="Symbol">(</a><a id="5649" href="InjectiveTypes.Algebra.html#5649" class="Bound">f</a> <a id="5651" class="Symbol">:</a> <a id="5653" href="InjectiveTypes.Algebra.html#5636" class="Bound">X</a> <a id="5655" class="Symbol">→</a> <a id="5657" href="InjectiveTypes.Algebra.html#5294" class="Bound">D</a><a id="5658" class="Symbol">)</a> <a id="5660" class="Symbol">(</a><a id="5661" href="InjectiveTypes.Algebra.html#5661" class="Bound">𝕛</a> <a id="5663" class="Symbol">:</a> <a id="5665" href="InjectiveTypes.Algebra.html#5636" class="Bound">X</a> <a id="5667" href="UF.Embeddings.html#2020" class="Function Operator">↪</a> <a id="5669" href="InjectiveTypes.Algebra.html#5638" class="Bound">Y</a><a id="5670" class="Symbol">)</a>
          <a id="5682" class="Symbol">→</a> <a id="5684" href="InjectiveTypes.Algebra.html#5631" class="Bound">h</a> <a id="5686" href="MLTT.Pi.html#513" class="Function Operator">∘</a> <a id="5688" href="InjectiveTypes.Algebra.html#5649" class="Bound">f</a> <a id="5690" href="InjectiveTypes.Algebra.html#5420" class="Function Operator">∣ᴰ</a> <a id="5693" href="InjectiveTypes.Algebra.html#5661" class="Bound">𝕛</a> <a id="5695" href="MLTT.Id.html#1891" class="Function Operator">∼</a> <a id="5697" class="Symbol">(</a><a id="5698" href="InjectiveTypes.Algebra.html#5631" class="Bound">h</a> <a id="5700" href="MLTT.Pi.html#513" class="Function Operator">∘</a> <a id="5702" href="InjectiveTypes.Algebra.html#5649" class="Bound">f</a><a id="5703" class="Symbol">)</a> <a id="5705" href="InjectiveTypes.Algebra.html#5504" class="Function Operator">∣ᴱ</a> <a id="5708" href="InjectiveTypes.Algebra.html#5661" class="Bound">𝕛</a>

<a id="5711" class="Markup">\end{code}</a><a id="5721" class="Background">

Definitions of associativity and pullback naturality.

</a><a id="5778" class="Markup">\begin{code}</a>

<a id="5792" class="Keyword">module</a> <a id="5799" href="InjectiveTypes.Algebra.html#5799" class="Module">_</a>
        <a id="5809" class="Symbol">{</a><a id="5810" href="InjectiveTypes.Algebra.html#5810" class="Bound">𝓤</a> <a id="5812" href="InjectiveTypes.Algebra.html#5812" class="Bound">𝓦</a> <a id="5814" class="Symbol">:</a> <a id="5816" href="Agda.Primitive.html#742" class="Postulate">Universe</a><a id="5824" class="Symbol">}</a>
        <a id="5834" class="Symbol">(</a><a id="5835" href="InjectiveTypes.Algebra.html#5835" class="Bound">D</a> <a id="5837" class="Symbol">:</a> <a id="5839" href="InjectiveTypes.Algebra.html#5812" class="Bound">𝓦</a> <a id="5841" href="MLTT.Universes.html#3977" class="Function Operator">̇</a> <a id="5843" class="Symbol">)</a>
        <a id="5853" class="Symbol">(</a><a id="5854" href="InjectiveTypes.Algebra.html#5854" class="Bound">D-ainj</a> <a id="5861" class="Symbol">:</a> <a id="5863" href="InjectiveTypes.Blackboard.html#15851" class="Function">ainjective-type</a> <a id="5879" href="InjectiveTypes.Algebra.html#5835" class="Bound">D</a> <a id="5881" href="InjectiveTypes.Algebra.html#5810" class="Bound">𝓤</a> <a id="5883" href="InjectiveTypes.Algebra.html#5810" class="Bound">𝓤</a><a id="5884" class="Symbol">)</a>
       <a id="5893" class="Keyword">where</a>

 <a id="5901" class="Keyword">private</a>
  <a id="5911" href="InjectiveTypes.Algebra.html#5911" class="Function Operator">_∣_</a> <a id="5915" class="Symbol">:</a> <a id="5917" class="Symbol">{</a><a id="5918" href="InjectiveTypes.Algebra.html#5918" class="Bound">X</a> <a id="5920" href="InjectiveTypes.Algebra.html#5920" class="Bound">Y</a> <a id="5922" class="Symbol">:</a> <a id="5924" href="InjectiveTypes.Algebra.html#5810" class="Bound">𝓤</a> <a id="5926" href="MLTT.Universes.html#3977" class="Function Operator">̇</a> <a id="5928" class="Symbol">}</a> <a id="5930" class="Symbol">→</a> <a id="5932" class="Symbol">(</a><a id="5933" href="InjectiveTypes.Algebra.html#5918" class="Bound">X</a> <a id="5935" class="Symbol">→</a> <a id="5937" href="InjectiveTypes.Algebra.html#5835" class="Bound">D</a><a id="5938" class="Symbol">)</a> <a id="5940" class="Symbol">→</a> <a id="5942" class="Symbol">(</a><a id="5943" href="InjectiveTypes.Algebra.html#5918" class="Bound">X</a> <a id="5945" href="UF.Embeddings.html#2020" class="Function Operator">↪</a> <a id="5947" href="InjectiveTypes.Algebra.html#5920" class="Bound">Y</a><a id="5948" class="Symbol">)</a> <a id="5950" class="Symbol">→</a> <a id="5952" class="Symbol">(</a><a id="5953" href="InjectiveTypes.Algebra.html#5920" class="Bound">Y</a> <a id="5955" class="Symbol">→</a> <a id="5957" href="InjectiveTypes.Algebra.html#5835" class="Bound">D</a><a id="5958" class="Symbol">)</a>
  <a id="5962" href="InjectiveTypes.Algebra.html#5962" class="Bound">f</a> <a id="5964" href="InjectiveTypes.Algebra.html#5911" class="Function Operator">∣</a> <a id="5966" href="InjectiveTypes.Algebra.html#5966" class="Bound">𝕛</a> <a id="5968" class="Symbol">=</a> <a id="5970" href="InjectiveTypes.Blackboard.html#16604" class="Function">extension&#39;</a> <a id="5981" href="InjectiveTypes.Algebra.html#5854" class="Bound">D-ainj</a> <a id="5988" href="InjectiveTypes.Algebra.html#5966" class="Bound">𝕛</a> <a id="5990" href="InjectiveTypes.Algebra.html#5962" class="Bound">f</a>

 <a id="5994" href="InjectiveTypes.Algebra.html#5994" class="Function">associativity</a> <a id="6008" class="Symbol">:</a> <a id="6010" href="InjectiveTypes.Algebra.html#5812" class="Bound">𝓦</a> <a id="6012" href="Agda.Primitive.html#961" class="Primitive Operator">⊔</a> <a id="6014" href="InjectiveTypes.Algebra.html#5810" class="Bound">𝓤</a> <a id="6016" href="Agda.Primitive.html#931" class="Primitive Operator">⁺</a> <a id="6018" href="MLTT.Universes.html#3977" class="Function Operator">̇</a>
 <a id="6021" href="InjectiveTypes.Algebra.html#5994" class="Function">associativity</a> <a id="6035" class="Symbol">=</a> <a id="6037" class="Symbol">{</a><a id="6038" href="InjectiveTypes.Algebra.html#6038" class="Bound">X</a> <a id="6040" href="InjectiveTypes.Algebra.html#6040" class="Bound">Y</a> <a id="6042" href="InjectiveTypes.Algebra.html#6042" class="Bound">Z</a> <a id="6044" class="Symbol">:</a> <a id="6046" href="InjectiveTypes.Algebra.html#5810" class="Bound">𝓤</a> <a id="6048" href="MLTT.Universes.html#3977" class="Function Operator">̇</a> <a id="6050" class="Symbol">}</a> <a id="6052" class="Symbol">(</a><a id="6053" href="InjectiveTypes.Algebra.html#6053" class="Bound">f</a> <a id="6055" class="Symbol">:</a> <a id="6057" href="InjectiveTypes.Algebra.html#6038" class="Bound">X</a> <a id="6059" class="Symbol">→</a> <a id="6061" href="InjectiveTypes.Algebra.html#5835" class="Bound">D</a><a id="6062" class="Symbol">)</a> <a id="6064" class="Symbol">(</a><a id="6065" href="InjectiveTypes.Algebra.html#6065" class="Bound">𝕛</a> <a id="6067" class="Symbol">:</a> <a id="6069" href="InjectiveTypes.Algebra.html#6038" class="Bound">X</a> <a id="6071" href="UF.Embeddings.html#2020" class="Function Operator">↪</a> <a id="6073" href="InjectiveTypes.Algebra.html#6040" class="Bound">Y</a><a id="6074" class="Symbol">)</a> <a id="6076" class="Symbol">(</a><a id="6077" href="InjectiveTypes.Algebra.html#6077" class="Bound">𝕜</a> <a id="6079" class="Symbol">:</a> <a id="6081" href="InjectiveTypes.Algebra.html#6040" class="Bound">Y</a> <a id="6083" href="UF.Embeddings.html#2020" class="Function Operator">↪</a> <a id="6085" href="InjectiveTypes.Algebra.html#6042" class="Bound">Z</a><a id="6086" class="Symbol">)</a>
               <a id="6103" class="Symbol">→</a> <a id="6105" href="InjectiveTypes.Algebra.html#6053" class="Bound">f</a> <a id="6107" href="InjectiveTypes.Algebra.html#5911" class="Function Operator">∣</a> <a id="6109" class="Symbol">(</a><a id="6110" href="InjectiveTypes.Algebra.html#6077" class="Bound">𝕜</a> <a id="6112" href="UF.Embeddings.html#2147" class="Function Operator">∘↪</a> <a id="6115" href="InjectiveTypes.Algebra.html#6065" class="Bound">𝕛</a><a id="6116" class="Symbol">)</a> <a id="6118" href="MLTT.Id.html#1891" class="Function Operator">∼</a> <a id="6120" class="Symbol">(</a><a id="6121" href="InjectiveTypes.Algebra.html#6053" class="Bound">f</a> <a id="6123" href="InjectiveTypes.Algebra.html#5911" class="Function Operator">∣</a> <a id="6125" href="InjectiveTypes.Algebra.html#6065" class="Bound">𝕛</a><a id="6126" class="Symbol">)</a> <a id="6128" href="InjectiveTypes.Algebra.html#5911" class="Function Operator">∣</a> <a id="6130" href="InjectiveTypes.Algebra.html#6077" class="Bound">𝕜</a>

<a id="6133" class="Markup">\end{code}</a><a id="6143" class="Background">

For the following definition, we consider the standard pullback

                   pb₂
    pullback j h ─────→ B
              │ ⌟       │
          pb₁ │         │ h
              │         │
              ↓     j   ↓
              X ──────→ Y

where pullback j h := Σ (x , y) ꞉ X × B , j x ＝ h y and pb₁ and pb₂
are the projections, rather than an abstract pullback, for simplicity,
so that the above naturality condition becomes

                   pb₂
    pullback j h ─────→ B
              │ ⌟       │
          pb₁ │         │ h
              │         │
              ↓     j   ↓
              X ──────→ Y
               ╲        │
                ╲       │
             f   ╲      │ (f | j) ∘ h = (f ∘ pb₁) | pb₂
                  ╲     │
                   ╲    │
                    ╲   │
                     ➘  ↓
                        D

</a><a id="6999" class="Markup">\begin{code}</a>

 <a id="7014" class="Keyword">module</a> <a id="7021" href="InjectiveTypes.Algebra.html#7021" class="Module">_</a>
         <a id="7032" class="Symbol">{</a><a id="7033" href="InjectiveTypes.Algebra.html#7033" class="Bound">X</a> <a id="7035" href="InjectiveTypes.Algebra.html#7035" class="Bound">Y</a> <a id="7037" href="InjectiveTypes.Algebra.html#7037" class="Bound">B</a> <a id="7039" class="Symbol">:</a> <a id="7041" href="InjectiveTypes.Algebra.html#5810" class="Bound">𝓤</a> <a id="7043" href="MLTT.Universes.html#3977" class="Function Operator">̇</a> <a id="7045" class="Symbol">}</a>
         <a id="7056" class="Symbol">(</a><a id="7057" href="InjectiveTypes.Algebra.html#7057" class="Bound">f</a> <a id="7059" class="Symbol">:</a> <a id="7061" href="InjectiveTypes.Algebra.html#7033" class="Bound">X</a> <a id="7063" class="Symbol">→</a> <a id="7065" href="InjectiveTypes.Algebra.html#5835" class="Bound">D</a><a id="7066" class="Symbol">)</a>
         <a id="7077" class="Symbol">(</a><a id="7078" href="InjectiveTypes.Algebra.html#7078" class="Bound">𝕛</a> <a id="7080" class="Symbol">:</a> <a id="7082" href="InjectiveTypes.Algebra.html#7033" class="Bound">X</a> <a id="7084" href="UF.Embeddings.html#2020" class="Function Operator">↪</a> <a id="7086" href="InjectiveTypes.Algebra.html#7035" class="Bound">Y</a><a id="7087" class="Symbol">)</a>
         <a id="7098" class="Symbol">(</a><a id="7099" href="InjectiveTypes.Algebra.html#7099" class="Bound">h</a> <a id="7101" class="Symbol">:</a> <a id="7103" href="InjectiveTypes.Algebra.html#7037" class="Bound">B</a> <a id="7105" class="Symbol">→</a> <a id="7107" href="InjectiveTypes.Algebra.html#7035" class="Bound">Y</a><a id="7108" class="Symbol">)</a>
        <a id="7118" class="Keyword">where</a>

  <a id="7127" class="Keyword">open</a> <a id="7132" href="UF.Pullback.html#640" class="Module">pullback</a> <a id="7141" href="UF.Embeddings.html#2275" class="Function Operator">⌊</a> <a id="7143" href="InjectiveTypes.Algebra.html#7078" class="Bound">𝕛</a> <a id="7145" href="UF.Embeddings.html#2275" class="Function Operator">⌋</a> <a id="7147" href="InjectiveTypes.Algebra.html#7099" class="Bound">h</a>

  <a id="7152" href="InjectiveTypes.Algebra.html#7152" class="Function">𝕡𝕓₂</a> <a id="7156" class="Symbol">:</a> <a id="7158" href="UF.Pullback.html#4130" class="Function">pullback</a> <a id="7167" href="UF.Embeddings.html#2020" class="Function Operator">↪</a> <a id="7169" href="InjectiveTypes.Algebra.html#7037" class="Bound">B</a>
  <a id="7173" href="InjectiveTypes.Algebra.html#7152" class="Function">𝕡𝕓₂</a> <a id="7177" class="Symbol">=</a> <a id="7179" href="UF.Pullback.html#4259" class="Function">pb₂</a> <a id="7183" href="MLTT.Sigma.html#395" class="InductiveConstructor Operator">,</a> <a id="7185" href="UF.Pullback.html#5146" class="Function">pb₂-is-embedding</a> <a id="7202" href="UF.Embeddings.html#2338" class="Function Operator">⌊</a> <a id="7204" href="InjectiveTypes.Algebra.html#7078" class="Bound">𝕛</a> <a id="7206" href="UF.Embeddings.html#2338" class="Function Operator">⌋-is-embedding</a>

  <a id="7224" href="InjectiveTypes.Algebra.html#7224" class="Function">pullback-naturality</a> <a id="7244" class="Symbol">:</a> <a id="7246" href="InjectiveTypes.Algebra.html#5810" class="Bound">𝓤</a> <a id="7248" href="Agda.Primitive.html#961" class="Primitive Operator">⊔</a> <a id="7250" href="InjectiveTypes.Algebra.html#5812" class="Bound">𝓦</a> <a id="7252" href="MLTT.Universes.html#3977" class="Function Operator">̇</a>
  <a id="7256" href="InjectiveTypes.Algebra.html#7224" class="Function">pullback-naturality</a> <a id="7276" class="Symbol">=</a> <a id="7278" class="Symbol">(</a><a id="7279" href="InjectiveTypes.Algebra.html#7057" class="Bound">f</a> <a id="7281" href="InjectiveTypes.Algebra.html#5911" class="Function Operator">∣</a> <a id="7283" href="InjectiveTypes.Algebra.html#7078" class="Bound">𝕛</a><a id="7284" class="Symbol">)</a> <a id="7286" href="MLTT.Pi.html#513" class="Function Operator">∘</a> <a id="7288" href="InjectiveTypes.Algebra.html#7099" class="Bound">h</a> <a id="7290" href="MLTT.Id.html#193" class="Datatype Operator">＝</a> <a id="7292" class="Symbol">(</a><a id="7293" href="InjectiveTypes.Algebra.html#7057" class="Bound">f</a> <a id="7295" href="MLTT.Pi.html#513" class="Function Operator">∘</a> <a id="7297" href="UF.Pullback.html#4222" class="Function">pb₁</a><a id="7300" class="Symbol">)</a> <a id="7302" href="InjectiveTypes.Algebra.html#5911" class="Function Operator">∣</a> <a id="7304" href="InjectiveTypes.Algebra.html#7152" class="Function">𝕡𝕓₂</a>

 <a id="7310" href="InjectiveTypes.Algebra.html#7310" class="Function">Pullback-Naturality</a> <a id="7330" class="Symbol">:</a> <a id="7332" class="Symbol">(</a><a id="7333" href="InjectiveTypes.Algebra.html#5810" class="Bound">𝓤</a> <a id="7335" href="Agda.Primitive.html#931" class="Primitive Operator">⁺</a><a id="7336" class="Symbol">)</a> <a id="7338" href="Agda.Primitive.html#961" class="Primitive Operator">⊔</a> <a id="7340" href="InjectiveTypes.Algebra.html#5812" class="Bound">𝓦</a> <a id="7342" href="MLTT.Universes.html#3977" class="Function Operator">̇</a>
 <a id="7345" href="InjectiveTypes.Algebra.html#7310" class="Function">Pullback-Naturality</a> <a id="7365" class="Symbol">=</a> <a id="7367" class="Symbol">{</a><a id="7368" href="InjectiveTypes.Algebra.html#7368" class="Bound">X</a> <a id="7370" href="InjectiveTypes.Algebra.html#7370" class="Bound">Y</a> <a id="7372" href="InjectiveTypes.Algebra.html#7372" class="Bound">B</a> <a id="7374" class="Symbol">:</a> <a id="7376" href="InjectiveTypes.Algebra.html#5810" class="Bound">𝓤</a> <a id="7378" href="MLTT.Universes.html#3977" class="Function Operator">̇</a> <a id="7380" class="Symbol">}</a>
                       <a id="7405" class="Symbol">(</a><a id="7406" href="InjectiveTypes.Algebra.html#7406" class="Bound">f</a> <a id="7408" class="Symbol">:</a> <a id="7410" href="InjectiveTypes.Algebra.html#7368" class="Bound">X</a> <a id="7412" class="Symbol">→</a> <a id="7414" href="InjectiveTypes.Algebra.html#5835" class="Bound">D</a><a id="7415" class="Symbol">)</a>
                       <a id="7440" class="Symbol">(</a><a id="7441" href="InjectiveTypes.Algebra.html#7441" class="Bound">𝕛</a> <a id="7443" class="Symbol">:</a> <a id="7445" href="InjectiveTypes.Algebra.html#7368" class="Bound">X</a> <a id="7447" href="UF.Embeddings.html#2020" class="Function Operator">↪</a> <a id="7449" href="InjectiveTypes.Algebra.html#7370" class="Bound">Y</a><a id="7450" class="Symbol">)</a>
                       <a id="7475" class="Symbol">(</a><a id="7476" href="InjectiveTypes.Algebra.html#7476" class="Bound">h</a> <a id="7478" class="Symbol">:</a> <a id="7480" href="InjectiveTypes.Algebra.html#7372" class="Bound">B</a> <a id="7482" class="Symbol">→</a> <a id="7484" href="InjectiveTypes.Algebra.html#7370" class="Bound">Y</a><a id="7485" class="Symbol">)</a>
                     <a id="7508" class="Symbol">→</a> <a id="7510" href="InjectiveTypes.Algebra.html#7224" class="Function">pullback-naturality</a> <a id="7530" href="InjectiveTypes.Algebra.html#7406" class="Bound">f</a> <a id="7532" href="InjectiveTypes.Algebra.html#7441" class="Bound">𝕛</a> <a id="7534" href="InjectiveTypes.Algebra.html#7476" class="Bound">h</a>

<a id="7537" class="Markup">\end{code}</a><a id="7547" class="Background">

</a><a id="7549" class="Markup">\begin{code}</a>

<a id="aainjective-structure"></a><a id="7563" href="InjectiveTypes.Algebra.html#7563" class="Function">aainjective-structure</a> <a id="7585" class="Symbol">:</a> <a id="7587" class="Symbol">(</a><a id="7588" href="InjectiveTypes.Algebra.html#7588" class="Bound">𝓤</a> <a id="7590" class="Symbol">:</a> <a id="7592" href="Agda.Primitive.html#742" class="Postulate">Universe</a><a id="7600" class="Symbol">)</a> <a id="7602" class="Symbol">→</a> <a id="7604" href="MLTT.Universes.html#3838" class="Generalizable">𝓦</a> <a id="7606" href="MLTT.Universes.html#3977" class="Function Operator">̇</a> <a id="7608" class="Symbol">→</a> <a id="7610" class="Symbol">(</a><a id="7611" href="InjectiveTypes.Algebra.html#7588" class="Bound">𝓤</a> <a id="7613" href="Agda.Primitive.html#931" class="Primitive Operator">⁺</a><a id="7614" class="Symbol">)</a> <a id="7616" href="Agda.Primitive.html#961" class="Primitive Operator">⊔</a> <a id="7618" href="MLTT.Universes.html#3838" class="Generalizable">𝓦</a> <a id="7620" href="MLTT.Universes.html#3977" class="Function Operator">̇</a>
<a id="7622" href="InjectiveTypes.Algebra.html#7563" class="Function">aainjective-structure</a> <a id="7644" href="InjectiveTypes.Algebra.html#7644" class="Bound">𝓤</a> <a id="7646" href="InjectiveTypes.Algebra.html#7646" class="Bound">D</a> <a id="7648" class="Symbol">=</a>
 <a id="7651" href="MLTT.Sigma.html#423" class="Function">Σ</a> <a id="7653" href="InjectiveTypes.Algebra.html#7653" class="Bound">D-ainj</a> <a id="7660" href="MLTT.Sigma.html#423" class="Function">꞉</a> <a id="7662" href="InjectiveTypes.Blackboard.html#15851" class="Function">ainjective-type</a> <a id="7678" href="InjectiveTypes.Algebra.html#7646" class="Bound">D</a> <a id="7680" href="InjectiveTypes.Algebra.html#7644" class="Bound">𝓤</a> <a id="7682" href="InjectiveTypes.Algebra.html#7644" class="Bound">𝓤</a> <a id="7684" href="MLTT.Sigma.html#423" class="Function">,</a> <a id="7686" href="InjectiveTypes.Algebra.html#5994" class="Function">associativity</a> <a id="7700" href="InjectiveTypes.Algebra.html#7646" class="Bound">D</a> <a id="7702" href="InjectiveTypes.Algebra.html#7653" class="Bound">D-ainj</a>

<a id="7710" class="Keyword">module</a> <a id="7717" href="InjectiveTypes.Algebra.html#7717" class="Module">_</a>
        <a id="7727" class="Symbol">{</a><a id="7728" href="InjectiveTypes.Algebra.html#7728" class="Bound">𝓤</a> <a id="7730" href="InjectiveTypes.Algebra.html#7730" class="Bound">𝓦</a> <a id="7732" class="Symbol">:</a> <a id="7734" href="Agda.Primitive.html#742" class="Postulate">Universe</a><a id="7742" class="Symbol">}</a>
        <a id="7752" class="Symbol">(</a><a id="7753" href="InjectiveTypes.Algebra.html#7753" class="Bound">D</a> <a id="7755" class="Symbol">:</a> <a id="7757" href="InjectiveTypes.Algebra.html#7730" class="Bound">𝓦</a> <a id="7759" href="MLTT.Universes.html#3977" class="Function Operator">̇</a> <a id="7761" class="Symbol">)</a>
       <a id="7770" class="Keyword">where</a>

 <a id="7778" href="InjectiveTypes.Algebra.html#7778" class="Function">aainjective-structure₁</a> <a id="7801" class="Symbol">:</a> <a id="7803" href="InjectiveTypes.Algebra.html#7563" class="Function">aainjective-structure</a> <a id="7825" href="InjectiveTypes.Algebra.html#7728" class="Bound">𝓤</a> <a id="7827" href="InjectiveTypes.Algebra.html#7753" class="Bound">D</a> <a id="7829" class="Symbol">→</a> <a id="7831" href="InjectiveTypes.Blackboard.html#15851" class="Function">ainjective-type</a> <a id="7847" href="InjectiveTypes.Algebra.html#7753" class="Bound">D</a> <a id="7849" href="InjectiveTypes.Algebra.html#7728" class="Bound">𝓤</a> <a id="7851" href="InjectiveTypes.Algebra.html#7728" class="Bound">𝓤</a>
 <a id="7854" href="InjectiveTypes.Algebra.html#7778" class="Function">aainjective-structure₁</a> <a id="7877" class="Symbol">=</a> <a id="7879" href="MLTT.Sigma-Type.html#198" class="Field">pr₁</a>

 <a id="7885" href="InjectiveTypes.Algebra.html#7885" class="Function">aainjective-structure₂</a> <a id="7908" class="Symbol">:</a> <a id="7910" class="Symbol">(</a><a id="7911" href="InjectiveTypes.Algebra.html#7911" class="Bound">s</a> <a id="7913" class="Symbol">:</a> <a id="7915" href="InjectiveTypes.Algebra.html#7563" class="Function">aainjective-structure</a> <a id="7937" href="InjectiveTypes.Algebra.html#7728" class="Bound">𝓤</a> <a id="7939" href="InjectiveTypes.Algebra.html#7753" class="Bound">D</a><a id="7940" class="Symbol">)</a>
                        <a id="7966" class="Symbol">→</a> <a id="7968" href="InjectiveTypes.Algebra.html#5994" class="Function">associativity</a> <a id="7982" href="InjectiveTypes.Algebra.html#7753" class="Bound">D</a> <a id="7984" class="Symbol">(</a><a id="7985" href="InjectiveTypes.Algebra.html#7778" class="Function">aainjective-structure₁</a> <a id="8008" href="InjectiveTypes.Algebra.html#7911" class="Bound">s</a><a id="8009" class="Symbol">)</a>
 <a id="8012" href="InjectiveTypes.Algebra.html#7885" class="Function">aainjective-structure₂</a> <a id="8035" class="Symbol">=</a> <a id="8037" href="MLTT.Sigma-Type.html#209" class="Field">pr₂</a>

<a id="8042" class="Comment">{-
 associativity-gives-𝓛-alg-structure : aainjective-structure 𝓤 D → 𝓛-alg 𝓤 D
 associativity-gives-𝓛-alg-structure = {!!}

 𝓛-alg-structure-gives-associativity : 𝓛-alg 𝓤 D → aainjective-structure 𝓤 D
 𝓛-alg-structure-gives-associativity = {!!}

 private
  ϕ = associativity-gives-𝓛-alg-structure
  ψ = 𝓛-alg-structure-gives-associativity

 η : (s@(D-ainj , a) : aainjective-structure 𝓤 D)
   → Pullback-Naturality D D-ainj
   → extension (aainjective-structure₁ (ψ (ϕ s)))＝ extension D-ainj
 η = {!!}

 ε : (t : 𝓛-alg 𝓤 D)
   → ∐ 𝓤 (ϕ (ψ t)) ＝ ∐ 𝓤 t
 ε = {!!}
-}</a>

<a id="8608" class="Markup">\end{code}</a><a id="8618" class="Background">

To be continued, following gist.InjectivesVersusAlgebras.
</a></pre></body></html>