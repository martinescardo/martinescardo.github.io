<!DOCTYPE HTML>
<html><head><meta charset="utf-8"><title>Games.FiniteHistoryDependent</title><link rel="stylesheet" href="Agda.css"><script type="text/javascript" src="highlight-hover.js"></script></head><body><pre class="Agda"><a id="1" class="Background">Martin Escardo, Paulo Oliva, 2-27 July 2021

The following paper is based on this file:

  [0] Martin Escardo and Paulo Oliva. Higher-order games with
      dependent types.  Theoretical Computer Science, Volume 974, 29
      September 2023, 114111.
      https://doi.org/10.48550/arXiv.2212.07735
      https://doi.org/10.1016/j.tcs.2023.114111

We study finite, history dependent games of perfect information using
selection functions and dependent-type trees.

This is based on our previous work.

  [1] M.H. Escardó and Paulo Oliva. Sequential Games and Optimal
      Strategies. Proceedings of the Royal Society A, 467:1519-1545,
      2011. https://doi.org/10.1098/rspa.2010.0471

We generalize [1] by considering the case that the type Xₖ of moves xₖ
at round k depends on the moves played at the previous rounds. So in a
sequence of moves x₀,x₁,x₂,…, we have that

  * the type X₀ of initial moves doesn&#39;t depend on anything,
  * the type X₁ depends on the first move x₀ : X₀,
  * the type X₂ depends on the first move x₀ : X₀ and the
    second move x₁ : X₁.
  …

In order to achieve this generalization, we work with game trees
whose nodes are labelled by types that collect the allowed moves at a
given round. Then a play x₀,x₁,x₂,…, is a path in such a tree.

This formulation of the notion of game naturally accounts for finite
games of *unbounded* length, which in [1] was achieved by continuous,
infinite games instead.

We assume a given type R of outcomes for games as a module parameter.

</a><a id="1508" class="Markup">\begin{code}</a>

<a id="1522" class="Symbol">{-#</a> <a id="1526" class="Keyword">OPTIONS</a> <a id="1534" class="Pragma">--safe</a> <a id="1541" class="Pragma">--without-K</a> <a id="1553" class="Symbol">#-}</a> <a id="1557" class="Comment">--</a>

<a id="1561" class="Keyword">open</a> <a id="1566" class="Keyword">import</a> <a id="1573" href="MLTT.Spartan.html" class="Module">MLTT.Spartan</a> <a id="1586" class="Keyword">hiding</a> <a id="1593" class="Symbol">(</a><a id="1594" href="MLTT.Id.html#438" class="Function">J</a><a id="1595" class="Symbol">)</a>

<a id="1598" class="Keyword">module</a> <a id="1605" href="Games.FiniteHistoryDependent.html" class="Module">Games.FiniteHistoryDependent</a> <a id="1634" class="Symbol">(</a><a id="1635" href="Games.FiniteHistoryDependent.html#1635" class="Bound">R</a> <a id="1637" class="Symbol">:</a> <a id="1639" href="Notation.General.html#372" class="Function">Type</a><a id="1643" class="Symbol">)</a> <a id="1645" class="Keyword">where</a>

<a id="1652" class="Keyword">open</a> <a id="1657" class="Keyword">import</a> <a id="1664" href="MonadOnTypes.Monad.html" class="Module">MonadOnTypes.Monad</a>
<a id="1683" class="Keyword">open</a> <a id="1688" class="Keyword">import</a> <a id="1695" href="MonadOnTypes.J.html" class="Module">MonadOnTypes.J</a>
<a id="1710" class="Keyword">open</a> <a id="1715" class="Keyword">import</a> <a id="1722" href="MonadOnTypes.K.html" class="Module">MonadOnTypes.K</a>
<a id="1737" class="Keyword">open</a> <a id="1742" class="Keyword">import</a> <a id="1749" href="MonadOnTypes.JK.html" class="Module">MonadOnTypes.JK</a>
<a id="1765" class="Keyword">open</a> <a id="1770" class="Keyword">import</a> <a id="1777" href="UF.Base.html" class="Module">UF.Base</a>
<a id="1785" class="Keyword">open</a> <a id="1790" class="Keyword">import</a> <a id="1797" href="UF.FunExt.html" class="Module">UF.FunExt</a>

<a id="1808" class="Keyword">open</a> <a id="1813" href="MonadOnTypes.K.html#438" class="Module">K-definitions</a> <a id="1827" href="Games.FiniteHistoryDependent.html#1635" class="Bound">R</a>
<a id="1829" class="Keyword">open</a> <a id="1834" href="MonadOnTypes.J.html#428" class="Module">J-definitions</a> <a id="1848" href="Games.FiniteHistoryDependent.html#1635" class="Bound">R</a>

<a id="1851" class="Markup">\end{code}</a><a id="1861" class="Background">

The following module defines the main data structure we use in order
to represent the above kind of game:

</a><a id="1970" class="Markup">\begin{code}</a>

<a id="1984" class="Keyword">open</a> <a id="1989" class="Keyword">import</a> <a id="1996" href="Games.TypeTrees.html" class="Module">Games.TypeTrees</a>

<a id="2013" class="Markup">\end{code}</a><a id="2023" class="Background">

We use quantifiers as in Section 1 of reference [1], defined in
another module.

In the same way as the type of moves at a given stage of the game
depends on the previously played moves, so do the quantifiers and
selection functions.

𝓚 decorates each internal node X of a type tree with the type K X of
quantifiers over X.

</a><a id="2350" class="Markup">\begin{code}</a>

<a id="𝓚"></a><a id="2364" href="Games.FiniteHistoryDependent.html#2364" class="Function">𝓚</a> <a id="2366" class="Symbol">:</a> <a id="2368" href="Games.TypeTrees.html#719" class="Datatype">𝑻</a> <a id="2370" class="Symbol">→</a> <a id="2372" href="Notation.General.html#372" class="Function">Type</a>
<a id="2377" href="Games.FiniteHistoryDependent.html#2364" class="Function">𝓚</a> <a id="2379" class="Symbol">=</a> <a id="2381" href="Games.TypeTrees.html#2120" class="Function">structure</a> <a id="2391" href="MonadOnTypes.K.html#471" class="Function">K</a>

<a id="remark-𝓚"></a><a id="2394" href="Games.FiniteHistoryDependent.html#2394" class="Function">remark-𝓚</a> <a id="2403" class="Symbol">:</a> <a id="2405" class="Symbol">{</a><a id="2406" href="Games.FiniteHistoryDependent.html#2406" class="Bound">X</a> <a id="2408" class="Symbol">:</a> <a id="2410" href="Notation.General.html#372" class="Function">Type</a><a id="2414" class="Symbol">}</a> <a id="2416" class="Symbol">{</a><a id="2417" href="Games.FiniteHistoryDependent.html#2417" class="Bound">Xf</a> <a id="2420" class="Symbol">:</a> <a id="2422" href="Games.FiniteHistoryDependent.html#2406" class="Bound">X</a> <a id="2424" class="Symbol">→</a> <a id="2426" href="Games.TypeTrees.html#719" class="Datatype">𝑻</a><a id="2427" class="Symbol">}</a>
         <a id="2438" class="Symbol">→</a> <a id="2440" class="Symbol">(</a><a id="2441" href="Games.FiniteHistoryDependent.html#2364" class="Function">𝓚</a> <a id="2443" class="InductiveConstructor">[]</a>       <a id="2452" href="MLTT.Id.html#193" class="Datatype Operator">＝</a> <a id="2454" href="MLTT.Unit.html#129" class="Record">𝟙</a><a id="2455" class="Symbol">)</a>
         <a id="2466" href="MLTT.Sigma.html#558" class="Function Operator">×</a> <a id="2468" class="Symbol">(</a><a id="2469" href="Games.FiniteHistoryDependent.html#2364" class="Function">𝓚</a> <a id="2471" class="Symbol">(</a><a id="2472" href="Games.FiniteHistoryDependent.html#2406" class="Bound">X</a> <a id="2474" class="InductiveConstructor Operator">∷</a> <a id="2476" href="Games.FiniteHistoryDependent.html#2417" class="Bound">Xf</a><a id="2478" class="Symbol">)</a> <a id="2480" href="MLTT.Id.html#193" class="Datatype Operator">＝</a> <a id="2482" href="MonadOnTypes.K.html#471" class="Function">K</a> <a id="2484" href="Games.FiniteHistoryDependent.html#2406" class="Bound">X</a> <a id="2486" href="MLTT.Sigma.html#558" class="Function Operator">×</a> <a id="2488" class="Symbol">((</a><a id="2490" href="Games.FiniteHistoryDependent.html#2490" class="Bound">x</a> <a id="2492" class="Symbol">:</a> <a id="2494" href="Games.FiniteHistoryDependent.html#2406" class="Bound">X</a><a id="2495" class="Symbol">)</a> <a id="2497" class="Symbol">→</a> <a id="2499" href="Games.FiniteHistoryDependent.html#2364" class="Function">𝓚</a> <a id="2501" class="Symbol">(</a><a id="2502" href="Games.FiniteHistoryDependent.html#2417" class="Bound">Xf</a> <a id="2505" href="Games.FiniteHistoryDependent.html#2490" class="Bound">x</a><a id="2506" class="Symbol">)))</a>
<a id="2510" href="Games.FiniteHistoryDependent.html#2394" class="Function">remark-𝓚</a> <a id="2519" class="Symbol">=</a> <a id="2521" href="MLTT.Identity-Type.html#157" class="InductiveConstructor">refl</a> <a id="2526" href="MLTT.Sigma.html#395" class="InductiveConstructor Operator">,</a> <a id="2528" href="MLTT.Identity-Type.html#157" class="InductiveConstructor">refl</a>

<a id="2534" class="Markup">\end{code}</a><a id="2544" class="Background">

 * ϕ  ranges over the type K X of quantifiers.
 * ϕt ranges over the type 𝓚 Xt of quantifier trees.
 * ϕf ranges over the type (x : X) → 𝓚 (Xf x) of quantifier forests.


Sequencing quantifiers, as constructed in Definition 2 of reference [1],
but using our tree representation of games instead:

</a><a id="2843" class="Markup">\begin{code}</a>

<a id="sequenceᴷ"></a><a id="2857" href="Games.FiniteHistoryDependent.html#2857" class="Function">sequenceᴷ</a> <a id="2867" class="Symbol">:</a> <a id="2869" class="Symbol">{</a><a id="2870" href="Games.FiniteHistoryDependent.html#2870" class="Bound">Xt</a> <a id="2873" class="Symbol">:</a> <a id="2875" href="Games.TypeTrees.html#719" class="Datatype">𝑻</a><a id="2876" class="Symbol">}</a> <a id="2878" class="Symbol">→</a> <a id="2880" href="Games.FiniteHistoryDependent.html#2364" class="Function">𝓚</a> <a id="2882" href="Games.FiniteHistoryDependent.html#2870" class="Bound">Xt</a> <a id="2885" class="Symbol">→</a> <a id="2887" href="MonadOnTypes.K.html#471" class="Function">K</a> <a id="2889" class="Symbol">(</a><a id="2890" href="Games.TypeTrees.html#906" class="Function">Path</a> <a id="2895" href="Games.FiniteHistoryDependent.html#2870" class="Bound">Xt</a><a id="2897" class="Symbol">)</a>
<a id="2899" href="Games.FiniteHistoryDependent.html#2857" class="Function">sequenceᴷ</a> <a id="2909" class="Symbol">=</a> <a id="2911" href="Games.TypeTrees.html#3789" class="Function">path-sequence</a> <a id="2925" class="Symbol">(</a><a id="2926" href="MonadOnTypes.K.html#184" class="Function">𝕂</a> <a id="2928" href="Games.FiniteHistoryDependent.html#1635" class="Bound">R</a><a id="2929" class="Symbol">)</a>

<a id="2932" class="Markup">\end{code}</a><a id="2942" class="Background">

The following is Definition 3 of the above reference [1].

A game is defined by a game tree Xt, a type R of outcomes, a
quantifier tree ϕt and an outcome function q:

</a><a id="3111" class="Markup">\begin{code}</a>

<a id="3125" class="Keyword">record</a> <a id="Game"></a><a id="3132" href="Games.FiniteHistoryDependent.html#3132" class="Record">Game</a> <a id="3137" class="Symbol">:</a> <a id="3139" href="Notation.General.html#384" class="Function">Type₁</a> <a id="3145" class="Keyword">where</a>
 <a id="3152" class="Keyword">constructor</a> <a id="game"></a><a id="3164" href="Games.FiniteHistoryDependent.html#3164" class="InductiveConstructor">game</a>
 <a id="3170" class="Keyword">field</a>
  <a id="Game.game-tree"></a><a id="3178" href="Games.FiniteHistoryDependent.html#3178" class="Field">game-tree</a> <a id="3188" class="Symbol">:</a> <a id="3190" href="Games.TypeTrees.html#719" class="Datatype">𝑻</a>
  <a id="Game.payoff-function"></a><a id="3194" href="Games.FiniteHistoryDependent.html#3194" class="Field">payoff-function</a>  <a id="3211" class="Symbol">:</a> <a id="3213" href="Games.TypeTrees.html#906" class="Function">Path</a> <a id="3218" href="Games.FiniteHistoryDependent.html#3178" class="Field">game-tree</a> <a id="3228" class="Symbol">→</a> <a id="3230" href="Games.FiniteHistoryDependent.html#1635" class="Bound">R</a>
  <a id="Game.quantifier-tree"></a><a id="3234" href="Games.FiniteHistoryDependent.html#3234" class="Field">quantifier-tree</a> <a id="3250" class="Symbol">:</a> <a id="3252" href="Games.FiniteHistoryDependent.html#2364" class="Function">𝓚</a> <a id="3254" href="Games.FiniteHistoryDependent.html#3178" class="Field">game-tree</a>

<a id="3265" class="Keyword">open</a> <a id="3270" href="Games.FiniteHistoryDependent.html#3132" class="Module">Game</a> <a id="3275" class="Keyword">public</a>

<a id="3283" class="Markup">\end{code}</a><a id="3293" class="Background">

We can think of Xt as the rules of the game, and R, ϕt and q as the
objective of the game.

We define the optimal outcome of a game to be the sequencing of its
quantifiers applied to the outcome function (Theorem 3.1 of [1]).

</a><a id="3522" class="Markup">\begin{code}</a>

<a id="optimal-outcome"></a><a id="3536" href="Games.FiniteHistoryDependent.html#3536" class="Function">optimal-outcome</a> <a id="3552" class="Symbol">:</a> <a id="3554" href="Games.FiniteHistoryDependent.html#3132" class="Record">Game</a> <a id="3559" class="Symbol">→</a> <a id="3561" href="Games.FiniteHistoryDependent.html#1635" class="Bound">R</a>
<a id="3563" href="Games.FiniteHistoryDependent.html#3536" class="Function">optimal-outcome</a> <a id="3579" class="Symbol">(</a><a id="3580" href="Games.FiniteHistoryDependent.html#3164" class="InductiveConstructor">game</a> <a id="3585" href="Games.FiniteHistoryDependent.html#3585" class="Bound">Xt</a> <a id="3588" href="Games.FiniteHistoryDependent.html#3588" class="Bound">q</a> <a id="3590" href="Games.FiniteHistoryDependent.html#3590" class="Bound">ϕt</a><a id="3592" class="Symbol">)</a> <a id="3594" class="Symbol">=</a> <a id="3596" href="Games.FiniteHistoryDependent.html#2857" class="Function">sequenceᴷ</a> <a id="3606" href="Games.FiniteHistoryDependent.html#3590" class="Bound">ϕt</a> <a id="3609" href="Games.FiniteHistoryDependent.html#3588" class="Bound">q</a>

<a id="3612" class="Markup">\end{code}</a><a id="3622" class="Background">

A strategy assigns a move to each mode of a tree. This corresponds to
Definition 4 of [1]:

</a><a id="3716" class="Markup">\begin{code}</a>

<a id="Strategy"></a><a id="3730" href="Games.FiniteHistoryDependent.html#3730" class="Function">Strategy</a> <a id="3739" class="Symbol">:</a> <a id="3741" href="Games.TypeTrees.html#719" class="Datatype">𝑻</a> <a id="3743" class="Symbol">→</a> <a id="3745" href="Notation.General.html#372" class="Function">Type</a>
<a id="3750" href="Games.FiniteHistoryDependent.html#3730" class="Function">Strategy</a> <a id="3759" class="Symbol">=</a> <a id="3761" href="Games.TypeTrees.html#2120" class="Function">structure</a> <a id="3771" href="MLTT.Pi.html#444" class="Function">id</a>

<a id="remark-Strategy"></a><a id="3775" href="Games.FiniteHistoryDependent.html#3775" class="Function">remark-Strategy</a> <a id="3791" class="Symbol">:</a> <a id="3793" class="Symbol">{</a><a id="3794" href="Games.FiniteHistoryDependent.html#3794" class="Bound">X</a> <a id="3796" class="Symbol">:</a> <a id="3798" href="Notation.General.html#372" class="Function">Type</a><a id="3802" class="Symbol">}</a> <a id="3804" class="Symbol">{</a><a id="3805" href="Games.FiniteHistoryDependent.html#3805" class="Bound">Xf</a> <a id="3808" class="Symbol">:</a> <a id="3810" href="Games.FiniteHistoryDependent.html#3794" class="Bound">X</a> <a id="3812" class="Symbol">→</a> <a id="3814" href="Games.TypeTrees.html#719" class="Datatype">𝑻</a><a id="3815" class="Symbol">}</a>
                <a id="3833" class="Symbol">→</a> <a id="3835" class="Symbol">(</a><a id="3836" href="Games.FiniteHistoryDependent.html#3730" class="Function">Strategy</a> <a id="3845" class="InductiveConstructor">[]</a>       <a id="3854" href="MLTT.Id.html#193" class="Datatype Operator">＝</a> <a id="3856" href="MLTT.Unit.html#129" class="Record">𝟙</a><a id="3857" class="Symbol">)</a>
                <a id="3875" href="MLTT.Sigma.html#558" class="Function Operator">×</a> <a id="3877" class="Symbol">(</a><a id="3878" href="Games.FiniteHistoryDependent.html#3730" class="Function">Strategy</a> <a id="3887" class="Symbol">(</a><a id="3888" href="Games.FiniteHistoryDependent.html#3794" class="Bound">X</a> <a id="3890" class="InductiveConstructor Operator">∷</a> <a id="3892" href="Games.FiniteHistoryDependent.html#3805" class="Bound">Xf</a><a id="3894" class="Symbol">)</a> <a id="3896" href="MLTT.Id.html#193" class="Datatype Operator">＝</a> <a id="3898" href="Games.FiniteHistoryDependent.html#3794" class="Bound">X</a> <a id="3900" href="MLTT.Sigma.html#558" class="Function Operator">×</a> <a id="3902" class="Symbol">((</a><a id="3904" href="Games.FiniteHistoryDependent.html#3904" class="Bound">x</a> <a id="3906" class="Symbol">:</a> <a id="3908" href="Games.FiniteHistoryDependent.html#3794" class="Bound">X</a><a id="3909" class="Symbol">)</a> <a id="3911" class="Symbol">→</a> <a id="3913" href="Games.FiniteHistoryDependent.html#3730" class="Function">Strategy</a> <a id="3922" class="Symbol">(</a><a id="3923" href="Games.FiniteHistoryDependent.html#3805" class="Bound">Xf</a> <a id="3926" href="Games.FiniteHistoryDependent.html#3904" class="Bound">x</a><a id="3927" class="Symbol">)))</a>
<a id="3931" href="Games.FiniteHistoryDependent.html#3775" class="Function">remark-Strategy</a> <a id="3947" class="Symbol">=</a> <a id="3949" href="MLTT.Identity-Type.html#157" class="InductiveConstructor">refl</a> <a id="3954" href="MLTT.Sigma.html#395" class="InductiveConstructor Operator">,</a> <a id="3956" href="MLTT.Identity-Type.html#157" class="InductiveConstructor">refl</a>

<a id="3962" class="Markup">\end{code}</a><a id="3972" class="Background">

 * σ ranges over the type Strategy Xt of strategies for a
   dependent-type tree Xt.

 * σf ranges over the type (x : X) → Strategy (Xf x) of strategy
   forests for a dependent-type forest Xf.

We get a path in the tree by following any given strategy:

</a><a id="4229" class="Markup">\begin{code}</a>

<a id="strategic-path"></a><a id="4243" href="Games.FiniteHistoryDependent.html#4243" class="Function">strategic-path</a> <a id="4258" class="Symbol">:</a> <a id="4260" class="Symbol">{</a><a id="4261" href="Games.FiniteHistoryDependent.html#4261" class="Bound">Xt</a> <a id="4264" class="Symbol">:</a> <a id="4266" href="Games.TypeTrees.html#719" class="Datatype">𝑻</a><a id="4267" class="Symbol">}</a> <a id="4269" class="Symbol">→</a> <a id="4271" href="Games.FiniteHistoryDependent.html#3730" class="Function">Strategy</a> <a id="4280" href="Games.FiniteHistoryDependent.html#4261" class="Bound">Xt</a> <a id="4283" class="Symbol">→</a> <a id="4285" href="Games.TypeTrees.html#906" class="Function">Path</a> <a id="4290" href="Games.FiniteHistoryDependent.html#4261" class="Bound">Xt</a>
<a id="4293" href="Games.FiniteHistoryDependent.html#4243" class="Function">strategic-path</a> <a id="4308" class="Symbol">=</a> <a id="4310" href="Games.TypeTrees.html#3789" class="Function">path-sequence</a> <a id="4324" href="MonadOnTypes.Monad.html#4628" class="Function">𝕀𝕕</a>

<a id="remark-strategic-path"></a><a id="4328" href="Games.FiniteHistoryDependent.html#4328" class="Function">remark-strategic-path</a> <a id="4350" class="Symbol">:</a> <a id="4352" class="Symbol">{</a><a id="4353" href="Games.FiniteHistoryDependent.html#4353" class="Bound">X</a> <a id="4355" class="Symbol">:</a> <a id="4357" href="Notation.General.html#372" class="Function">Type</a><a id="4361" class="Symbol">}</a> <a id="4363" class="Symbol">{</a><a id="4364" href="Games.FiniteHistoryDependent.html#4364" class="Bound">Xf</a> <a id="4367" class="Symbol">:</a> <a id="4369" href="Games.FiniteHistoryDependent.html#4353" class="Bound">X</a> <a id="4371" class="Symbol">→</a> <a id="4373" href="Games.TypeTrees.html#719" class="Datatype">𝑻</a><a id="4374" class="Symbol">}</a> <a id="4376" class="Symbol">{</a><a id="4377" href="Games.FiniteHistoryDependent.html#4377" class="Bound">x</a> <a id="4379" class="Symbol">:</a> <a id="4381" href="Games.FiniteHistoryDependent.html#4353" class="Bound">X</a><a id="4382" class="Symbol">}</a>
                        <a id="4408" class="Symbol">{</a><a id="4409" href="Games.FiniteHistoryDependent.html#4409" class="Bound">σf</a> <a id="4412" class="Symbol">:</a> <a id="4414" class="Symbol">(</a><a id="4415" href="Games.FiniteHistoryDependent.html#4415" class="Bound">x</a> <a id="4417" class="Symbol">:</a> <a id="4419" href="Games.FiniteHistoryDependent.html#4353" class="Bound">X</a><a id="4420" class="Symbol">)</a> <a id="4422" class="Symbol">→</a> <a id="4424" href="Games.FiniteHistoryDependent.html#3730" class="Function">Strategy</a> <a id="4433" class="Symbol">(</a><a id="4434" href="Games.FiniteHistoryDependent.html#4364" class="Bound">Xf</a> <a id="4437" href="Games.FiniteHistoryDependent.html#4415" class="Bound">x</a><a id="4438" class="Symbol">)}</a>
                      <a id="4463" class="Symbol">→</a> <a id="4465" class="Symbol">(</a><a id="4466" href="Games.FiniteHistoryDependent.html#4243" class="Function">strategic-path</a> <a id="4481" class="Symbol">{</a><a id="4482" class="InductiveConstructor">[]</a><a id="4484" class="Symbol">}</a>     <a id="4490" href="Games.TypeTrees.html#1274" class="InductiveConstructor">⟨⟩</a>        <a id="4500" href="MLTT.Id.html#193" class="Datatype Operator">＝</a> <a id="4502" href="Games.TypeTrees.html#1274" class="InductiveConstructor">⟨⟩</a><a id="4504" class="Symbol">)</a>
                      <a id="4528" href="MLTT.Sigma.html#558" class="Function Operator">×</a> <a id="4530" class="Symbol">(</a><a id="4531" href="Games.FiniteHistoryDependent.html#4243" class="Function">strategic-path</a> <a id="4546" class="Symbol">{</a><a id="4547" href="Games.FiniteHistoryDependent.html#4353" class="Bound">X</a> <a id="4549" class="InductiveConstructor Operator">∷</a> <a id="4551" href="Games.FiniteHistoryDependent.html#4364" class="Bound">Xf</a><a id="4553" class="Symbol">}</a> <a id="4555" class="Symbol">(</a><a id="4556" href="Games.FiniteHistoryDependent.html#4377" class="Bound">x</a> <a id="4558" href="Games.TypeTrees.html#1296" class="InductiveConstructor Operator">::</a> <a id="4561" href="Games.FiniteHistoryDependent.html#4409" class="Bound">σf</a><a id="4563" class="Symbol">)</a> <a id="4565" href="MLTT.Id.html#193" class="Datatype Operator">＝</a> <a id="4567" href="Games.FiniteHistoryDependent.html#4377" class="Bound">x</a> <a id="4569" href="Games.TypeTrees.html#1296" class="InductiveConstructor Operator">::</a> <a id="4572" href="Games.FiniteHistoryDependent.html#4243" class="Function">strategic-path</a> <a id="4587" class="Symbol">(</a><a id="4588" href="Games.FiniteHistoryDependent.html#4409" class="Bound">σf</a> <a id="4591" href="Games.FiniteHistoryDependent.html#4377" class="Bound">x</a><a id="4592" class="Symbol">))</a>
<a id="4595" href="Games.FiniteHistoryDependent.html#4328" class="Function">remark-strategic-path</a> <a id="4617" class="Symbol">=</a> <a id="4619" href="MLTT.Identity-Type.html#157" class="InductiveConstructor">refl</a> <a id="4624" href="MLTT.Sigma.html#395" class="InductiveConstructor Operator">,</a> <a id="4626" href="MLTT.Identity-Type.html#157" class="InductiveConstructor">refl</a>

<a id="4632" class="Markup">\end{code}</a><a id="4642" class="Background">

In the notation of reference [1] above, Definition 5, a strategy σ
for a game (Xt,R,ϕt,q) is said to be optimal, or in subgame perfect
equilibrium (abbreviated sgpe), if for every partial play a₀,…,aₖ₋₁
of length k, we have

   q(a₀,…,aₖ₋₁,bₖ(a₀,…,aₖ₋₁),…,bₙ₋₁(a₀,…,aₖ₋₁))
 = ϕₖ(λxₖ.q(a₀,…,aₖ₋₁,xₖ,bₖ₊₁(a₀,…,aₖ₋₁,xₖ),…,bₙ₋₁(a₀,…,aₖ₋₁,xₖ)))

where the sequence b is inductively defined by

  bⱼ(a₀,…,aₖ₋₁) = σⱼ(a₀,…,aₖ₋₁,bₖ(a₀,…,aₖ₋₁),…,bⱼ₋₁(a₀,…,aₖ₋₁))

for k ≤ j &lt; n.

Intuitively, the strategy σ is optimal if the outcome

  q(a₀,…,aₖ₋₁,bₖ(a₀,…,aₖ₋₁),…,bₙ₋₁(a₀,…,aₖ₋₁))

obtained by following σ is the best possible outcome as described by
the quantifier ϕₖ for each round k, considering all possible
deviations xₖ from the strategy at that round.

For the purposes of our generalization of [1] to dependent games, it
is convenient to define this notion by induction on the game tree Xt:

</a><a id="5535" class="Markup">\begin{code}</a>

<a id="is-in-equilibrium"></a><a id="5549" href="Games.FiniteHistoryDependent.html#5549" class="Function">is-in-equilibrium</a> <a id="5567" class="Symbol">:</a> <a id="5569" class="Symbol">{</a><a id="5570" href="Games.FiniteHistoryDependent.html#5570" class="Bound">X</a> <a id="5572" class="Symbol">:</a> <a id="5574" href="Notation.General.html#372" class="Function">Type</a><a id="5578" class="Symbol">}</a> <a id="5580" class="Symbol">{</a><a id="5581" href="Games.FiniteHistoryDependent.html#5581" class="Bound">Xf</a> <a id="5584" class="Symbol">:</a> <a id="5586" href="Games.FiniteHistoryDependent.html#5570" class="Bound">X</a> <a id="5588" class="Symbol">→</a> <a id="5590" href="Games.TypeTrees.html#719" class="Datatype">𝑻</a><a id="5591" class="Symbol">}</a>
                    <a id="5613" class="Symbol">(</a><a id="5614" href="Games.FiniteHistoryDependent.html#5614" class="Bound">q</a> <a id="5616" class="Symbol">:</a> <a id="5618" class="Symbol">(</a><a id="5619" href="MLTT.Sigma.html#423" class="Function">Σ</a> <a id="5621" href="Games.FiniteHistoryDependent.html#5621" class="Bound">x</a> <a id="5623" href="MLTT.Sigma.html#423" class="Function">꞉</a> <a id="5625" href="Games.FiniteHistoryDependent.html#5570" class="Bound">X</a> <a id="5627" href="MLTT.Sigma.html#423" class="Function">,</a> <a id="5629" href="Games.TypeTrees.html#906" class="Function">Path</a> <a id="5634" class="Symbol">(</a><a id="5635" href="Games.FiniteHistoryDependent.html#5581" class="Bound">Xf</a> <a id="5638" href="Games.FiniteHistoryDependent.html#5621" class="Bound">x</a><a id="5639" class="Symbol">))</a> <a id="5642" class="Symbol">→</a> <a id="5644" href="Games.FiniteHistoryDependent.html#1635" class="Bound">R</a><a id="5645" class="Symbol">)</a>
                    <a id="5667" class="Symbol">(</a><a id="5668" href="Games.FiniteHistoryDependent.html#5668" class="Bound">ϕ</a> <a id="5670" class="Symbol">:</a> <a id="5672" href="MonadOnTypes.K.html#471" class="Function">K</a> <a id="5674" href="Games.FiniteHistoryDependent.html#5570" class="Bound">X</a><a id="5675" class="Symbol">)</a>
                  <a id="5695" class="Symbol">→</a> <a id="5697" href="Games.FiniteHistoryDependent.html#3730" class="Function">Strategy</a> <a id="5706" class="Symbol">(</a><a id="5707" href="Games.FiniteHistoryDependent.html#5570" class="Bound">X</a> <a id="5709" class="InductiveConstructor Operator">∷</a> <a id="5711" href="Games.FiniteHistoryDependent.html#5581" class="Bound">Xf</a><a id="5713" class="Symbol">)</a>
                  <a id="5733" class="Symbol">→</a> <a id="5735" href="Notation.General.html#372" class="Function">Type</a>
<a id="5740" href="Games.FiniteHistoryDependent.html#5549" class="Function">is-in-equilibrium</a> <a id="5758" class="Symbol">{</a><a id="5759" href="Games.FiniteHistoryDependent.html#5759" class="Bound">X</a><a id="5760" class="Symbol">}</a> <a id="5762" class="Symbol">{</a><a id="5763" href="Games.FiniteHistoryDependent.html#5763" class="Bound">Xf</a><a id="5765" class="Symbol">}</a> <a id="5767" href="Games.FiniteHistoryDependent.html#5767" class="Bound">q</a> <a id="5769" href="Games.FiniteHistoryDependent.html#5769" class="Bound">ϕ</a> <a id="5771" href="Games.FiniteHistoryDependent.html#5771" class="Bound">σt</a><a id="5773" class="Symbol">@(</a><a id="5775" href="Games.FiniteHistoryDependent.html#5775" class="Bound">x₀</a> <a id="5778" href="Games.TypeTrees.html#1296" class="InductiveConstructor Operator">::</a> <a id="5781" href="Games.FiniteHistoryDependent.html#5781" class="Bound">σf</a><a id="5783" class="Symbol">)</a>  <a id="5786" class="Symbol">=</a>
 <a id="5789" href="Games.TypeTrees.html#1622" class="Function">subpred</a> <a id="5797" href="Games.FiniteHistoryDependent.html#5767" class="Bound">q</a> <a id="5799" href="Games.FiniteHistoryDependent.html#5775" class="Bound">x₀</a> <a id="5802" class="Symbol">(</a><a id="5803" href="Games.FiniteHistoryDependent.html#4243" class="Function">strategic-path</a> <a id="5818" class="Symbol">(</a><a id="5819" href="Games.FiniteHistoryDependent.html#5781" class="Bound">σf</a> <a id="5822" href="Games.FiniteHistoryDependent.html#5775" class="Bound">x₀</a><a id="5824" class="Symbol">))</a> <a id="5827" href="MLTT.Id.html#193" class="Datatype Operator">＝</a> <a id="5829" href="Games.FiniteHistoryDependent.html#5769" class="Bound">ϕ</a> <a id="5831" class="Symbol">(λ</a> <a id="5834" href="Games.FiniteHistoryDependent.html#5834" class="Bound">x</a> <a id="5836" class="Symbol">→</a> <a id="5838" href="Games.TypeTrees.html#1622" class="Function">subpred</a> <a id="5846" href="Games.FiniteHistoryDependent.html#5767" class="Bound">q</a> <a id="5848" href="Games.FiniteHistoryDependent.html#5834" class="Bound">x</a> <a id="5850" class="Symbol">(</a><a id="5851" href="Games.FiniteHistoryDependent.html#4243" class="Function">strategic-path</a> <a id="5866" class="Symbol">(</a><a id="5867" href="Games.FiniteHistoryDependent.html#5781" class="Bound">σf</a> <a id="5870" href="Games.FiniteHistoryDependent.html#5834" class="Bound">x</a><a id="5871" class="Symbol">)))</a>

<a id="is-in-sgpe"></a><a id="5876" href="Games.FiniteHistoryDependent.html#5876" class="Function">is-in-sgpe</a> <a id="5887" class="Symbol">:</a> <a id="5889" class="Symbol">{</a><a id="5890" href="Games.FiniteHistoryDependent.html#5890" class="Bound">Xt</a> <a id="5893" class="Symbol">:</a> <a id="5895" href="Games.TypeTrees.html#719" class="Datatype">𝑻</a><a id="5896" class="Symbol">}</a> <a id="5898" class="Symbol">→</a> <a id="5900" href="Games.FiniteHistoryDependent.html#2364" class="Function">𝓚</a> <a id="5902" href="Games.FiniteHistoryDependent.html#5890" class="Bound">Xt</a> <a id="5905" class="Symbol">→</a> <a id="5907" class="Symbol">(</a><a id="5908" href="Games.TypeTrees.html#906" class="Function">Path</a> <a id="5913" href="Games.FiniteHistoryDependent.html#5890" class="Bound">Xt</a> <a id="5916" class="Symbol">→</a> <a id="5918" href="Games.FiniteHistoryDependent.html#1635" class="Bound">R</a><a id="5919" class="Symbol">)</a> <a id="5921" class="Symbol">→</a> <a id="5923" href="Games.FiniteHistoryDependent.html#3730" class="Function">Strategy</a> <a id="5932" href="Games.FiniteHistoryDependent.html#5890" class="Bound">Xt</a> <a id="5935" class="Symbol">→</a> <a id="5937" href="Notation.General.html#372" class="Function">Type</a>
<a id="5942" href="Games.FiniteHistoryDependent.html#5876" class="Function">is-in-sgpe</a> <a id="5953" class="Symbol">{</a><a id="5954" href="Games.TypeTrees.html#737" class="InductiveConstructor">[]</a><a id="5956" class="Symbol">}</a>     <a id="5962" href="Games.TypeTrees.html#1274" class="InductiveConstructor">⟨⟩</a>        <a id="5972" href="Games.FiniteHistoryDependent.html#5972" class="Bound">q</a> <a id="5974" href="Games.TypeTrees.html#1274" class="InductiveConstructor">⟨⟩</a>            <a id="5988" class="Symbol">=</a> <a id="5990" href="MLTT.Unit.html#129" class="Record">𝟙</a>
<a id="5992" href="Games.FiniteHistoryDependent.html#5876" class="Function">is-in-sgpe</a> <a id="6003" class="Symbol">{</a><a id="6004" href="Games.FiniteHistoryDependent.html#6004" class="Bound">X</a> <a id="6006" href="Games.TypeTrees.html#747" class="InductiveConstructor Operator">∷</a> <a id="6008" href="Games.FiniteHistoryDependent.html#6008" class="Bound">Xf</a><a id="6010" class="Symbol">}</a> <a id="6012" class="Symbol">(</a><a id="6013" href="Games.FiniteHistoryDependent.html#6013" class="Bound">ϕ</a> <a id="6015" href="Games.TypeTrees.html#1296" class="InductiveConstructor Operator">::</a> <a id="6018" href="Games.FiniteHistoryDependent.html#6018" class="Bound">ϕf</a><a id="6020" class="Symbol">)</a> <a id="6022" href="Games.FiniteHistoryDependent.html#6022" class="Bound">q</a> <a id="6024" href="Games.FiniteHistoryDependent.html#6024" class="Bound">σt</a><a id="6026" class="Symbol">@(</a><a id="6028" href="Games.FiniteHistoryDependent.html#6028" class="Bound">x₀</a> <a id="6031" href="Games.TypeTrees.html#1296" class="InductiveConstructor Operator">::</a> <a id="6034" href="Games.FiniteHistoryDependent.html#6034" class="Bound">σf</a><a id="6036" class="Symbol">)</a> <a id="6038" class="Symbol">=</a>
   <a id="6043" href="Games.FiniteHistoryDependent.html#5549" class="Function">is-in-equilibrium</a> <a id="6061" href="Games.FiniteHistoryDependent.html#6022" class="Bound">q</a> <a id="6063" href="Games.FiniteHistoryDependent.html#6013" class="Bound">ϕ</a> <a id="6065" href="Games.FiniteHistoryDependent.html#6024" class="Bound">σt</a>
 <a id="6069" href="MLTT.Sigma.html#558" class="Function Operator">×</a> <a id="6071" class="Symbol">((</a><a id="6073" href="Games.FiniteHistoryDependent.html#6073" class="Bound">x</a> <a id="6075" class="Symbol">:</a> <a id="6077" href="Games.FiniteHistoryDependent.html#6004" class="Bound">X</a><a id="6078" class="Symbol">)</a> <a id="6080" class="Symbol">→</a> <a id="6082" href="Games.FiniteHistoryDependent.html#5876" class="Function">is-in-sgpe</a> <a id="6093" class="Symbol">{</a><a id="6094" href="Games.FiniteHistoryDependent.html#6008" class="Bound">Xf</a> <a id="6097" href="Games.FiniteHistoryDependent.html#6073" class="Bound">x</a><a id="6098" class="Symbol">}</a> <a id="6100" class="Symbol">(</a><a id="6101" href="Games.FiniteHistoryDependent.html#6018" class="Bound">ϕf</a> <a id="6104" href="Games.FiniteHistoryDependent.html#6073" class="Bound">x</a><a id="6105" class="Symbol">)</a> <a id="6107" class="Symbol">(</a><a id="6108" href="Games.TypeTrees.html#1622" class="Function">subpred</a> <a id="6116" href="Games.FiniteHistoryDependent.html#6022" class="Bound">q</a> <a id="6118" href="Games.FiniteHistoryDependent.html#6073" class="Bound">x</a><a id="6119" class="Symbol">)</a> <a id="6121" class="Symbol">(</a><a id="6122" href="Games.FiniteHistoryDependent.html#6034" class="Bound">σf</a> <a id="6125" href="Games.FiniteHistoryDependent.html#6073" class="Bound">x</a><a id="6126" class="Symbol">))</a>

<a id="6130" class="Markup">\end{code}</a><a id="6140" class="Background">

In the above definition:

 * If the game tree is empty, then the strategy is empty, and we say
   that it is true that it is in sgpe, where &quot;true&quot; is represented by
   the unit type 𝟙 in propositions-as-types.

 * If the game tree has a root X followed by a forest Xf, then the
   strategy must be of the form x₀ :: σf, where x₀ is the first move
   according to the strategy, and where σf is a forest of strategies
   that depends on a deviation x.

   So the first part

     subpred q x₀ (strategic-path (σf x₀)) ＝ ϕ (λ x → subpred q x (strategic-path (σf x)))

   of the definition is as in the comment above, but with a partial
   play of length k=0, and the second (inductive) part, says that the
   substrategy σf x, for any deviation x, is in subgame perfect
   equilibrium in the subgame

     (Xf x , R , ϕf x , subpred q x).

As discussed above, we say that a strategy for a game is optimal if it
is in subgame perfect equilibrium.

</a><a id="7086" class="Markup">\begin{code}</a>

<a id="is-optimal"></a><a id="7100" href="Games.FiniteHistoryDependent.html#7100" class="Function">is-optimal</a> <a id="7111" class="Symbol">:</a> <a id="7113" class="Symbol">(</a><a id="7114" href="Games.FiniteHistoryDependent.html#7114" class="Bound">G</a> <a id="7116" class="Symbol">:</a> <a id="7118" href="Games.FiniteHistoryDependent.html#3132" class="Record">Game</a><a id="7122" class="Symbol">)</a> <a id="7124" class="Symbol">(</a><a id="7125" href="Games.FiniteHistoryDependent.html#7125" class="Bound">σ</a> <a id="7127" class="Symbol">:</a> <a id="7129" href="Games.FiniteHistoryDependent.html#3730" class="Function">Strategy</a> <a id="7138" class="Symbol">(</a><a id="7139" href="Games.FiniteHistoryDependent.html#3178" class="Field">game-tree</a> <a id="7149" href="Games.FiniteHistoryDependent.html#7114" class="Bound">G</a><a id="7150" class="Symbol">))</a> <a id="7153" class="Symbol">→</a> <a id="7155" href="Notation.General.html#372" class="Function">Type</a>
<a id="7160" href="Games.FiniteHistoryDependent.html#7100" class="Function">is-optimal</a> <a id="7171" class="Symbol">(</a><a id="7172" href="Games.FiniteHistoryDependent.html#3164" class="InductiveConstructor">game</a> <a id="7177" href="Games.FiniteHistoryDependent.html#7177" class="Bound">Xt</a> <a id="7180" href="Games.FiniteHistoryDependent.html#7180" class="Bound">ϕt</a> <a id="7183" href="Games.FiniteHistoryDependent.html#7183" class="Bound">q</a><a id="7184" class="Symbol">)</a> <a id="7186" href="Games.FiniteHistoryDependent.html#7186" class="Bound">σ</a> <a id="7188" class="Symbol">=</a> <a id="7190" href="Games.FiniteHistoryDependent.html#5876" class="Function">is-in-sgpe</a> <a id="7201" class="Symbol">{</a><a id="7202" href="Games.FiniteHistoryDependent.html#7177" class="Bound">Xt</a><a id="7204" class="Symbol">}</a> <a id="7206" href="Games.FiniteHistoryDependent.html#7183" class="Bound">q</a> <a id="7208" href="Games.FiniteHistoryDependent.html#7180" class="Bound">ϕt</a> <a id="7211" href="Games.FiniteHistoryDependent.html#7186" class="Bound">σ</a>

<a id="7214" class="Markup">\end{code}</a><a id="7224" class="Background">

The main lemma is that the optimal outcome is the same thing as the
application of the outcome function to the path induced by a strategy
in perfect subgame equilibrium.

Remark. In the published paper [0] above, we use the terminology
`is-optimal` as above, but perhaps we should stick to subgame perfect
equilibrium for the terminology.

The following is Theorem 3.1 of reference [1].

</a><a id="7614" class="Markup">\begin{code}</a>

<a id="sgpe-lemma"></a><a id="7628" href="Games.FiniteHistoryDependent.html#7628" class="Function">sgpe-lemma</a> <a id="7639" class="Symbol">:</a> <a id="7641" href="UF.FunExt.html#1047" class="Function">Fun-Ext</a>
           <a id="7660" class="Symbol">→</a> <a id="7662" class="Symbol">(</a><a id="7663" href="Games.FiniteHistoryDependent.html#7663" class="Bound">Xt</a> <a id="7666" class="Symbol">:</a> <a id="7668" href="Games.TypeTrees.html#719" class="Datatype">𝑻</a><a id="7669" class="Symbol">)</a> <a id="7671" class="Symbol">(</a><a id="7672" href="Games.FiniteHistoryDependent.html#7672" class="Bound">ϕt</a> <a id="7675" class="Symbol">:</a> <a id="7677" href="Games.FiniteHistoryDependent.html#2364" class="Function">𝓚</a> <a id="7679" href="Games.FiniteHistoryDependent.html#7663" class="Bound">Xt</a><a id="7681" class="Symbol">)</a> <a id="7683" class="Symbol">(</a><a id="7684" href="Games.FiniteHistoryDependent.html#7684" class="Bound">q</a> <a id="7686" class="Symbol">:</a> <a id="7688" href="Games.TypeTrees.html#906" class="Function">Path</a> <a id="7693" href="Games.FiniteHistoryDependent.html#7663" class="Bound">Xt</a> <a id="7696" class="Symbol">→</a> <a id="7698" href="Games.FiniteHistoryDependent.html#1635" class="Bound">R</a><a id="7699" class="Symbol">)</a> <a id="7701" class="Symbol">(</a><a id="7702" href="Games.FiniteHistoryDependent.html#7702" class="Bound">σ</a> <a id="7704" class="Symbol">:</a> <a id="7706" href="Games.FiniteHistoryDependent.html#3730" class="Function">Strategy</a> <a id="7715" href="Games.FiniteHistoryDependent.html#7663" class="Bound">Xt</a><a id="7717" class="Symbol">)</a>
           <a id="7730" class="Symbol">→</a> <a id="7732" href="Games.FiniteHistoryDependent.html#5876" class="Function">is-in-sgpe</a> <a id="7743" href="Games.FiniteHistoryDependent.html#7672" class="Bound">ϕt</a> <a id="7746" href="Games.FiniteHistoryDependent.html#7684" class="Bound">q</a> <a id="7748" href="Games.FiniteHistoryDependent.html#7702" class="Bound">σ</a>
           <a id="7761" class="Symbol">→</a> <a id="7763" href="Games.FiniteHistoryDependent.html#7684" class="Bound">q</a> <a id="7765" class="Symbol">(</a><a id="7766" href="Games.FiniteHistoryDependent.html#4243" class="Function">strategic-path</a> <a id="7781" href="Games.FiniteHistoryDependent.html#7702" class="Bound">σ</a><a id="7782" class="Symbol">)</a> <a id="7784" href="MLTT.Id.html#193" class="Datatype Operator">＝</a> <a id="7786" href="Games.FiniteHistoryDependent.html#2857" class="Function">sequenceᴷ</a> <a id="7796" href="Games.FiniteHistoryDependent.html#7672" class="Bound">ϕt</a> <a id="7799" href="Games.FiniteHistoryDependent.html#7684" class="Bound">q</a>
<a id="7801" href="Games.FiniteHistoryDependent.html#7628" class="Function">sgpe-lemma</a> <a id="7812" href="Games.FiniteHistoryDependent.html#7812" class="Bound">fe</a> <a id="7815" href="Games.TypeTrees.html#737" class="InductiveConstructor">[]</a>       <a id="7824" href="Games.TypeTrees.html#1274" class="InductiveConstructor">⟨⟩</a>        <a id="7834" href="Games.FiniteHistoryDependent.html#7834" class="Bound">q</a> <a id="7836" href="Games.TypeTrees.html#1274" class="InductiveConstructor">⟨⟩</a>        <a id="7846" href="Games.TypeTrees.html#1274" class="InductiveConstructor">⟨⟩</a>       <a id="7855" class="Symbol">=</a> <a id="7857" href="MLTT.Identity-Type.html#157" class="InductiveConstructor">refl</a>
<a id="7862" href="Games.FiniteHistoryDependent.html#7628" class="Function">sgpe-lemma</a> <a id="7873" href="Games.FiniteHistoryDependent.html#7873" class="Bound">fe</a> <a id="7876" class="Symbol">(</a><a id="7877" href="Games.FiniteHistoryDependent.html#7877" class="Bound">X</a> <a id="7879" href="Games.TypeTrees.html#747" class="InductiveConstructor Operator">∷</a> <a id="7881" href="Games.FiniteHistoryDependent.html#7881" class="Bound">Xf</a><a id="7883" class="Symbol">)</a> <a id="7885" class="Symbol">(</a><a id="7886" href="Games.FiniteHistoryDependent.html#7886" class="Bound">ϕ</a> <a id="7888" href="Games.TypeTrees.html#1296" class="InductiveConstructor Operator">::</a> <a id="7891" href="Games.FiniteHistoryDependent.html#7891" class="Bound">ϕt</a><a id="7893" class="Symbol">)</a> <a id="7895" href="Games.FiniteHistoryDependent.html#7895" class="Bound">q</a> <a id="7897" class="Symbol">(</a><a id="7898" href="Games.FiniteHistoryDependent.html#7898" class="Bound">a</a> <a id="7900" href="Games.TypeTrees.html#1296" class="InductiveConstructor Operator">::</a> <a id="7903" href="Games.FiniteHistoryDependent.html#7903" class="Bound">σf</a><a id="7905" class="Symbol">)</a> <a id="7907" class="Symbol">(</a><a id="7908" href="Games.FiniteHistoryDependent.html#7908" class="Bound">h</a> <a id="7910" href="Games.TypeTrees.html#1296" class="InductiveConstructor Operator">::</a> <a id="7913" href="Games.FiniteHistoryDependent.html#7913" class="Bound">t</a><a id="7914" class="Symbol">)</a> <a id="7916" class="Symbol">=</a> <a id="7918" href="Games.FiniteHistoryDependent.html#8185" class="Function">γ</a>
 <a id="7921" class="Keyword">where</a>
  <a id="7929" href="Games.FiniteHistoryDependent.html#7929" class="Function">observation-t</a> <a id="7943" class="Symbol">:</a> <a id="7945" href="Notation.General.html#3219" class="Function">type-of</a> <a id="7953" href="Games.FiniteHistoryDependent.html#7913" class="Bound">t</a> <a id="7955" href="MLTT.Id.html#193" class="Datatype Operator">＝</a> <a id="7957" class="Symbol">((</a><a id="7959" href="Games.FiniteHistoryDependent.html#7959" class="Bound">x</a> <a id="7961" class="Symbol">:</a> <a id="7963" href="Games.FiniteHistoryDependent.html#7877" class="Bound">X</a><a id="7964" class="Symbol">)</a> <a id="7966" class="Symbol">→</a> <a id="7968" href="Games.FiniteHistoryDependent.html#5876" class="Function">is-in-sgpe</a> <a id="7979" class="Symbol">(</a><a id="7980" href="Games.FiniteHistoryDependent.html#7891" class="Bound">ϕt</a> <a id="7983" href="Games.FiniteHistoryDependent.html#7959" class="Bound">x</a><a id="7984" class="Symbol">)</a> <a id="7986" class="Symbol">(</a><a id="7987" href="Games.TypeTrees.html#1622" class="Function">subpred</a> <a id="7995" href="Games.FiniteHistoryDependent.html#7895" class="Bound">q</a> <a id="7997" href="Games.FiniteHistoryDependent.html#7959" class="Bound">x</a><a id="7998" class="Symbol">)</a> <a id="8000" class="Symbol">(</a><a id="8001" href="Games.FiniteHistoryDependent.html#7903" class="Bound">σf</a> <a id="8004" href="Games.FiniteHistoryDependent.html#7959" class="Bound">x</a><a id="8005" class="Symbol">))</a>
  <a id="8010" href="Games.FiniteHistoryDependent.html#7929" class="Function">observation-t</a> <a id="8024" class="Symbol">=</a> <a id="8026" href="MLTT.Identity-Type.html#157" class="InductiveConstructor">refl</a>

  <a id="8034" href="Games.FiniteHistoryDependent.html#8034" class="Function">IH</a> <a id="8037" class="Symbol">:</a> <a id="8039" class="Symbol">(</a><a id="8040" href="Games.FiniteHistoryDependent.html#8040" class="Bound">x</a> <a id="8042" class="Symbol">:</a> <a id="8044" href="Games.FiniteHistoryDependent.html#7877" class="Bound">X</a><a id="8045" class="Symbol">)</a> <a id="8047" class="Symbol">→</a> <a id="8049" href="Games.TypeTrees.html#1622" class="Function">subpred</a> <a id="8057" href="Games.FiniteHistoryDependent.html#7895" class="Bound">q</a> <a id="8059" href="Games.FiniteHistoryDependent.html#8040" class="Bound">x</a> <a id="8061" class="Symbol">(</a><a id="8062" href="Games.FiniteHistoryDependent.html#4243" class="Function">strategic-path</a> <a id="8077" class="Symbol">(</a><a id="8078" href="Games.FiniteHistoryDependent.html#7903" class="Bound">σf</a> <a id="8081" href="Games.FiniteHistoryDependent.html#8040" class="Bound">x</a><a id="8082" class="Symbol">))</a> <a id="8085" href="MLTT.Id.html#193" class="Datatype Operator">＝</a> <a id="8087" href="Games.FiniteHistoryDependent.html#2857" class="Function">sequenceᴷ</a> <a id="8097" class="Symbol">(</a><a id="8098" href="Games.FiniteHistoryDependent.html#7891" class="Bound">ϕt</a> <a id="8101" href="Games.FiniteHistoryDependent.html#8040" class="Bound">x</a><a id="8102" class="Symbol">)</a> <a id="8104" class="Symbol">(</a><a id="8105" href="Games.TypeTrees.html#1622" class="Function">subpred</a> <a id="8113" href="Games.FiniteHistoryDependent.html#7895" class="Bound">q</a> <a id="8115" href="Games.FiniteHistoryDependent.html#8040" class="Bound">x</a><a id="8116" class="Symbol">)</a>
  <a id="8120" href="Games.FiniteHistoryDependent.html#8034" class="Function">IH</a> <a id="8123" href="Games.FiniteHistoryDependent.html#8123" class="Bound">x</a> <a id="8125" class="Symbol">=</a> <a id="8127" href="Games.FiniteHistoryDependent.html#7628" class="Function">sgpe-lemma</a> <a id="8138" href="Games.FiniteHistoryDependent.html#7873" class="Bound">fe</a> <a id="8141" class="Symbol">(</a><a id="8142" href="Games.FiniteHistoryDependent.html#7881" class="Bound">Xf</a> <a id="8145" href="Games.FiniteHistoryDependent.html#8123" class="Bound">x</a><a id="8146" class="Symbol">)</a> <a id="8148" class="Symbol">(</a><a id="8149" href="Games.FiniteHistoryDependent.html#7891" class="Bound">ϕt</a> <a id="8152" href="Games.FiniteHistoryDependent.html#8123" class="Bound">x</a><a id="8153" class="Symbol">)</a> <a id="8155" class="Symbol">(</a><a id="8156" href="Games.TypeTrees.html#1622" class="Function">subpred</a> <a id="8164" href="Games.FiniteHistoryDependent.html#7895" class="Bound">q</a> <a id="8166" href="Games.FiniteHistoryDependent.html#8123" class="Bound">x</a><a id="8167" class="Symbol">)</a> <a id="8169" class="Symbol">(</a><a id="8170" href="Games.FiniteHistoryDependent.html#7903" class="Bound">σf</a> <a id="8173" href="Games.FiniteHistoryDependent.html#8123" class="Bound">x</a><a id="8174" class="Symbol">)</a> <a id="8176" class="Symbol">(</a><a id="8177" href="Games.FiniteHistoryDependent.html#7913" class="Bound">t</a> <a id="8179" href="Games.FiniteHistoryDependent.html#8123" class="Bound">x</a><a id="8180" class="Symbol">)</a>

  <a id="8185" href="Games.FiniteHistoryDependent.html#8185" class="Function">γ</a> <a id="8187" class="Symbol">=</a> <a id="8189" href="Games.TypeTrees.html#1622" class="Function">subpred</a> <a id="8197" href="Games.FiniteHistoryDependent.html#7895" class="Bound">q</a> <a id="8199" href="Games.FiniteHistoryDependent.html#7898" class="Bound">a</a> <a id="8201" class="Symbol">(</a><a id="8202" href="Games.FiniteHistoryDependent.html#4243" class="Function">strategic-path</a> <a id="8217" class="Symbol">(</a><a id="8218" href="Games.FiniteHistoryDependent.html#7903" class="Bound">σf</a> <a id="8221" href="Games.FiniteHistoryDependent.html#7898" class="Bound">a</a><a id="8222" class="Symbol">))</a>           <a id="8235" href="MLTT.Id.html#2705" class="Function Operator">＝⟨</a> <a id="8238" href="Games.FiniteHistoryDependent.html#7908" class="Bound">h</a> <a id="8240" href="MLTT.Id.html#2705" class="Function Operator">⟩</a>
      <a id="8248" href="Games.FiniteHistoryDependent.html#7886" class="Bound">ϕ</a> <a id="8250" class="Symbol">(λ</a> <a id="8253" href="Games.FiniteHistoryDependent.html#8253" class="Bound">x</a> <a id="8255" class="Symbol">→</a> <a id="8257" href="Games.TypeTrees.html#1622" class="Function">subpred</a> <a id="8265" href="Games.FiniteHistoryDependent.html#7895" class="Bound">q</a> <a id="8267" href="Games.FiniteHistoryDependent.html#8253" class="Bound">x</a> <a id="8269" class="Symbol">(</a><a id="8270" href="Games.FiniteHistoryDependent.html#4243" class="Function">strategic-path</a> <a id="8285" class="Symbol">(</a><a id="8286" href="Games.FiniteHistoryDependent.html#7903" class="Bound">σf</a> <a id="8289" href="Games.FiniteHistoryDependent.html#8253" class="Bound">x</a><a id="8290" class="Symbol">)))</a> <a id="8294" href="MLTT.Id.html#2705" class="Function Operator">＝⟨</a> <a id="8297" href="MLTT.Id.html#1136" class="Function">ap</a> <a id="8300" href="Games.FiniteHistoryDependent.html#7886" class="Bound">ϕ</a> <a id="8302" class="Symbol">(</a><a id="8303" href="UF.FunExt.html#1242" class="Function">dfunext</a> <a id="8311" href="Games.FiniteHistoryDependent.html#7873" class="Bound">fe</a> <a id="8314" href="Games.FiniteHistoryDependent.html#8034" class="Function">IH</a><a id="8316" class="Symbol">)</a> <a id="8318" href="MLTT.Id.html#2705" class="Function Operator">⟩</a>
      <a id="8326" href="Games.FiniteHistoryDependent.html#7886" class="Bound">ϕ</a> <a id="8328" class="Symbol">(λ</a> <a id="8331" href="Games.FiniteHistoryDependent.html#8331" class="Bound">x</a> <a id="8333" class="Symbol">→</a> <a id="8335" href="Games.FiniteHistoryDependent.html#2857" class="Function">sequenceᴷ</a> <a id="8345" class="Symbol">(</a><a id="8346" href="Games.FiniteHistoryDependent.html#7891" class="Bound">ϕt</a> <a id="8349" href="Games.FiniteHistoryDependent.html#8331" class="Bound">x</a><a id="8350" class="Symbol">)</a> <a id="8352" class="Symbol">(</a><a id="8353" href="Games.TypeTrees.html#1622" class="Function">subpred</a> <a id="8361" href="Games.FiniteHistoryDependent.html#7895" class="Bound">q</a> <a id="8363" href="Games.FiniteHistoryDependent.html#8331" class="Bound">x</a><a id="8364" class="Symbol">))</a>      <a id="8372" href="MLTT.Id.html#2787" class="Function Operator">∎</a>

<a id="8375" class="Markup">\end{code}</a><a id="8385" class="Background">

This can be reformulated as follows in terms of the type of games:

</a><a id="8455" class="Markup">\begin{code}</a>

<a id="optimality-theorem"></a><a id="8469" href="Games.FiniteHistoryDependent.html#8469" class="Function">optimality-theorem</a> <a id="8488" class="Symbol">:</a> <a id="8490" href="UF.FunExt.html#1047" class="Function">Fun-Ext</a>
                   <a id="8517" class="Symbol">→</a> <a id="8519" class="Symbol">(</a><a id="8520" href="Games.FiniteHistoryDependent.html#8520" class="Bound">G</a><a id="8521" class="Symbol">@(</a><a id="8523" href="Games.FiniteHistoryDependent.html#3164" class="InductiveConstructor">game</a> <a id="8528" href="Games.FiniteHistoryDependent.html#8528" class="Bound">Xt</a> <a id="8531" href="Games.FiniteHistoryDependent.html#8531" class="Bound">q</a> <a id="8533" href="Games.FiniteHistoryDependent.html#8533" class="Bound">ϕt</a><a id="8535" class="Symbol">)</a> <a id="8537" class="Symbol">:</a> <a id="8539" href="Games.FiniteHistoryDependent.html#3132" class="Record">Game</a><a id="8543" class="Symbol">)</a> <a id="8545" class="Symbol">(</a><a id="8546" href="Games.FiniteHistoryDependent.html#8546" class="Bound">σ</a> <a id="8548" class="Symbol">:</a> <a id="8550" href="Games.FiniteHistoryDependent.html#3730" class="Function">Strategy</a> <a id="8559" href="Games.FiniteHistoryDependent.html#8528" class="Bound">Xt</a><a id="8561" class="Symbol">)</a>
                   <a id="8582" class="Symbol">→</a> <a id="8584" href="Games.FiniteHistoryDependent.html#7100" class="Function">is-optimal</a> <a id="8595" href="Games.FiniteHistoryDependent.html#8520" class="Bound">G</a> <a id="8597" href="Games.FiniteHistoryDependent.html#8546" class="Bound">σ</a>
                   <a id="8618" class="Symbol">→</a> <a id="8620" href="Games.FiniteHistoryDependent.html#8531" class="Bound">q</a> <a id="8622" class="Symbol">(</a><a id="8623" href="Games.FiniteHistoryDependent.html#4243" class="Function">strategic-path</a> <a id="8638" href="Games.FiniteHistoryDependent.html#8546" class="Bound">σ</a><a id="8639" class="Symbol">)</a> <a id="8641" href="MLTT.Id.html#193" class="Datatype Operator">＝</a> <a id="8643" href="Games.FiniteHistoryDependent.html#3536" class="Function">optimal-outcome</a> <a id="8659" href="Games.FiniteHistoryDependent.html#8520" class="Bound">G</a>
<a id="8661" href="Games.FiniteHistoryDependent.html#8469" class="Function">optimality-theorem</a> <a id="8680" href="Games.FiniteHistoryDependent.html#8680" class="Bound">fe</a> <a id="8683" class="Symbol">(</a><a id="8684" href="Games.FiniteHistoryDependent.html#3164" class="InductiveConstructor">game</a> <a id="8689" href="Games.FiniteHistoryDependent.html#8689" class="Bound">Xt</a> <a id="8692" href="Games.FiniteHistoryDependent.html#8692" class="Bound">ϕt</a> <a id="8695" href="Games.FiniteHistoryDependent.html#8695" class="Bound">q</a><a id="8696" class="Symbol">)</a> <a id="8698" class="Symbol">=</a> <a id="8700" href="Games.FiniteHistoryDependent.html#7628" class="Function">sgpe-lemma</a> <a id="8711" href="Games.FiniteHistoryDependent.html#8680" class="Bound">fe</a> <a id="8714" href="Games.FiniteHistoryDependent.html#8689" class="Bound">Xt</a> <a id="8717" href="Games.FiniteHistoryDependent.html#8695" class="Bound">q</a> <a id="8719" href="Games.FiniteHistoryDependent.html#8692" class="Bound">ϕt</a>

<a id="8723" class="Markup">\end{code}</a><a id="8733" class="Background">

We now show how to use selection functions to compute a sgpe strategy.

We use selection functions, as in Section 2 of reference [1], defined
in another module.

𝓙 assigns types of selection functions to the nodes.

</a><a id="8951" class="Markup">\begin{code}</a>

<a id="𝓙"></a><a id="8965" href="Games.FiniteHistoryDependent.html#8965" class="Function">𝓙</a> <a id="8967" class="Symbol">:</a> <a id="8969" href="Games.TypeTrees.html#719" class="Datatype">𝑻</a> <a id="8971" class="Symbol">→</a> <a id="8973" href="Notation.General.html#372" class="Function">Type</a>
<a id="8978" href="Games.FiniteHistoryDependent.html#8965" class="Function">𝓙</a> <a id="8980" class="Symbol">=</a> <a id="8982" href="Games.TypeTrees.html#2120" class="Function">structure</a> <a id="8992" href="MonadOnTypes.J.html#461" class="Function">J</a>

<a id="remark-𝓙"></a><a id="8995" href="Games.FiniteHistoryDependent.html#8995" class="Function">remark-𝓙</a> <a id="9004" class="Symbol">:</a> <a id="9006" class="Symbol">{</a><a id="9007" href="Games.FiniteHistoryDependent.html#9007" class="Bound">X</a> <a id="9009" class="Symbol">:</a> <a id="9011" href="Notation.General.html#372" class="Function">Type</a><a id="9015" class="Symbol">}</a> <a id="9017" class="Symbol">{</a><a id="9018" href="Games.FiniteHistoryDependent.html#9018" class="Bound">Xf</a> <a id="9021" class="Symbol">:</a> <a id="9023" href="Games.FiniteHistoryDependent.html#9007" class="Bound">X</a> <a id="9025" class="Symbol">→</a> <a id="9027" href="Games.TypeTrees.html#719" class="Datatype">𝑻</a><a id="9028" class="Symbol">}</a>
         <a id="9039" class="Symbol">→</a> <a id="9041" class="Symbol">(</a><a id="9042" href="Games.FiniteHistoryDependent.html#8965" class="Function">𝓙</a> <a id="9044" class="InductiveConstructor">[]</a> <a id="9047" href="MLTT.Id.html#193" class="Datatype Operator">＝</a> <a id="9049" href="MLTT.Unit.html#129" class="Record">𝟙</a><a id="9050" class="Symbol">)</a>
         <a id="9061" href="MLTT.Sigma.html#558" class="Function Operator">×</a> <a id="9063" class="Symbol">(</a><a id="9064" href="Games.FiniteHistoryDependent.html#8965" class="Function">𝓙</a> <a id="9066" class="Symbol">(</a><a id="9067" href="Games.FiniteHistoryDependent.html#9007" class="Bound">X</a> <a id="9069" class="InductiveConstructor Operator">∷</a> <a id="9071" href="Games.FiniteHistoryDependent.html#9018" class="Bound">Xf</a><a id="9073" class="Symbol">)</a> <a id="9075" href="MLTT.Id.html#193" class="Datatype Operator">＝</a> <a id="9077" href="MonadOnTypes.J.html#461" class="Function">J</a> <a id="9079" href="Games.FiniteHistoryDependent.html#9007" class="Bound">X</a> <a id="9081" href="MLTT.Sigma.html#558" class="Function Operator">×</a> <a id="9083" class="Symbol">((</a><a id="9085" href="Games.FiniteHistoryDependent.html#9085" class="Bound">x</a> <a id="9087" class="Symbol">:</a> <a id="9089" href="Games.FiniteHistoryDependent.html#9007" class="Bound">X</a><a id="9090" class="Symbol">)</a> <a id="9092" class="Symbol">→</a> <a id="9094" href="Games.FiniteHistoryDependent.html#8965" class="Function">𝓙</a> <a id="9096" class="Symbol">(</a><a id="9097" href="Games.FiniteHistoryDependent.html#9018" class="Bound">Xf</a> <a id="9100" href="Games.FiniteHistoryDependent.html#9085" class="Bound">x</a><a id="9101" class="Symbol">)))</a>
<a id="9105" href="Games.FiniteHistoryDependent.html#8995" class="Function">remark-𝓙</a> <a id="9114" class="Symbol">=</a> <a id="9116" href="MLTT.Identity-Type.html#157" class="InductiveConstructor">refl</a> <a id="9121" href="MLTT.Sigma.html#395" class="InductiveConstructor Operator">,</a> <a id="9123" href="MLTT.Identity-Type.html#157" class="InductiveConstructor">refl</a>

<a id="9129" class="Markup">\end{code}</a><a id="9139" class="Background">

 * ε ranges over the type J X of selection functions.
 * εt ranges over the type 𝓙 Xt of selection-function trees.
 * εf ranges over the type (x : X) → 𝓙 (Xf x) of selection-function forests.

Sequencing selection functions, as constructed in Definition 12 of
reference [1], but using our tree representation of games instead:

</a><a id="9469" class="Markup">\begin{code}</a>

<a id="sequenceᴶ"></a><a id="9483" href="Games.FiniteHistoryDependent.html#9483" class="Function">sequenceᴶ</a> <a id="9493" class="Symbol">:</a> <a id="9495" class="Symbol">{</a><a id="9496" href="Games.FiniteHistoryDependent.html#9496" class="Bound">Xt</a> <a id="9499" class="Symbol">:</a> <a id="9501" href="Games.TypeTrees.html#719" class="Datatype">𝑻</a><a id="9502" class="Symbol">}</a> <a id="9504" class="Symbol">→</a> <a id="9506" href="Games.FiniteHistoryDependent.html#8965" class="Function">𝓙</a> <a id="9508" href="Games.FiniteHistoryDependent.html#9496" class="Bound">Xt</a> <a id="9511" class="Symbol">→</a> <a id="9513" href="MonadOnTypes.J.html#461" class="Function">J</a> <a id="9515" class="Symbol">(</a><a id="9516" href="Games.TypeTrees.html#906" class="Function">Path</a> <a id="9521" href="Games.FiniteHistoryDependent.html#9496" class="Bound">Xt</a><a id="9523" class="Symbol">)</a>
<a id="9525" href="Games.FiniteHistoryDependent.html#9483" class="Function">sequenceᴶ</a> <a id="9535" class="Symbol">=</a> <a id="9537" href="Games.TypeTrees.html#3789" class="Function">path-sequence</a> <a id="9551" class="Symbol">(</a><a id="9552" href="MonadOnTypes.J.html#206" class="Function">𝕁</a> <a id="9554" href="Games.FiniteHistoryDependent.html#1635" class="Bound">R</a><a id="9555" class="Symbol">)</a>

<a id="9558" class="Markup">\end{code}</a><a id="9568" class="Background">

The following, which defines a strategy from given selection
functions, is defined in Theorem 5.4 of [1], with the difference that
here, for the moment, we consider only single-valued quantifiers.

</a><a id="9768" class="Markup">\begin{code}</a>

<a id="selection-strategy"></a><a id="9782" href="Games.FiniteHistoryDependent.html#9782" class="Function">selection-strategy</a> <a id="9801" class="Symbol">:</a> <a id="9803" class="Symbol">{</a><a id="9804" href="Games.FiniteHistoryDependent.html#9804" class="Bound">Xt</a> <a id="9807" class="Symbol">:</a> <a id="9809" href="Games.TypeTrees.html#719" class="Datatype">𝑻</a><a id="9810" class="Symbol">}</a> <a id="9812" class="Symbol">→</a> <a id="9814" href="Games.FiniteHistoryDependent.html#8965" class="Function">𝓙</a> <a id="9816" href="Games.FiniteHistoryDependent.html#9804" class="Bound">Xt</a> <a id="9819" class="Symbol">→</a> <a id="9821" class="Symbol">(</a><a id="9822" href="Games.TypeTrees.html#906" class="Function">Path</a> <a id="9827" href="Games.FiniteHistoryDependent.html#9804" class="Bound">Xt</a> <a id="9830" class="Symbol">→</a> <a id="9832" href="Games.FiniteHistoryDependent.html#1635" class="Bound">R</a><a id="9833" class="Symbol">)</a> <a id="9835" class="Symbol">→</a> <a id="9837" href="Games.FiniteHistoryDependent.html#3730" class="Function">Strategy</a> <a id="9846" href="Games.FiniteHistoryDependent.html#9804" class="Bound">Xt</a>
<a id="9849" href="Games.FiniteHistoryDependent.html#9782" class="Function">selection-strategy</a> <a id="9868" class="Symbol">{</a><a id="9869" href="Games.TypeTrees.html#737" class="InductiveConstructor">[]</a><a id="9871" class="Symbol">}</a>     <a id="9877" href="Games.TypeTrees.html#1274" class="InductiveConstructor">⟨⟩</a>           <a id="9890" href="Games.FiniteHistoryDependent.html#9890" class="Bound">q</a> <a id="9892" class="Symbol">=</a> <a id="9894" href="Games.TypeTrees.html#1274" class="InductiveConstructor">⟨⟩</a>
<a id="9897" href="Games.FiniteHistoryDependent.html#9782" class="Function">selection-strategy</a> <a id="9916" class="Symbol">{</a><a id="9917" href="Games.FiniteHistoryDependent.html#9917" class="Bound">X</a> <a id="9919" href="Games.TypeTrees.html#747" class="InductiveConstructor Operator">∷</a> <a id="9921" href="Games.FiniteHistoryDependent.html#9921" class="Bound">Xf</a><a id="9923" class="Symbol">}</a> <a id="9925" href="Games.FiniteHistoryDependent.html#9925" class="Bound">εt</a><a id="9927" class="Symbol">@(</a><a id="9929" href="Games.FiniteHistoryDependent.html#9929" class="Bound">ε</a> <a id="9931" href="Games.TypeTrees.html#1296" class="InductiveConstructor Operator">::</a> <a id="9934" href="Games.FiniteHistoryDependent.html#9934" class="Bound">εf</a><a id="9936" class="Symbol">)</a> <a id="9938" href="Games.FiniteHistoryDependent.html#9938" class="Bound">q</a> <a id="9940" class="Symbol">=</a> <a id="9942" href="Games.FiniteHistoryDependent.html#10004" class="Function">x₀</a> <a id="9945" href="Games.TypeTrees.html#1296" class="InductiveConstructor Operator">::</a> <a id="9948" href="Games.FiniteHistoryDependent.html#10034" class="Function">σf</a>
 <a id="9952" class="Keyword">where</a>
  <a id="9960" href="Games.FiniteHistoryDependent.html#9960" class="Function">xs</a> <a id="9963" class="Symbol">:</a> <a id="9965" href="Games.TypeTrees.html#906" class="Function">Path</a> <a id="9970" class="Symbol">(</a><a id="9971" href="Games.FiniteHistoryDependent.html#9917" class="Bound">X</a> <a id="9973" href="Games.TypeTrees.html#747" class="InductiveConstructor Operator">∷</a> <a id="9975" href="Games.FiniteHistoryDependent.html#9921" class="Bound">Xf</a><a id="9977" class="Symbol">)</a>
  <a id="9981" href="Games.FiniteHistoryDependent.html#9960" class="Function">xs</a> <a id="9984" class="Symbol">=</a> <a id="9986" href="Games.FiniteHistoryDependent.html#9483" class="Function">sequenceᴶ</a> <a id="9996" href="Games.FiniteHistoryDependent.html#9925" class="Bound">εt</a> <a id="9999" href="Games.FiniteHistoryDependent.html#9938" class="Bound">q</a>

  <a id="10004" href="Games.FiniteHistoryDependent.html#10004" class="Function">x₀</a> <a id="10007" class="Symbol">:</a> <a id="10009" href="Games.FiniteHistoryDependent.html#9917" class="Bound">X</a>
  <a id="10013" href="Games.FiniteHistoryDependent.html#10004" class="Function">x₀</a> <a id="10016" class="Symbol">=</a> <a id="10018" href="Games.TypeTrees.html#1318" class="Function">path-head</a> <a id="10028" href="Games.FiniteHistoryDependent.html#9960" class="Function">xs</a>

  <a id="10034" href="Games.FiniteHistoryDependent.html#10034" class="Function">σf</a> <a id="10037" class="Symbol">:</a> <a id="10039" class="Symbol">(</a><a id="10040" href="Games.FiniteHistoryDependent.html#10040" class="Bound">x</a> <a id="10042" class="Symbol">:</a> <a id="10044" href="Games.FiniteHistoryDependent.html#9917" class="Bound">X</a><a id="10045" class="Symbol">)</a> <a id="10047" class="Symbol">→</a> <a id="10049" href="Games.FiniteHistoryDependent.html#3730" class="Function">Strategy</a> <a id="10058" class="Symbol">(</a><a id="10059" href="Games.FiniteHistoryDependent.html#9921" class="Bound">Xf</a> <a id="10062" href="Games.FiniteHistoryDependent.html#10040" class="Bound">x</a><a id="10063" class="Symbol">)</a>
  <a id="10067" href="Games.FiniteHistoryDependent.html#10034" class="Function">σf</a> <a id="10070" href="Games.FiniteHistoryDependent.html#10070" class="Bound">x</a> <a id="10072" class="Symbol">=</a> <a id="10074" href="Games.FiniteHistoryDependent.html#9782" class="Function">selection-strategy</a> <a id="10093" class="Symbol">{</a><a id="10094" href="Games.FiniteHistoryDependent.html#9921" class="Bound">Xf</a> <a id="10097" href="Games.FiniteHistoryDependent.html#10070" class="Bound">x</a><a id="10098" class="Symbol">}</a> <a id="10100" class="Symbol">(</a><a id="10101" href="Games.FiniteHistoryDependent.html#9934" class="Bound">εf</a> <a id="10104" href="Games.FiniteHistoryDependent.html#10070" class="Bound">x</a><a id="10105" class="Symbol">)</a> <a id="10107" class="Symbol">(</a><a id="10108" href="Games.TypeTrees.html#1622" class="Function">subpred</a> <a id="10116" href="Games.FiniteHistoryDependent.html#9938" class="Bound">q</a> <a id="10118" href="Games.FiniteHistoryDependent.html#10070" class="Bound">x</a><a id="10119" class="Symbol">)</a>

<a id="10122" class="Markup">\end{code}</a><a id="10132" class="Background">

We convert a selection function into a quantifier as in Definition 10
of [1], using the function overline, defined in another module.

The work with the definition of a selection function being a selection
function for a quantifier as in Section 1 on [1], defined in another
module.

We generalize it to selection-function and quantifier trees in the
obvious way, by induction:

</a><a id="10513" class="Markup">\begin{code}</a>

<a id="10527" class="Keyword">open</a> <a id="10532" href="MonadOnTypes.JK.html#215" class="Module">JK</a> <a id="10535" href="Games.FiniteHistoryDependent.html#1635" class="Bound">R</a>

<a id="_Attains_"></a><a id="10538" href="Games.FiniteHistoryDependent.html#10538" class="Function Operator">_Attains_</a> <a id="10548" class="Symbol">:</a> <a id="10550" class="Symbol">{</a><a id="10551" href="Games.FiniteHistoryDependent.html#10551" class="Bound">Xt</a> <a id="10554" class="Symbol">:</a> <a id="10556" href="Games.TypeTrees.html#719" class="Datatype">𝑻</a><a id="10557" class="Symbol">}</a> <a id="10559" class="Symbol">→</a> <a id="10561" href="Games.FiniteHistoryDependent.html#8965" class="Function">𝓙</a> <a id="10563" href="Games.FiniteHistoryDependent.html#10551" class="Bound">Xt</a> <a id="10566" class="Symbol">→</a> <a id="10568" href="Games.FiniteHistoryDependent.html#2364" class="Function">𝓚</a> <a id="10570" href="Games.FiniteHistoryDependent.html#10551" class="Bound">Xt</a> <a id="10573" class="Symbol">→</a> <a id="10575" href="Notation.General.html#372" class="Function">Type</a>
<a id="10580" href="Games.FiniteHistoryDependent.html#10538" class="Function Operator">_Attains_</a> <a id="10590" class="Symbol">{</a><a id="10591" href="Games.TypeTrees.html#737" class="InductiveConstructor">[]</a><a id="10593" class="Symbol">}</a>     <a id="10599" href="Games.TypeTrees.html#1274" class="InductiveConstructor">⟨⟩</a>        <a id="10609" href="Games.TypeTrees.html#1274" class="InductiveConstructor">⟨⟩</a>        <a id="10619" class="Symbol">=</a> <a id="10621" href="MLTT.Unit.html#129" class="Record">𝟙</a>
<a id="10623" href="Games.FiniteHistoryDependent.html#10538" class="Function Operator">_Attains_</a> <a id="10633" class="Symbol">{</a><a id="10634" href="Games.FiniteHistoryDependent.html#10634" class="Bound">X</a> <a id="10636" href="Games.TypeTrees.html#747" class="InductiveConstructor Operator">∷</a> <a id="10638" href="Games.FiniteHistoryDependent.html#10638" class="Bound">Xf</a><a id="10640" class="Symbol">}</a> <a id="10642" class="Symbol">(</a><a id="10643" href="Games.FiniteHistoryDependent.html#10643" class="Bound">ε</a> <a id="10645" href="Games.TypeTrees.html#1296" class="InductiveConstructor Operator">::</a> <a id="10648" href="Games.FiniteHistoryDependent.html#10648" class="Bound">εf</a><a id="10650" class="Symbol">)</a> <a id="10652" class="Symbol">(</a><a id="10653" href="Games.FiniteHistoryDependent.html#10653" class="Bound">ϕ</a> <a id="10655" href="Games.TypeTrees.html#1296" class="InductiveConstructor Operator">::</a> <a id="10658" href="Games.FiniteHistoryDependent.html#10658" class="Bound">ϕf</a><a id="10660" class="Symbol">)</a> <a id="10662" class="Symbol">=</a> <a id="10664" class="Symbol">(</a><a id="10665" href="Games.FiniteHistoryDependent.html#10643" class="Bound">ε</a> <a id="10667" href="MonadOnTypes.JK.html#555" class="Function Operator">attains</a> <a id="10675" href="Games.FiniteHistoryDependent.html#10653" class="Bound">ϕ</a><a id="10676" class="Symbol">)</a>
                                       <a id="10717" href="MLTT.Sigma.html#558" class="Function Operator">×</a> <a id="10719" class="Symbol">((</a><a id="10721" href="Games.FiniteHistoryDependent.html#10721" class="Bound">x</a> <a id="10723" class="Symbol">:</a> <a id="10725" href="Games.FiniteHistoryDependent.html#10634" class="Bound">X</a><a id="10726" class="Symbol">)</a> <a id="10728" class="Symbol">→</a> <a id="10730" class="Symbol">(</a><a id="10731" href="Games.FiniteHistoryDependent.html#10648" class="Bound">εf</a> <a id="10734" href="Games.FiniteHistoryDependent.html#10721" class="Bound">x</a><a id="10735" class="Symbol">)</a> <a id="10737" href="Games.FiniteHistoryDependent.html#10538" class="Function Operator">Attains</a> <a id="10745" class="Symbol">(</a><a id="10746" href="Games.FiniteHistoryDependent.html#10658" class="Bound">ϕf</a> <a id="10749" href="Games.FiniteHistoryDependent.html#10721" class="Bound">x</a><a id="10750" class="Symbol">))</a>

<a id="10754" class="Markup">\end{code}</a><a id="10764" class="Background">

The following is the application of overline to each selection
function of a tree:

</a><a id="10850" class="Markup">\begin{code}</a>

<a id="Overline"></a><a id="10864" href="Games.FiniteHistoryDependent.html#10864" class="Function">Overline</a> <a id="10873" class="Symbol">:</a> <a id="10875" class="Symbol">{</a><a id="10876" href="Games.FiniteHistoryDependent.html#10876" class="Bound">Xt</a> <a id="10879" class="Symbol">:</a> <a id="10881" href="Games.TypeTrees.html#719" class="Datatype">𝑻</a><a id="10882" class="Symbol">}</a> <a id="10884" class="Symbol">→</a> <a id="10886" href="Games.FiniteHistoryDependent.html#8965" class="Function">𝓙</a> <a id="10888" href="Games.FiniteHistoryDependent.html#10876" class="Bound">Xt</a> <a id="10891" class="Symbol">→</a> <a id="10893" href="Games.FiniteHistoryDependent.html#2364" class="Function">𝓚</a> <a id="10895" href="Games.FiniteHistoryDependent.html#10876" class="Bound">Xt</a>
<a id="10898" href="Games.FiniteHistoryDependent.html#10864" class="Function">Overline</a> <a id="10907" class="Symbol">{</a><a id="10908" href="Games.TypeTrees.html#737" class="InductiveConstructor">[]</a><a id="10910" class="Symbol">}</a>     <a id="10916" href="Games.TypeTrees.html#1274" class="InductiveConstructor">⟨⟩</a>        <a id="10926" class="Symbol">=</a> <a id="10928" href="Games.TypeTrees.html#1274" class="InductiveConstructor">⟨⟩</a>
<a id="10931" href="Games.FiniteHistoryDependent.html#10864" class="Function">Overline</a> <a id="10940" class="Symbol">{</a><a id="10941" href="Games.FiniteHistoryDependent.html#10941" class="Bound">X</a> <a id="10943" href="Games.TypeTrees.html#747" class="InductiveConstructor Operator">∷</a> <a id="10945" href="Games.FiniteHistoryDependent.html#10945" class="Bound">Xf</a><a id="10947" class="Symbol">}</a> <a id="10949" class="Symbol">(</a><a id="10950" href="Games.FiniteHistoryDependent.html#10950" class="Bound">ε</a> <a id="10952" href="Games.TypeTrees.html#1296" class="InductiveConstructor Operator">::</a> <a id="10955" href="Games.FiniteHistoryDependent.html#10955" class="Bound">εf</a><a id="10957" class="Symbol">)</a> <a id="10959" class="Symbol">=</a> <a id="10961" href="MonadOnTypes.JK.html#282" class="Function">overline</a> <a id="10970" href="Games.FiniteHistoryDependent.html#10950" class="Bound">ε</a> <a id="10972" href="Games.TypeTrees.html#1296" class="InductiveConstructor Operator">::</a> <a id="10975" class="Symbol">(λ</a> <a id="10978" href="Games.FiniteHistoryDependent.html#10978" class="Bound">x</a> <a id="10980" class="Symbol">→</a> <a id="10982" href="Games.FiniteHistoryDependent.html#10864" class="Function">Overline</a> <a id="10991" class="Symbol">{</a><a id="10992" href="Games.FiniteHistoryDependent.html#10945" class="Bound">Xf</a> <a id="10995" href="Games.FiniteHistoryDependent.html#10978" class="Bound">x</a><a id="10996" class="Symbol">}</a> <a id="10998" class="Symbol">(</a><a id="10999" href="Games.FiniteHistoryDependent.html#10955" class="Bound">εf</a> <a id="11002" href="Games.FiniteHistoryDependent.html#10978" class="Bound">x</a><a id="11003" class="Symbol">))</a>

<a id="11007" class="Markup">\end{code}</a><a id="11017" class="Background">

The following is proved by straightforward induction on trees:

</a><a id="11083" class="Markup">\begin{code}</a>

<a id="observation"></a><a id="11097" href="Games.FiniteHistoryDependent.html#11097" class="Function">observation</a> <a id="11109" class="Symbol">:</a> <a id="11111" href="UF.FunExt.html#1047" class="Function">Fun-Ext</a>
            <a id="11131" class="Symbol">→</a> <a id="11133" class="Symbol">{</a><a id="11134" href="Games.FiniteHistoryDependent.html#11134" class="Bound">Xt</a> <a id="11137" class="Symbol">:</a> <a id="11139" href="Games.TypeTrees.html#719" class="Datatype">𝑻</a><a id="11140" class="Symbol">}</a> <a id="11142" class="Symbol">(</a><a id="11143" href="Games.FiniteHistoryDependent.html#11143" class="Bound">εt</a> <a id="11146" class="Symbol">:</a> <a id="11148" href="Games.FiniteHistoryDependent.html#8965" class="Function">𝓙</a> <a id="11150" href="Games.FiniteHistoryDependent.html#11134" class="Bound">Xt</a><a id="11152" class="Symbol">)</a> <a id="11154" class="Symbol">(</a><a id="11155" href="Games.FiniteHistoryDependent.html#11155" class="Bound">ϕt</a> <a id="11158" class="Symbol">:</a> <a id="11160" href="Games.FiniteHistoryDependent.html#2364" class="Function">𝓚</a> <a id="11162" href="Games.FiniteHistoryDependent.html#11134" class="Bound">Xt</a><a id="11164" class="Symbol">)</a>
            <a id="11178" class="Symbol">→</a> <a id="11180" href="Games.FiniteHistoryDependent.html#11143" class="Bound">εt</a> <a id="11183" href="Games.FiniteHistoryDependent.html#10538" class="Function Operator">Attains</a> <a id="11191" href="Games.FiniteHistoryDependent.html#11155" class="Bound">ϕt</a>
            <a id="11206" class="Symbol">→</a> <a id="11208" href="Games.FiniteHistoryDependent.html#10864" class="Function">Overline</a> <a id="11217" href="Games.FiniteHistoryDependent.html#11143" class="Bound">εt</a> <a id="11220" href="MLTT.Id.html#193" class="Datatype Operator">＝</a> <a id="11222" href="Games.FiniteHistoryDependent.html#11155" class="Bound">ϕt</a>
<a id="11225" href="Games.FiniteHistoryDependent.html#11097" class="Function">observation</a> <a id="11237" href="Games.FiniteHistoryDependent.html#11237" class="Bound">fe</a> <a id="11240" class="Symbol">{</a><a id="11241" href="Games.TypeTrees.html#737" class="InductiveConstructor">[]</a><a id="11243" class="Symbol">}</a>     <a id="11249" href="Games.TypeTrees.html#1274" class="InductiveConstructor">⟨⟩</a>        <a id="11259" href="Games.TypeTrees.html#1274" class="InductiveConstructor">⟨⟩</a>        <a id="11269" href="Games.TypeTrees.html#1274" class="InductiveConstructor">⟨⟩</a>        <a id="11279" class="Symbol">=</a> <a id="11281" href="MLTT.Identity-Type.html#157" class="InductiveConstructor">refl</a>
<a id="11286" href="Games.FiniteHistoryDependent.html#11097" class="Function">observation</a> <a id="11298" href="Games.FiniteHistoryDependent.html#11298" class="Bound">fe</a> <a id="11301" class="Symbol">{</a><a id="11302" href="Games.FiniteHistoryDependent.html#11302" class="Bound">X</a> <a id="11304" href="Games.TypeTrees.html#747" class="InductiveConstructor Operator">∷</a> <a id="11306" href="Games.FiniteHistoryDependent.html#11306" class="Bound">Xf</a><a id="11308" class="Symbol">}</a> <a id="11310" class="Symbol">(</a><a id="11311" href="Games.FiniteHistoryDependent.html#11311" class="Bound">ε</a> <a id="11313" href="Games.TypeTrees.html#1296" class="InductiveConstructor Operator">::</a> <a id="11316" href="Games.FiniteHistoryDependent.html#11316" class="Bound">εf</a><a id="11318" class="Symbol">)</a> <a id="11320" class="Symbol">(</a><a id="11321" href="Games.FiniteHistoryDependent.html#11321" class="Bound">ϕ</a> <a id="11323" href="Games.TypeTrees.html#1296" class="InductiveConstructor Operator">::</a> <a id="11326" href="Games.FiniteHistoryDependent.html#11326" class="Bound">ϕf</a><a id="11328" class="Symbol">)</a> <a id="11330" class="Symbol">(</a><a id="11331" href="Games.FiniteHistoryDependent.html#11331" class="Bound">a</a> <a id="11333" href="Games.TypeTrees.html#1296" class="InductiveConstructor Operator">::</a> <a id="11336" href="Games.FiniteHistoryDependent.html#11336" class="Bound">af</a><a id="11338" class="Symbol">)</a> <a id="11340" class="Symbol">=</a> <a id="11342" href="Games.FiniteHistoryDependent.html#11545" class="Function">γ</a>
 <a id="11345" class="Keyword">where</a>
  <a id="11353" href="Games.FiniteHistoryDependent.html#11353" class="Function">IH</a> <a id="11356" class="Symbol">:</a> <a id="11358" class="Symbol">(</a><a id="11359" href="Games.FiniteHistoryDependent.html#11359" class="Bound">x</a> <a id="11361" class="Symbol">:</a> <a id="11363" href="Games.FiniteHistoryDependent.html#11302" class="Bound">X</a><a id="11364" class="Symbol">)</a> <a id="11366" class="Symbol">→</a> <a id="11368" href="Games.FiniteHistoryDependent.html#10864" class="Function">Overline</a> <a id="11377" class="Symbol">(</a><a id="11378" href="Games.FiniteHistoryDependent.html#11316" class="Bound">εf</a> <a id="11381" href="Games.FiniteHistoryDependent.html#11359" class="Bound">x</a><a id="11382" class="Symbol">)</a> <a id="11384" href="MLTT.Id.html#193" class="Datatype Operator">＝</a> <a id="11386" href="Games.FiniteHistoryDependent.html#11326" class="Bound">ϕf</a> <a id="11389" href="Games.FiniteHistoryDependent.html#11359" class="Bound">x</a>
  <a id="11393" href="Games.FiniteHistoryDependent.html#11353" class="Function">IH</a> <a id="11396" href="Games.FiniteHistoryDependent.html#11396" class="Bound">x</a> <a id="11398" class="Symbol">=</a> <a id="11400" href="Games.FiniteHistoryDependent.html#11097" class="Function">observation</a> <a id="11412" href="Games.FiniteHistoryDependent.html#11298" class="Bound">fe</a> <a id="11415" class="Symbol">{</a><a id="11416" href="Games.FiniteHistoryDependent.html#11306" class="Bound">Xf</a> <a id="11419" href="Games.FiniteHistoryDependent.html#11396" class="Bound">x</a><a id="11420" class="Symbol">}</a> <a id="11422" class="Symbol">(</a><a id="11423" href="Games.FiniteHistoryDependent.html#11316" class="Bound">εf</a> <a id="11426" href="Games.FiniteHistoryDependent.html#11396" class="Bound">x</a><a id="11427" class="Symbol">)</a> <a id="11429" class="Symbol">(</a><a id="11430" href="Games.FiniteHistoryDependent.html#11326" class="Bound">ϕf</a> <a id="11433" href="Games.FiniteHistoryDependent.html#11396" class="Bound">x</a><a id="11434" class="Symbol">)</a> <a id="11436" class="Symbol">(</a><a id="11437" href="Games.FiniteHistoryDependent.html#11336" class="Bound">af</a> <a id="11440" href="Games.FiniteHistoryDependent.html#11396" class="Bound">x</a><a id="11441" class="Symbol">)</a>

  <a id="11446" href="Games.FiniteHistoryDependent.html#11446" class="Function">I</a> <a id="11448" class="Symbol">:</a> <a id="11450" href="MonadOnTypes.JK.html#282" class="Function">overline</a> <a id="11459" href="Games.FiniteHistoryDependent.html#11311" class="Bound">ε</a> <a id="11461" href="MLTT.Id.html#193" class="Datatype Operator">＝</a> <a id="11463" href="Games.FiniteHistoryDependent.html#11321" class="Bound">ϕ</a>
  <a id="11467" href="Games.FiniteHistoryDependent.html#11446" class="Function">I</a> <a id="11469" class="Symbol">=</a> <a id="11471" href="UF.FunExt.html#1242" class="Function">dfunext</a> <a id="11479" href="Games.FiniteHistoryDependent.html#11298" class="Bound">fe</a> <a id="11482" href="Games.FiniteHistoryDependent.html#11331" class="Bound">a</a>

  <a id="11487" href="Games.FiniteHistoryDependent.html#11487" class="Function">II</a> <a id="11490" class="Symbol">:</a> <a id="11492" class="Symbol">(λ</a> <a id="11495" href="Games.FiniteHistoryDependent.html#11495" class="Bound">x</a> <a id="11497" class="Symbol">→</a> <a id="11499" href="Games.FiniteHistoryDependent.html#10864" class="Function">Overline</a> <a id="11508" class="Symbol">(</a><a id="11509" href="Games.FiniteHistoryDependent.html#11316" class="Bound">εf</a> <a id="11512" href="Games.FiniteHistoryDependent.html#11495" class="Bound">x</a><a id="11513" class="Symbol">))</a> <a id="11516" href="MLTT.Id.html#193" class="Datatype Operator">＝</a> <a id="11518" href="Games.FiniteHistoryDependent.html#11326" class="Bound">ϕf</a>
  <a id="11523" href="Games.FiniteHistoryDependent.html#11487" class="Function">II</a> <a id="11526" class="Symbol">=</a> <a id="11528" href="UF.FunExt.html#1242" class="Function">dfunext</a> <a id="11536" href="Games.FiniteHistoryDependent.html#11298" class="Bound">fe</a> <a id="11539" href="Games.FiniteHistoryDependent.html#11353" class="Function">IH</a>

  <a id="11545" href="Games.FiniteHistoryDependent.html#11545" class="Function">γ</a> <a id="11547" class="Symbol">:</a> <a id="11549" href="MonadOnTypes.JK.html#282" class="Function">overline</a> <a id="11558" href="Games.FiniteHistoryDependent.html#11311" class="Bound">ε</a> <a id="11560" href="Games.TypeTrees.html#1296" class="InductiveConstructor Operator">::</a> <a id="11563" class="Symbol">(λ</a> <a id="11566" href="Games.FiniteHistoryDependent.html#11566" class="Bound">x</a> <a id="11568" class="Symbol">→</a> <a id="11570" href="Games.FiniteHistoryDependent.html#10864" class="Function">Overline</a> <a id="11579" class="Symbol">(</a><a id="11580" href="Games.FiniteHistoryDependent.html#11316" class="Bound">εf</a> <a id="11583" href="Games.FiniteHistoryDependent.html#11566" class="Bound">x</a><a id="11584" class="Symbol">))</a> <a id="11587" href="MLTT.Id.html#193" class="Datatype Operator">＝</a> <a id="11589" href="Games.FiniteHistoryDependent.html#11321" class="Bound">ϕ</a> <a id="11591" href="Games.TypeTrees.html#1296" class="InductiveConstructor Operator">::</a> <a id="11594" href="Games.FiniteHistoryDependent.html#11326" class="Bound">ϕf</a>
  <a id="11599" href="Games.FiniteHistoryDependent.html#11545" class="Function">γ</a> <a id="11601" class="Symbol">=</a> <a id="11603" href="UF.Base.html#8182" class="Function">ap₂</a> <a id="11607" href="Games.TypeTrees.html#1296" class="InductiveConstructor Operator">_::_</a> <a id="11612" href="Games.FiniteHistoryDependent.html#11446" class="Function">I</a> <a id="11614" href="Games.FiniteHistoryDependent.html#11487" class="Function">II</a>

<a id="observation-converse"></a><a id="11618" href="Games.FiniteHistoryDependent.html#11618" class="Function">observation-converse</a> <a id="11639" class="Symbol">:</a> <a id="11641" class="Symbol">{</a><a id="11642" href="Games.FiniteHistoryDependent.html#11642" class="Bound">Xt</a> <a id="11645" class="Symbol">:</a> <a id="11647" href="Games.TypeTrees.html#719" class="Datatype">𝑻</a><a id="11648" class="Symbol">}</a> <a id="11650" class="Symbol">(</a><a id="11651" href="Games.FiniteHistoryDependent.html#11651" class="Bound">εt</a> <a id="11654" class="Symbol">:</a> <a id="11656" href="Games.FiniteHistoryDependent.html#8965" class="Function">𝓙</a> <a id="11658" href="Games.FiniteHistoryDependent.html#11642" class="Bound">Xt</a><a id="11660" class="Symbol">)</a> <a id="11662" class="Symbol">(</a><a id="11663" href="Games.FiniteHistoryDependent.html#11663" class="Bound">ϕt</a> <a id="11666" class="Symbol">:</a> <a id="11668" href="Games.FiniteHistoryDependent.html#2364" class="Function">𝓚</a> <a id="11670" href="Games.FiniteHistoryDependent.html#11642" class="Bound">Xt</a><a id="11672" class="Symbol">)</a>
                     <a id="11695" class="Symbol">→</a> <a id="11697" href="Games.FiniteHistoryDependent.html#10864" class="Function">Overline</a> <a id="11706" href="Games.FiniteHistoryDependent.html#11651" class="Bound">εt</a> <a id="11709" href="MLTT.Id.html#193" class="Datatype Operator">＝</a> <a id="11711" href="Games.FiniteHistoryDependent.html#11663" class="Bound">ϕt</a>
                     <a id="11735" class="Symbol">→</a> <a id="11737" href="Games.FiniteHistoryDependent.html#11651" class="Bound">εt</a> <a id="11740" href="Games.FiniteHistoryDependent.html#10538" class="Function Operator">Attains</a> <a id="11748" href="Games.FiniteHistoryDependent.html#11663" class="Bound">ϕt</a>
<a id="11751" href="Games.FiniteHistoryDependent.html#11618" class="Function">observation-converse</a> <a id="11772" class="Symbol">{</a><a id="11773" href="Games.TypeTrees.html#737" class="InductiveConstructor">[]</a><a id="11775" class="Symbol">}</a>     <a id="11781" href="Games.FiniteHistoryDependent.html#11781" class="Bound">εt</a> <a id="11784" href="Games.FiniteHistoryDependent.html#11784" class="Bound">ϕt</a> <a id="11787" href="Games.FiniteHistoryDependent.html#11787" class="Bound">p</a> <a id="11789" class="Symbol">=</a> <a id="11791" href="Games.TypeTrees.html#1274" class="InductiveConstructor">⟨⟩</a>
<a id="11794" href="Games.FiniteHistoryDependent.html#11618" class="Function">observation-converse</a> <a id="11815" class="Symbol">{</a><a id="11816" href="Games.FiniteHistoryDependent.html#11816" class="Bound">X</a> <a id="11818" href="Games.TypeTrees.html#747" class="InductiveConstructor Operator">∷</a> <a id="11820" href="Games.FiniteHistoryDependent.html#11820" class="Bound">Xf</a><a id="11822" class="Symbol">}</a> <a id="11824" class="Symbol">(</a><a id="11825" href="Games.FiniteHistoryDependent.html#11825" class="Bound">ε</a> <a id="11827" href="Games.TypeTrees.html#1296" class="InductiveConstructor Operator">::</a> <a id="11830" href="Games.FiniteHistoryDependent.html#11830" class="Bound">εf</a><a id="11832" class="Symbol">)</a>
                     <a id="11855" class="Symbol">(</a><a id="11856" class="DottedPattern Symbol">.(λ</a> <a id="11860" href="Games.FiniteHistoryDependent.html#11860" class="DottedPattern Bound">p</a> <a id="11862" class="Symbol">→</a> <a id="11864" href="Games.FiniteHistoryDependent.html#11860" class="DottedPattern Bound">p</a> <a id="11866" class="DottedPattern Symbol">(</a><a id="11867" href="Games.FiniteHistoryDependent.html#11825" class="DottedPattern Bound">ε</a> <a id="11869" href="Games.FiniteHistoryDependent.html#11860" class="DottedPattern Bound">p</a><a id="11870" class="DottedPattern Symbol">))</a> <a id="11873" href="Games.TypeTrees.html#1296" class="InductiveConstructor Operator">::</a> <a id="11876" class="DottedPattern Symbol">.(λ</a> <a id="11880" href="Games.FiniteHistoryDependent.html#11880" class="DottedPattern Bound">x</a> <a id="11882" class="Symbol">→</a> <a id="11884" href="Games.FiniteHistoryDependent.html#10864" class="DottedPattern Function">Overline</a> <a id="11893" class="DottedPattern Symbol">(</a><a id="11894" href="Games.FiniteHistoryDependent.html#11830" class="DottedPattern Bound">εf</a> <a id="11897" href="Games.FiniteHistoryDependent.html#11880" class="DottedPattern Bound">x</a><a id="11898" class="DottedPattern Symbol">))</a><a id="11900" class="Symbol">)</a> <a id="11902" href="MLTT.Identity-Type.html#157" class="InductiveConstructor">refl</a> <a id="11907" class="Symbol">=</a>
 <a id="11910" class="Symbol">(λ</a> <a id="11913" href="Games.FiniteHistoryDependent.html#11913" class="Bound">x</a> <a id="11915" class="Symbol">→</a> <a id="11917" href="MLTT.Identity-Type.html#157" class="InductiveConstructor">refl</a><a id="11921" class="Symbol">)</a> <a id="11923" href="Games.TypeTrees.html#1296" class="InductiveConstructor Operator">::</a> <a id="11926" class="Symbol">(λ</a> <a id="11929" href="Games.FiniteHistoryDependent.html#11929" class="Bound">x</a> <a id="11931" class="Symbol">→</a> <a id="11933" href="Games.FiniteHistoryDependent.html#11618" class="Function">observation-converse</a> <a id="11954" class="Symbol">(</a><a id="11955" href="Games.FiniteHistoryDependent.html#11830" class="Bound">εf</a> <a id="11958" href="Games.FiniteHistoryDependent.html#11929" class="Bound">x</a><a id="11959" class="Symbol">)</a> <a id="11961" class="Symbol">(</a><a id="11962" href="Games.FiniteHistoryDependent.html#10864" class="Function">Overline</a> <a id="11971" class="Symbol">(</a><a id="11972" href="Games.FiniteHistoryDependent.html#11830" class="Bound">εf</a> <a id="11975" href="Games.FiniteHistoryDependent.html#11929" class="Bound">x</a><a id="11976" class="Symbol">))</a> <a id="11979" href="MLTT.Identity-Type.html#157" class="InductiveConstructor">refl</a><a id="11983" class="Symbol">)</a>

<a id="11986" class="Markup">\end{code}</a><a id="11996" class="Background">

Notice that the converse is also true, that is, if Overline εt ＝ ϕt
then εt are selections of ϕt, but we don&#39;t need this fact here.

</a><a id="12131" class="Markup">\begin{code}</a>

<a id="main-lemma"></a><a id="12145" href="Games.FiniteHistoryDependent.html#12145" class="Function">main-lemma</a> <a id="12156" class="Symbol">:</a> <a id="12158" class="Symbol">{</a><a id="12159" href="Games.FiniteHistoryDependent.html#12159" class="Bound">Xt</a> <a id="12162" class="Symbol">:</a> <a id="12164" href="Games.TypeTrees.html#719" class="Datatype">𝑻</a><a id="12165" class="Symbol">}</a> <a id="12167" class="Symbol">(</a><a id="12168" href="Games.FiniteHistoryDependent.html#12168" class="Bound">εt</a> <a id="12171" class="Symbol">:</a> <a id="12173" href="Games.FiniteHistoryDependent.html#8965" class="Function">𝓙</a> <a id="12175" href="Games.FiniteHistoryDependent.html#12159" class="Bound">Xt</a><a id="12177" class="Symbol">)</a> <a id="12179" class="Symbol">(</a><a id="12180" href="Games.FiniteHistoryDependent.html#12180" class="Bound">q</a> <a id="12182" class="Symbol">:</a> <a id="12184" href="Games.TypeTrees.html#906" class="Function">Path</a> <a id="12189" href="Games.FiniteHistoryDependent.html#12159" class="Bound">Xt</a> <a id="12192" class="Symbol">→</a> <a id="12194" href="Games.FiniteHistoryDependent.html#1635" class="Bound">R</a><a id="12195" class="Symbol">)</a>
           <a id="12208" class="Symbol">→</a> <a id="12210" href="Games.FiniteHistoryDependent.html#4243" class="Function">strategic-path</a> <a id="12225" class="Symbol">(</a><a id="12226" href="Games.FiniteHistoryDependent.html#9782" class="Function">selection-strategy</a> <a id="12245" href="Games.FiniteHistoryDependent.html#12168" class="Bound">εt</a> <a id="12248" href="Games.FiniteHistoryDependent.html#12180" class="Bound">q</a><a id="12249" class="Symbol">)</a>
           <a id="12262" href="MLTT.Id.html#193" class="Datatype Operator">＝</a> <a id="12264" href="Games.FiniteHistoryDependent.html#9483" class="Function">sequenceᴶ</a> <a id="12274" href="Games.FiniteHistoryDependent.html#12168" class="Bound">εt</a> <a id="12277" href="Games.FiniteHistoryDependent.html#12180" class="Bound">q</a>
<a id="12279" href="Games.FiniteHistoryDependent.html#12145" class="Function">main-lemma</a> <a id="12290" class="Symbol">{</a><a id="12291" href="Games.TypeTrees.html#737" class="InductiveConstructor">[]</a><a id="12293" class="Symbol">}</a>     <a id="12299" href="Games.TypeTrees.html#1274" class="InductiveConstructor">⟨⟩</a>           <a id="12312" href="Games.FiniteHistoryDependent.html#12312" class="Bound">q</a> <a id="12314" class="Symbol">=</a> <a id="12316" href="MLTT.Identity-Type.html#157" class="InductiveConstructor">refl</a>
<a id="12321" href="Games.FiniteHistoryDependent.html#12145" class="Function">main-lemma</a> <a id="12332" class="Symbol">{</a><a id="12333" href="Games.FiniteHistoryDependent.html#12333" class="Bound">X</a> <a id="12335" href="Games.TypeTrees.html#747" class="InductiveConstructor Operator">∷</a> <a id="12337" href="Games.FiniteHistoryDependent.html#12337" class="Bound">Xf</a><a id="12339" class="Symbol">}</a> <a id="12341" href="Games.FiniteHistoryDependent.html#12341" class="Bound">εt</a><a id="12343" class="Symbol">@(</a><a id="12345" href="Games.FiniteHistoryDependent.html#12345" class="Bound">ε</a> <a id="12347" href="Games.TypeTrees.html#1296" class="InductiveConstructor Operator">::</a> <a id="12350" href="Games.FiniteHistoryDependent.html#12350" class="Bound">εf</a><a id="12352" class="Symbol">)</a> <a id="12354" href="Games.FiniteHistoryDependent.html#12354" class="Bound">q</a> <a id="12356" class="Symbol">=</a>
 <a id="12359" href="Games.FiniteHistoryDependent.html#4243" class="Function">strategic-path</a> <a id="12374" class="Symbol">(</a><a id="12375" href="Games.FiniteHistoryDependent.html#9782" class="Function">selection-strategy</a> <a id="12394" class="Symbol">(</a><a id="12395" href="Games.FiniteHistoryDependent.html#12345" class="Bound">ε</a> <a id="12397" href="Games.TypeTrees.html#1296" class="InductiveConstructor Operator">::</a> <a id="12400" href="Games.FiniteHistoryDependent.html#12350" class="Bound">εf</a><a id="12402" class="Symbol">)</a> <a id="12404" href="Games.FiniteHistoryDependent.html#12354" class="Bound">q</a><a id="12405" class="Symbol">)</a> <a id="12407" href="MLTT.Id.html#2705" class="Function Operator">＝⟨</a> <a id="12410" href="MLTT.Identity-Type.html#157" class="InductiveConstructor">refl</a> <a id="12415" href="MLTT.Id.html#2705" class="Function Operator">⟩</a>
 <a id="12418" href="Games.FiniteHistoryDependent.html#12798" class="Function">x₀</a> <a id="12421" href="Games.TypeTrees.html#1296" class="InductiveConstructor Operator">::</a> <a id="12424" href="Games.FiniteHistoryDependent.html#4243" class="Function">strategic-path</a> <a id="12439" class="Symbol">(</a><a id="12440" href="Games.FiniteHistoryDependent.html#12843" class="Function">σf</a> <a id="12443" href="Games.FiniteHistoryDependent.html#12798" class="Function">x₀</a><a id="12445" class="Symbol">)</a>                    <a id="12466" href="MLTT.Id.html#2705" class="Function Operator">＝⟨</a> <a id="12469" href="MLTT.Id.html#1136" class="Function">ap</a> <a id="12472" class="Symbol">(</a><a id="12473" href="Games.FiniteHistoryDependent.html#12798" class="Function">x₀</a> <a id="12476" href="Games.TypeTrees.html#1296" class="InductiveConstructor Operator">::_</a><a id="12479" class="Symbol">)</a> <a id="12481" href="Games.FiniteHistoryDependent.html#12933" class="Function">IH</a> <a id="12484" href="MLTT.Id.html#2705" class="Function Operator">⟩</a>
 <a id="12487" href="Games.FiniteHistoryDependent.html#12798" class="Function">x₀</a> <a id="12490" href="Games.TypeTrees.html#1296" class="InductiveConstructor Operator">::</a> <a id="12493" href="Games.FiniteHistoryDependent.html#9483" class="Function">sequenceᴶ</a> <a id="12503" class="Symbol">{</a><a id="12504" href="Games.FiniteHistoryDependent.html#12337" class="Bound">Xf</a> <a id="12507" href="Games.FiniteHistoryDependent.html#12798" class="Function">x₀</a><a id="12509" class="Symbol">}</a> <a id="12511" class="Symbol">(</a><a id="12512" href="Games.FiniteHistoryDependent.html#12350" class="Bound">εf</a> <a id="12515" href="Games.FiniteHistoryDependent.html#12798" class="Function">x₀</a><a id="12517" class="Symbol">)</a> <a id="12519" class="Symbol">(</a><a id="12520" href="Games.TypeTrees.html#1622" class="Function">subpred</a> <a id="12528" href="Games.FiniteHistoryDependent.html#12354" class="Bound">q</a> <a id="12530" href="Games.FiniteHistoryDependent.html#12798" class="Function">x₀</a><a id="12532" class="Symbol">)</a>  <a id="12535" href="MLTT.Id.html#2705" class="Function Operator">＝⟨</a> <a id="12538" href="MLTT.Identity-Type.html#157" class="InductiveConstructor">refl</a> <a id="12543" href="MLTT.Id.html#2705" class="Function Operator">⟩</a>
 <a id="12546" href="Games.FiniteHistoryDependent.html#12798" class="Function">x₀</a> <a id="12549" href="Games.TypeTrees.html#1296" class="InductiveConstructor Operator">::</a> <a id="12552" href="Games.FiniteHistoryDependent.html#12723" class="Function">ν</a> <a id="12554" href="Games.FiniteHistoryDependent.html#12798" class="Function">x₀</a>                                      <a id="12594" href="MLTT.Id.html#2705" class="Function Operator">＝⟨</a> <a id="12597" href="MLTT.Identity-Type.html#157" class="InductiveConstructor">refl</a> <a id="12602" href="MLTT.Id.html#2705" class="Function Operator">⟩</a>
 <a id="12605" class="Symbol">(</a><a id="12606" href="Games.FiniteHistoryDependent.html#12345" class="Bound">ε</a> <a id="12608" href="MonadOnTypes.J.html#498" class="Function Operator">⊗ᴶ</a> <a id="12611" class="Symbol">(λ</a> <a id="12614" href="Games.FiniteHistoryDependent.html#12614" class="Bound">x</a> <a id="12616" class="Symbol">→</a> <a id="12618" href="Games.FiniteHistoryDependent.html#9483" class="Function">sequenceᴶ</a> <a id="12628" class="Symbol">{</a><a id="12629" href="Games.FiniteHistoryDependent.html#12337" class="Bound">Xf</a> <a id="12632" href="Games.FiniteHistoryDependent.html#12614" class="Bound">x</a><a id="12633" class="Symbol">}</a> <a id="12635" class="Symbol">(</a><a id="12636" href="Games.FiniteHistoryDependent.html#12350" class="Bound">εf</a> <a id="12639" href="Games.FiniteHistoryDependent.html#12614" class="Bound">x</a><a id="12640" class="Symbol">)))</a> <a id="12644" href="Games.FiniteHistoryDependent.html#12354" class="Bound">q</a>        <a id="12653" href="MLTT.Id.html#2705" class="Function Operator">＝⟨</a> <a id="12656" href="MLTT.Identity-Type.html#157" class="InductiveConstructor">refl</a> <a id="12661" href="MLTT.Id.html#2705" class="Function Operator">⟩</a>
 <a id="12664" href="Games.FiniteHistoryDependent.html#9483" class="Function">sequenceᴶ</a> <a id="12674" class="Symbol">(</a><a id="12675" href="Games.FiniteHistoryDependent.html#12345" class="Bound">ε</a> <a id="12677" href="Games.TypeTrees.html#1296" class="InductiveConstructor Operator">::</a> <a id="12680" href="Games.FiniteHistoryDependent.html#12350" class="Bound">εf</a><a id="12682" class="Symbol">)</a> <a id="12684" href="Games.FiniteHistoryDependent.html#12354" class="Bound">q</a>                           <a id="12712" href="MLTT.Id.html#2787" class="Function Operator">∎</a>
 <a id="12715" class="Keyword">where</a>
  <a id="12723" href="Games.FiniteHistoryDependent.html#12723" class="Function">ν</a> <a id="12725" class="Symbol">:</a> <a id="12727" class="Symbol">(</a><a id="12728" href="Games.FiniteHistoryDependent.html#12728" class="Bound">x</a> <a id="12730" class="Symbol">:</a> <a id="12732" href="Games.FiniteHistoryDependent.html#12333" class="Bound">X</a><a id="12733" class="Symbol">)</a> <a id="12735" class="Symbol">→</a> <a id="12737" href="Games.TypeTrees.html#906" class="Function">Path</a> <a id="12742" class="Symbol">(</a><a id="12743" href="Games.FiniteHistoryDependent.html#12337" class="Bound">Xf</a> <a id="12746" href="Games.FiniteHistoryDependent.html#12728" class="Bound">x</a><a id="12747" class="Symbol">)</a>
  <a id="12751" href="Games.FiniteHistoryDependent.html#12723" class="Function">ν</a> <a id="12753" href="Games.FiniteHistoryDependent.html#12753" class="Bound">x</a> <a id="12755" class="Symbol">=</a> <a id="12757" href="Games.FiniteHistoryDependent.html#9483" class="Function">sequenceᴶ</a> <a id="12767" class="Symbol">{</a><a id="12768" href="Games.FiniteHistoryDependent.html#12337" class="Bound">Xf</a> <a id="12771" href="Games.FiniteHistoryDependent.html#12753" class="Bound">x</a><a id="12772" class="Symbol">}</a> <a id="12774" class="Symbol">(</a><a id="12775" href="Games.FiniteHistoryDependent.html#12350" class="Bound">εf</a> <a id="12778" href="Games.FiniteHistoryDependent.html#12753" class="Bound">x</a><a id="12779" class="Symbol">)</a> <a id="12781" class="Symbol">(</a><a id="12782" href="Games.TypeTrees.html#1622" class="Function">subpred</a> <a id="12790" href="Games.FiniteHistoryDependent.html#12354" class="Bound">q</a> <a id="12792" href="Games.FiniteHistoryDependent.html#12753" class="Bound">x</a><a id="12793" class="Symbol">)</a>

  <a id="12798" href="Games.FiniteHistoryDependent.html#12798" class="Function">x₀</a> <a id="12801" class="Symbol">:</a> <a id="12803" href="Games.FiniteHistoryDependent.html#12333" class="Bound">X</a>
  <a id="12807" href="Games.FiniteHistoryDependent.html#12798" class="Function">x₀</a> <a id="12810" class="Symbol">=</a> <a id="12812" href="Games.FiniteHistoryDependent.html#12345" class="Bound">ε</a> <a id="12814" class="Symbol">(λ</a> <a id="12817" href="Games.FiniteHistoryDependent.html#12817" class="Bound">x</a> <a id="12819" class="Symbol">→</a> <a id="12821" href="Games.TypeTrees.html#1622" class="Function">subpred</a> <a id="12829" href="Games.FiniteHistoryDependent.html#12354" class="Bound">q</a> <a id="12831" href="Games.FiniteHistoryDependent.html#12817" class="Bound">x</a> <a id="12833" class="Symbol">(</a><a id="12834" href="Games.FiniteHistoryDependent.html#12723" class="Function">ν</a> <a id="12836" href="Games.FiniteHistoryDependent.html#12817" class="Bound">x</a><a id="12837" class="Symbol">))</a>

  <a id="12843" href="Games.FiniteHistoryDependent.html#12843" class="Function">σf</a> <a id="12846" class="Symbol">:</a> <a id="12848" class="Symbol">(</a><a id="12849" href="Games.FiniteHistoryDependent.html#12849" class="Bound">x</a> <a id="12851" class="Symbol">:</a> <a id="12853" href="Games.FiniteHistoryDependent.html#12333" class="Bound">X</a><a id="12854" class="Symbol">)</a> <a id="12856" class="Symbol">→</a> <a id="12858" href="Games.FiniteHistoryDependent.html#3730" class="Function">Strategy</a> <a id="12867" class="Symbol">(</a><a id="12868" href="Games.FiniteHistoryDependent.html#12337" class="Bound">Xf</a> <a id="12871" href="Games.FiniteHistoryDependent.html#12849" class="Bound">x</a><a id="12872" class="Symbol">)</a>
  <a id="12876" href="Games.FiniteHistoryDependent.html#12843" class="Function">σf</a> <a id="12879" href="Games.FiniteHistoryDependent.html#12879" class="Bound">x</a> <a id="12881" class="Symbol">=</a> <a id="12883" href="Games.FiniteHistoryDependent.html#9782" class="Function">selection-strategy</a> <a id="12902" class="Symbol">{</a><a id="12903" href="Games.FiniteHistoryDependent.html#12337" class="Bound">Xf</a> <a id="12906" href="Games.FiniteHistoryDependent.html#12879" class="Bound">x</a><a id="12907" class="Symbol">}</a> <a id="12909" class="Symbol">(</a><a id="12910" href="Games.FiniteHistoryDependent.html#12350" class="Bound">εf</a> <a id="12913" href="Games.FiniteHistoryDependent.html#12879" class="Bound">x</a><a id="12914" class="Symbol">)</a> <a id="12916" class="Symbol">(</a><a id="12917" href="Games.TypeTrees.html#1622" class="Function">subpred</a> <a id="12925" href="Games.FiniteHistoryDependent.html#12354" class="Bound">q</a> <a id="12927" href="Games.FiniteHistoryDependent.html#12879" class="Bound">x</a><a id="12928" class="Symbol">)</a>

  <a id="12933" href="Games.FiniteHistoryDependent.html#12933" class="Function">IH</a> <a id="12936" class="Symbol">:</a> <a id="12938" href="Games.FiniteHistoryDependent.html#4243" class="Function">strategic-path</a> <a id="12953" class="Symbol">(</a><a id="12954" href="Games.FiniteHistoryDependent.html#12843" class="Function">σf</a> <a id="12957" href="Games.FiniteHistoryDependent.html#12798" class="Function">x₀</a><a id="12959" class="Symbol">)</a> <a id="12961" href="MLTT.Id.html#193" class="Datatype Operator">＝</a> <a id="12963" href="Games.FiniteHistoryDependent.html#9483" class="Function">sequenceᴶ</a> <a id="12973" class="Symbol">{</a><a id="12974" href="Games.FiniteHistoryDependent.html#12337" class="Bound">Xf</a> <a id="12977" href="Games.FiniteHistoryDependent.html#12798" class="Function">x₀</a><a id="12979" class="Symbol">}</a> <a id="12981" class="Symbol">(</a><a id="12982" href="Games.FiniteHistoryDependent.html#12350" class="Bound">εf</a> <a id="12985" href="Games.FiniteHistoryDependent.html#12798" class="Function">x₀</a><a id="12987" class="Symbol">)</a> <a id="12989" class="Symbol">(</a><a id="12990" href="Games.TypeTrees.html#1622" class="Function">subpred</a> <a id="12998" href="Games.FiniteHistoryDependent.html#12354" class="Bound">q</a> <a id="13000" href="Games.FiniteHistoryDependent.html#12798" class="Function">x₀</a><a id="13002" class="Symbol">)</a>
  <a id="13006" href="Games.FiniteHistoryDependent.html#12933" class="Function">IH</a> <a id="13009" class="Symbol">=</a> <a id="13011" href="Games.FiniteHistoryDependent.html#12145" class="Function">main-lemma</a> <a id="13022" class="Symbol">(</a><a id="13023" href="Games.FiniteHistoryDependent.html#12350" class="Bound">εf</a> <a id="13026" href="Games.FiniteHistoryDependent.html#12798" class="Function">x₀</a><a id="13028" class="Symbol">)</a> <a id="13030" class="Symbol">(</a><a id="13031" href="Games.TypeTrees.html#1622" class="Function">subpred</a> <a id="13039" href="Games.FiniteHistoryDependent.html#12354" class="Bound">q</a> <a id="13041" href="Games.FiniteHistoryDependent.html#12798" class="Function">x₀</a><a id="13043" class="Symbol">)</a>

<a id="selection-strategy-lemma"></a><a id="13046" href="Games.FiniteHistoryDependent.html#13046" class="Function">selection-strategy-lemma</a> <a id="13071" class="Symbol">:</a> <a id="13073" href="UF.FunExt.html#1047" class="Function">Fun-Ext</a>
                         <a id="13106" class="Symbol">→</a> <a id="13108" class="Symbol">{</a><a id="13109" href="Games.FiniteHistoryDependent.html#13109" class="Bound">Xt</a> <a id="13112" class="Symbol">:</a> <a id="13114" href="Games.TypeTrees.html#719" class="Datatype">𝑻</a><a id="13115" class="Symbol">}</a> <a id="13117" class="Symbol">(</a><a id="13118" href="Games.FiniteHistoryDependent.html#13118" class="Bound">εt</a> <a id="13121" class="Symbol">:</a> <a id="13123" href="Games.FiniteHistoryDependent.html#8965" class="Function">𝓙</a> <a id="13125" href="Games.FiniteHistoryDependent.html#13109" class="Bound">Xt</a><a id="13127" class="Symbol">)</a> <a id="13129" class="Symbol">(</a><a id="13130" href="Games.FiniteHistoryDependent.html#13130" class="Bound">q</a> <a id="13132" class="Symbol">:</a> <a id="13134" href="Games.TypeTrees.html#906" class="Function">Path</a> <a id="13139" href="Games.FiniteHistoryDependent.html#13109" class="Bound">Xt</a> <a id="13142" class="Symbol">→</a> <a id="13144" href="Games.FiniteHistoryDependent.html#1635" class="Bound">R</a><a id="13145" class="Symbol">)</a>
                         <a id="13172" class="Symbol">→</a> <a id="13174" href="Games.FiniteHistoryDependent.html#5876" class="Function">is-in-sgpe</a> <a id="13185" class="Symbol">(</a><a id="13186" href="Games.FiniteHistoryDependent.html#10864" class="Function">Overline</a> <a id="13195" href="Games.FiniteHistoryDependent.html#13118" class="Bound">εt</a><a id="13197" class="Symbol">)</a> <a id="13199" href="Games.FiniteHistoryDependent.html#13130" class="Bound">q</a> <a id="13201" class="Symbol">(</a><a id="13202" href="Games.FiniteHistoryDependent.html#9782" class="Function">selection-strategy</a> <a id="13221" href="Games.FiniteHistoryDependent.html#13118" class="Bound">εt</a> <a id="13224" href="Games.FiniteHistoryDependent.html#13130" class="Bound">q</a><a id="13225" class="Symbol">)</a>
<a id="13227" href="Games.FiniteHistoryDependent.html#13046" class="Function">selection-strategy-lemma</a> <a id="13252" href="Games.FiniteHistoryDependent.html#13252" class="Bound">fe</a> <a id="13255" class="Symbol">{</a><a id="13256" href="Games.TypeTrees.html#737" class="InductiveConstructor">[]</a><a id="13258" class="Symbol">}</a>     <a id="13264" href="Games.TypeTrees.html#1274" class="InductiveConstructor">⟨⟩</a>           <a id="13277" href="Games.FiniteHistoryDependent.html#13277" class="Bound">q</a> <a id="13279" class="Symbol">=</a> <a id="13281" href="Games.TypeTrees.html#1274" class="InductiveConstructor">⟨⟩</a>
<a id="13284" href="Games.FiniteHistoryDependent.html#13046" class="Function">selection-strategy-lemma</a> <a id="13309" href="Games.FiniteHistoryDependent.html#13309" class="Bound">fe</a> <a id="13312" class="Symbol">{</a><a id="13313" href="Games.FiniteHistoryDependent.html#13313" class="Bound">X</a> <a id="13315" href="Games.TypeTrees.html#747" class="InductiveConstructor Operator">∷</a> <a id="13317" href="Games.FiniteHistoryDependent.html#13317" class="Bound">Xf</a><a id="13319" class="Symbol">}</a> <a id="13321" href="Games.FiniteHistoryDependent.html#13321" class="Bound">εt</a><a id="13323" class="Symbol">@(</a><a id="13325" href="Games.FiniteHistoryDependent.html#13325" class="Bound">ε</a> <a id="13327" href="Games.TypeTrees.html#1296" class="InductiveConstructor Operator">::</a> <a id="13330" href="Games.FiniteHistoryDependent.html#13330" class="Bound">εf</a><a id="13332" class="Symbol">)</a> <a id="13334" href="Games.FiniteHistoryDependent.html#13334" class="Bound">q</a> <a id="13336" class="Symbol">=</a> <a id="13338" href="Games.FiniteHistoryDependent.html#14246" class="Function">γ</a>
 <a id="13341" class="Keyword">where</a>
  <a id="13349" href="Games.FiniteHistoryDependent.html#13349" class="Function">σf</a> <a id="13352" class="Symbol">:</a> <a id="13354" class="Symbol">(</a><a id="13355" href="Games.FiniteHistoryDependent.html#13355" class="Bound">x</a> <a id="13357" class="Symbol">:</a> <a id="13359" href="Games.FiniteHistoryDependent.html#13313" class="Bound">X</a><a id="13360" class="Symbol">)</a> <a id="13362" class="Symbol">→</a> <a id="13364" href="Games.FiniteHistoryDependent.html#3730" class="Function">Strategy</a> <a id="13373" class="Symbol">(</a><a id="13374" href="Games.FiniteHistoryDependent.html#13317" class="Bound">Xf</a> <a id="13377" href="Games.FiniteHistoryDependent.html#13355" class="Bound">x</a><a id="13378" class="Symbol">)</a>
  <a id="13382" href="Games.FiniteHistoryDependent.html#13349" class="Function">σf</a> <a id="13385" href="Games.FiniteHistoryDependent.html#13385" class="Bound">x</a> <a id="13387" class="Symbol">=</a> <a id="13389" href="Games.FiniteHistoryDependent.html#9782" class="Function">selection-strategy</a> <a id="13408" class="Symbol">(</a><a id="13409" href="Games.FiniteHistoryDependent.html#13330" class="Bound">εf</a> <a id="13412" href="Games.FiniteHistoryDependent.html#13385" class="Bound">x</a><a id="13413" class="Symbol">)</a> <a id="13415" class="Symbol">(</a><a id="13416" href="Games.TypeTrees.html#1622" class="Function">subpred</a> <a id="13424" href="Games.FiniteHistoryDependent.html#13334" class="Bound">q</a> <a id="13426" href="Games.FiniteHistoryDependent.html#13385" class="Bound">x</a><a id="13427" class="Symbol">)</a>

  <a id="13432" href="Games.FiniteHistoryDependent.html#13432" class="Function">x₀</a> <a id="13435" href="Games.FiniteHistoryDependent.html#13435" class="Function">x₁</a> <a id="13438" class="Symbol">:</a> <a id="13440" href="Games.FiniteHistoryDependent.html#13313" class="Bound">X</a>
  <a id="13444" href="Games.FiniteHistoryDependent.html#13432" class="Function">x₀</a> <a id="13447" class="Symbol">=</a> <a id="13449" href="Games.FiniteHistoryDependent.html#13325" class="Bound">ε</a> <a id="13451" class="Symbol">(λ</a> <a id="13454" href="Games.FiniteHistoryDependent.html#13454" class="Bound">x</a> <a id="13456" class="Symbol">→</a> <a id="13458" href="Games.TypeTrees.html#1622" class="Function">subpred</a> <a id="13466" href="Games.FiniteHistoryDependent.html#13334" class="Bound">q</a> <a id="13468" href="Games.FiniteHistoryDependent.html#13454" class="Bound">x</a> <a id="13470" class="Symbol">(</a><a id="13471" href="Games.FiniteHistoryDependent.html#9483" class="Function">sequenceᴶ</a> <a id="13481" class="Symbol">(</a><a id="13482" href="Games.FiniteHistoryDependent.html#13330" class="Bound">εf</a> <a id="13485" href="Games.FiniteHistoryDependent.html#13454" class="Bound">x</a><a id="13486" class="Symbol">)</a> <a id="13488" class="Symbol">(</a><a id="13489" href="Games.TypeTrees.html#1622" class="Function">subpred</a> <a id="13497" href="Games.FiniteHistoryDependent.html#13334" class="Bound">q</a> <a id="13499" href="Games.FiniteHistoryDependent.html#13454" class="Bound">x</a><a id="13500" class="Symbol">)))</a>
  <a id="13506" href="Games.FiniteHistoryDependent.html#13435" class="Function">x₁</a> <a id="13509" class="Symbol">=</a> <a id="13511" href="Games.FiniteHistoryDependent.html#13325" class="Bound">ε</a> <a id="13513" class="Symbol">(λ</a> <a id="13516" href="Games.FiniteHistoryDependent.html#13516" class="Bound">x</a> <a id="13518" class="Symbol">→</a> <a id="13520" href="Games.TypeTrees.html#1622" class="Function">subpred</a> <a id="13528" href="Games.FiniteHistoryDependent.html#13334" class="Bound">q</a> <a id="13530" href="Games.FiniteHistoryDependent.html#13516" class="Bound">x</a> <a id="13532" class="Symbol">(</a><a id="13533" href="Games.FiniteHistoryDependent.html#4243" class="Function">strategic-path</a> <a id="13548" class="Symbol">(</a><a id="13549" href="Games.FiniteHistoryDependent.html#13349" class="Function">σf</a> <a id="13552" href="Games.FiniteHistoryDependent.html#13516" class="Bound">x</a><a id="13553" class="Symbol">)))</a>

  <a id="13560" href="Games.FiniteHistoryDependent.html#13560" class="Function">I</a> <a id="13562" class="Symbol">:</a> <a id="13564" class="Symbol">(</a><a id="13565" href="Games.FiniteHistoryDependent.html#13565" class="Bound">x</a> <a id="13567" class="Symbol">:</a> <a id="13569" href="Games.FiniteHistoryDependent.html#13313" class="Bound">X</a><a id="13570" class="Symbol">)</a> <a id="13572" class="Symbol">→</a> <a id="13574" href="Games.FiniteHistoryDependent.html#4243" class="Function">strategic-path</a> <a id="13589" class="Symbol">(</a><a id="13590" href="Games.FiniteHistoryDependent.html#13349" class="Function">σf</a> <a id="13593" href="Games.FiniteHistoryDependent.html#13565" class="Bound">x</a><a id="13594" class="Symbol">)</a> <a id="13596" href="MLTT.Id.html#193" class="Datatype Operator">＝</a> <a id="13598" href="Games.FiniteHistoryDependent.html#9483" class="Function">sequenceᴶ</a> <a id="13608" class="Symbol">(</a><a id="13609" href="Games.FiniteHistoryDependent.html#13330" class="Bound">εf</a> <a id="13612" href="Games.FiniteHistoryDependent.html#13565" class="Bound">x</a><a id="13613" class="Symbol">)</a> <a id="13615" class="Symbol">(</a><a id="13616" href="Games.TypeTrees.html#1622" class="Function">subpred</a> <a id="13624" href="Games.FiniteHistoryDependent.html#13334" class="Bound">q</a> <a id="13626" href="Games.FiniteHistoryDependent.html#13565" class="Bound">x</a><a id="13627" class="Symbol">)</a>
  <a id="13631" href="Games.FiniteHistoryDependent.html#13560" class="Function">I</a> <a id="13633" href="Games.FiniteHistoryDependent.html#13633" class="Bound">x</a> <a id="13635" class="Symbol">=</a> <a id="13637" href="Games.FiniteHistoryDependent.html#12145" class="Function">main-lemma</a> <a id="13648" class="Symbol">(</a><a id="13649" href="Games.FiniteHistoryDependent.html#13330" class="Bound">εf</a> <a id="13652" href="Games.FiniteHistoryDependent.html#13633" class="Bound">x</a><a id="13653" class="Symbol">)</a> <a id="13655" class="Symbol">(</a><a id="13656" href="Games.TypeTrees.html#1622" class="Function">subpred</a> <a id="13664" href="Games.FiniteHistoryDependent.html#13334" class="Bound">q</a> <a id="13666" href="Games.FiniteHistoryDependent.html#13633" class="Bound">x</a><a id="13667" class="Symbol">)</a>

  <a id="13672" href="Games.FiniteHistoryDependent.html#13672" class="Function">II</a> <a id="13675" class="Symbol">:</a> <a id="13677" href="Games.FiniteHistoryDependent.html#13435" class="Function">x₁</a> <a id="13680" href="MLTT.Id.html#193" class="Datatype Operator">＝</a> <a id="13682" href="Games.FiniteHistoryDependent.html#13432" class="Function">x₀</a>
  <a id="13687" href="Games.FiniteHistoryDependent.html#13672" class="Function">II</a> <a id="13690" class="Symbol">=</a> <a id="13692" href="MLTT.Id.html#1136" class="Function">ap</a> <a id="13695" class="Symbol">(λ</a> <a id="13698" href="Games.FiniteHistoryDependent.html#13698" class="Bound">-</a> <a id="13700" class="Symbol">→</a> <a id="13702" href="Games.FiniteHistoryDependent.html#13325" class="Bound">ε</a> <a id="13704" class="Symbol">(λ</a> <a id="13707" href="Games.FiniteHistoryDependent.html#13707" class="Bound">x</a> <a id="13709" class="Symbol">→</a> <a id="13711" href="Games.TypeTrees.html#1622" class="Function">subpred</a> <a id="13719" href="Games.FiniteHistoryDependent.html#13334" class="Bound">q</a> <a id="13721" href="Games.FiniteHistoryDependent.html#13707" class="Bound">x</a> <a id="13723" class="Symbol">(</a><a id="13724" href="Games.FiniteHistoryDependent.html#13698" class="Bound">-</a> <a id="13726" href="Games.FiniteHistoryDependent.html#13707" class="Bound">x</a><a id="13727" class="Symbol">)))</a> <a id="13731" class="Symbol">(</a><a id="13732" href="UF.FunExt.html#1242" class="Function">dfunext</a> <a id="13740" href="Games.FiniteHistoryDependent.html#13309" class="Bound">fe</a> <a id="13743" href="Games.FiniteHistoryDependent.html#13560" class="Function">I</a><a id="13744" class="Symbol">)</a>

  <a id="13749" href="Games.FiniteHistoryDependent.html#13749" class="Function">III</a> <a id="13753" class="Symbol">=</a> <a id="13755" href="MonadOnTypes.JK.html#282" class="Function">overline</a> <a id="13764" href="Games.FiniteHistoryDependent.html#13325" class="Bound">ε</a> <a id="13766" class="Symbol">(λ</a> <a id="13769" href="Games.FiniteHistoryDependent.html#13769" class="Bound">x</a> <a id="13771" class="Symbol">→</a> <a id="13773" href="Games.TypeTrees.html#1622" class="Function">subpred</a> <a id="13781" href="Games.FiniteHistoryDependent.html#13334" class="Bound">q</a> <a id="13783" href="Games.FiniteHistoryDependent.html#13769" class="Bound">x</a> <a id="13785" class="Symbol">(</a><a id="13786" href="Games.FiniteHistoryDependent.html#4243" class="Function">strategic-path</a> <a id="13801" class="Symbol">(</a><a id="13802" href="Games.FiniteHistoryDependent.html#13349" class="Function">σf</a> <a id="13805" href="Games.FiniteHistoryDependent.html#13769" class="Bound">x</a><a id="13806" class="Symbol">)))</a> <a id="13810" href="MLTT.Id.html#2705" class="Function Operator">＝⟨</a> <a id="13813" href="MLTT.Identity-Type.html#157" class="InductiveConstructor">refl</a> <a id="13818" href="MLTT.Id.html#2705" class="Function Operator">⟩</a>
        <a id="13828" href="Games.TypeTrees.html#1622" class="Function">subpred</a> <a id="13836" href="Games.FiniteHistoryDependent.html#13334" class="Bound">q</a> <a id="13838" href="Games.FiniteHistoryDependent.html#13435" class="Function">x₁</a> <a id="13841" class="Symbol">(</a><a id="13842" href="Games.FiniteHistoryDependent.html#4243" class="Function">strategic-path</a> <a id="13857" class="Symbol">(</a><a id="13858" href="Games.FiniteHistoryDependent.html#13349" class="Function">σf</a> <a id="13861" href="Games.FiniteHistoryDependent.html#13435" class="Function">x₁</a><a id="13863" class="Symbol">))</a>                  <a id="13883" href="MLTT.Id.html#2705" class="Function Operator">＝⟨</a> <a id="13886" href="Games.FiniteHistoryDependent.html#13970" class="Function">IV</a> <a id="13889" href="MLTT.Id.html#2705" class="Function Operator">⟩</a>
        <a id="13899" href="Games.TypeTrees.html#1622" class="Function">subpred</a> <a id="13907" href="Games.FiniteHistoryDependent.html#13334" class="Bound">q</a> <a id="13909" href="Games.FiniteHistoryDependent.html#13432" class="Function">x₀</a> <a id="13912" class="Symbol">(</a><a id="13913" href="Games.FiniteHistoryDependent.html#4243" class="Function">strategic-path</a> <a id="13928" class="Symbol">(</a><a id="13929" href="Games.FiniteHistoryDependent.html#13349" class="Function">σf</a> <a id="13932" href="Games.FiniteHistoryDependent.html#13432" class="Function">x₀</a><a id="13934" class="Symbol">))</a>                  <a id="13954" href="MLTT.Id.html#2787" class="Function Operator">∎</a>

   <a id="13960" class="Keyword">where</a>
    <a id="13970" href="Games.FiniteHistoryDependent.html#13970" class="Function">IV</a> <a id="13973" class="Symbol">=</a> <a id="13975" href="MLTT.Id.html#1136" class="Function">ap</a> <a id="13978" class="Symbol">(λ</a> <a id="13981" href="Games.FiniteHistoryDependent.html#13981" class="Bound">-</a> <a id="13983" class="Symbol">→</a> <a id="13985" href="Games.TypeTrees.html#1622" class="Function">subpred</a> <a id="13993" href="Games.FiniteHistoryDependent.html#13334" class="Bound">q</a> <a id="13995" href="Games.FiniteHistoryDependent.html#13981" class="Bound">-</a> <a id="13997" class="Symbol">(</a><a id="13998" href="Games.FiniteHistoryDependent.html#4243" class="Function">strategic-path</a> <a id="14013" class="Symbol">(</a><a id="14014" href="Games.FiniteHistoryDependent.html#13349" class="Function">σf</a> <a id="14017" href="Games.FiniteHistoryDependent.html#13981" class="Bound">-</a><a id="14018" class="Symbol">)))</a> <a id="14022" href="Games.FiniteHistoryDependent.html#13672" class="Function">II</a>

  <a id="14028" href="Games.FiniteHistoryDependent.html#14028" class="Function">IH</a> <a id="14031" class="Symbol">:</a> <a id="14033" class="Symbol">(</a><a id="14034" href="Games.FiniteHistoryDependent.html#14034" class="Bound">x</a> <a id="14036" class="Symbol">:</a> <a id="14038" href="Games.FiniteHistoryDependent.html#13313" class="Bound">X</a><a id="14039" class="Symbol">)</a> <a id="14041" class="Symbol">→</a> <a id="14043" href="Games.FiniteHistoryDependent.html#5876" class="Function">is-in-sgpe</a>
                   <a id="14073" class="Symbol">(</a><a id="14074" href="Games.FiniteHistoryDependent.html#10864" class="Function">Overline</a> <a id="14083" class="Symbol">(</a><a id="14084" href="Games.FiniteHistoryDependent.html#13330" class="Bound">εf</a> <a id="14087" href="Games.FiniteHistoryDependent.html#14034" class="Bound">x</a><a id="14088" class="Symbol">))</a>
                   <a id="14110" class="Symbol">(</a><a id="14111" href="Games.TypeTrees.html#1622" class="Function">subpred</a> <a id="14119" href="Games.FiniteHistoryDependent.html#13334" class="Bound">q</a> <a id="14121" href="Games.FiniteHistoryDependent.html#14034" class="Bound">x</a><a id="14122" class="Symbol">)</a>
                   <a id="14143" class="Symbol">(</a><a id="14144" href="Games.FiniteHistoryDependent.html#9782" class="Function">selection-strategy</a> <a id="14163" class="Symbol">(</a><a id="14164" href="Games.FiniteHistoryDependent.html#13330" class="Bound">εf</a> <a id="14167" href="Games.FiniteHistoryDependent.html#14034" class="Bound">x</a><a id="14168" class="Symbol">)</a> <a id="14170" class="Symbol">(</a><a id="14171" href="Games.TypeTrees.html#1622" class="Function">subpred</a> <a id="14179" href="Games.FiniteHistoryDependent.html#13334" class="Bound">q</a> <a id="14181" href="Games.FiniteHistoryDependent.html#14034" class="Bound">x</a><a id="14182" class="Symbol">))</a>
  <a id="14187" href="Games.FiniteHistoryDependent.html#14028" class="Function">IH</a> <a id="14190" href="Games.FiniteHistoryDependent.html#14190" class="Bound">x</a> <a id="14192" class="Symbol">=</a> <a id="14194" href="Games.FiniteHistoryDependent.html#13046" class="Function">selection-strategy-lemma</a> <a id="14219" href="Games.FiniteHistoryDependent.html#13309" class="Bound">fe</a> <a id="14222" class="Symbol">(</a><a id="14223" href="Games.FiniteHistoryDependent.html#13330" class="Bound">εf</a> <a id="14226" href="Games.FiniteHistoryDependent.html#14190" class="Bound">x</a><a id="14227" class="Symbol">)</a> <a id="14229" class="Symbol">(</a><a id="14230" href="Games.TypeTrees.html#1622" class="Function">subpred</a> <a id="14238" href="Games.FiniteHistoryDependent.html#13334" class="Bound">q</a> <a id="14240" href="Games.FiniteHistoryDependent.html#14190" class="Bound">x</a><a id="14241" class="Symbol">)</a>

  <a id="14246" href="Games.FiniteHistoryDependent.html#14246" class="Function">γ</a> <a id="14248" class="Symbol">:</a> <a id="14250" href="Games.FiniteHistoryDependent.html#5876" class="Function">is-in-sgpe</a> <a id="14261" class="Symbol">(</a><a id="14262" href="Games.FiniteHistoryDependent.html#10864" class="Function">Overline</a> <a id="14271" href="Games.FiniteHistoryDependent.html#13321" class="Bound">εt</a><a id="14273" class="Symbol">)</a> <a id="14275" href="Games.FiniteHistoryDependent.html#13334" class="Bound">q</a> <a id="14277" class="Symbol">(</a><a id="14278" href="Games.FiniteHistoryDependent.html#13432" class="Function">x₀</a> <a id="14281" href="Games.TypeTrees.html#1296" class="InductiveConstructor Operator">::</a> <a id="14284" href="Games.FiniteHistoryDependent.html#13349" class="Function">σf</a><a id="14286" class="Symbol">)</a>
  <a id="14290" href="Games.FiniteHistoryDependent.html#14246" class="Function">γ</a> <a id="14292" class="Symbol">=</a> <a id="14294" class="Symbol">(</a><a id="14295" href="Games.FiniteHistoryDependent.html#13749" class="Function">III</a> <a id="14299" href="MLTT.Id.html#1055" class="Function Operator">⁻¹</a><a id="14301" class="Symbol">)</a> <a id="14303" href="Games.TypeTrees.html#1296" class="InductiveConstructor Operator">::</a> <a id="14306" href="Games.FiniteHistoryDependent.html#14028" class="Function">IH</a>

<a id="14310" class="Markup">\end{code}</a><a id="14320" class="Background">

The following, which shows how to use selection functions to compute
optimal strategies, corresponds to Theorem 6.2 of [1].

</a><a id="14447" class="Markup">\begin{code}</a>

<a id="selection-strategy-theorem"></a><a id="14461" href="Games.FiniteHistoryDependent.html#14461" class="Function">selection-strategy-theorem</a> <a id="14488" class="Symbol">:</a> <a id="14490" href="UF.FunExt.html#1047" class="Function">Fun-Ext</a>
                           <a id="14525" class="Symbol">→</a> <a id="14527" class="Symbol">{</a><a id="14528" href="Games.FiniteHistoryDependent.html#14528" class="Bound">Xt</a> <a id="14531" class="Symbol">:</a> <a id="14533" href="Games.TypeTrees.html#719" class="Datatype">𝑻</a><a id="14534" class="Symbol">}</a> <a id="14536" class="Symbol">(</a><a id="14537" href="Games.FiniteHistoryDependent.html#14537" class="Bound">εt</a> <a id="14540" class="Symbol">:</a> <a id="14542" href="Games.FiniteHistoryDependent.html#8965" class="Function">𝓙</a> <a id="14544" href="Games.FiniteHistoryDependent.html#14528" class="Bound">Xt</a><a id="14546" class="Symbol">)</a>
                             <a id="14577" class="Symbol">(</a><a id="14578" href="Games.FiniteHistoryDependent.html#14578" class="Bound">ϕt</a> <a id="14581" class="Symbol">:</a> <a id="14583" href="Games.FiniteHistoryDependent.html#2364" class="Function">𝓚</a> <a id="14585" href="Games.FiniteHistoryDependent.html#14528" class="Bound">Xt</a><a id="14587" class="Symbol">)</a> <a id="14589" class="Symbol">(</a><a id="14590" href="Games.FiniteHistoryDependent.html#14590" class="Bound">q</a> <a id="14592" class="Symbol">:</a> <a id="14594" href="Games.TypeTrees.html#906" class="Function">Path</a> <a id="14599" href="Games.FiniteHistoryDependent.html#14528" class="Bound">Xt</a> <a id="14602" class="Symbol">→</a> <a id="14604" href="Games.FiniteHistoryDependent.html#1635" class="Bound">R</a><a id="14605" class="Symbol">)</a>
                           <a id="14634" class="Symbol">→</a> <a id="14636" href="Games.FiniteHistoryDependent.html#14537" class="Bound">εt</a> <a id="14639" href="Games.FiniteHistoryDependent.html#10538" class="Function Operator">Attains</a> <a id="14647" href="Games.FiniteHistoryDependent.html#14578" class="Bound">ϕt</a>
                           <a id="14677" class="Symbol">→</a> <a id="14679" href="Games.FiniteHistoryDependent.html#5876" class="Function">is-in-sgpe</a> <a id="14690" href="Games.FiniteHistoryDependent.html#14578" class="Bound">ϕt</a> <a id="14693" href="Games.FiniteHistoryDependent.html#14590" class="Bound">q</a> <a id="14695" class="Symbol">(</a><a id="14696" href="Games.FiniteHistoryDependent.html#9782" class="Function">selection-strategy</a> <a id="14715" href="Games.FiniteHistoryDependent.html#14537" class="Bound">εt</a> <a id="14718" href="Games.FiniteHistoryDependent.html#14590" class="Bound">q</a><a id="14719" class="Symbol">)</a>
<a id="14721" href="Games.FiniteHistoryDependent.html#14461" class="Function">selection-strategy-theorem</a> <a id="14748" href="Games.FiniteHistoryDependent.html#14748" class="Bound">fe</a> <a id="14751" href="Games.FiniteHistoryDependent.html#14751" class="Bound">εt</a> <a id="14754" href="Games.FiniteHistoryDependent.html#14754" class="Bound">ϕt</a> <a id="14757" href="Games.FiniteHistoryDependent.html#14757" class="Bound">q</a> <a id="14759" href="Games.FiniteHistoryDependent.html#14759" class="Bound">a</a> <a id="14761" class="Symbol">=</a> <a id="14763" href="Games.FiniteHistoryDependent.html#14930" class="Function">III</a>
 <a id="14768" class="Keyword">where</a>
  <a id="14776" href="Games.FiniteHistoryDependent.html#14776" class="Function">I</a> <a id="14778" class="Symbol">:</a> <a id="14780" href="Games.FiniteHistoryDependent.html#10864" class="Function">Overline</a> <a id="14789" href="Games.FiniteHistoryDependent.html#14751" class="Bound">εt</a> <a id="14792" href="MLTT.Id.html#193" class="Datatype Operator">＝</a> <a id="14794" href="Games.FiniteHistoryDependent.html#14754" class="Bound">ϕt</a>
  <a id="14799" href="Games.FiniteHistoryDependent.html#14776" class="Function">I</a> <a id="14801" class="Symbol">=</a> <a id="14803" href="Games.FiniteHistoryDependent.html#11097" class="Function">observation</a> <a id="14815" href="Games.FiniteHistoryDependent.html#14748" class="Bound">fe</a> <a id="14818" href="Games.FiniteHistoryDependent.html#14751" class="Bound">εt</a> <a id="14821" href="Games.FiniteHistoryDependent.html#14754" class="Bound">ϕt</a> <a id="14824" href="Games.FiniteHistoryDependent.html#14759" class="Bound">a</a>

  <a id="14829" href="Games.FiniteHistoryDependent.html#14829" class="Function">II</a> <a id="14832" class="Symbol">:</a> <a id="14834" href="Games.FiniteHistoryDependent.html#5876" class="Function">is-in-sgpe</a> <a id="14845" class="Symbol">(</a><a id="14846" href="Games.FiniteHistoryDependent.html#10864" class="Function">Overline</a> <a id="14855" href="Games.FiniteHistoryDependent.html#14751" class="Bound">εt</a><a id="14857" class="Symbol">)</a> <a id="14859" href="Games.FiniteHistoryDependent.html#14757" class="Bound">q</a> <a id="14861" class="Symbol">(</a><a id="14862" href="Games.FiniteHistoryDependent.html#9782" class="Function">selection-strategy</a> <a id="14881" href="Games.FiniteHistoryDependent.html#14751" class="Bound">εt</a> <a id="14884" href="Games.FiniteHistoryDependent.html#14757" class="Bound">q</a><a id="14885" class="Symbol">)</a>
  <a id="14889" href="Games.FiniteHistoryDependent.html#14829" class="Function">II</a> <a id="14892" class="Symbol">=</a> <a id="14894" href="Games.FiniteHistoryDependent.html#13046" class="Function">selection-strategy-lemma</a> <a id="14919" href="Games.FiniteHistoryDependent.html#14748" class="Bound">fe</a> <a id="14922" href="Games.FiniteHistoryDependent.html#14751" class="Bound">εt</a> <a id="14925" href="Games.FiniteHistoryDependent.html#14757" class="Bound">q</a>

  <a id="14930" href="Games.FiniteHistoryDependent.html#14930" class="Function">III</a> <a id="14934" class="Symbol">:</a> <a id="14936" href="Games.FiniteHistoryDependent.html#5876" class="Function">is-in-sgpe</a> <a id="14947" href="Games.FiniteHistoryDependent.html#14754" class="Bound">ϕt</a> <a id="14950" href="Games.FiniteHistoryDependent.html#14757" class="Bound">q</a> <a id="14952" class="Symbol">(</a><a id="14953" href="Games.FiniteHistoryDependent.html#9782" class="Function">selection-strategy</a> <a id="14972" href="Games.FiniteHistoryDependent.html#14751" class="Bound">εt</a> <a id="14975" href="Games.FiniteHistoryDependent.html#14757" class="Bound">q</a><a id="14976" class="Symbol">)</a>
  <a id="14980" href="Games.FiniteHistoryDependent.html#14930" class="Function">III</a> <a id="14984" class="Symbol">=</a> <a id="14986" href="MLTT.Id.html#735" class="Function">transport</a> <a id="14996" class="Symbol">(λ</a> <a id="14999" href="Games.FiniteHistoryDependent.html#14999" class="Bound">-</a> <a id="15001" class="Symbol">→</a> <a id="15003" href="Games.FiniteHistoryDependent.html#5876" class="Function">is-in-sgpe</a> <a id="15014" href="Games.FiniteHistoryDependent.html#14999" class="Bound">-</a> <a id="15016" href="Games.FiniteHistoryDependent.html#14757" class="Bound">q</a> <a id="15018" class="Symbol">(</a><a id="15019" href="Games.FiniteHistoryDependent.html#9782" class="Function">selection-strategy</a> <a id="15038" href="Games.FiniteHistoryDependent.html#14751" class="Bound">εt</a> <a id="15041" href="Games.FiniteHistoryDependent.html#14757" class="Bound">q</a><a id="15042" class="Symbol">))</a> <a id="15045" href="Games.FiniteHistoryDependent.html#14776" class="Function">I</a> <a id="15047" href="Games.FiniteHistoryDependent.html#14829" class="Function">II</a>


<a id="Selection-Strategy-Theorem"></a><a id="15052" href="Games.FiniteHistoryDependent.html#15052" class="Function">Selection-Strategy-Theorem</a> <a id="15079" class="Symbol">:</a> <a id="15081" href="UF.FunExt.html#1047" class="Function">Fun-Ext</a>
                           <a id="15116" class="Symbol">→</a> <a id="15118" class="Symbol">(</a><a id="15119" href="Games.FiniteHistoryDependent.html#15119" class="Bound">G</a><a id="15120" class="Symbol">@(</a><a id="15122" href="Games.FiniteHistoryDependent.html#3164" class="InductiveConstructor">game</a> <a id="15127" href="Games.FiniteHistoryDependent.html#15127" class="Bound">Xt</a> <a id="15130" href="Games.FiniteHistoryDependent.html#15130" class="Bound">q</a> <a id="15132" href="Games.FiniteHistoryDependent.html#15132" class="Bound">ϕt</a><a id="15134" class="Symbol">)</a> <a id="15136" class="Symbol">:</a> <a id="15138" href="Games.FiniteHistoryDependent.html#3132" class="Record">Game</a><a id="15142" class="Symbol">)</a> <a id="15144" class="Symbol">(</a><a id="15145" href="Games.FiniteHistoryDependent.html#15145" class="Bound">εt</a> <a id="15148" class="Symbol">:</a> <a id="15150" href="Games.FiniteHistoryDependent.html#8965" class="Function">𝓙</a> <a id="15152" href="Games.FiniteHistoryDependent.html#15127" class="Bound">Xt</a><a id="15154" class="Symbol">)</a>
                           <a id="15183" class="Symbol">→</a> <a id="15185" href="Games.FiniteHistoryDependent.html#15145" class="Bound">εt</a> <a id="15188" href="Games.FiniteHistoryDependent.html#10538" class="Function Operator">Attains</a> <a id="15196" href="Games.FiniteHistoryDependent.html#15132" class="Bound">ϕt</a>
                           <a id="15226" class="Symbol">→</a> <a id="15228" href="Games.FiniteHistoryDependent.html#7100" class="Function">is-optimal</a> <a id="15239" href="Games.FiniteHistoryDependent.html#15119" class="Bound">G</a> <a id="15241" class="Symbol">(</a><a id="15242" href="Games.FiniteHistoryDependent.html#9782" class="Function">selection-strategy</a> <a id="15261" href="Games.FiniteHistoryDependent.html#15145" class="Bound">εt</a> <a id="15264" href="Games.FiniteHistoryDependent.html#15130" class="Bound">q</a><a id="15265" class="Symbol">)</a>
<a id="15267" href="Games.FiniteHistoryDependent.html#15052" class="Function">Selection-Strategy-Theorem</a> <a id="15294" href="Games.FiniteHistoryDependent.html#15294" class="Bound">fe</a> <a id="15297" class="Symbol">(</a><a id="15298" href="Games.FiniteHistoryDependent.html#3164" class="InductiveConstructor">game</a> <a id="15303" href="Games.FiniteHistoryDependent.html#15303" class="Bound">Xt</a> <a id="15306" href="Games.FiniteHistoryDependent.html#15306" class="Bound">ϕt</a> <a id="15309" href="Games.FiniteHistoryDependent.html#15309" class="Bound">q</a><a id="15310" class="Symbol">)</a> <a id="15312" href="Games.FiniteHistoryDependent.html#15312" class="Bound">εt</a> <a id="15315" class="Symbol">=</a> <a id="15317" href="Games.FiniteHistoryDependent.html#14461" class="Function">selection-strategy-theorem</a> <a id="15344" href="Games.FiniteHistoryDependent.html#15294" class="Bound">fe</a> <a id="15347" href="Games.FiniteHistoryDependent.html#15312" class="Bound">εt</a> <a id="15350" href="Games.FiniteHistoryDependent.html#15309" class="Bound">q</a> <a id="15352" href="Games.FiniteHistoryDependent.html#15306" class="Bound">ϕt</a>

<a id="15356" class="Markup">\end{code}</a><a id="15366" class="Background">

Added 27th August 2023 after the above was submitted for publication.

</a><a id="15439" class="Markup">\begin{code}</a>

<a id="selection-strategy-corollary"></a><a id="15453" href="Games.FiniteHistoryDependent.html#15453" class="Function">selection-strategy-corollary</a>
 <a id="15483" class="Symbol">:</a> <a id="15485" href="UF.FunExt.html#1047" class="Function">Fun-Ext</a>
 <a id="15494" class="Symbol">→</a> <a id="15496" class="Symbol">(</a><a id="15497" href="Games.FiniteHistoryDependent.html#15497" class="Bound">G</a><a id="15498" class="Symbol">@(</a><a id="15500" href="Games.FiniteHistoryDependent.html#3164" class="InductiveConstructor">game</a> <a id="15505" href="Games.FiniteHistoryDependent.html#15505" class="Bound">Xt</a> <a id="15508" href="Games.FiniteHistoryDependent.html#15508" class="Bound">q</a> <a id="15510" href="Games.FiniteHistoryDependent.html#15510" class="Bound">ϕt</a><a id="15512" class="Symbol">)</a> <a id="15514" class="Symbol">:</a> <a id="15516" href="Games.FiniteHistoryDependent.html#3132" class="Record">Game</a><a id="15520" class="Symbol">)</a> <a id="15522" class="Symbol">(</a><a id="15523" href="Games.FiniteHistoryDependent.html#15523" class="Bound">εt</a> <a id="15526" class="Symbol">:</a> <a id="15528" href="Games.FiniteHistoryDependent.html#8965" class="Function">𝓙</a> <a id="15530" href="Games.FiniteHistoryDependent.html#15505" class="Bound">Xt</a><a id="15532" class="Symbol">)</a>
 <a id="15535" class="Symbol">→</a> <a id="15537" href="Games.FiniteHistoryDependent.html#15523" class="Bound">εt</a> <a id="15540" href="Games.FiniteHistoryDependent.html#10538" class="Function Operator">Attains</a> <a id="15548" href="Games.FiniteHistoryDependent.html#15510" class="Bound">ϕt</a>
 <a id="15552" class="Symbol">→</a> <a id="15554" href="Games.FiniteHistoryDependent.html#15508" class="Bound">q</a> <a id="15556" class="Symbol">(</a><a id="15557" href="Games.FiniteHistoryDependent.html#9483" class="Function">sequenceᴶ</a> <a id="15567" href="Games.FiniteHistoryDependent.html#15523" class="Bound">εt</a> <a id="15570" href="Games.FiniteHistoryDependent.html#15508" class="Bound">q</a><a id="15571" class="Symbol">)</a> <a id="15573" href="MLTT.Id.html#193" class="Datatype Operator">＝</a> <a id="15575" href="Games.FiniteHistoryDependent.html#3536" class="Function">optimal-outcome</a> <a id="15591" href="Games.FiniteHistoryDependent.html#15497" class="Bound">G</a>
<a id="15593" href="Games.FiniteHistoryDependent.html#15453" class="Function">selection-strategy-corollary</a> <a id="15622" href="Games.FiniteHistoryDependent.html#15622" class="Bound">fe</a> <a id="15625" href="Games.FiniteHistoryDependent.html#15625" class="Bound">G</a><a id="15626" class="Symbol">@(</a><a id="15628" href="Games.FiniteHistoryDependent.html#3164" class="InductiveConstructor">game</a> <a id="15633" href="Games.FiniteHistoryDependent.html#15633" class="Bound">Xt</a> <a id="15636" href="Games.FiniteHistoryDependent.html#15636" class="Bound">q</a> <a id="15638" href="Games.FiniteHistoryDependent.html#15638" class="Bound">ϕt</a><a id="15640" class="Symbol">)</a> <a id="15642" href="Games.FiniteHistoryDependent.html#15642" class="Bound">εt</a> <a id="15645" href="Games.FiniteHistoryDependent.html#15645" class="Bound">a</a> <a id="15647" class="Symbol">=</a>
 <a id="15650" href="Games.FiniteHistoryDependent.html#15636" class="Bound">q</a> <a id="15652" class="Symbol">(</a><a id="15653" href="Games.FiniteHistoryDependent.html#9483" class="Function">sequenceᴶ</a> <a id="15663" href="Games.FiniteHistoryDependent.html#15642" class="Bound">εt</a> <a id="15666" href="Games.FiniteHistoryDependent.html#15636" class="Bound">q</a><a id="15667" class="Symbol">)</a>                           <a id="15695" href="MLTT.Id.html#2705" class="Function Operator">＝⟨</a> <a id="15698" href="Games.FiniteHistoryDependent.html#15815" class="Function">I</a> <a id="15700" href="MLTT.Id.html#2705" class="Function Operator">⟩</a>
 <a id="15703" href="Games.FiniteHistoryDependent.html#15636" class="Bound">q</a> <a id="15705" class="Symbol">(</a><a id="15706" href="Games.FiniteHistoryDependent.html#4243" class="Function">strategic-path</a> <a id="15721" class="Symbol">(</a><a id="15722" href="Games.FiniteHistoryDependent.html#9782" class="Function">selection-strategy</a> <a id="15741" href="Games.FiniteHistoryDependent.html#15642" class="Bound">εt</a> <a id="15744" href="Games.FiniteHistoryDependent.html#15636" class="Bound">q</a><a id="15745" class="Symbol">))</a> <a id="15748" href="MLTT.Id.html#2705" class="Function Operator">＝⟨</a> <a id="15751" href="Games.FiniteHistoryDependent.html#15850" class="Function">II</a> <a id="15754" href="MLTT.Id.html#2705" class="Function Operator">⟩</a>
 <a id="15757" href="Games.FiniteHistoryDependent.html#3536" class="Function">optimal-outcome</a> <a id="15773" href="Games.FiniteHistoryDependent.html#15625" class="Bound">G</a>                            <a id="15802" href="MLTT.Id.html#2787" class="Function Operator">∎</a>
  <a id="15806" class="Keyword">where</a>
   <a id="15815" href="Games.FiniteHistoryDependent.html#15815" class="Function">I</a>  <a id="15818" class="Symbol">=</a> <a id="15820" href="MLTT.Id.html#1136" class="Function">ap</a> <a id="15823" href="Games.FiniteHistoryDependent.html#15636" class="Bound">q</a> <a id="15825" class="Symbol">((</a><a id="15827" href="Games.FiniteHistoryDependent.html#12145" class="Function">main-lemma</a> <a id="15838" href="Games.FiniteHistoryDependent.html#15642" class="Bound">εt</a> <a id="15841" href="Games.FiniteHistoryDependent.html#15636" class="Bound">q</a><a id="15842" class="Symbol">)</a><a id="15843" href="MLTT.Id.html#1055" class="Function Operator">⁻¹</a><a id="15845" class="Symbol">)</a>
   <a id="15850" href="Games.FiniteHistoryDependent.html#15850" class="Function">II</a> <a id="15853" class="Symbol">=</a> <a id="15855" href="Games.FiniteHistoryDependent.html#7628" class="Function">sgpe-lemma</a> <a id="15866" href="Games.FiniteHistoryDependent.html#15622" class="Bound">fe</a> <a id="15869" href="Games.FiniteHistoryDependent.html#15633" class="Bound">Xt</a> <a id="15872" href="Games.FiniteHistoryDependent.html#15638" class="Bound">ϕt</a> <a id="15875" href="Games.FiniteHistoryDependent.html#15636" class="Bound">q</a>
         <a id="15886" class="Symbol">(</a><a id="15887" href="Games.FiniteHistoryDependent.html#9782" class="Function">selection-strategy</a> <a id="15906" href="Games.FiniteHistoryDependent.html#15642" class="Bound">εt</a> <a id="15909" href="Games.FiniteHistoryDependent.html#15636" class="Bound">q</a><a id="15910" class="Symbol">)</a>
         <a id="15921" class="Symbol">(</a><a id="15922" href="Games.FiniteHistoryDependent.html#15052" class="Function">Selection-Strategy-Theorem</a> <a id="15949" href="Games.FiniteHistoryDependent.html#15622" class="Bound">fe</a> <a id="15952" href="Games.FiniteHistoryDependent.html#15625" class="Bound">G</a> <a id="15954" href="Games.FiniteHistoryDependent.html#15642" class="Bound">εt</a> <a id="15957" href="Games.FiniteHistoryDependent.html#15645" class="Bound">a</a><a id="15958" class="Symbol">)</a>

<a id="15961" class="Markup">\end{code}</a><a id="15971" class="Background">
</a></pre></body></html>