<!DOCTYPE HTML>
<html><head><meta charset="utf-8"><title>Games.FiniteHistoryDependent</title><link rel="stylesheet" href="Agda.css"><script type="text/javascript" src="highlight-hover.js"></script></head><body><pre class="Agda"><a id="1" class="Background">Martin Escardo, Paulo Oliva, 2-27 July 2021

The following paper is based on this file:

  [0] Martin Escardo and Paulo Oliva. Higher-order games with
      dependent types.  Theoretical Computer Science, Volume 974, 29
      September 2023, 114111.
      https://doi.org/10.48550/arXiv.2212.07735
      https://doi.org/10.1016/j.tcs.2023.114111

We study finite, history dependent games of perfect information using
selection functions and dependent-type trees.

This is based on our previous work.

  [1] M.H. Escardó and Paulo Oliva. Sequential Games and Optimal
      Strategies. Proceedings of the Royal Society A, 467:1519-1545,
      2011. https://doi.org/10.1098/rspa.2010.0471

We generalize [1] by considering the case that the type Xₖ of moves xₖ
at round k depends on the moves played at the previous rounds. So in a
sequence of moves x₀,x₁,x₂,…, we have that

  * the type X₀ of initial moves doesn&#39;t depend on anything,
  * the type X₁ depends on the first move x₀ : X₀,
  * the type X₂ depends on the first move x₀ : X₀ and the
    second move x₁ : X₁.
  …

In order to achieve this generalization, we work with game trees
whose nodes are labelled by types that collect the allowed moves at a
given round. Then a play x₀,x₁,x₂,…, is a path in such a tree.

This formulation of the notion of game naturally accounts for finite
games of *unbounded* length, which in [1] was achieved by continuous,
infinite games instead.

We assume a given type R of outcomes for games as a module parameter.

</a><a id="1508" class="Markup">\begin{code}</a>

<a id="1522" class="Symbol">{-#</a> <a id="1526" class="Keyword">OPTIONS</a> <a id="1534" class="Pragma">--safe</a> <a id="1541" class="Pragma">--without-K</a> <a id="1553" class="Symbol">#-}</a> <a id="1557" class="Comment">--</a>

<a id="1561" class="Keyword">open</a> <a id="1566" class="Keyword">import</a> <a id="1573" href="MLTT.Spartan.html" class="Module">MLTT.Spartan</a> <a id="1586" class="Keyword">hiding</a> <a id="1593" class="Symbol">(</a><a id="1594" href="MLTT.Id.html#438" class="Function">J</a><a id="1595" class="Symbol">)</a>

<a id="1598" class="Keyword">module</a> <a id="1605" href="Games.FiniteHistoryDependent.html" class="Module">Games.FiniteHistoryDependent</a> <a id="1634" class="Symbol">(</a><a id="1635" href="Games.FiniteHistoryDependent.html#1635" class="Bound">R</a> <a id="1637" class="Symbol">:</a> <a id="1639" href="Notation.General.html#372" class="Function">Type</a><a id="1643" class="Symbol">)</a> <a id="1645" class="Keyword">where</a>

<a id="1652" class="Keyword">open</a> <a id="1657" class="Keyword">import</a> <a id="1664" href="MonadOnTypes.Monad.html" class="Module">MonadOnTypes.Monad</a>
<a id="1683" class="Keyword">open</a> <a id="1688" class="Keyword">import</a> <a id="1695" href="MonadOnTypes.J.html" class="Module">MonadOnTypes.J</a>
<a id="1710" class="Keyword">open</a> <a id="1715" class="Keyword">import</a> <a id="1722" href="MonadOnTypes.K.html" class="Module">MonadOnTypes.K</a>
<a id="1737" class="Keyword">open</a> <a id="1742" class="Keyword">import</a> <a id="1749" href="MonadOnTypes.JK.html" class="Module">MonadOnTypes.JK</a>
<a id="1765" class="Keyword">open</a> <a id="1770" class="Keyword">import</a> <a id="1777" href="UF.Base.html" class="Module">UF.Base</a>
<a id="1785" class="Keyword">open</a> <a id="1790" class="Keyword">import</a> <a id="1797" href="UF.FunExt.html" class="Module">UF.FunExt</a>

<a id="1808" class="Keyword">open</a> <a id="1813" href="MonadOnTypes.K.html#438" class="Module">K-definitions</a> <a id="1827" href="Games.FiniteHistoryDependent.html#1635" class="Bound">R</a>
<a id="1829" class="Keyword">open</a> <a id="1834" href="MonadOnTypes.J.html#428" class="Module">J-definitions</a> <a id="1848" href="Games.FiniteHistoryDependent.html#1635" class="Bound">R</a>

<a id="1851" class="Markup">\end{code}</a><a id="1861" class="Background">

The following module defines the main data structure we use in order
to represent the above kind of game:

</a><a id="1970" class="Markup">\begin{code}</a>

<a id="1984" class="Keyword">open</a> <a id="1989" class="Keyword">import</a> <a id="1996" href="Games.TypeTrees.html" class="Module">Games.TypeTrees</a>

<a id="2013" class="Markup">\end{code}</a><a id="2023" class="Background">

We use quantifiers as in Section 1 of reference [1], defined in
another module.

In the same way as the type of moves at a given stage of the game
depends on the previously played moves, so do the quantifiers and
selection functions.

𝓚 decorates each internal node X of a type tree with the type K X of
quantifiers over X.

</a><a id="2350" class="Markup">\begin{code}</a>

<a id="𝓚"></a><a id="2364" href="Games.FiniteHistoryDependent.html#2364" class="Function">𝓚</a> <a id="2366" class="Symbol">:</a> <a id="2368" href="Games.TypeTrees.html#719" class="Datatype">𝑻</a> <a id="2370" class="Symbol">→</a> <a id="2372" href="Notation.General.html#372" class="Function">Type</a>
<a id="2377" href="Games.FiniteHistoryDependent.html#2364" class="Function">𝓚</a> <a id="2379" class="Symbol">=</a> <a id="2381" href="Games.TypeTrees.html#2120" class="Function">structure</a> <a id="2391" href="MonadOnTypes.K.html#471" class="Function">K</a>

<a id="remark-𝓚"></a><a id="2394" href="Games.FiniteHistoryDependent.html#2394" class="Function">remark-𝓚</a> <a id="2403" class="Symbol">:</a> <a id="2405" class="Symbol">{</a><a id="2406" href="Games.FiniteHistoryDependent.html#2406" class="Bound">X</a> <a id="2408" class="Symbol">:</a> <a id="2410" href="Notation.General.html#372" class="Function">Type</a><a id="2414" class="Symbol">}</a> <a id="2416" class="Symbol">{</a><a id="2417" href="Games.FiniteHistoryDependent.html#2417" class="Bound">Xf</a> <a id="2420" class="Symbol">:</a> <a id="2422" href="Games.FiniteHistoryDependent.html#2406" class="Bound">X</a> <a id="2424" class="Symbol">→</a> <a id="2426" href="Games.TypeTrees.html#719" class="Datatype">𝑻</a><a id="2427" class="Symbol">}</a>
         <a id="2438" class="Symbol">→</a> <a id="2440" class="Symbol">(</a><a id="2441" href="Games.FiniteHistoryDependent.html#2364" class="Function">𝓚</a> <a id="2443" class="InductiveConstructor">[]</a>       <a id="2452" href="MLTT.Id.html#193" class="Datatype Operator">＝</a> <a id="2454" href="MLTT.Unit.html#129" class="Record">𝟙</a><a id="2455" class="Symbol">)</a>
         <a id="2466" href="MLTT.Sigma.html#558" class="Function Operator">×</a> <a id="2468" class="Symbol">(</a><a id="2469" href="Games.FiniteHistoryDependent.html#2364" class="Function">𝓚</a> <a id="2471" class="Symbol">(</a><a id="2472" href="Games.FiniteHistoryDependent.html#2406" class="Bound">X</a> <a id="2474" class="InductiveConstructor Operator">∷</a> <a id="2476" href="Games.FiniteHistoryDependent.html#2417" class="Bound">Xf</a><a id="2478" class="Symbol">)</a> <a id="2480" href="MLTT.Id.html#193" class="Datatype Operator">＝</a> <a id="2482" href="MonadOnTypes.K.html#471" class="Function">K</a> <a id="2484" href="Games.FiniteHistoryDependent.html#2406" class="Bound">X</a> <a id="2486" href="MLTT.Sigma.html#558" class="Function Operator">×</a> <a id="2488" class="Symbol">((</a><a id="2490" href="Games.FiniteHistoryDependent.html#2490" class="Bound">x</a> <a id="2492" class="Symbol">:</a> <a id="2494" href="Games.FiniteHistoryDependent.html#2406" class="Bound">X</a><a id="2495" class="Symbol">)</a> <a id="2497" class="Symbol">→</a> <a id="2499" href="Games.FiniteHistoryDependent.html#2364" class="Function">𝓚</a> <a id="2501" class="Symbol">(</a><a id="2502" href="Games.FiniteHistoryDependent.html#2417" class="Bound">Xf</a> <a id="2505" href="Games.FiniteHistoryDependent.html#2490" class="Bound">x</a><a id="2506" class="Symbol">)))</a>
<a id="2510" href="Games.FiniteHistoryDependent.html#2394" class="Function">remark-𝓚</a> <a id="2519" class="Symbol">=</a> <a id="2521" href="MLTT.Identity-Type.html#157" class="InductiveConstructor">refl</a> <a id="2526" href="MLTT.Sigma.html#395" class="InductiveConstructor Operator">,</a> <a id="2528" href="MLTT.Identity-Type.html#157" class="InductiveConstructor">refl</a>

<a id="2534" class="Markup">\end{code}</a><a id="2544" class="Background">

 * ϕ  ranges over the type K X of quantifiers.
 * ϕt ranges over the type 𝓚 Xt of quantifier trees.
 * ϕf ranges over the type (x : X) → 𝓚 (Xf x) of quantifier forests.


Sequencing quantifiers, as constructed in Definition 2 of reference [1],
but using our tree representation of games instead:

</a><a id="2843" class="Markup">\begin{code}</a>

<a id="sequenceᴷ"></a><a id="2857" href="Games.FiniteHistoryDependent.html#2857" class="Function">sequenceᴷ</a> <a id="2867" class="Symbol">:</a> <a id="2869" class="Symbol">{</a><a id="2870" href="Games.FiniteHistoryDependent.html#2870" class="Bound">Xt</a> <a id="2873" class="Symbol">:</a> <a id="2875" href="Games.TypeTrees.html#719" class="Datatype">𝑻</a><a id="2876" class="Symbol">}</a> <a id="2878" class="Symbol">→</a> <a id="2880" href="Games.FiniteHistoryDependent.html#2364" class="Function">𝓚</a> <a id="2882" href="Games.FiniteHistoryDependent.html#2870" class="Bound">Xt</a> <a id="2885" class="Symbol">→</a> <a id="2887" href="MonadOnTypes.K.html#471" class="Function">K</a> <a id="2889" class="Symbol">(</a><a id="2890" href="Games.TypeTrees.html#906" class="Function">Path</a> <a id="2895" href="Games.FiniteHistoryDependent.html#2870" class="Bound">Xt</a><a id="2897" class="Symbol">)</a>
<a id="2899" href="Games.FiniteHistoryDependent.html#2857" class="Function">sequenceᴷ</a> <a id="2909" class="Symbol">=</a> <a id="2911" href="Games.TypeTrees.html#3789" class="Function">path-sequence</a> <a id="2925" class="Symbol">(</a><a id="2926" href="MonadOnTypes.K.html#184" class="Function">𝕂</a> <a id="2928" href="Games.FiniteHistoryDependent.html#1635" class="Bound">R</a><a id="2929" class="Symbol">)</a>

<a id="2932" class="Markup">\end{code}</a><a id="2942" class="Background">

The following is Definition 3 of the above reference [1].

A game is defined by a game tree Xt, a type R of outcomes, a
quantifier tree ϕt and an outcome function q:

</a><a id="3111" class="Markup">\begin{code}</a>

<a id="3125" class="Keyword">record</a> <a id="Game"></a><a id="3132" href="Games.FiniteHistoryDependent.html#3132" class="Record">Game</a> <a id="3137" class="Symbol">:</a> <a id="3139" href="Notation.General.html#384" class="Function">Type₁</a> <a id="3145" class="Keyword">where</a>
 <a id="3152" class="Keyword">constructor</a> <a id="game"></a><a id="3164" href="Games.FiniteHistoryDependent.html#3164" class="InductiveConstructor">game</a>
 <a id="3170" class="Keyword">field</a>
  <a id="Game.Xt"></a><a id="3178" href="Games.FiniteHistoryDependent.html#3178" class="Field">Xt</a> <a id="3181" class="Symbol">:</a> <a id="3183" href="Games.TypeTrees.html#719" class="Datatype">𝑻</a>
  <a id="Game.q"></a><a id="3187" href="Games.FiniteHistoryDependent.html#3187" class="Field">q</a>  <a id="3190" class="Symbol">:</a> <a id="3192" href="Games.TypeTrees.html#906" class="Function">Path</a> <a id="3197" href="Games.FiniteHistoryDependent.html#3178" class="Field">Xt</a> <a id="3200" class="Symbol">→</a> <a id="3202" href="Games.FiniteHistoryDependent.html#1635" class="Bound">R</a>
  <a id="Game.ϕt"></a><a id="3206" href="Games.FiniteHistoryDependent.html#3206" class="Field">ϕt</a> <a id="3209" class="Symbol">:</a> <a id="3211" href="Games.FiniteHistoryDependent.html#2364" class="Function">𝓚</a> <a id="3213" href="Games.FiniteHistoryDependent.html#3178" class="Field">Xt</a>

<a id="3217" class="Keyword">open</a> <a id="3222" href="Games.FiniteHistoryDependent.html#3132" class="Module">Game</a> <a id="3227" class="Keyword">public</a>

<a id="3235" class="Markup">\end{code}</a><a id="3245" class="Background">

We can think of Xt as the rules of the game, and R, ϕt and q as the
objective of the game.

We define the optimal outcome of a game to be the sequencing of its
quantifiers applied to the outcome function (Theorem 3.1 of [1]).

</a><a id="3474" class="Markup">\begin{code}</a>

<a id="optimal-outcome"></a><a id="3488" href="Games.FiniteHistoryDependent.html#3488" class="Function">optimal-outcome</a> <a id="3504" class="Symbol">:</a> <a id="3506" href="Games.FiniteHistoryDependent.html#3132" class="Record">Game</a> <a id="3511" class="Symbol">→</a> <a id="3513" href="Games.FiniteHistoryDependent.html#1635" class="Bound">R</a>
<a id="3515" href="Games.FiniteHistoryDependent.html#3488" class="Function">optimal-outcome</a> <a id="3531" class="Symbol">(</a><a id="3532" href="Games.FiniteHistoryDependent.html#3164" class="InductiveConstructor">game</a> <a id="3537" href="Games.FiniteHistoryDependent.html#3537" class="Bound">Xt</a> <a id="3540" href="Games.FiniteHistoryDependent.html#3540" class="Bound">q</a> <a id="3542" href="Games.FiniteHistoryDependent.html#3542" class="Bound">ϕt</a><a id="3544" class="Symbol">)</a> <a id="3546" class="Symbol">=</a> <a id="3548" href="Games.FiniteHistoryDependent.html#2857" class="Function">sequenceᴷ</a> <a id="3558" href="Games.FiniteHistoryDependent.html#3542" class="Bound">ϕt</a> <a id="3561" href="Games.FiniteHistoryDependent.html#3540" class="Bound">q</a>

<a id="3564" class="Markup">\end{code}</a><a id="3574" class="Background">

A strategy assigns a move to each mode of a tree. This corresponds to
Definition 4 of [1]:

</a><a id="3668" class="Markup">\begin{code}</a>

<a id="Strategy"></a><a id="3682" href="Games.FiniteHistoryDependent.html#3682" class="Function">Strategy</a> <a id="3691" class="Symbol">:</a> <a id="3693" href="Games.TypeTrees.html#719" class="Datatype">𝑻</a> <a id="3695" class="Symbol">→</a> <a id="3697" href="Notation.General.html#372" class="Function">Type</a>
<a id="3702" href="Games.FiniteHistoryDependent.html#3682" class="Function">Strategy</a> <a id="3711" class="Symbol">=</a> <a id="3713" href="Games.TypeTrees.html#2120" class="Function">structure</a> <a id="3723" href="MLTT.Pi.html#444" class="Function">id</a>

<a id="remark-Strategy"></a><a id="3727" href="Games.FiniteHistoryDependent.html#3727" class="Function">remark-Strategy</a> <a id="3743" class="Symbol">:</a> <a id="3745" class="Symbol">{</a><a id="3746" href="Games.FiniteHistoryDependent.html#3746" class="Bound">X</a> <a id="3748" class="Symbol">:</a> <a id="3750" href="Notation.General.html#372" class="Function">Type</a><a id="3754" class="Symbol">}</a> <a id="3756" class="Symbol">{</a><a id="3757" href="Games.FiniteHistoryDependent.html#3757" class="Bound">Xf</a> <a id="3760" class="Symbol">:</a> <a id="3762" href="Games.FiniteHistoryDependent.html#3746" class="Bound">X</a> <a id="3764" class="Symbol">→</a> <a id="3766" href="Games.TypeTrees.html#719" class="Datatype">𝑻</a><a id="3767" class="Symbol">}</a>
                <a id="3785" class="Symbol">→</a> <a id="3787" class="Symbol">(</a><a id="3788" href="Games.FiniteHistoryDependent.html#3682" class="Function">Strategy</a> <a id="3797" class="InductiveConstructor">[]</a>       <a id="3806" href="MLTT.Id.html#193" class="Datatype Operator">＝</a> <a id="3808" href="MLTT.Unit.html#129" class="Record">𝟙</a><a id="3809" class="Symbol">)</a>
                <a id="3827" href="MLTT.Sigma.html#558" class="Function Operator">×</a> <a id="3829" class="Symbol">(</a><a id="3830" href="Games.FiniteHistoryDependent.html#3682" class="Function">Strategy</a> <a id="3839" class="Symbol">(</a><a id="3840" href="Games.FiniteHistoryDependent.html#3746" class="Bound">X</a> <a id="3842" class="InductiveConstructor Operator">∷</a> <a id="3844" href="Games.FiniteHistoryDependent.html#3757" class="Bound">Xf</a><a id="3846" class="Symbol">)</a> <a id="3848" href="MLTT.Id.html#193" class="Datatype Operator">＝</a> <a id="3850" href="Games.FiniteHistoryDependent.html#3746" class="Bound">X</a> <a id="3852" href="MLTT.Sigma.html#558" class="Function Operator">×</a> <a id="3854" class="Symbol">((</a><a id="3856" href="Games.FiniteHistoryDependent.html#3856" class="Bound">x</a> <a id="3858" class="Symbol">:</a> <a id="3860" href="Games.FiniteHistoryDependent.html#3746" class="Bound">X</a><a id="3861" class="Symbol">)</a> <a id="3863" class="Symbol">→</a> <a id="3865" href="Games.FiniteHistoryDependent.html#3682" class="Function">Strategy</a> <a id="3874" class="Symbol">(</a><a id="3875" href="Games.FiniteHistoryDependent.html#3757" class="Bound">Xf</a> <a id="3878" href="Games.FiniteHistoryDependent.html#3856" class="Bound">x</a><a id="3879" class="Symbol">)))</a>
<a id="3883" href="Games.FiniteHistoryDependent.html#3727" class="Function">remark-Strategy</a> <a id="3899" class="Symbol">=</a> <a id="3901" href="MLTT.Identity-Type.html#157" class="InductiveConstructor">refl</a> <a id="3906" href="MLTT.Sigma.html#395" class="InductiveConstructor Operator">,</a> <a id="3908" href="MLTT.Identity-Type.html#157" class="InductiveConstructor">refl</a>

<a id="3914" class="Markup">\end{code}</a><a id="3924" class="Background">

 * σ ranges over the type Strategy Xt of strategies for a
   dependent-type tree Xt.

 * σf ranges over the type (x : X) → Strategy (Xf x) of strategy
   forests for a dependent-type forest Xf.

We get a path in the tree by following any given strategy:

</a><a id="4181" class="Markup">\begin{code}</a>

<a id="strategic-path"></a><a id="4195" href="Games.FiniteHistoryDependent.html#4195" class="Function">strategic-path</a> <a id="4210" class="Symbol">:</a> <a id="4212" class="Symbol">{</a><a id="4213" href="Games.FiniteHistoryDependent.html#4213" class="Bound">Xt</a> <a id="4216" class="Symbol">:</a> <a id="4218" href="Games.TypeTrees.html#719" class="Datatype">𝑻</a><a id="4219" class="Symbol">}</a> <a id="4221" class="Symbol">→</a> <a id="4223" href="Games.FiniteHistoryDependent.html#3682" class="Function">Strategy</a> <a id="4232" href="Games.FiniteHistoryDependent.html#4213" class="Bound">Xt</a> <a id="4235" class="Symbol">→</a> <a id="4237" href="Games.TypeTrees.html#906" class="Function">Path</a> <a id="4242" href="Games.FiniteHistoryDependent.html#4213" class="Bound">Xt</a>
<a id="4245" href="Games.FiniteHistoryDependent.html#4195" class="Function">strategic-path</a> <a id="4260" class="Symbol">=</a> <a id="4262" href="Games.TypeTrees.html#3789" class="Function">path-sequence</a> <a id="4276" href="MonadOnTypes.Monad.html#4451" class="Function">𝕀𝕕</a>

<a id="remark-strategic-path"></a><a id="4280" href="Games.FiniteHistoryDependent.html#4280" class="Function">remark-strategic-path</a> <a id="4302" class="Symbol">:</a> <a id="4304" class="Symbol">{</a><a id="4305" href="Games.FiniteHistoryDependent.html#4305" class="Bound">X</a> <a id="4307" class="Symbol">:</a> <a id="4309" href="Notation.General.html#372" class="Function">Type</a><a id="4313" class="Symbol">}</a> <a id="4315" class="Symbol">{</a><a id="4316" href="Games.FiniteHistoryDependent.html#4316" class="Bound">Xf</a> <a id="4319" class="Symbol">:</a> <a id="4321" href="Games.FiniteHistoryDependent.html#4305" class="Bound">X</a> <a id="4323" class="Symbol">→</a> <a id="4325" href="Games.TypeTrees.html#719" class="Datatype">𝑻</a><a id="4326" class="Symbol">}</a> <a id="4328" class="Symbol">{</a><a id="4329" href="Games.FiniteHistoryDependent.html#4329" class="Bound">x</a> <a id="4331" class="Symbol">:</a> <a id="4333" href="Games.FiniteHistoryDependent.html#4305" class="Bound">X</a><a id="4334" class="Symbol">}</a>
                        <a id="4360" class="Symbol">{</a><a id="4361" href="Games.FiniteHistoryDependent.html#4361" class="Bound">σf</a> <a id="4364" class="Symbol">:</a> <a id="4366" class="Symbol">(</a><a id="4367" href="Games.FiniteHistoryDependent.html#4367" class="Bound">x</a> <a id="4369" class="Symbol">:</a> <a id="4371" href="Games.FiniteHistoryDependent.html#4305" class="Bound">X</a><a id="4372" class="Symbol">)</a> <a id="4374" class="Symbol">→</a> <a id="4376" href="Games.FiniteHistoryDependent.html#3682" class="Function">Strategy</a> <a id="4385" class="Symbol">(</a><a id="4386" href="Games.FiniteHistoryDependent.html#4316" class="Bound">Xf</a> <a id="4389" href="Games.FiniteHistoryDependent.html#4367" class="Bound">x</a><a id="4390" class="Symbol">)}</a>
                      <a id="4415" class="Symbol">→</a> <a id="4417" class="Symbol">(</a><a id="4418" href="Games.FiniteHistoryDependent.html#4195" class="Function">strategic-path</a> <a id="4433" class="Symbol">{</a><a id="4434" class="InductiveConstructor">[]</a><a id="4436" class="Symbol">}</a>     <a id="4442" href="Games.TypeTrees.html#1274" class="InductiveConstructor">⟨⟩</a>        <a id="4452" href="MLTT.Id.html#193" class="Datatype Operator">＝</a> <a id="4454" href="Games.TypeTrees.html#1274" class="InductiveConstructor">⟨⟩</a><a id="4456" class="Symbol">)</a>
                      <a id="4480" href="MLTT.Sigma.html#558" class="Function Operator">×</a> <a id="4482" class="Symbol">(</a><a id="4483" href="Games.FiniteHistoryDependent.html#4195" class="Function">strategic-path</a> <a id="4498" class="Symbol">{</a><a id="4499" href="Games.FiniteHistoryDependent.html#4305" class="Bound">X</a> <a id="4501" class="InductiveConstructor Operator">∷</a> <a id="4503" href="Games.FiniteHistoryDependent.html#4316" class="Bound">Xf</a><a id="4505" class="Symbol">}</a> <a id="4507" class="Symbol">(</a><a id="4508" href="Games.FiniteHistoryDependent.html#4329" class="Bound">x</a> <a id="4510" href="Games.TypeTrees.html#1296" class="InductiveConstructor Operator">::</a> <a id="4513" href="Games.FiniteHistoryDependent.html#4361" class="Bound">σf</a><a id="4515" class="Symbol">)</a> <a id="4517" href="MLTT.Id.html#193" class="Datatype Operator">＝</a> <a id="4519" href="Games.FiniteHistoryDependent.html#4329" class="Bound">x</a> <a id="4521" href="Games.TypeTrees.html#1296" class="InductiveConstructor Operator">::</a> <a id="4524" href="Games.FiniteHistoryDependent.html#4195" class="Function">strategic-path</a> <a id="4539" class="Symbol">(</a><a id="4540" href="Games.FiniteHistoryDependent.html#4361" class="Bound">σf</a> <a id="4543" href="Games.FiniteHistoryDependent.html#4329" class="Bound">x</a><a id="4544" class="Symbol">))</a>
<a id="4547" href="Games.FiniteHistoryDependent.html#4280" class="Function">remark-strategic-path</a> <a id="4569" class="Symbol">=</a> <a id="4571" href="MLTT.Identity-Type.html#157" class="InductiveConstructor">refl</a> <a id="4576" href="MLTT.Sigma.html#395" class="InductiveConstructor Operator">,</a> <a id="4578" href="MLTT.Identity-Type.html#157" class="InductiveConstructor">refl</a>

<a id="4584" class="Markup">\end{code}</a><a id="4594" class="Background">

In the notation of reference [1] above, Definition 5, a strategy σ
for a game (Xt,R,ϕt,q) is said to be optimal, or in subgame perfect
equilibrium (abbreviated sgpe), if for every partial play a₀,…,aₖ₋₁
of length k, we have

   q(a₀,…,aₖ₋₁,bₖ(a₀,…,aₖ₋₁),…,bₙ₋₁(a₀,…,aₖ₋₁))
 = ϕₖ(λxₖ.q(a₀,…,aₖ₋₁,xₖ,bₖ₊₁(a₀,…,aₖ₋₁,xₖ),…,bₙ₋₁(a₀,…,aₖ₋₁,xₖ)))

where the sequence b is inductively defined by

  bⱼ(a₀,…,aₖ₋₁) = σⱼ(a₀,…,aₖ₋₁,bₖ(a₀,…,aₖ₋₁),…,bⱼ₋₁(a₀,…,aₖ₋₁))

for k ≤ j &lt; n.

Intuitively, the strategy σ is optimal if the outcome

  q(a₀,…,aₖ₋₁,bₖ(a₀,…,aₖ₋₁),…,bₙ₋₁(a₀,…,aₖ₋₁))

obtained by following σ is the best possible outcome as described by
the quantifier ϕₖ for each round k, considering all possible
deviations xₖ from the strategy at that round.

For the purposes of our generalization of [1] to dependent games, it
is convenient to define this notion by induction on the game tree Xt:

</a><a id="5487" class="Markup">\begin{code}</a>

<a id="is-in-equilibrium"></a><a id="5501" href="Games.FiniteHistoryDependent.html#5501" class="Function">is-in-equilibrium</a> <a id="5519" class="Symbol">:</a> <a id="5521" class="Symbol">{</a><a id="5522" href="Games.FiniteHistoryDependent.html#5522" class="Bound">X</a> <a id="5524" class="Symbol">:</a> <a id="5526" href="Notation.General.html#372" class="Function">Type</a><a id="5530" class="Symbol">}</a> <a id="5532" class="Symbol">{</a><a id="5533" href="Games.FiniteHistoryDependent.html#5533" class="Bound">Xf</a> <a id="5536" class="Symbol">:</a> <a id="5538" href="Games.FiniteHistoryDependent.html#5522" class="Bound">X</a> <a id="5540" class="Symbol">→</a> <a id="5542" href="Games.TypeTrees.html#719" class="Datatype">𝑻</a><a id="5543" class="Symbol">}</a>
                    <a id="5565" class="Symbol">(</a><a id="5566" href="Games.FiniteHistoryDependent.html#5566" class="Bound">q</a> <a id="5568" class="Symbol">:</a> <a id="5570" class="Symbol">(</a><a id="5571" href="MLTT.Sigma.html#423" class="Function">Σ</a> <a id="5573" href="Games.FiniteHistoryDependent.html#5573" class="Bound">x</a> <a id="5575" href="MLTT.Sigma.html#423" class="Function">꞉</a> <a id="5577" href="Games.FiniteHistoryDependent.html#5522" class="Bound">X</a> <a id="5579" href="MLTT.Sigma.html#423" class="Function">,</a> <a id="5581" href="Games.TypeTrees.html#906" class="Function">Path</a> <a id="5586" class="Symbol">(</a><a id="5587" href="Games.FiniteHistoryDependent.html#5533" class="Bound">Xf</a> <a id="5590" href="Games.FiniteHistoryDependent.html#5573" class="Bound">x</a><a id="5591" class="Symbol">))</a> <a id="5594" class="Symbol">→</a> <a id="5596" href="Games.FiniteHistoryDependent.html#1635" class="Bound">R</a><a id="5597" class="Symbol">)</a>
                    <a id="5619" class="Symbol">(</a><a id="5620" href="Games.FiniteHistoryDependent.html#5620" class="Bound">ϕ</a> <a id="5622" class="Symbol">:</a> <a id="5624" href="MonadOnTypes.K.html#471" class="Function">K</a> <a id="5626" href="Games.FiniteHistoryDependent.html#5522" class="Bound">X</a><a id="5627" class="Symbol">)</a>
                  <a id="5647" class="Symbol">→</a> <a id="5649" href="Games.FiniteHistoryDependent.html#3682" class="Function">Strategy</a> <a id="5658" class="Symbol">(</a><a id="5659" href="Games.FiniteHistoryDependent.html#5522" class="Bound">X</a> <a id="5661" class="InductiveConstructor Operator">∷</a> <a id="5663" href="Games.FiniteHistoryDependent.html#5533" class="Bound">Xf</a><a id="5665" class="Symbol">)</a>
                  <a id="5685" class="Symbol">→</a> <a id="5687" href="Notation.General.html#372" class="Function">Type</a>
<a id="5692" href="Games.FiniteHistoryDependent.html#5501" class="Function">is-in-equilibrium</a> <a id="5710" class="Symbol">{</a><a id="5711" href="Games.FiniteHistoryDependent.html#5711" class="Bound">X</a><a id="5712" class="Symbol">}</a> <a id="5714" class="Symbol">{</a><a id="5715" href="Games.FiniteHistoryDependent.html#5715" class="Bound">Xf</a><a id="5717" class="Symbol">}</a> <a id="5719" href="Games.FiniteHistoryDependent.html#5719" class="Bound">q</a> <a id="5721" href="Games.FiniteHistoryDependent.html#5721" class="Bound">ϕ</a> <a id="5723" href="Games.FiniteHistoryDependent.html#5723" class="Bound">σt</a><a id="5725" class="Symbol">@(</a><a id="5727" href="Games.FiniteHistoryDependent.html#5727" class="Bound">x₀</a> <a id="5730" href="Games.TypeTrees.html#1296" class="InductiveConstructor Operator">::</a> <a id="5733" href="Games.FiniteHistoryDependent.html#5733" class="Bound">σf</a><a id="5735" class="Symbol">)</a>  <a id="5738" class="Symbol">=</a>
 <a id="5741" href="Games.TypeTrees.html#1622" class="Function">subpred</a> <a id="5749" href="Games.FiniteHistoryDependent.html#5719" class="Bound">q</a> <a id="5751" href="Games.FiniteHistoryDependent.html#5727" class="Bound">x₀</a> <a id="5754" class="Symbol">(</a><a id="5755" href="Games.FiniteHistoryDependent.html#4195" class="Function">strategic-path</a> <a id="5770" class="Symbol">(</a><a id="5771" href="Games.FiniteHistoryDependent.html#5733" class="Bound">σf</a> <a id="5774" href="Games.FiniteHistoryDependent.html#5727" class="Bound">x₀</a><a id="5776" class="Symbol">))</a> <a id="5779" href="MLTT.Id.html#193" class="Datatype Operator">＝</a> <a id="5781" href="Games.FiniteHistoryDependent.html#5721" class="Bound">ϕ</a> <a id="5783" class="Symbol">(λ</a> <a id="5786" href="Games.FiniteHistoryDependent.html#5786" class="Bound">x</a> <a id="5788" class="Symbol">→</a> <a id="5790" href="Games.TypeTrees.html#1622" class="Function">subpred</a> <a id="5798" href="Games.FiniteHistoryDependent.html#5719" class="Bound">q</a> <a id="5800" href="Games.FiniteHistoryDependent.html#5786" class="Bound">x</a> <a id="5802" class="Symbol">(</a><a id="5803" href="Games.FiniteHistoryDependent.html#4195" class="Function">strategic-path</a> <a id="5818" class="Symbol">(</a><a id="5819" href="Games.FiniteHistoryDependent.html#5733" class="Bound">σf</a> <a id="5822" href="Games.FiniteHistoryDependent.html#5786" class="Bound">x</a><a id="5823" class="Symbol">)))</a>

<a id="is-in-sgpe"></a><a id="5828" href="Games.FiniteHistoryDependent.html#5828" class="Function">is-in-sgpe</a> <a id="5839" class="Symbol">:</a> <a id="5841" class="Symbol">{</a><a id="5842" href="Games.FiniteHistoryDependent.html#5842" class="Bound">Xt</a> <a id="5845" class="Symbol">:</a> <a id="5847" href="Games.TypeTrees.html#719" class="Datatype">𝑻</a><a id="5848" class="Symbol">}</a> <a id="5850" class="Symbol">→</a> <a id="5852" href="Games.FiniteHistoryDependent.html#2364" class="Function">𝓚</a> <a id="5854" href="Games.FiniteHistoryDependent.html#5842" class="Bound">Xt</a> <a id="5857" class="Symbol">→</a> <a id="5859" class="Symbol">(</a><a id="5860" href="Games.TypeTrees.html#906" class="Function">Path</a> <a id="5865" href="Games.FiniteHistoryDependent.html#5842" class="Bound">Xt</a> <a id="5868" class="Symbol">→</a> <a id="5870" href="Games.FiniteHistoryDependent.html#1635" class="Bound">R</a><a id="5871" class="Symbol">)</a> <a id="5873" class="Symbol">→</a> <a id="5875" href="Games.FiniteHistoryDependent.html#3682" class="Function">Strategy</a> <a id="5884" href="Games.FiniteHistoryDependent.html#5842" class="Bound">Xt</a> <a id="5887" class="Symbol">→</a> <a id="5889" href="Notation.General.html#372" class="Function">Type</a>
<a id="5894" href="Games.FiniteHistoryDependent.html#5828" class="Function">is-in-sgpe</a> <a id="5905" class="Symbol">{</a><a id="5906" href="Games.TypeTrees.html#737" class="InductiveConstructor">[]</a><a id="5908" class="Symbol">}</a>     <a id="5914" href="Games.TypeTrees.html#1274" class="InductiveConstructor">⟨⟩</a>        <a id="5924" href="Games.FiniteHistoryDependent.html#5924" class="Bound">q</a> <a id="5926" href="Games.TypeTrees.html#1274" class="InductiveConstructor">⟨⟩</a>            <a id="5940" class="Symbol">=</a> <a id="5942" href="MLTT.Unit.html#129" class="Record">𝟙</a>
<a id="5944" href="Games.FiniteHistoryDependent.html#5828" class="Function">is-in-sgpe</a> <a id="5955" class="Symbol">{</a><a id="5956" href="Games.FiniteHistoryDependent.html#5956" class="Bound">X</a> <a id="5958" href="Games.TypeTrees.html#747" class="InductiveConstructor Operator">∷</a> <a id="5960" href="Games.FiniteHistoryDependent.html#5960" class="Bound">Xf</a><a id="5962" class="Symbol">}</a> <a id="5964" class="Symbol">(</a><a id="5965" href="Games.FiniteHistoryDependent.html#5965" class="Bound">ϕ</a> <a id="5967" href="Games.TypeTrees.html#1296" class="InductiveConstructor Operator">::</a> <a id="5970" href="Games.FiniteHistoryDependent.html#5970" class="Bound">ϕf</a><a id="5972" class="Symbol">)</a> <a id="5974" href="Games.FiniteHistoryDependent.html#5974" class="Bound">q</a> <a id="5976" href="Games.FiniteHistoryDependent.html#5976" class="Bound">σt</a><a id="5978" class="Symbol">@(</a><a id="5980" href="Games.FiniteHistoryDependent.html#5980" class="Bound">x₀</a> <a id="5983" href="Games.TypeTrees.html#1296" class="InductiveConstructor Operator">::</a> <a id="5986" href="Games.FiniteHistoryDependent.html#5986" class="Bound">σf</a><a id="5988" class="Symbol">)</a> <a id="5990" class="Symbol">=</a>
   <a id="5995" href="Games.FiniteHistoryDependent.html#5501" class="Function">is-in-equilibrium</a> <a id="6013" href="Games.FiniteHistoryDependent.html#5974" class="Bound">q</a> <a id="6015" href="Games.FiniteHistoryDependent.html#5965" class="Bound">ϕ</a> <a id="6017" href="Games.FiniteHistoryDependent.html#5976" class="Bound">σt</a>
 <a id="6021" href="MLTT.Sigma.html#558" class="Function Operator">×</a> <a id="6023" class="Symbol">((</a><a id="6025" href="Games.FiniteHistoryDependent.html#6025" class="Bound">x</a> <a id="6027" class="Symbol">:</a> <a id="6029" href="Games.FiniteHistoryDependent.html#5956" class="Bound">X</a><a id="6030" class="Symbol">)</a> <a id="6032" class="Symbol">→</a> <a id="6034" href="Games.FiniteHistoryDependent.html#5828" class="Function">is-in-sgpe</a> <a id="6045" class="Symbol">{</a><a id="6046" href="Games.FiniteHistoryDependent.html#5960" class="Bound">Xf</a> <a id="6049" href="Games.FiniteHistoryDependent.html#6025" class="Bound">x</a><a id="6050" class="Symbol">}</a> <a id="6052" class="Symbol">(</a><a id="6053" href="Games.FiniteHistoryDependent.html#5970" class="Bound">ϕf</a> <a id="6056" href="Games.FiniteHistoryDependent.html#6025" class="Bound">x</a><a id="6057" class="Symbol">)</a> <a id="6059" class="Symbol">(</a><a id="6060" href="Games.TypeTrees.html#1622" class="Function">subpred</a> <a id="6068" href="Games.FiniteHistoryDependent.html#5974" class="Bound">q</a> <a id="6070" href="Games.FiniteHistoryDependent.html#6025" class="Bound">x</a><a id="6071" class="Symbol">)</a> <a id="6073" class="Symbol">(</a><a id="6074" href="Games.FiniteHistoryDependent.html#5986" class="Bound">σf</a> <a id="6077" href="Games.FiniteHistoryDependent.html#6025" class="Bound">x</a><a id="6078" class="Symbol">))</a>

<a id="6082" class="Markup">\end{code}</a><a id="6092" class="Background">

In the above definition:

 * If the game tree is empty, then the strategy is empty, and we say
   that it is true that it is in sgpe, where &quot;true&quot; is represented by
   the unit type 𝟙 in propositions-as-types.

 * If the game tree has a root X followed by a forest Xf, then the
   strategy must be of the form x₀ :: σf, where x₀ is the first move
   according to the strategy, and where σf is a forest of strategies
   that depends on a deviation x.

   So the first part

     subpred q x₀ (strategic-path (σf x₀)) ＝ ϕ (λ x → subpred q x (strategic-path (σf x)))

   of the definition is as in the comment above, but with a partial
   play of length k=0, and the second (inductive) part, says that the
   substrategy σf x, for any deviation x, is in subgame perfect
   equilibrium in the subgame

     (Xf x , R , ϕf x , subpred q x).

As discussed above, we say that a strategy for a game is optimal if it
is in subgame perfect equilibrium.

</a><a id="7038" class="Markup">\begin{code}</a>

<a id="is-optimal"></a><a id="7052" href="Games.FiniteHistoryDependent.html#7052" class="Function">is-optimal</a> <a id="7063" class="Symbol">:</a> <a id="7065" class="Symbol">(</a><a id="7066" href="Games.FiniteHistoryDependent.html#7066" class="Bound">G</a> <a id="7068" class="Symbol">:</a> <a id="7070" href="Games.FiniteHistoryDependent.html#3132" class="Record">Game</a><a id="7074" class="Symbol">)</a> <a id="7076" class="Symbol">(</a><a id="7077" href="Games.FiniteHistoryDependent.html#7077" class="Bound">σ</a> <a id="7079" class="Symbol">:</a> <a id="7081" href="Games.FiniteHistoryDependent.html#3682" class="Function">Strategy</a> <a id="7090" class="Symbol">(</a><a id="7091" href="Games.FiniteHistoryDependent.html#3178" class="Field">Xt</a> <a id="7094" href="Games.FiniteHistoryDependent.html#7066" class="Bound">G</a><a id="7095" class="Symbol">))</a> <a id="7098" class="Symbol">→</a> <a id="7100" href="Notation.General.html#372" class="Function">Type</a>
<a id="7105" href="Games.FiniteHistoryDependent.html#7052" class="Function">is-optimal</a> <a id="7116" class="Symbol">(</a><a id="7117" href="Games.FiniteHistoryDependent.html#3164" class="InductiveConstructor">game</a> <a id="7122" href="Games.FiniteHistoryDependent.html#7122" class="Bound">Xt</a> <a id="7125" href="Games.FiniteHistoryDependent.html#7125" class="Bound">ϕt</a> <a id="7128" href="Games.FiniteHistoryDependent.html#7128" class="Bound">q</a><a id="7129" class="Symbol">)</a> <a id="7131" href="Games.FiniteHistoryDependent.html#7131" class="Bound">σ</a> <a id="7133" class="Symbol">=</a> <a id="7135" href="Games.FiniteHistoryDependent.html#5828" class="Function">is-in-sgpe</a> <a id="7146" class="Symbol">{</a><a id="7147" href="Games.FiniteHistoryDependent.html#7122" class="Bound">Xt</a><a id="7149" class="Symbol">}</a> <a id="7151" href="Games.FiniteHistoryDependent.html#7128" class="Bound">q</a> <a id="7153" href="Games.FiniteHistoryDependent.html#7125" class="Bound">ϕt</a> <a id="7156" href="Games.FiniteHistoryDependent.html#7131" class="Bound">σ</a>

<a id="7159" class="Markup">\end{code}</a><a id="7169" class="Background">

The main lemma is that the optimal outcome is the same thing as the
application of the outcome function to the path induced by a strategy
in perfect subgame equilibrium.

The following is Theorem 3.1 of reference [1].

</a><a id="7390" class="Markup">\begin{code}</a>

<a id="sgpe-lemma"></a><a id="7404" href="Games.FiniteHistoryDependent.html#7404" class="Function">sgpe-lemma</a> <a id="7415" class="Symbol">:</a> <a id="7417" href="UF.FunExt.html#1047" class="Function">Fun-Ext</a>
           <a id="7436" class="Symbol">→</a> <a id="7438" class="Symbol">(</a><a id="7439" href="Games.FiniteHistoryDependent.html#7439" class="Bound">Xt</a> <a id="7442" class="Symbol">:</a> <a id="7444" href="Games.TypeTrees.html#719" class="Datatype">𝑻</a><a id="7445" class="Symbol">)</a> <a id="7447" class="Symbol">(</a><a id="7448" href="Games.FiniteHistoryDependent.html#7448" class="Bound">ϕt</a> <a id="7451" class="Symbol">:</a> <a id="7453" href="Games.FiniteHistoryDependent.html#2364" class="Function">𝓚</a> <a id="7455" href="Games.FiniteHistoryDependent.html#7439" class="Bound">Xt</a><a id="7457" class="Symbol">)</a> <a id="7459" class="Symbol">(</a><a id="7460" href="Games.FiniteHistoryDependent.html#7460" class="Bound">q</a> <a id="7462" class="Symbol">:</a> <a id="7464" href="Games.TypeTrees.html#906" class="Function">Path</a> <a id="7469" href="Games.FiniteHistoryDependent.html#7439" class="Bound">Xt</a> <a id="7472" class="Symbol">→</a> <a id="7474" href="Games.FiniteHistoryDependent.html#1635" class="Bound">R</a><a id="7475" class="Symbol">)</a> <a id="7477" class="Symbol">(</a><a id="7478" href="Games.FiniteHistoryDependent.html#7478" class="Bound">σ</a> <a id="7480" class="Symbol">:</a> <a id="7482" href="Games.FiniteHistoryDependent.html#3682" class="Function">Strategy</a> <a id="7491" href="Games.FiniteHistoryDependent.html#7439" class="Bound">Xt</a><a id="7493" class="Symbol">)</a>
           <a id="7506" class="Symbol">→</a> <a id="7508" href="Games.FiniteHistoryDependent.html#5828" class="Function">is-in-sgpe</a> <a id="7519" href="Games.FiniteHistoryDependent.html#7448" class="Bound">ϕt</a> <a id="7522" href="Games.FiniteHistoryDependent.html#7460" class="Bound">q</a> <a id="7524" href="Games.FiniteHistoryDependent.html#7478" class="Bound">σ</a>
           <a id="7537" class="Symbol">→</a> <a id="7539" href="Games.FiniteHistoryDependent.html#7460" class="Bound">q</a> <a id="7541" class="Symbol">(</a><a id="7542" href="Games.FiniteHistoryDependent.html#4195" class="Function">strategic-path</a> <a id="7557" href="Games.FiniteHistoryDependent.html#7478" class="Bound">σ</a><a id="7558" class="Symbol">)</a> <a id="7560" href="MLTT.Id.html#193" class="Datatype Operator">＝</a> <a id="7562" href="Games.FiniteHistoryDependent.html#2857" class="Function">sequenceᴷ</a> <a id="7572" href="Games.FiniteHistoryDependent.html#7448" class="Bound">ϕt</a> <a id="7575" href="Games.FiniteHistoryDependent.html#7460" class="Bound">q</a>
<a id="7577" href="Games.FiniteHistoryDependent.html#7404" class="Function">sgpe-lemma</a> <a id="7588" href="Games.FiniteHistoryDependent.html#7588" class="Bound">fe</a> <a id="7591" href="Games.TypeTrees.html#737" class="InductiveConstructor">[]</a>       <a id="7600" href="Games.TypeTrees.html#1274" class="InductiveConstructor">⟨⟩</a>        <a id="7610" href="Games.FiniteHistoryDependent.html#7610" class="Bound">q</a> <a id="7612" href="Games.TypeTrees.html#1274" class="InductiveConstructor">⟨⟩</a>        <a id="7622" href="Games.TypeTrees.html#1274" class="InductiveConstructor">⟨⟩</a>       <a id="7631" class="Symbol">=</a> <a id="7633" href="MLTT.Identity-Type.html#157" class="InductiveConstructor">refl</a>
<a id="7638" href="Games.FiniteHistoryDependent.html#7404" class="Function">sgpe-lemma</a> <a id="7649" href="Games.FiniteHistoryDependent.html#7649" class="Bound">fe</a> <a id="7652" class="Symbol">(</a><a id="7653" href="Games.FiniteHistoryDependent.html#7653" class="Bound">X</a> <a id="7655" href="Games.TypeTrees.html#747" class="InductiveConstructor Operator">∷</a> <a id="7657" href="Games.FiniteHistoryDependent.html#7657" class="Bound">Xf</a><a id="7659" class="Symbol">)</a> <a id="7661" class="Symbol">(</a><a id="7662" href="Games.FiniteHistoryDependent.html#7662" class="Bound">ϕ</a> <a id="7664" href="Games.TypeTrees.html#1296" class="InductiveConstructor Operator">::</a> <a id="7667" href="Games.FiniteHistoryDependent.html#7667" class="Bound">ϕt</a><a id="7669" class="Symbol">)</a> <a id="7671" href="Games.FiniteHistoryDependent.html#7671" class="Bound">q</a> <a id="7673" class="Symbol">(</a><a id="7674" href="Games.FiniteHistoryDependent.html#7674" class="Bound">a</a> <a id="7676" href="Games.TypeTrees.html#1296" class="InductiveConstructor Operator">::</a> <a id="7679" href="Games.FiniteHistoryDependent.html#7679" class="Bound">σf</a><a id="7681" class="Symbol">)</a> <a id="7683" class="Symbol">(</a><a id="7684" href="Games.FiniteHistoryDependent.html#7684" class="Bound">h</a> <a id="7686" href="Games.TypeTrees.html#1296" class="InductiveConstructor Operator">::</a> <a id="7689" href="Games.FiniteHistoryDependent.html#7689" class="Bound">t</a><a id="7690" class="Symbol">)</a> <a id="7692" class="Symbol">=</a> <a id="7694" href="Games.FiniteHistoryDependent.html#7961" class="Function">γ</a>
 <a id="7697" class="Keyword">where</a>
  <a id="7705" href="Games.FiniteHistoryDependent.html#7705" class="Function">observation-t</a> <a id="7719" class="Symbol">:</a> <a id="7721" href="Notation.General.html#3116" class="Function">type-of</a> <a id="7729" href="Games.FiniteHistoryDependent.html#7689" class="Bound">t</a> <a id="7731" href="MLTT.Id.html#193" class="Datatype Operator">＝</a> <a id="7733" class="Symbol">((</a><a id="7735" href="Games.FiniteHistoryDependent.html#7735" class="Bound">x</a> <a id="7737" class="Symbol">:</a> <a id="7739" href="Games.FiniteHistoryDependent.html#7653" class="Bound">X</a><a id="7740" class="Symbol">)</a> <a id="7742" class="Symbol">→</a> <a id="7744" href="Games.FiniteHistoryDependent.html#5828" class="Function">is-in-sgpe</a> <a id="7755" class="Symbol">(</a><a id="7756" href="Games.FiniteHistoryDependent.html#7667" class="Bound">ϕt</a> <a id="7759" href="Games.FiniteHistoryDependent.html#7735" class="Bound">x</a><a id="7760" class="Symbol">)</a> <a id="7762" class="Symbol">(</a><a id="7763" href="Games.TypeTrees.html#1622" class="Function">subpred</a> <a id="7771" href="Games.FiniteHistoryDependent.html#7671" class="Bound">q</a> <a id="7773" href="Games.FiniteHistoryDependent.html#7735" class="Bound">x</a><a id="7774" class="Symbol">)</a> <a id="7776" class="Symbol">(</a><a id="7777" href="Games.FiniteHistoryDependent.html#7679" class="Bound">σf</a> <a id="7780" href="Games.FiniteHistoryDependent.html#7735" class="Bound">x</a><a id="7781" class="Symbol">))</a>
  <a id="7786" href="Games.FiniteHistoryDependent.html#7705" class="Function">observation-t</a> <a id="7800" class="Symbol">=</a> <a id="7802" href="MLTT.Identity-Type.html#157" class="InductiveConstructor">refl</a>

  <a id="7810" href="Games.FiniteHistoryDependent.html#7810" class="Function">IH</a> <a id="7813" class="Symbol">:</a> <a id="7815" class="Symbol">(</a><a id="7816" href="Games.FiniteHistoryDependent.html#7816" class="Bound">x</a> <a id="7818" class="Symbol">:</a> <a id="7820" href="Games.FiniteHistoryDependent.html#7653" class="Bound">X</a><a id="7821" class="Symbol">)</a> <a id="7823" class="Symbol">→</a> <a id="7825" href="Games.TypeTrees.html#1622" class="Function">subpred</a> <a id="7833" href="Games.FiniteHistoryDependent.html#7671" class="Bound">q</a> <a id="7835" href="Games.FiniteHistoryDependent.html#7816" class="Bound">x</a> <a id="7837" class="Symbol">(</a><a id="7838" href="Games.FiniteHistoryDependent.html#4195" class="Function">strategic-path</a> <a id="7853" class="Symbol">(</a><a id="7854" href="Games.FiniteHistoryDependent.html#7679" class="Bound">σf</a> <a id="7857" href="Games.FiniteHistoryDependent.html#7816" class="Bound">x</a><a id="7858" class="Symbol">))</a> <a id="7861" href="MLTT.Id.html#193" class="Datatype Operator">＝</a> <a id="7863" href="Games.FiniteHistoryDependent.html#2857" class="Function">sequenceᴷ</a> <a id="7873" class="Symbol">(</a><a id="7874" href="Games.FiniteHistoryDependent.html#7667" class="Bound">ϕt</a> <a id="7877" href="Games.FiniteHistoryDependent.html#7816" class="Bound">x</a><a id="7878" class="Symbol">)</a> <a id="7880" class="Symbol">(</a><a id="7881" href="Games.TypeTrees.html#1622" class="Function">subpred</a> <a id="7889" href="Games.FiniteHistoryDependent.html#7671" class="Bound">q</a> <a id="7891" href="Games.FiniteHistoryDependent.html#7816" class="Bound">x</a><a id="7892" class="Symbol">)</a>
  <a id="7896" href="Games.FiniteHistoryDependent.html#7810" class="Function">IH</a> <a id="7899" href="Games.FiniteHistoryDependent.html#7899" class="Bound">x</a> <a id="7901" class="Symbol">=</a> <a id="7903" href="Games.FiniteHistoryDependent.html#7404" class="Function">sgpe-lemma</a> <a id="7914" href="Games.FiniteHistoryDependent.html#7649" class="Bound">fe</a> <a id="7917" class="Symbol">(</a><a id="7918" href="Games.FiniteHistoryDependent.html#7657" class="Bound">Xf</a> <a id="7921" href="Games.FiniteHistoryDependent.html#7899" class="Bound">x</a><a id="7922" class="Symbol">)</a> <a id="7924" class="Symbol">(</a><a id="7925" href="Games.FiniteHistoryDependent.html#7667" class="Bound">ϕt</a> <a id="7928" href="Games.FiniteHistoryDependent.html#7899" class="Bound">x</a><a id="7929" class="Symbol">)</a> <a id="7931" class="Symbol">(</a><a id="7932" href="Games.TypeTrees.html#1622" class="Function">subpred</a> <a id="7940" href="Games.FiniteHistoryDependent.html#7671" class="Bound">q</a> <a id="7942" href="Games.FiniteHistoryDependent.html#7899" class="Bound">x</a><a id="7943" class="Symbol">)</a> <a id="7945" class="Symbol">(</a><a id="7946" href="Games.FiniteHistoryDependent.html#7679" class="Bound">σf</a> <a id="7949" href="Games.FiniteHistoryDependent.html#7899" class="Bound">x</a><a id="7950" class="Symbol">)</a> <a id="7952" class="Symbol">(</a><a id="7953" href="Games.FiniteHistoryDependent.html#7689" class="Bound">t</a> <a id="7955" href="Games.FiniteHistoryDependent.html#7899" class="Bound">x</a><a id="7956" class="Symbol">)</a>

  <a id="7961" href="Games.FiniteHistoryDependent.html#7961" class="Function">γ</a> <a id="7963" class="Symbol">=</a> <a id="7965" href="Games.TypeTrees.html#1622" class="Function">subpred</a> <a id="7973" href="Games.FiniteHistoryDependent.html#7671" class="Bound">q</a> <a id="7975" href="Games.FiniteHistoryDependent.html#7674" class="Bound">a</a> <a id="7977" class="Symbol">(</a><a id="7978" href="Games.FiniteHistoryDependent.html#4195" class="Function">strategic-path</a> <a id="7993" class="Symbol">(</a><a id="7994" href="Games.FiniteHistoryDependent.html#7679" class="Bound">σf</a> <a id="7997" href="Games.FiniteHistoryDependent.html#7674" class="Bound">a</a><a id="7998" class="Symbol">))</a>           <a id="8011" href="MLTT.Id.html#2705" class="Function Operator">＝⟨</a> <a id="8014" href="Games.FiniteHistoryDependent.html#7684" class="Bound">h</a> <a id="8016" href="MLTT.Id.html#2705" class="Function Operator">⟩</a>
      <a id="8024" href="Games.FiniteHistoryDependent.html#7662" class="Bound">ϕ</a> <a id="8026" class="Symbol">(λ</a> <a id="8029" href="Games.FiniteHistoryDependent.html#8029" class="Bound">x</a> <a id="8031" class="Symbol">→</a> <a id="8033" href="Games.TypeTrees.html#1622" class="Function">subpred</a> <a id="8041" href="Games.FiniteHistoryDependent.html#7671" class="Bound">q</a> <a id="8043" href="Games.FiniteHistoryDependent.html#8029" class="Bound">x</a> <a id="8045" class="Symbol">(</a><a id="8046" href="Games.FiniteHistoryDependent.html#4195" class="Function">strategic-path</a> <a id="8061" class="Symbol">(</a><a id="8062" href="Games.FiniteHistoryDependent.html#7679" class="Bound">σf</a> <a id="8065" href="Games.FiniteHistoryDependent.html#8029" class="Bound">x</a><a id="8066" class="Symbol">)))</a> <a id="8070" href="MLTT.Id.html#2705" class="Function Operator">＝⟨</a> <a id="8073" href="MLTT.Id.html#1136" class="Function">ap</a> <a id="8076" href="Games.FiniteHistoryDependent.html#7662" class="Bound">ϕ</a> <a id="8078" class="Symbol">(</a><a id="8079" href="UF.FunExt.html#1242" class="Function">dfunext</a> <a id="8087" href="Games.FiniteHistoryDependent.html#7649" class="Bound">fe</a> <a id="8090" href="Games.FiniteHistoryDependent.html#7810" class="Function">IH</a><a id="8092" class="Symbol">)</a> <a id="8094" href="MLTT.Id.html#2705" class="Function Operator">⟩</a>
      <a id="8102" href="Games.FiniteHistoryDependent.html#7662" class="Bound">ϕ</a> <a id="8104" class="Symbol">(λ</a> <a id="8107" href="Games.FiniteHistoryDependent.html#8107" class="Bound">x</a> <a id="8109" class="Symbol">→</a> <a id="8111" href="Games.FiniteHistoryDependent.html#2857" class="Function">sequenceᴷ</a> <a id="8121" class="Symbol">(</a><a id="8122" href="Games.FiniteHistoryDependent.html#7667" class="Bound">ϕt</a> <a id="8125" href="Games.FiniteHistoryDependent.html#8107" class="Bound">x</a><a id="8126" class="Symbol">)</a> <a id="8128" class="Symbol">(</a><a id="8129" href="Games.TypeTrees.html#1622" class="Function">subpred</a> <a id="8137" href="Games.FiniteHistoryDependent.html#7671" class="Bound">q</a> <a id="8139" href="Games.FiniteHistoryDependent.html#8107" class="Bound">x</a><a id="8140" class="Symbol">))</a>      <a id="8148" href="MLTT.Id.html#2787" class="Function Operator">∎</a>

<a id="8151" class="Markup">\end{code}</a><a id="8161" class="Background">

This can be reformulated as follows in terms of the type of games:

</a><a id="8231" class="Markup">\begin{code}</a>

<a id="optimality-theorem"></a><a id="8245" href="Games.FiniteHistoryDependent.html#8245" class="Function">optimality-theorem</a> <a id="8264" class="Symbol">:</a> <a id="8266" href="UF.FunExt.html#1047" class="Function">Fun-Ext</a>
                   <a id="8293" class="Symbol">→</a> <a id="8295" class="Symbol">(</a><a id="8296" href="Games.FiniteHistoryDependent.html#8296" class="Bound">G</a> <a id="8298" class="Symbol">:</a> <a id="8300" href="Games.FiniteHistoryDependent.html#3132" class="Record">Game</a><a id="8304" class="Symbol">)</a> <a id="8306" class="Symbol">(</a><a id="8307" href="Games.FiniteHistoryDependent.html#8307" class="Bound">σ</a> <a id="8309" class="Symbol">:</a> <a id="8311" href="Games.FiniteHistoryDependent.html#3682" class="Function">Strategy</a> <a id="8320" class="Symbol">(</a><a id="8321" href="Games.FiniteHistoryDependent.html#3178" class="Field">Xt</a> <a id="8324" href="Games.FiniteHistoryDependent.html#8296" class="Bound">G</a><a id="8325" class="Symbol">))</a>
                   <a id="8347" class="Symbol">→</a> <a id="8349" href="Games.FiniteHistoryDependent.html#7052" class="Function">is-optimal</a> <a id="8360" href="Games.FiniteHistoryDependent.html#8296" class="Bound">G</a> <a id="8362" href="Games.FiniteHistoryDependent.html#8307" class="Bound">σ</a>
                   <a id="8383" class="Symbol">→</a> <a id="8385" href="Games.FiniteHistoryDependent.html#3187" class="Field">q</a> <a id="8387" href="Games.FiniteHistoryDependent.html#8296" class="Bound">G</a> <a id="8389" class="Symbol">(</a><a id="8390" href="Games.FiniteHistoryDependent.html#4195" class="Function">strategic-path</a> <a id="8405" href="Games.FiniteHistoryDependent.html#8307" class="Bound">σ</a><a id="8406" class="Symbol">)</a> <a id="8408" href="MLTT.Id.html#193" class="Datatype Operator">＝</a> <a id="8410" href="Games.FiniteHistoryDependent.html#3488" class="Function">optimal-outcome</a> <a id="8426" href="Games.FiniteHistoryDependent.html#8296" class="Bound">G</a>
<a id="8428" href="Games.FiniteHistoryDependent.html#8245" class="Function">optimality-theorem</a> <a id="8447" href="Games.FiniteHistoryDependent.html#8447" class="Bound">fe</a> <a id="8450" class="Symbol">(</a><a id="8451" href="Games.FiniteHistoryDependent.html#3164" class="InductiveConstructor">game</a> <a id="8456" href="Games.FiniteHistoryDependent.html#8456" class="Bound">Xt</a> <a id="8459" href="Games.FiniteHistoryDependent.html#8459" class="Bound">ϕt</a> <a id="8462" href="Games.FiniteHistoryDependent.html#8462" class="Bound">q</a><a id="8463" class="Symbol">)</a> <a id="8465" class="Symbol">=</a> <a id="8467" href="Games.FiniteHistoryDependent.html#7404" class="Function">sgpe-lemma</a> <a id="8478" href="Games.FiniteHistoryDependent.html#8447" class="Bound">fe</a> <a id="8481" href="Games.FiniteHistoryDependent.html#8456" class="Bound">Xt</a> <a id="8484" href="Games.FiniteHistoryDependent.html#8462" class="Bound">q</a> <a id="8486" href="Games.FiniteHistoryDependent.html#8459" class="Bound">ϕt</a>

<a id="8490" class="Markup">\end{code}</a><a id="8500" class="Background">

We now show how to use selection functions to compute a sgpe strategy.

We use selection functions, as in Section 2 of reference [1], defined
in another module.

𝓙 assigns types of selection functions to the nodes.

</a><a id="8718" class="Markup">\begin{code}</a>

<a id="𝓙"></a><a id="8732" href="Games.FiniteHistoryDependent.html#8732" class="Function">𝓙</a> <a id="8734" class="Symbol">:</a> <a id="8736" href="Games.TypeTrees.html#719" class="Datatype">𝑻</a> <a id="8738" class="Symbol">→</a> <a id="8740" href="Notation.General.html#372" class="Function">Type</a>
<a id="8745" href="Games.FiniteHistoryDependent.html#8732" class="Function">𝓙</a> <a id="8747" class="Symbol">=</a> <a id="8749" href="Games.TypeTrees.html#2120" class="Function">structure</a> <a id="8759" href="MonadOnTypes.J.html#461" class="Function">J</a>

<a id="remark-𝓙"></a><a id="8762" href="Games.FiniteHistoryDependent.html#8762" class="Function">remark-𝓙</a> <a id="8771" class="Symbol">:</a> <a id="8773" class="Symbol">{</a><a id="8774" href="Games.FiniteHistoryDependent.html#8774" class="Bound">X</a> <a id="8776" class="Symbol">:</a> <a id="8778" href="Notation.General.html#372" class="Function">Type</a><a id="8782" class="Symbol">}</a> <a id="8784" class="Symbol">{</a><a id="8785" href="Games.FiniteHistoryDependent.html#8785" class="Bound">Xf</a> <a id="8788" class="Symbol">:</a> <a id="8790" href="Games.FiniteHistoryDependent.html#8774" class="Bound">X</a> <a id="8792" class="Symbol">→</a> <a id="8794" href="Games.TypeTrees.html#719" class="Datatype">𝑻</a><a id="8795" class="Symbol">}</a>
         <a id="8806" class="Symbol">→</a> <a id="8808" class="Symbol">(</a><a id="8809" href="Games.FiniteHistoryDependent.html#8732" class="Function">𝓙</a> <a id="8811" class="InductiveConstructor">[]</a> <a id="8814" href="MLTT.Id.html#193" class="Datatype Operator">＝</a> <a id="8816" href="MLTT.Unit.html#129" class="Record">𝟙</a><a id="8817" class="Symbol">)</a>
         <a id="8828" href="MLTT.Sigma.html#558" class="Function Operator">×</a> <a id="8830" class="Symbol">(</a><a id="8831" href="Games.FiniteHistoryDependent.html#8732" class="Function">𝓙</a> <a id="8833" class="Symbol">(</a><a id="8834" href="Games.FiniteHistoryDependent.html#8774" class="Bound">X</a> <a id="8836" class="InductiveConstructor Operator">∷</a> <a id="8838" href="Games.FiniteHistoryDependent.html#8785" class="Bound">Xf</a><a id="8840" class="Symbol">)</a> <a id="8842" href="MLTT.Id.html#193" class="Datatype Operator">＝</a> <a id="8844" href="MonadOnTypes.J.html#461" class="Function">J</a> <a id="8846" href="Games.FiniteHistoryDependent.html#8774" class="Bound">X</a> <a id="8848" href="MLTT.Sigma.html#558" class="Function Operator">×</a> <a id="8850" class="Symbol">((</a><a id="8852" href="Games.FiniteHistoryDependent.html#8852" class="Bound">x</a> <a id="8854" class="Symbol">:</a> <a id="8856" href="Games.FiniteHistoryDependent.html#8774" class="Bound">X</a><a id="8857" class="Symbol">)</a> <a id="8859" class="Symbol">→</a> <a id="8861" href="Games.FiniteHistoryDependent.html#8732" class="Function">𝓙</a> <a id="8863" class="Symbol">(</a><a id="8864" href="Games.FiniteHistoryDependent.html#8785" class="Bound">Xf</a> <a id="8867" href="Games.FiniteHistoryDependent.html#8852" class="Bound">x</a><a id="8868" class="Symbol">)))</a>
<a id="8872" href="Games.FiniteHistoryDependent.html#8762" class="Function">remark-𝓙</a> <a id="8881" class="Symbol">=</a> <a id="8883" href="MLTT.Identity-Type.html#157" class="InductiveConstructor">refl</a> <a id="8888" href="MLTT.Sigma.html#395" class="InductiveConstructor Operator">,</a> <a id="8890" href="MLTT.Identity-Type.html#157" class="InductiveConstructor">refl</a>

<a id="8896" class="Markup">\end{code}</a><a id="8906" class="Background">

 * ε ranges over the type J X of selection functions.
 * εt ranges over the type 𝓙 Xt of selection-function trees.
 * εf ranges over the type (x : X) → 𝓙 (Xf x) of selection-function forests.

Sequencing selection functions, as constructed in Definition 12 of
reference [1], but using our tree representation of games instead:

</a><a id="9236" class="Markup">\begin{code}</a>

<a id="sequenceᴶ"></a><a id="9250" href="Games.FiniteHistoryDependent.html#9250" class="Function">sequenceᴶ</a> <a id="9260" class="Symbol">:</a> <a id="9262" class="Symbol">{</a><a id="9263" href="Games.FiniteHistoryDependent.html#9263" class="Bound">Xt</a> <a id="9266" class="Symbol">:</a> <a id="9268" href="Games.TypeTrees.html#719" class="Datatype">𝑻</a><a id="9269" class="Symbol">}</a> <a id="9271" class="Symbol">→</a> <a id="9273" href="Games.FiniteHistoryDependent.html#8732" class="Function">𝓙</a> <a id="9275" href="Games.FiniteHistoryDependent.html#9263" class="Bound">Xt</a> <a id="9278" class="Symbol">→</a> <a id="9280" href="MonadOnTypes.J.html#461" class="Function">J</a> <a id="9282" class="Symbol">(</a><a id="9283" href="Games.TypeTrees.html#906" class="Function">Path</a> <a id="9288" href="Games.FiniteHistoryDependent.html#9263" class="Bound">Xt</a><a id="9290" class="Symbol">)</a>
<a id="9292" href="Games.FiniteHistoryDependent.html#9250" class="Function">sequenceᴶ</a> <a id="9302" class="Symbol">=</a> <a id="9304" href="Games.TypeTrees.html#3789" class="Function">path-sequence</a> <a id="9318" class="Symbol">(</a><a id="9319" href="MonadOnTypes.J.html#206" class="Function">𝕁</a> <a id="9321" href="Games.FiniteHistoryDependent.html#1635" class="Bound">R</a><a id="9322" class="Symbol">)</a>

<a id="9325" class="Markup">\end{code}</a><a id="9335" class="Background">

The following, which defines a strategy from given selection
functions, is defined in Theorem 5.4 of [1], with the difference that
here, for the moment, we consider only single-valued quantifiers.

</a><a id="9535" class="Markup">\begin{code}</a>

<a id="selection-strategy"></a><a id="9549" href="Games.FiniteHistoryDependent.html#9549" class="Function">selection-strategy</a> <a id="9568" class="Symbol">:</a> <a id="9570" class="Symbol">{</a><a id="9571" href="Games.FiniteHistoryDependent.html#9571" class="Bound">Xt</a> <a id="9574" class="Symbol">:</a> <a id="9576" href="Games.TypeTrees.html#719" class="Datatype">𝑻</a><a id="9577" class="Symbol">}</a> <a id="9579" class="Symbol">→</a> <a id="9581" href="Games.FiniteHistoryDependent.html#8732" class="Function">𝓙</a> <a id="9583" href="Games.FiniteHistoryDependent.html#9571" class="Bound">Xt</a> <a id="9586" class="Symbol">→</a> <a id="9588" class="Symbol">(</a><a id="9589" href="Games.TypeTrees.html#906" class="Function">Path</a> <a id="9594" href="Games.FiniteHistoryDependent.html#9571" class="Bound">Xt</a> <a id="9597" class="Symbol">→</a> <a id="9599" href="Games.FiniteHistoryDependent.html#1635" class="Bound">R</a><a id="9600" class="Symbol">)</a> <a id="9602" class="Symbol">→</a> <a id="9604" href="Games.FiniteHistoryDependent.html#3682" class="Function">Strategy</a> <a id="9613" href="Games.FiniteHistoryDependent.html#9571" class="Bound">Xt</a>
<a id="9616" href="Games.FiniteHistoryDependent.html#9549" class="Function">selection-strategy</a> <a id="9635" class="Symbol">{</a><a id="9636" href="Games.TypeTrees.html#737" class="InductiveConstructor">[]</a><a id="9638" class="Symbol">}</a>     <a id="9644" href="Games.TypeTrees.html#1274" class="InductiveConstructor">⟨⟩</a>           <a id="9657" href="Games.FiniteHistoryDependent.html#9657" class="Bound">q</a> <a id="9659" class="Symbol">=</a> <a id="9661" href="Games.TypeTrees.html#1274" class="InductiveConstructor">⟨⟩</a>
<a id="9664" href="Games.FiniteHistoryDependent.html#9549" class="Function">selection-strategy</a> <a id="9683" class="Symbol">{</a><a id="9684" href="Games.FiniteHistoryDependent.html#9684" class="Bound">X</a> <a id="9686" href="Games.TypeTrees.html#747" class="InductiveConstructor Operator">∷</a> <a id="9688" href="Games.FiniteHistoryDependent.html#9688" class="Bound">Xf</a><a id="9690" class="Symbol">}</a> <a id="9692" href="Games.FiniteHistoryDependent.html#9692" class="Bound">εt</a><a id="9694" class="Symbol">@(</a><a id="9696" href="Games.FiniteHistoryDependent.html#9696" class="Bound">ε</a> <a id="9698" href="Games.TypeTrees.html#1296" class="InductiveConstructor Operator">::</a> <a id="9701" href="Games.FiniteHistoryDependent.html#9701" class="Bound">εf</a><a id="9703" class="Symbol">)</a> <a id="9705" href="Games.FiniteHistoryDependent.html#9705" class="Bound">q</a> <a id="9707" class="Symbol">=</a> <a id="9709" href="Games.FiniteHistoryDependent.html#9771" class="Function">x₀</a> <a id="9712" href="Games.TypeTrees.html#1296" class="InductiveConstructor Operator">::</a> <a id="9715" href="Games.FiniteHistoryDependent.html#9801" class="Function">σf</a>
 <a id="9719" class="Keyword">where</a>
  <a id="9727" href="Games.FiniteHistoryDependent.html#9727" class="Function">xs</a> <a id="9730" class="Symbol">:</a> <a id="9732" href="Games.TypeTrees.html#906" class="Function">Path</a> <a id="9737" class="Symbol">(</a><a id="9738" href="Games.FiniteHistoryDependent.html#9684" class="Bound">X</a> <a id="9740" href="Games.TypeTrees.html#747" class="InductiveConstructor Operator">∷</a> <a id="9742" href="Games.FiniteHistoryDependent.html#9688" class="Bound">Xf</a><a id="9744" class="Symbol">)</a>
  <a id="9748" href="Games.FiniteHistoryDependent.html#9727" class="Function">xs</a> <a id="9751" class="Symbol">=</a> <a id="9753" href="Games.FiniteHistoryDependent.html#9250" class="Function">sequenceᴶ</a> <a id="9763" href="Games.FiniteHistoryDependent.html#9692" class="Bound">εt</a> <a id="9766" href="Games.FiniteHistoryDependent.html#9705" class="Bound">q</a>

  <a id="9771" href="Games.FiniteHistoryDependent.html#9771" class="Function">x₀</a> <a id="9774" class="Symbol">:</a> <a id="9776" href="Games.FiniteHistoryDependent.html#9684" class="Bound">X</a>
  <a id="9780" href="Games.FiniteHistoryDependent.html#9771" class="Function">x₀</a> <a id="9783" class="Symbol">=</a> <a id="9785" href="Games.TypeTrees.html#1318" class="Function">path-head</a> <a id="9795" href="Games.FiniteHistoryDependent.html#9727" class="Function">xs</a>

  <a id="9801" href="Games.FiniteHistoryDependent.html#9801" class="Function">σf</a> <a id="9804" class="Symbol">:</a> <a id="9806" class="Symbol">(</a><a id="9807" href="Games.FiniteHistoryDependent.html#9807" class="Bound">x</a> <a id="9809" class="Symbol">:</a> <a id="9811" href="Games.FiniteHistoryDependent.html#9684" class="Bound">X</a><a id="9812" class="Symbol">)</a> <a id="9814" class="Symbol">→</a> <a id="9816" href="Games.FiniteHistoryDependent.html#3682" class="Function">Strategy</a> <a id="9825" class="Symbol">(</a><a id="9826" href="Games.FiniteHistoryDependent.html#9688" class="Bound">Xf</a> <a id="9829" href="Games.FiniteHistoryDependent.html#9807" class="Bound">x</a><a id="9830" class="Symbol">)</a>
  <a id="9834" href="Games.FiniteHistoryDependent.html#9801" class="Function">σf</a> <a id="9837" href="Games.FiniteHistoryDependent.html#9837" class="Bound">x</a> <a id="9839" class="Symbol">=</a> <a id="9841" href="Games.FiniteHistoryDependent.html#9549" class="Function">selection-strategy</a> <a id="9860" class="Symbol">{</a><a id="9861" href="Games.FiniteHistoryDependent.html#9688" class="Bound">Xf</a> <a id="9864" href="Games.FiniteHistoryDependent.html#9837" class="Bound">x</a><a id="9865" class="Symbol">}</a> <a id="9867" class="Symbol">(</a><a id="9868" href="Games.FiniteHistoryDependent.html#9701" class="Bound">εf</a> <a id="9871" href="Games.FiniteHistoryDependent.html#9837" class="Bound">x</a><a id="9872" class="Symbol">)</a> <a id="9874" class="Symbol">(</a><a id="9875" href="Games.TypeTrees.html#1622" class="Function">subpred</a> <a id="9883" href="Games.FiniteHistoryDependent.html#9705" class="Bound">q</a> <a id="9885" href="Games.FiniteHistoryDependent.html#9837" class="Bound">x</a><a id="9886" class="Symbol">)</a>

<a id="9889" class="Markup">\end{code}</a><a id="9899" class="Background">

We convert a selection function into a quantifier as in Definition 10
of [1], using the function overline, defined in another module.

The work with the definition of a selection function being a selection
function for a quantifier as in Section 1 on [1], defined in another
module.

We generalize it to selection-function and quantifier trees in the
obvious way, by induction:

</a><a id="10280" class="Markup">\begin{code}</a>

<a id="10294" class="Keyword">open</a> <a id="10299" href="MonadOnTypes.JK.html#215" class="Module">JK</a> <a id="10302" href="Games.FiniteHistoryDependent.html#1635" class="Bound">R</a>

<a id="_Attains_"></a><a id="10305" href="Games.FiniteHistoryDependent.html#10305" class="Function Operator">_Attains_</a> <a id="10315" class="Symbol">:</a> <a id="10317" class="Symbol">{</a><a id="10318" href="Games.FiniteHistoryDependent.html#10318" class="Bound">Xt</a> <a id="10321" class="Symbol">:</a> <a id="10323" href="Games.TypeTrees.html#719" class="Datatype">𝑻</a><a id="10324" class="Symbol">}</a> <a id="10326" class="Symbol">→</a> <a id="10328" href="Games.FiniteHistoryDependent.html#8732" class="Function">𝓙</a> <a id="10330" href="Games.FiniteHistoryDependent.html#10318" class="Bound">Xt</a> <a id="10333" class="Symbol">→</a> <a id="10335" href="Games.FiniteHistoryDependent.html#2364" class="Function">𝓚</a> <a id="10337" href="Games.FiniteHistoryDependent.html#10318" class="Bound">Xt</a> <a id="10340" class="Symbol">→</a> <a id="10342" href="Notation.General.html#372" class="Function">Type</a>
<a id="10347" href="Games.FiniteHistoryDependent.html#10305" class="Function Operator">_Attains_</a> <a id="10357" class="Symbol">{</a><a id="10358" href="Games.TypeTrees.html#737" class="InductiveConstructor">[]</a><a id="10360" class="Symbol">}</a>     <a id="10366" href="Games.TypeTrees.html#1274" class="InductiveConstructor">⟨⟩</a>        <a id="10376" href="Games.TypeTrees.html#1274" class="InductiveConstructor">⟨⟩</a>        <a id="10386" class="Symbol">=</a> <a id="10388" href="MLTT.Unit.html#129" class="Record">𝟙</a>
<a id="10390" href="Games.FiniteHistoryDependent.html#10305" class="Function Operator">_Attains_</a> <a id="10400" class="Symbol">{</a><a id="10401" href="Games.FiniteHistoryDependent.html#10401" class="Bound">X</a> <a id="10403" href="Games.TypeTrees.html#747" class="InductiveConstructor Operator">∷</a> <a id="10405" href="Games.FiniteHistoryDependent.html#10405" class="Bound">Xf</a><a id="10407" class="Symbol">}</a> <a id="10409" class="Symbol">(</a><a id="10410" href="Games.FiniteHistoryDependent.html#10410" class="Bound">ε</a> <a id="10412" href="Games.TypeTrees.html#1296" class="InductiveConstructor Operator">::</a> <a id="10415" href="Games.FiniteHistoryDependent.html#10415" class="Bound">εf</a><a id="10417" class="Symbol">)</a> <a id="10419" class="Symbol">(</a><a id="10420" href="Games.FiniteHistoryDependent.html#10420" class="Bound">ϕ</a> <a id="10422" href="Games.TypeTrees.html#1296" class="InductiveConstructor Operator">::</a> <a id="10425" href="Games.FiniteHistoryDependent.html#10425" class="Bound">ϕf</a><a id="10427" class="Symbol">)</a> <a id="10429" class="Symbol">=</a> <a id="10431" class="Symbol">(</a><a id="10432" href="Games.FiniteHistoryDependent.html#10410" class="Bound">ε</a> <a id="10434" href="MonadOnTypes.JK.html#555" class="Function Operator">attains</a> <a id="10442" href="Games.FiniteHistoryDependent.html#10420" class="Bound">ϕ</a><a id="10443" class="Symbol">)</a>
                                       <a id="10484" href="MLTT.Sigma.html#558" class="Function Operator">×</a> <a id="10486" class="Symbol">((</a><a id="10488" href="Games.FiniteHistoryDependent.html#10488" class="Bound">x</a> <a id="10490" class="Symbol">:</a> <a id="10492" href="Games.FiniteHistoryDependent.html#10401" class="Bound">X</a><a id="10493" class="Symbol">)</a> <a id="10495" class="Symbol">→</a> <a id="10497" class="Symbol">(</a><a id="10498" href="Games.FiniteHistoryDependent.html#10415" class="Bound">εf</a> <a id="10501" href="Games.FiniteHistoryDependent.html#10488" class="Bound">x</a><a id="10502" class="Symbol">)</a> <a id="10504" href="Games.FiniteHistoryDependent.html#10305" class="Function Operator">Attains</a> <a id="10512" class="Symbol">(</a><a id="10513" href="Games.FiniteHistoryDependent.html#10425" class="Bound">ϕf</a> <a id="10516" href="Games.FiniteHistoryDependent.html#10488" class="Bound">x</a><a id="10517" class="Symbol">))</a>

<a id="10521" class="Markup">\end{code}</a><a id="10531" class="Background">

The following is the application of overline to each selection
function of a tree:

</a><a id="10617" class="Markup">\begin{code}</a>

<a id="Overline"></a><a id="10631" href="Games.FiniteHistoryDependent.html#10631" class="Function">Overline</a> <a id="10640" class="Symbol">:</a> <a id="10642" class="Symbol">{</a><a id="10643" href="Games.FiniteHistoryDependent.html#10643" class="Bound">Xt</a> <a id="10646" class="Symbol">:</a> <a id="10648" href="Games.TypeTrees.html#719" class="Datatype">𝑻</a><a id="10649" class="Symbol">}</a> <a id="10651" class="Symbol">→</a> <a id="10653" href="Games.FiniteHistoryDependent.html#8732" class="Function">𝓙</a> <a id="10655" href="Games.FiniteHistoryDependent.html#10643" class="Bound">Xt</a> <a id="10658" class="Symbol">→</a> <a id="10660" href="Games.FiniteHistoryDependent.html#2364" class="Function">𝓚</a> <a id="10662" href="Games.FiniteHistoryDependent.html#10643" class="Bound">Xt</a>
<a id="10665" href="Games.FiniteHistoryDependent.html#10631" class="Function">Overline</a> <a id="10674" class="Symbol">{</a><a id="10675" href="Games.TypeTrees.html#737" class="InductiveConstructor">[]</a><a id="10677" class="Symbol">}</a>     <a id="10683" href="Games.TypeTrees.html#1274" class="InductiveConstructor">⟨⟩</a>        <a id="10693" class="Symbol">=</a> <a id="10695" href="Games.TypeTrees.html#1274" class="InductiveConstructor">⟨⟩</a>
<a id="10698" href="Games.FiniteHistoryDependent.html#10631" class="Function">Overline</a> <a id="10707" class="Symbol">{</a><a id="10708" href="Games.FiniteHistoryDependent.html#10708" class="Bound">X</a> <a id="10710" href="Games.TypeTrees.html#747" class="InductiveConstructor Operator">∷</a> <a id="10712" href="Games.FiniteHistoryDependent.html#10712" class="Bound">Xf</a><a id="10714" class="Symbol">}</a> <a id="10716" class="Symbol">(</a><a id="10717" href="Games.FiniteHistoryDependent.html#10717" class="Bound">ε</a> <a id="10719" href="Games.TypeTrees.html#1296" class="InductiveConstructor Operator">::</a> <a id="10722" href="Games.FiniteHistoryDependent.html#10722" class="Bound">εf</a><a id="10724" class="Symbol">)</a> <a id="10726" class="Symbol">=</a> <a id="10728" href="MonadOnTypes.JK.html#282" class="Function">overline</a> <a id="10737" href="Games.FiniteHistoryDependent.html#10717" class="Bound">ε</a> <a id="10739" href="Games.TypeTrees.html#1296" class="InductiveConstructor Operator">::</a> <a id="10742" class="Symbol">(λ</a> <a id="10745" href="Games.FiniteHistoryDependent.html#10745" class="Bound">x</a> <a id="10747" class="Symbol">→</a> <a id="10749" href="Games.FiniteHistoryDependent.html#10631" class="Function">Overline</a> <a id="10758" class="Symbol">{</a><a id="10759" href="Games.FiniteHistoryDependent.html#10712" class="Bound">Xf</a> <a id="10762" href="Games.FiniteHistoryDependent.html#10745" class="Bound">x</a><a id="10763" class="Symbol">}</a> <a id="10765" class="Symbol">(</a><a id="10766" href="Games.FiniteHistoryDependent.html#10722" class="Bound">εf</a> <a id="10769" href="Games.FiniteHistoryDependent.html#10745" class="Bound">x</a><a id="10770" class="Symbol">))</a>

<a id="10774" class="Markup">\end{code}</a><a id="10784" class="Background">

The following is proved by straightforward induction on trees:

</a><a id="10850" class="Markup">\begin{code}</a>

<a id="observation"></a><a id="10864" href="Games.FiniteHistoryDependent.html#10864" class="Function">observation</a> <a id="10876" class="Symbol">:</a> <a id="10878" href="UF.FunExt.html#1047" class="Function">Fun-Ext</a>
            <a id="10898" class="Symbol">→</a> <a id="10900" class="Symbol">{</a><a id="10901" href="Games.FiniteHistoryDependent.html#10901" class="Bound">Xt</a> <a id="10904" class="Symbol">:</a> <a id="10906" href="Games.TypeTrees.html#719" class="Datatype">𝑻</a><a id="10907" class="Symbol">}</a> <a id="10909" class="Symbol">(</a><a id="10910" href="Games.FiniteHistoryDependent.html#10910" class="Bound">εt</a> <a id="10913" class="Symbol">:</a> <a id="10915" href="Games.FiniteHistoryDependent.html#8732" class="Function">𝓙</a> <a id="10917" href="Games.FiniteHistoryDependent.html#10901" class="Bound">Xt</a><a id="10919" class="Symbol">)</a> <a id="10921" class="Symbol">(</a><a id="10922" href="Games.FiniteHistoryDependent.html#10922" class="Bound">ϕt</a> <a id="10925" class="Symbol">:</a> <a id="10927" href="Games.FiniteHistoryDependent.html#2364" class="Function">𝓚</a> <a id="10929" href="Games.FiniteHistoryDependent.html#10901" class="Bound">Xt</a><a id="10931" class="Symbol">)</a>
            <a id="10945" class="Symbol">→</a> <a id="10947" href="Games.FiniteHistoryDependent.html#10910" class="Bound">εt</a> <a id="10950" href="Games.FiniteHistoryDependent.html#10305" class="Function Operator">Attains</a> <a id="10958" href="Games.FiniteHistoryDependent.html#10922" class="Bound">ϕt</a>
            <a id="10973" class="Symbol">→</a> <a id="10975" href="Games.FiniteHistoryDependent.html#10631" class="Function">Overline</a> <a id="10984" href="Games.FiniteHistoryDependent.html#10910" class="Bound">εt</a> <a id="10987" href="MLTT.Id.html#193" class="Datatype Operator">＝</a> <a id="10989" href="Games.FiniteHistoryDependent.html#10922" class="Bound">ϕt</a>
<a id="10992" href="Games.FiniteHistoryDependent.html#10864" class="Function">observation</a> <a id="11004" href="Games.FiniteHistoryDependent.html#11004" class="Bound">fe</a> <a id="11007" class="Symbol">{</a><a id="11008" href="Games.TypeTrees.html#737" class="InductiveConstructor">[]</a><a id="11010" class="Symbol">}</a>     <a id="11016" href="Games.TypeTrees.html#1274" class="InductiveConstructor">⟨⟩</a>        <a id="11026" href="Games.TypeTrees.html#1274" class="InductiveConstructor">⟨⟩</a>        <a id="11036" href="Games.TypeTrees.html#1274" class="InductiveConstructor">⟨⟩</a>        <a id="11046" class="Symbol">=</a> <a id="11048" href="MLTT.Identity-Type.html#157" class="InductiveConstructor">refl</a>
<a id="11053" href="Games.FiniteHistoryDependent.html#10864" class="Function">observation</a> <a id="11065" href="Games.FiniteHistoryDependent.html#11065" class="Bound">fe</a> <a id="11068" class="Symbol">{</a><a id="11069" href="Games.FiniteHistoryDependent.html#11069" class="Bound">X</a> <a id="11071" href="Games.TypeTrees.html#747" class="InductiveConstructor Operator">∷</a> <a id="11073" href="Games.FiniteHistoryDependent.html#11073" class="Bound">Xf</a><a id="11075" class="Symbol">}</a> <a id="11077" class="Symbol">(</a><a id="11078" href="Games.FiniteHistoryDependent.html#11078" class="Bound">ε</a> <a id="11080" href="Games.TypeTrees.html#1296" class="InductiveConstructor Operator">::</a> <a id="11083" href="Games.FiniteHistoryDependent.html#11083" class="Bound">εf</a><a id="11085" class="Symbol">)</a> <a id="11087" class="Symbol">(</a><a id="11088" href="Games.FiniteHistoryDependent.html#11088" class="Bound">ϕ</a> <a id="11090" href="Games.TypeTrees.html#1296" class="InductiveConstructor Operator">::</a> <a id="11093" href="Games.FiniteHistoryDependent.html#11093" class="Bound">ϕf</a><a id="11095" class="Symbol">)</a> <a id="11097" class="Symbol">(</a><a id="11098" href="Games.FiniteHistoryDependent.html#11098" class="Bound">a</a> <a id="11100" href="Games.TypeTrees.html#1296" class="InductiveConstructor Operator">::</a> <a id="11103" href="Games.FiniteHistoryDependent.html#11103" class="Bound">af</a><a id="11105" class="Symbol">)</a> <a id="11107" class="Symbol">=</a> <a id="11109" href="Games.FiniteHistoryDependent.html#11312" class="Function">γ</a>
 <a id="11112" class="Keyword">where</a>
  <a id="11120" href="Games.FiniteHistoryDependent.html#11120" class="Function">IH</a> <a id="11123" class="Symbol">:</a> <a id="11125" class="Symbol">(</a><a id="11126" href="Games.FiniteHistoryDependent.html#11126" class="Bound">x</a> <a id="11128" class="Symbol">:</a> <a id="11130" href="Games.FiniteHistoryDependent.html#11069" class="Bound">X</a><a id="11131" class="Symbol">)</a> <a id="11133" class="Symbol">→</a> <a id="11135" href="Games.FiniteHistoryDependent.html#10631" class="Function">Overline</a> <a id="11144" class="Symbol">(</a><a id="11145" href="Games.FiniteHistoryDependent.html#11083" class="Bound">εf</a> <a id="11148" href="Games.FiniteHistoryDependent.html#11126" class="Bound">x</a><a id="11149" class="Symbol">)</a> <a id="11151" href="MLTT.Id.html#193" class="Datatype Operator">＝</a> <a id="11153" href="Games.FiniteHistoryDependent.html#11093" class="Bound">ϕf</a> <a id="11156" href="Games.FiniteHistoryDependent.html#11126" class="Bound">x</a>
  <a id="11160" href="Games.FiniteHistoryDependent.html#11120" class="Function">IH</a> <a id="11163" href="Games.FiniteHistoryDependent.html#11163" class="Bound">x</a> <a id="11165" class="Symbol">=</a> <a id="11167" href="Games.FiniteHistoryDependent.html#10864" class="Function">observation</a> <a id="11179" href="Games.FiniteHistoryDependent.html#11065" class="Bound">fe</a> <a id="11182" class="Symbol">{</a><a id="11183" href="Games.FiniteHistoryDependent.html#11073" class="Bound">Xf</a> <a id="11186" href="Games.FiniteHistoryDependent.html#11163" class="Bound">x</a><a id="11187" class="Symbol">}</a> <a id="11189" class="Symbol">(</a><a id="11190" href="Games.FiniteHistoryDependent.html#11083" class="Bound">εf</a> <a id="11193" href="Games.FiniteHistoryDependent.html#11163" class="Bound">x</a><a id="11194" class="Symbol">)</a> <a id="11196" class="Symbol">(</a><a id="11197" href="Games.FiniteHistoryDependent.html#11093" class="Bound">ϕf</a> <a id="11200" href="Games.FiniteHistoryDependent.html#11163" class="Bound">x</a><a id="11201" class="Symbol">)</a> <a id="11203" class="Symbol">(</a><a id="11204" href="Games.FiniteHistoryDependent.html#11103" class="Bound">af</a> <a id="11207" href="Games.FiniteHistoryDependent.html#11163" class="Bound">x</a><a id="11208" class="Symbol">)</a>

  <a id="11213" href="Games.FiniteHistoryDependent.html#11213" class="Function">I</a> <a id="11215" class="Symbol">:</a> <a id="11217" href="MonadOnTypes.JK.html#282" class="Function">overline</a> <a id="11226" href="Games.FiniteHistoryDependent.html#11078" class="Bound">ε</a> <a id="11228" href="MLTT.Id.html#193" class="Datatype Operator">＝</a> <a id="11230" href="Games.FiniteHistoryDependent.html#11088" class="Bound">ϕ</a>
  <a id="11234" href="Games.FiniteHistoryDependent.html#11213" class="Function">I</a> <a id="11236" class="Symbol">=</a> <a id="11238" href="UF.FunExt.html#1242" class="Function">dfunext</a> <a id="11246" href="Games.FiniteHistoryDependent.html#11065" class="Bound">fe</a> <a id="11249" href="Games.FiniteHistoryDependent.html#11098" class="Bound">a</a>

  <a id="11254" href="Games.FiniteHistoryDependent.html#11254" class="Function">II</a> <a id="11257" class="Symbol">:</a> <a id="11259" class="Symbol">(λ</a> <a id="11262" href="Games.FiniteHistoryDependent.html#11262" class="Bound">x</a> <a id="11264" class="Symbol">→</a> <a id="11266" href="Games.FiniteHistoryDependent.html#10631" class="Function">Overline</a> <a id="11275" class="Symbol">(</a><a id="11276" href="Games.FiniteHistoryDependent.html#11083" class="Bound">εf</a> <a id="11279" href="Games.FiniteHistoryDependent.html#11262" class="Bound">x</a><a id="11280" class="Symbol">))</a> <a id="11283" href="MLTT.Id.html#193" class="Datatype Operator">＝</a> <a id="11285" href="Games.FiniteHistoryDependent.html#11093" class="Bound">ϕf</a>
  <a id="11290" href="Games.FiniteHistoryDependent.html#11254" class="Function">II</a> <a id="11293" class="Symbol">=</a> <a id="11295" href="UF.FunExt.html#1242" class="Function">dfunext</a> <a id="11303" href="Games.FiniteHistoryDependent.html#11065" class="Bound">fe</a> <a id="11306" href="Games.FiniteHistoryDependent.html#11120" class="Function">IH</a>

  <a id="11312" href="Games.FiniteHistoryDependent.html#11312" class="Function">γ</a> <a id="11314" class="Symbol">:</a> <a id="11316" href="MonadOnTypes.JK.html#282" class="Function">overline</a> <a id="11325" href="Games.FiniteHistoryDependent.html#11078" class="Bound">ε</a> <a id="11327" href="Games.TypeTrees.html#1296" class="InductiveConstructor Operator">::</a> <a id="11330" class="Symbol">(λ</a> <a id="11333" href="Games.FiniteHistoryDependent.html#11333" class="Bound">x</a> <a id="11335" class="Symbol">→</a> <a id="11337" href="Games.FiniteHistoryDependent.html#10631" class="Function">Overline</a> <a id="11346" class="Symbol">(</a><a id="11347" href="Games.FiniteHistoryDependent.html#11083" class="Bound">εf</a> <a id="11350" href="Games.FiniteHistoryDependent.html#11333" class="Bound">x</a><a id="11351" class="Symbol">))</a> <a id="11354" href="MLTT.Id.html#193" class="Datatype Operator">＝</a> <a id="11356" href="Games.FiniteHistoryDependent.html#11088" class="Bound">ϕ</a> <a id="11358" href="Games.TypeTrees.html#1296" class="InductiveConstructor Operator">::</a> <a id="11361" href="Games.FiniteHistoryDependent.html#11093" class="Bound">ϕf</a>
  <a id="11366" href="Games.FiniteHistoryDependent.html#11312" class="Function">γ</a> <a id="11368" class="Symbol">=</a> <a id="11370" href="UF.Base.html#8182" class="Function">ap₂</a> <a id="11374" href="Games.TypeTrees.html#1296" class="InductiveConstructor Operator">_::_</a> <a id="11379" href="Games.FiniteHistoryDependent.html#11213" class="Function">I</a> <a id="11381" href="Games.FiniteHistoryDependent.html#11254" class="Function">II</a>

<a id="observation-converse"></a><a id="11385" href="Games.FiniteHistoryDependent.html#11385" class="Function">observation-converse</a> <a id="11406" class="Symbol">:</a> <a id="11408" class="Symbol">{</a><a id="11409" href="Games.FiniteHistoryDependent.html#11409" class="Bound">Xt</a> <a id="11412" class="Symbol">:</a> <a id="11414" href="Games.TypeTrees.html#719" class="Datatype">𝑻</a><a id="11415" class="Symbol">}</a> <a id="11417" class="Symbol">(</a><a id="11418" href="Games.FiniteHistoryDependent.html#11418" class="Bound">εt</a> <a id="11421" class="Symbol">:</a> <a id="11423" href="Games.FiniteHistoryDependent.html#8732" class="Function">𝓙</a> <a id="11425" href="Games.FiniteHistoryDependent.html#11409" class="Bound">Xt</a><a id="11427" class="Symbol">)</a> <a id="11429" class="Symbol">(</a><a id="11430" href="Games.FiniteHistoryDependent.html#11430" class="Bound">ϕt</a> <a id="11433" class="Symbol">:</a> <a id="11435" href="Games.FiniteHistoryDependent.html#2364" class="Function">𝓚</a> <a id="11437" href="Games.FiniteHistoryDependent.html#11409" class="Bound">Xt</a><a id="11439" class="Symbol">)</a>
                     <a id="11462" class="Symbol">→</a> <a id="11464" href="Games.FiniteHistoryDependent.html#10631" class="Function">Overline</a> <a id="11473" href="Games.FiniteHistoryDependent.html#11418" class="Bound">εt</a> <a id="11476" href="MLTT.Id.html#193" class="Datatype Operator">＝</a> <a id="11478" href="Games.FiniteHistoryDependent.html#11430" class="Bound">ϕt</a>
                     <a id="11502" class="Symbol">→</a> <a id="11504" href="Games.FiniteHistoryDependent.html#11418" class="Bound">εt</a> <a id="11507" href="Games.FiniteHistoryDependent.html#10305" class="Function Operator">Attains</a> <a id="11515" href="Games.FiniteHistoryDependent.html#11430" class="Bound">ϕt</a>
<a id="11518" href="Games.FiniteHistoryDependent.html#11385" class="Function">observation-converse</a> <a id="11539" class="Symbol">{</a><a id="11540" href="Games.TypeTrees.html#737" class="InductiveConstructor">[]</a><a id="11542" class="Symbol">}</a>     <a id="11548" href="Games.FiniteHistoryDependent.html#11548" class="Bound">εt</a> <a id="11551" href="Games.FiniteHistoryDependent.html#11551" class="Bound">ϕt</a> <a id="11554" href="Games.FiniteHistoryDependent.html#11554" class="Bound">p</a> <a id="11556" class="Symbol">=</a> <a id="11558" href="Games.TypeTrees.html#1274" class="InductiveConstructor">⟨⟩</a>
<a id="11561" href="Games.FiniteHistoryDependent.html#11385" class="Function">observation-converse</a> <a id="11582" class="Symbol">{</a><a id="11583" href="Games.FiniteHistoryDependent.html#11583" class="Bound">X</a> <a id="11585" href="Games.TypeTrees.html#747" class="InductiveConstructor Operator">∷</a> <a id="11587" href="Games.FiniteHistoryDependent.html#11587" class="Bound">Xf</a><a id="11589" class="Symbol">}</a> <a id="11591" class="Symbol">(</a><a id="11592" href="Games.FiniteHistoryDependent.html#11592" class="Bound">ε</a> <a id="11594" href="Games.TypeTrees.html#1296" class="InductiveConstructor Operator">::</a> <a id="11597" href="Games.FiniteHistoryDependent.html#11597" class="Bound">εf</a><a id="11599" class="Symbol">)</a>
                     <a id="11622" class="Symbol">(</a><a id="11623" class="DottedPattern Symbol">.(λ</a> <a id="11627" href="Games.FiniteHistoryDependent.html#11627" class="DottedPattern Bound">p</a> <a id="11629" class="Symbol">→</a> <a id="11631" href="Games.FiniteHistoryDependent.html#11627" class="DottedPattern Bound">p</a> <a id="11633" class="DottedPattern Symbol">(</a><a id="11634" href="Games.FiniteHistoryDependent.html#11592" class="DottedPattern Bound">ε</a> <a id="11636" href="Games.FiniteHistoryDependent.html#11627" class="DottedPattern Bound">p</a><a id="11637" class="DottedPattern Symbol">))</a> <a id="11640" href="Games.TypeTrees.html#1296" class="InductiveConstructor Operator">::</a> <a id="11643" class="DottedPattern Symbol">.(λ</a> <a id="11647" href="Games.FiniteHistoryDependent.html#11647" class="DottedPattern Bound">x</a> <a id="11649" class="Symbol">→</a> <a id="11651" href="Games.FiniteHistoryDependent.html#10631" class="DottedPattern Function">Overline</a> <a id="11660" class="DottedPattern Symbol">(</a><a id="11661" href="Games.FiniteHistoryDependent.html#11597" class="DottedPattern Bound">εf</a> <a id="11664" href="Games.FiniteHistoryDependent.html#11647" class="DottedPattern Bound">x</a><a id="11665" class="DottedPattern Symbol">))</a><a id="11667" class="Symbol">)</a> <a id="11669" href="MLTT.Identity-Type.html#157" class="InductiveConstructor">refl</a> <a id="11674" class="Symbol">=</a>
 <a id="11677" class="Symbol">(λ</a> <a id="11680" href="Games.FiniteHistoryDependent.html#11680" class="Bound">x</a> <a id="11682" class="Symbol">→</a> <a id="11684" href="MLTT.Identity-Type.html#157" class="InductiveConstructor">refl</a><a id="11688" class="Symbol">)</a> <a id="11690" href="Games.TypeTrees.html#1296" class="InductiveConstructor Operator">::</a> <a id="11693" class="Symbol">(λ</a> <a id="11696" href="Games.FiniteHistoryDependent.html#11696" class="Bound">x</a> <a id="11698" class="Symbol">→</a> <a id="11700" href="Games.FiniteHistoryDependent.html#11385" class="Function">observation-converse</a> <a id="11721" class="Symbol">(</a><a id="11722" href="Games.FiniteHistoryDependent.html#11597" class="Bound">εf</a> <a id="11725" href="Games.FiniteHistoryDependent.html#11696" class="Bound">x</a><a id="11726" class="Symbol">)</a> <a id="11728" class="Symbol">(</a><a id="11729" href="Games.FiniteHistoryDependent.html#10631" class="Function">Overline</a> <a id="11738" class="Symbol">(</a><a id="11739" href="Games.FiniteHistoryDependent.html#11597" class="Bound">εf</a> <a id="11742" href="Games.FiniteHistoryDependent.html#11696" class="Bound">x</a><a id="11743" class="Symbol">))</a> <a id="11746" href="MLTT.Identity-Type.html#157" class="InductiveConstructor">refl</a><a id="11750" class="Symbol">)</a>

<a id="11753" class="Markup">\end{code}</a><a id="11763" class="Background">

Notice that the converse is also true, that is, if Overline εt ＝ ϕt
then εt are selections of ϕt, but we don&#39;t need this fact here.

</a><a id="11898" class="Markup">\begin{code}</a>

<a id="main-lemma"></a><a id="11912" href="Games.FiniteHistoryDependent.html#11912" class="Function">main-lemma</a> <a id="11923" class="Symbol">:</a> <a id="11925" class="Symbol">{</a><a id="11926" href="Games.FiniteHistoryDependent.html#11926" class="Bound">Xt</a> <a id="11929" class="Symbol">:</a> <a id="11931" href="Games.TypeTrees.html#719" class="Datatype">𝑻</a><a id="11932" class="Symbol">}</a> <a id="11934" class="Symbol">(</a><a id="11935" href="Games.FiniteHistoryDependent.html#11935" class="Bound">εt</a> <a id="11938" class="Symbol">:</a> <a id="11940" href="Games.FiniteHistoryDependent.html#8732" class="Function">𝓙</a> <a id="11942" href="Games.FiniteHistoryDependent.html#11926" class="Bound">Xt</a><a id="11944" class="Symbol">)</a> <a id="11946" class="Symbol">(</a><a id="11947" href="Games.FiniteHistoryDependent.html#11947" class="Bound">q</a> <a id="11949" class="Symbol">:</a> <a id="11951" href="Games.TypeTrees.html#906" class="Function">Path</a> <a id="11956" href="Games.FiniteHistoryDependent.html#11926" class="Bound">Xt</a> <a id="11959" class="Symbol">→</a> <a id="11961" href="Games.FiniteHistoryDependent.html#1635" class="Bound">R</a><a id="11962" class="Symbol">)</a>
           <a id="11975" class="Symbol">→</a> <a id="11977" href="Games.FiniteHistoryDependent.html#4195" class="Function">strategic-path</a> <a id="11992" class="Symbol">(</a><a id="11993" href="Games.FiniteHistoryDependent.html#9549" class="Function">selection-strategy</a> <a id="12012" href="Games.FiniteHistoryDependent.html#11935" class="Bound">εt</a> <a id="12015" href="Games.FiniteHistoryDependent.html#11947" class="Bound">q</a><a id="12016" class="Symbol">)</a>
           <a id="12029" href="MLTT.Id.html#193" class="Datatype Operator">＝</a> <a id="12031" href="Games.FiniteHistoryDependent.html#9250" class="Function">sequenceᴶ</a> <a id="12041" href="Games.FiniteHistoryDependent.html#11935" class="Bound">εt</a> <a id="12044" href="Games.FiniteHistoryDependent.html#11947" class="Bound">q</a>
<a id="12046" href="Games.FiniteHistoryDependent.html#11912" class="Function">main-lemma</a> <a id="12057" class="Symbol">{</a><a id="12058" href="Games.TypeTrees.html#737" class="InductiveConstructor">[]</a><a id="12060" class="Symbol">}</a>     <a id="12066" href="Games.TypeTrees.html#1274" class="InductiveConstructor">⟨⟩</a>           <a id="12079" href="Games.FiniteHistoryDependent.html#12079" class="Bound">q</a> <a id="12081" class="Symbol">=</a> <a id="12083" href="MLTT.Identity-Type.html#157" class="InductiveConstructor">refl</a>
<a id="12088" href="Games.FiniteHistoryDependent.html#11912" class="Function">main-lemma</a> <a id="12099" class="Symbol">{</a><a id="12100" href="Games.FiniteHistoryDependent.html#12100" class="Bound">X</a> <a id="12102" href="Games.TypeTrees.html#747" class="InductiveConstructor Operator">∷</a> <a id="12104" href="Games.FiniteHistoryDependent.html#12104" class="Bound">Xf</a><a id="12106" class="Symbol">}</a> <a id="12108" href="Games.FiniteHistoryDependent.html#12108" class="Bound">εt</a><a id="12110" class="Symbol">@(</a><a id="12112" href="Games.FiniteHistoryDependent.html#12112" class="Bound">ε</a> <a id="12114" href="Games.TypeTrees.html#1296" class="InductiveConstructor Operator">::</a> <a id="12117" href="Games.FiniteHistoryDependent.html#12117" class="Bound">εf</a><a id="12119" class="Symbol">)</a> <a id="12121" href="Games.FiniteHistoryDependent.html#12121" class="Bound">q</a> <a id="12123" class="Symbol">=</a>
 <a id="12126" href="Games.FiniteHistoryDependent.html#4195" class="Function">strategic-path</a> <a id="12141" class="Symbol">(</a><a id="12142" href="Games.FiniteHistoryDependent.html#9549" class="Function">selection-strategy</a> <a id="12161" class="Symbol">(</a><a id="12162" href="Games.FiniteHistoryDependent.html#12112" class="Bound">ε</a> <a id="12164" href="Games.TypeTrees.html#1296" class="InductiveConstructor Operator">::</a> <a id="12167" href="Games.FiniteHistoryDependent.html#12117" class="Bound">εf</a><a id="12169" class="Symbol">)</a> <a id="12171" href="Games.FiniteHistoryDependent.html#12121" class="Bound">q</a><a id="12172" class="Symbol">)</a> <a id="12174" href="MLTT.Id.html#2705" class="Function Operator">＝⟨</a> <a id="12177" href="MLTT.Identity-Type.html#157" class="InductiveConstructor">refl</a> <a id="12182" href="MLTT.Id.html#2705" class="Function Operator">⟩</a>
 <a id="12185" href="Games.FiniteHistoryDependent.html#12565" class="Function">x₀</a> <a id="12188" href="Games.TypeTrees.html#1296" class="InductiveConstructor Operator">::</a> <a id="12191" href="Games.FiniteHistoryDependent.html#4195" class="Function">strategic-path</a> <a id="12206" class="Symbol">(</a><a id="12207" href="Games.FiniteHistoryDependent.html#12610" class="Function">σf</a> <a id="12210" href="Games.FiniteHistoryDependent.html#12565" class="Function">x₀</a><a id="12212" class="Symbol">)</a>                    <a id="12233" href="MLTT.Id.html#2705" class="Function Operator">＝⟨</a> <a id="12236" href="MLTT.Id.html#1136" class="Function">ap</a> <a id="12239" class="Symbol">(</a><a id="12240" href="Games.FiniteHistoryDependent.html#12565" class="Function">x₀</a> <a id="12243" href="Games.TypeTrees.html#1296" class="InductiveConstructor Operator">::_</a><a id="12246" class="Symbol">)</a> <a id="12248" href="Games.FiniteHistoryDependent.html#12700" class="Function">IH</a> <a id="12251" href="MLTT.Id.html#2705" class="Function Operator">⟩</a>
 <a id="12254" href="Games.FiniteHistoryDependent.html#12565" class="Function">x₀</a> <a id="12257" href="Games.TypeTrees.html#1296" class="InductiveConstructor Operator">::</a> <a id="12260" href="Games.FiniteHistoryDependent.html#9250" class="Function">sequenceᴶ</a> <a id="12270" class="Symbol">{</a><a id="12271" href="Games.FiniteHistoryDependent.html#12104" class="Bound">Xf</a> <a id="12274" href="Games.FiniteHistoryDependent.html#12565" class="Function">x₀</a><a id="12276" class="Symbol">}</a> <a id="12278" class="Symbol">(</a><a id="12279" href="Games.FiniteHistoryDependent.html#12117" class="Bound">εf</a> <a id="12282" href="Games.FiniteHistoryDependent.html#12565" class="Function">x₀</a><a id="12284" class="Symbol">)</a> <a id="12286" class="Symbol">(</a><a id="12287" href="Games.TypeTrees.html#1622" class="Function">subpred</a> <a id="12295" href="Games.FiniteHistoryDependent.html#12121" class="Bound">q</a> <a id="12297" href="Games.FiniteHistoryDependent.html#12565" class="Function">x₀</a><a id="12299" class="Symbol">)</a>  <a id="12302" href="MLTT.Id.html#2705" class="Function Operator">＝⟨</a> <a id="12305" href="MLTT.Identity-Type.html#157" class="InductiveConstructor">refl</a> <a id="12310" href="MLTT.Id.html#2705" class="Function Operator">⟩</a>
 <a id="12313" href="Games.FiniteHistoryDependent.html#12565" class="Function">x₀</a> <a id="12316" href="Games.TypeTrees.html#1296" class="InductiveConstructor Operator">::</a> <a id="12319" href="Games.FiniteHistoryDependent.html#12490" class="Function">ν</a> <a id="12321" href="Games.FiniteHistoryDependent.html#12565" class="Function">x₀</a>                                      <a id="12361" href="MLTT.Id.html#2705" class="Function Operator">＝⟨</a> <a id="12364" href="MLTT.Identity-Type.html#157" class="InductiveConstructor">refl</a> <a id="12369" href="MLTT.Id.html#2705" class="Function Operator">⟩</a>
 <a id="12372" class="Symbol">(</a><a id="12373" href="Games.FiniteHistoryDependent.html#12112" class="Bound">ε</a> <a id="12375" href="MonadOnTypes.J.html#498" class="Function Operator">⊗ᴶ</a> <a id="12378" class="Symbol">(λ</a> <a id="12381" href="Games.FiniteHistoryDependent.html#12381" class="Bound">x</a> <a id="12383" class="Symbol">→</a> <a id="12385" href="Games.FiniteHistoryDependent.html#9250" class="Function">sequenceᴶ</a> <a id="12395" class="Symbol">{</a><a id="12396" href="Games.FiniteHistoryDependent.html#12104" class="Bound">Xf</a> <a id="12399" href="Games.FiniteHistoryDependent.html#12381" class="Bound">x</a><a id="12400" class="Symbol">}</a> <a id="12402" class="Symbol">(</a><a id="12403" href="Games.FiniteHistoryDependent.html#12117" class="Bound">εf</a> <a id="12406" href="Games.FiniteHistoryDependent.html#12381" class="Bound">x</a><a id="12407" class="Symbol">)))</a> <a id="12411" href="Games.FiniteHistoryDependent.html#12121" class="Bound">q</a>        <a id="12420" href="MLTT.Id.html#2705" class="Function Operator">＝⟨</a> <a id="12423" href="MLTT.Identity-Type.html#157" class="InductiveConstructor">refl</a> <a id="12428" href="MLTT.Id.html#2705" class="Function Operator">⟩</a>
 <a id="12431" href="Games.FiniteHistoryDependent.html#9250" class="Function">sequenceᴶ</a> <a id="12441" class="Symbol">(</a><a id="12442" href="Games.FiniteHistoryDependent.html#12112" class="Bound">ε</a> <a id="12444" href="Games.TypeTrees.html#1296" class="InductiveConstructor Operator">::</a> <a id="12447" href="Games.FiniteHistoryDependent.html#12117" class="Bound">εf</a><a id="12449" class="Symbol">)</a> <a id="12451" href="Games.FiniteHistoryDependent.html#12121" class="Bound">q</a>                           <a id="12479" href="MLTT.Id.html#2787" class="Function Operator">∎</a>
 <a id="12482" class="Keyword">where</a>
  <a id="12490" href="Games.FiniteHistoryDependent.html#12490" class="Function">ν</a> <a id="12492" class="Symbol">:</a> <a id="12494" class="Symbol">(</a><a id="12495" href="Games.FiniteHistoryDependent.html#12495" class="Bound">x</a> <a id="12497" class="Symbol">:</a> <a id="12499" href="Games.FiniteHistoryDependent.html#12100" class="Bound">X</a><a id="12500" class="Symbol">)</a> <a id="12502" class="Symbol">→</a> <a id="12504" href="Games.TypeTrees.html#906" class="Function">Path</a> <a id="12509" class="Symbol">(</a><a id="12510" href="Games.FiniteHistoryDependent.html#12104" class="Bound">Xf</a> <a id="12513" href="Games.FiniteHistoryDependent.html#12495" class="Bound">x</a><a id="12514" class="Symbol">)</a>
  <a id="12518" href="Games.FiniteHistoryDependent.html#12490" class="Function">ν</a> <a id="12520" href="Games.FiniteHistoryDependent.html#12520" class="Bound">x</a> <a id="12522" class="Symbol">=</a> <a id="12524" href="Games.FiniteHistoryDependent.html#9250" class="Function">sequenceᴶ</a> <a id="12534" class="Symbol">{</a><a id="12535" href="Games.FiniteHistoryDependent.html#12104" class="Bound">Xf</a> <a id="12538" href="Games.FiniteHistoryDependent.html#12520" class="Bound">x</a><a id="12539" class="Symbol">}</a> <a id="12541" class="Symbol">(</a><a id="12542" href="Games.FiniteHistoryDependent.html#12117" class="Bound">εf</a> <a id="12545" href="Games.FiniteHistoryDependent.html#12520" class="Bound">x</a><a id="12546" class="Symbol">)</a> <a id="12548" class="Symbol">(</a><a id="12549" href="Games.TypeTrees.html#1622" class="Function">subpred</a> <a id="12557" href="Games.FiniteHistoryDependent.html#12121" class="Bound">q</a> <a id="12559" href="Games.FiniteHistoryDependent.html#12520" class="Bound">x</a><a id="12560" class="Symbol">)</a>

  <a id="12565" href="Games.FiniteHistoryDependent.html#12565" class="Function">x₀</a> <a id="12568" class="Symbol">:</a> <a id="12570" href="Games.FiniteHistoryDependent.html#12100" class="Bound">X</a>
  <a id="12574" href="Games.FiniteHistoryDependent.html#12565" class="Function">x₀</a> <a id="12577" class="Symbol">=</a> <a id="12579" href="Games.FiniteHistoryDependent.html#12112" class="Bound">ε</a> <a id="12581" class="Symbol">(λ</a> <a id="12584" href="Games.FiniteHistoryDependent.html#12584" class="Bound">x</a> <a id="12586" class="Symbol">→</a> <a id="12588" href="Games.TypeTrees.html#1622" class="Function">subpred</a> <a id="12596" href="Games.FiniteHistoryDependent.html#12121" class="Bound">q</a> <a id="12598" href="Games.FiniteHistoryDependent.html#12584" class="Bound">x</a> <a id="12600" class="Symbol">(</a><a id="12601" href="Games.FiniteHistoryDependent.html#12490" class="Function">ν</a> <a id="12603" href="Games.FiniteHistoryDependent.html#12584" class="Bound">x</a><a id="12604" class="Symbol">))</a>

  <a id="12610" href="Games.FiniteHistoryDependent.html#12610" class="Function">σf</a> <a id="12613" class="Symbol">:</a> <a id="12615" class="Symbol">(</a><a id="12616" href="Games.FiniteHistoryDependent.html#12616" class="Bound">x</a> <a id="12618" class="Symbol">:</a> <a id="12620" href="Games.FiniteHistoryDependent.html#12100" class="Bound">X</a><a id="12621" class="Symbol">)</a> <a id="12623" class="Symbol">→</a> <a id="12625" href="Games.FiniteHistoryDependent.html#3682" class="Function">Strategy</a> <a id="12634" class="Symbol">(</a><a id="12635" href="Games.FiniteHistoryDependent.html#12104" class="Bound">Xf</a> <a id="12638" href="Games.FiniteHistoryDependent.html#12616" class="Bound">x</a><a id="12639" class="Symbol">)</a>
  <a id="12643" href="Games.FiniteHistoryDependent.html#12610" class="Function">σf</a> <a id="12646" href="Games.FiniteHistoryDependent.html#12646" class="Bound">x</a> <a id="12648" class="Symbol">=</a> <a id="12650" href="Games.FiniteHistoryDependent.html#9549" class="Function">selection-strategy</a> <a id="12669" class="Symbol">{</a><a id="12670" href="Games.FiniteHistoryDependent.html#12104" class="Bound">Xf</a> <a id="12673" href="Games.FiniteHistoryDependent.html#12646" class="Bound">x</a><a id="12674" class="Symbol">}</a> <a id="12676" class="Symbol">(</a><a id="12677" href="Games.FiniteHistoryDependent.html#12117" class="Bound">εf</a> <a id="12680" href="Games.FiniteHistoryDependent.html#12646" class="Bound">x</a><a id="12681" class="Symbol">)</a> <a id="12683" class="Symbol">(</a><a id="12684" href="Games.TypeTrees.html#1622" class="Function">subpred</a> <a id="12692" href="Games.FiniteHistoryDependent.html#12121" class="Bound">q</a> <a id="12694" href="Games.FiniteHistoryDependent.html#12646" class="Bound">x</a><a id="12695" class="Symbol">)</a>

  <a id="12700" href="Games.FiniteHistoryDependent.html#12700" class="Function">IH</a> <a id="12703" class="Symbol">:</a> <a id="12705" href="Games.FiniteHistoryDependent.html#4195" class="Function">strategic-path</a> <a id="12720" class="Symbol">(</a><a id="12721" href="Games.FiniteHistoryDependent.html#12610" class="Function">σf</a> <a id="12724" href="Games.FiniteHistoryDependent.html#12565" class="Function">x₀</a><a id="12726" class="Symbol">)</a> <a id="12728" href="MLTT.Id.html#193" class="Datatype Operator">＝</a> <a id="12730" href="Games.FiniteHistoryDependent.html#9250" class="Function">sequenceᴶ</a> <a id="12740" class="Symbol">{</a><a id="12741" href="Games.FiniteHistoryDependent.html#12104" class="Bound">Xf</a> <a id="12744" href="Games.FiniteHistoryDependent.html#12565" class="Function">x₀</a><a id="12746" class="Symbol">}</a> <a id="12748" class="Symbol">(</a><a id="12749" href="Games.FiniteHistoryDependent.html#12117" class="Bound">εf</a> <a id="12752" href="Games.FiniteHistoryDependent.html#12565" class="Function">x₀</a><a id="12754" class="Symbol">)</a> <a id="12756" class="Symbol">(</a><a id="12757" href="Games.TypeTrees.html#1622" class="Function">subpred</a> <a id="12765" href="Games.FiniteHistoryDependent.html#12121" class="Bound">q</a> <a id="12767" href="Games.FiniteHistoryDependent.html#12565" class="Function">x₀</a><a id="12769" class="Symbol">)</a>
  <a id="12773" href="Games.FiniteHistoryDependent.html#12700" class="Function">IH</a> <a id="12776" class="Symbol">=</a> <a id="12778" href="Games.FiniteHistoryDependent.html#11912" class="Function">main-lemma</a> <a id="12789" class="Symbol">(</a><a id="12790" href="Games.FiniteHistoryDependent.html#12117" class="Bound">εf</a> <a id="12793" href="Games.FiniteHistoryDependent.html#12565" class="Function">x₀</a><a id="12795" class="Symbol">)</a> <a id="12797" class="Symbol">(</a><a id="12798" href="Games.TypeTrees.html#1622" class="Function">subpred</a> <a id="12806" href="Games.FiniteHistoryDependent.html#12121" class="Bound">q</a> <a id="12808" href="Games.FiniteHistoryDependent.html#12565" class="Function">x₀</a><a id="12810" class="Symbol">)</a>

<a id="selection-strategy-lemma"></a><a id="12813" href="Games.FiniteHistoryDependent.html#12813" class="Function">selection-strategy-lemma</a> <a id="12838" class="Symbol">:</a> <a id="12840" href="UF.FunExt.html#1047" class="Function">Fun-Ext</a>
                         <a id="12873" class="Symbol">→</a> <a id="12875" class="Symbol">{</a><a id="12876" href="Games.FiniteHistoryDependent.html#12876" class="Bound">Xt</a> <a id="12879" class="Symbol">:</a> <a id="12881" href="Games.TypeTrees.html#719" class="Datatype">𝑻</a><a id="12882" class="Symbol">}</a> <a id="12884" class="Symbol">(</a><a id="12885" href="Games.FiniteHistoryDependent.html#12885" class="Bound">εt</a> <a id="12888" class="Symbol">:</a> <a id="12890" href="Games.FiniteHistoryDependent.html#8732" class="Function">𝓙</a> <a id="12892" href="Games.FiniteHistoryDependent.html#12876" class="Bound">Xt</a><a id="12894" class="Symbol">)</a> <a id="12896" class="Symbol">(</a><a id="12897" href="Games.FiniteHistoryDependent.html#12897" class="Bound">q</a> <a id="12899" class="Symbol">:</a> <a id="12901" href="Games.TypeTrees.html#906" class="Function">Path</a> <a id="12906" href="Games.FiniteHistoryDependent.html#12876" class="Bound">Xt</a> <a id="12909" class="Symbol">→</a> <a id="12911" href="Games.FiniteHistoryDependent.html#1635" class="Bound">R</a><a id="12912" class="Symbol">)</a>
                         <a id="12939" class="Symbol">→</a> <a id="12941" href="Games.FiniteHistoryDependent.html#5828" class="Function">is-in-sgpe</a> <a id="12952" class="Symbol">(</a><a id="12953" href="Games.FiniteHistoryDependent.html#10631" class="Function">Overline</a> <a id="12962" href="Games.FiniteHistoryDependent.html#12885" class="Bound">εt</a><a id="12964" class="Symbol">)</a> <a id="12966" href="Games.FiniteHistoryDependent.html#12897" class="Bound">q</a> <a id="12968" class="Symbol">(</a><a id="12969" href="Games.FiniteHistoryDependent.html#9549" class="Function">selection-strategy</a> <a id="12988" href="Games.FiniteHistoryDependent.html#12885" class="Bound">εt</a> <a id="12991" href="Games.FiniteHistoryDependent.html#12897" class="Bound">q</a><a id="12992" class="Symbol">)</a>
<a id="12994" href="Games.FiniteHistoryDependent.html#12813" class="Function">selection-strategy-lemma</a> <a id="13019" href="Games.FiniteHistoryDependent.html#13019" class="Bound">fe</a> <a id="13022" class="Symbol">{</a><a id="13023" href="Games.TypeTrees.html#737" class="InductiveConstructor">[]</a><a id="13025" class="Symbol">}</a>     <a id="13031" href="Games.TypeTrees.html#1274" class="InductiveConstructor">⟨⟩</a>           <a id="13044" href="Games.FiniteHistoryDependent.html#13044" class="Bound">q</a> <a id="13046" class="Symbol">=</a> <a id="13048" href="Games.TypeTrees.html#1274" class="InductiveConstructor">⟨⟩</a>
<a id="13051" href="Games.FiniteHistoryDependent.html#12813" class="Function">selection-strategy-lemma</a> <a id="13076" href="Games.FiniteHistoryDependent.html#13076" class="Bound">fe</a> <a id="13079" class="Symbol">{</a><a id="13080" href="Games.FiniteHistoryDependent.html#13080" class="Bound">X</a> <a id="13082" href="Games.TypeTrees.html#747" class="InductiveConstructor Operator">∷</a> <a id="13084" href="Games.FiniteHistoryDependent.html#13084" class="Bound">Xf</a><a id="13086" class="Symbol">}</a> <a id="13088" href="Games.FiniteHistoryDependent.html#13088" class="Bound">εt</a><a id="13090" class="Symbol">@(</a><a id="13092" href="Games.FiniteHistoryDependent.html#13092" class="Bound">ε</a> <a id="13094" href="Games.TypeTrees.html#1296" class="InductiveConstructor Operator">::</a> <a id="13097" href="Games.FiniteHistoryDependent.html#13097" class="Bound">εf</a><a id="13099" class="Symbol">)</a> <a id="13101" href="Games.FiniteHistoryDependent.html#13101" class="Bound">q</a> <a id="13103" class="Symbol">=</a> <a id="13105" href="Games.FiniteHistoryDependent.html#14013" class="Function">γ</a>
 <a id="13108" class="Keyword">where</a>
  <a id="13116" href="Games.FiniteHistoryDependent.html#13116" class="Function">σf</a> <a id="13119" class="Symbol">:</a> <a id="13121" class="Symbol">(</a><a id="13122" href="Games.FiniteHistoryDependent.html#13122" class="Bound">x</a> <a id="13124" class="Symbol">:</a> <a id="13126" href="Games.FiniteHistoryDependent.html#13080" class="Bound">X</a><a id="13127" class="Symbol">)</a> <a id="13129" class="Symbol">→</a> <a id="13131" href="Games.FiniteHistoryDependent.html#3682" class="Function">Strategy</a> <a id="13140" class="Symbol">(</a><a id="13141" href="Games.FiniteHistoryDependent.html#13084" class="Bound">Xf</a> <a id="13144" href="Games.FiniteHistoryDependent.html#13122" class="Bound">x</a><a id="13145" class="Symbol">)</a>
  <a id="13149" href="Games.FiniteHistoryDependent.html#13116" class="Function">σf</a> <a id="13152" href="Games.FiniteHistoryDependent.html#13152" class="Bound">x</a> <a id="13154" class="Symbol">=</a> <a id="13156" href="Games.FiniteHistoryDependent.html#9549" class="Function">selection-strategy</a> <a id="13175" class="Symbol">(</a><a id="13176" href="Games.FiniteHistoryDependent.html#13097" class="Bound">εf</a> <a id="13179" href="Games.FiniteHistoryDependent.html#13152" class="Bound">x</a><a id="13180" class="Symbol">)</a> <a id="13182" class="Symbol">(</a><a id="13183" href="Games.TypeTrees.html#1622" class="Function">subpred</a> <a id="13191" href="Games.FiniteHistoryDependent.html#13101" class="Bound">q</a> <a id="13193" href="Games.FiniteHistoryDependent.html#13152" class="Bound">x</a><a id="13194" class="Symbol">)</a>

  <a id="13199" href="Games.FiniteHistoryDependent.html#13199" class="Function">x₀</a> <a id="13202" href="Games.FiniteHistoryDependent.html#13202" class="Function">x₁</a> <a id="13205" class="Symbol">:</a> <a id="13207" href="Games.FiniteHistoryDependent.html#13080" class="Bound">X</a>
  <a id="13211" href="Games.FiniteHistoryDependent.html#13199" class="Function">x₀</a> <a id="13214" class="Symbol">=</a> <a id="13216" href="Games.FiniteHistoryDependent.html#13092" class="Bound">ε</a> <a id="13218" class="Symbol">(λ</a> <a id="13221" href="Games.FiniteHistoryDependent.html#13221" class="Bound">x</a> <a id="13223" class="Symbol">→</a> <a id="13225" href="Games.TypeTrees.html#1622" class="Function">subpred</a> <a id="13233" href="Games.FiniteHistoryDependent.html#13101" class="Bound">q</a> <a id="13235" href="Games.FiniteHistoryDependent.html#13221" class="Bound">x</a> <a id="13237" class="Symbol">(</a><a id="13238" href="Games.FiniteHistoryDependent.html#9250" class="Function">sequenceᴶ</a> <a id="13248" class="Symbol">(</a><a id="13249" href="Games.FiniteHistoryDependent.html#13097" class="Bound">εf</a> <a id="13252" href="Games.FiniteHistoryDependent.html#13221" class="Bound">x</a><a id="13253" class="Symbol">)</a> <a id="13255" class="Symbol">(</a><a id="13256" href="Games.TypeTrees.html#1622" class="Function">subpred</a> <a id="13264" href="Games.FiniteHistoryDependent.html#13101" class="Bound">q</a> <a id="13266" href="Games.FiniteHistoryDependent.html#13221" class="Bound">x</a><a id="13267" class="Symbol">)))</a>
  <a id="13273" href="Games.FiniteHistoryDependent.html#13202" class="Function">x₁</a> <a id="13276" class="Symbol">=</a> <a id="13278" href="Games.FiniteHistoryDependent.html#13092" class="Bound">ε</a> <a id="13280" class="Symbol">(λ</a> <a id="13283" href="Games.FiniteHistoryDependent.html#13283" class="Bound">x</a> <a id="13285" class="Symbol">→</a> <a id="13287" href="Games.TypeTrees.html#1622" class="Function">subpred</a> <a id="13295" href="Games.FiniteHistoryDependent.html#13101" class="Bound">q</a> <a id="13297" href="Games.FiniteHistoryDependent.html#13283" class="Bound">x</a> <a id="13299" class="Symbol">(</a><a id="13300" href="Games.FiniteHistoryDependent.html#4195" class="Function">strategic-path</a> <a id="13315" class="Symbol">(</a><a id="13316" href="Games.FiniteHistoryDependent.html#13116" class="Function">σf</a> <a id="13319" href="Games.FiniteHistoryDependent.html#13283" class="Bound">x</a><a id="13320" class="Symbol">)))</a>

  <a id="13327" href="Games.FiniteHistoryDependent.html#13327" class="Function">I</a> <a id="13329" class="Symbol">:</a> <a id="13331" class="Symbol">(</a><a id="13332" href="Games.FiniteHistoryDependent.html#13332" class="Bound">x</a> <a id="13334" class="Symbol">:</a> <a id="13336" href="Games.FiniteHistoryDependent.html#13080" class="Bound">X</a><a id="13337" class="Symbol">)</a> <a id="13339" class="Symbol">→</a> <a id="13341" href="Games.FiniteHistoryDependent.html#4195" class="Function">strategic-path</a> <a id="13356" class="Symbol">(</a><a id="13357" href="Games.FiniteHistoryDependent.html#13116" class="Function">σf</a> <a id="13360" href="Games.FiniteHistoryDependent.html#13332" class="Bound">x</a><a id="13361" class="Symbol">)</a> <a id="13363" href="MLTT.Id.html#193" class="Datatype Operator">＝</a> <a id="13365" href="Games.FiniteHistoryDependent.html#9250" class="Function">sequenceᴶ</a> <a id="13375" class="Symbol">(</a><a id="13376" href="Games.FiniteHistoryDependent.html#13097" class="Bound">εf</a> <a id="13379" href="Games.FiniteHistoryDependent.html#13332" class="Bound">x</a><a id="13380" class="Symbol">)</a> <a id="13382" class="Symbol">(</a><a id="13383" href="Games.TypeTrees.html#1622" class="Function">subpred</a> <a id="13391" href="Games.FiniteHistoryDependent.html#13101" class="Bound">q</a> <a id="13393" href="Games.FiniteHistoryDependent.html#13332" class="Bound">x</a><a id="13394" class="Symbol">)</a>
  <a id="13398" href="Games.FiniteHistoryDependent.html#13327" class="Function">I</a> <a id="13400" href="Games.FiniteHistoryDependent.html#13400" class="Bound">x</a> <a id="13402" class="Symbol">=</a> <a id="13404" href="Games.FiniteHistoryDependent.html#11912" class="Function">main-lemma</a> <a id="13415" class="Symbol">(</a><a id="13416" href="Games.FiniteHistoryDependent.html#13097" class="Bound">εf</a> <a id="13419" href="Games.FiniteHistoryDependent.html#13400" class="Bound">x</a><a id="13420" class="Symbol">)</a> <a id="13422" class="Symbol">(</a><a id="13423" href="Games.TypeTrees.html#1622" class="Function">subpred</a> <a id="13431" href="Games.FiniteHistoryDependent.html#13101" class="Bound">q</a> <a id="13433" href="Games.FiniteHistoryDependent.html#13400" class="Bound">x</a><a id="13434" class="Symbol">)</a>

  <a id="13439" href="Games.FiniteHistoryDependent.html#13439" class="Function">II</a> <a id="13442" class="Symbol">:</a> <a id="13444" href="Games.FiniteHistoryDependent.html#13202" class="Function">x₁</a> <a id="13447" href="MLTT.Id.html#193" class="Datatype Operator">＝</a> <a id="13449" href="Games.FiniteHistoryDependent.html#13199" class="Function">x₀</a>
  <a id="13454" href="Games.FiniteHistoryDependent.html#13439" class="Function">II</a> <a id="13457" class="Symbol">=</a> <a id="13459" href="MLTT.Id.html#1136" class="Function">ap</a> <a id="13462" class="Symbol">(λ</a> <a id="13465" href="Games.FiniteHistoryDependent.html#13465" class="Bound">-</a> <a id="13467" class="Symbol">→</a> <a id="13469" href="Games.FiniteHistoryDependent.html#13092" class="Bound">ε</a> <a id="13471" class="Symbol">(λ</a> <a id="13474" href="Games.FiniteHistoryDependent.html#13474" class="Bound">x</a> <a id="13476" class="Symbol">→</a> <a id="13478" href="Games.TypeTrees.html#1622" class="Function">subpred</a> <a id="13486" href="Games.FiniteHistoryDependent.html#13101" class="Bound">q</a> <a id="13488" href="Games.FiniteHistoryDependent.html#13474" class="Bound">x</a> <a id="13490" class="Symbol">(</a><a id="13491" href="Games.FiniteHistoryDependent.html#13465" class="Bound">-</a> <a id="13493" href="Games.FiniteHistoryDependent.html#13474" class="Bound">x</a><a id="13494" class="Symbol">)))</a> <a id="13498" class="Symbol">(</a><a id="13499" href="UF.FunExt.html#1242" class="Function">dfunext</a> <a id="13507" href="Games.FiniteHistoryDependent.html#13076" class="Bound">fe</a> <a id="13510" href="Games.FiniteHistoryDependent.html#13327" class="Function">I</a><a id="13511" class="Symbol">)</a>

  <a id="13516" href="Games.FiniteHistoryDependent.html#13516" class="Function">III</a> <a id="13520" class="Symbol">=</a> <a id="13522" href="MonadOnTypes.JK.html#282" class="Function">overline</a> <a id="13531" href="Games.FiniteHistoryDependent.html#13092" class="Bound">ε</a> <a id="13533" class="Symbol">(λ</a> <a id="13536" href="Games.FiniteHistoryDependent.html#13536" class="Bound">x</a> <a id="13538" class="Symbol">→</a> <a id="13540" href="Games.TypeTrees.html#1622" class="Function">subpred</a> <a id="13548" href="Games.FiniteHistoryDependent.html#13101" class="Bound">q</a> <a id="13550" href="Games.FiniteHistoryDependent.html#13536" class="Bound">x</a> <a id="13552" class="Symbol">(</a><a id="13553" href="Games.FiniteHistoryDependent.html#4195" class="Function">strategic-path</a> <a id="13568" class="Symbol">(</a><a id="13569" href="Games.FiniteHistoryDependent.html#13116" class="Function">σf</a> <a id="13572" href="Games.FiniteHistoryDependent.html#13536" class="Bound">x</a><a id="13573" class="Symbol">)))</a> <a id="13577" href="MLTT.Id.html#2705" class="Function Operator">＝⟨</a> <a id="13580" href="MLTT.Identity-Type.html#157" class="InductiveConstructor">refl</a> <a id="13585" href="MLTT.Id.html#2705" class="Function Operator">⟩</a>
        <a id="13595" href="Games.TypeTrees.html#1622" class="Function">subpred</a> <a id="13603" href="Games.FiniteHistoryDependent.html#13101" class="Bound">q</a> <a id="13605" href="Games.FiniteHistoryDependent.html#13202" class="Function">x₁</a> <a id="13608" class="Symbol">(</a><a id="13609" href="Games.FiniteHistoryDependent.html#4195" class="Function">strategic-path</a> <a id="13624" class="Symbol">(</a><a id="13625" href="Games.FiniteHistoryDependent.html#13116" class="Function">σf</a> <a id="13628" href="Games.FiniteHistoryDependent.html#13202" class="Function">x₁</a><a id="13630" class="Symbol">))</a>                  <a id="13650" href="MLTT.Id.html#2705" class="Function Operator">＝⟨</a> <a id="13653" href="Games.FiniteHistoryDependent.html#13737" class="Function">IV</a> <a id="13656" href="MLTT.Id.html#2705" class="Function Operator">⟩</a>
        <a id="13666" href="Games.TypeTrees.html#1622" class="Function">subpred</a> <a id="13674" href="Games.FiniteHistoryDependent.html#13101" class="Bound">q</a> <a id="13676" href="Games.FiniteHistoryDependent.html#13199" class="Function">x₀</a> <a id="13679" class="Symbol">(</a><a id="13680" href="Games.FiniteHistoryDependent.html#4195" class="Function">strategic-path</a> <a id="13695" class="Symbol">(</a><a id="13696" href="Games.FiniteHistoryDependent.html#13116" class="Function">σf</a> <a id="13699" href="Games.FiniteHistoryDependent.html#13199" class="Function">x₀</a><a id="13701" class="Symbol">))</a>                  <a id="13721" href="MLTT.Id.html#2787" class="Function Operator">∎</a>

   <a id="13727" class="Keyword">where</a>
    <a id="13737" href="Games.FiniteHistoryDependent.html#13737" class="Function">IV</a> <a id="13740" class="Symbol">=</a> <a id="13742" href="MLTT.Id.html#1136" class="Function">ap</a> <a id="13745" class="Symbol">(λ</a> <a id="13748" href="Games.FiniteHistoryDependent.html#13748" class="Bound">-</a> <a id="13750" class="Symbol">→</a> <a id="13752" href="Games.TypeTrees.html#1622" class="Function">subpred</a> <a id="13760" href="Games.FiniteHistoryDependent.html#13101" class="Bound">q</a> <a id="13762" href="Games.FiniteHistoryDependent.html#13748" class="Bound">-</a> <a id="13764" class="Symbol">(</a><a id="13765" href="Games.FiniteHistoryDependent.html#4195" class="Function">strategic-path</a> <a id="13780" class="Symbol">(</a><a id="13781" href="Games.FiniteHistoryDependent.html#13116" class="Function">σf</a> <a id="13784" href="Games.FiniteHistoryDependent.html#13748" class="Bound">-</a><a id="13785" class="Symbol">)))</a> <a id="13789" href="Games.FiniteHistoryDependent.html#13439" class="Function">II</a>

  <a id="13795" href="Games.FiniteHistoryDependent.html#13795" class="Function">IH</a> <a id="13798" class="Symbol">:</a> <a id="13800" class="Symbol">(</a><a id="13801" href="Games.FiniteHistoryDependent.html#13801" class="Bound">x</a> <a id="13803" class="Symbol">:</a> <a id="13805" href="Games.FiniteHistoryDependent.html#13080" class="Bound">X</a><a id="13806" class="Symbol">)</a> <a id="13808" class="Symbol">→</a> <a id="13810" href="Games.FiniteHistoryDependent.html#5828" class="Function">is-in-sgpe</a>
                   <a id="13840" class="Symbol">(</a><a id="13841" href="Games.FiniteHistoryDependent.html#10631" class="Function">Overline</a> <a id="13850" class="Symbol">(</a><a id="13851" href="Games.FiniteHistoryDependent.html#13097" class="Bound">εf</a> <a id="13854" href="Games.FiniteHistoryDependent.html#13801" class="Bound">x</a><a id="13855" class="Symbol">))</a>
                   <a id="13877" class="Symbol">(</a><a id="13878" href="Games.TypeTrees.html#1622" class="Function">subpred</a> <a id="13886" href="Games.FiniteHistoryDependent.html#13101" class="Bound">q</a> <a id="13888" href="Games.FiniteHistoryDependent.html#13801" class="Bound">x</a><a id="13889" class="Symbol">)</a>
                   <a id="13910" class="Symbol">(</a><a id="13911" href="Games.FiniteHistoryDependent.html#9549" class="Function">selection-strategy</a> <a id="13930" class="Symbol">(</a><a id="13931" href="Games.FiniteHistoryDependent.html#13097" class="Bound">εf</a> <a id="13934" href="Games.FiniteHistoryDependent.html#13801" class="Bound">x</a><a id="13935" class="Symbol">)</a> <a id="13937" class="Symbol">(</a><a id="13938" href="Games.TypeTrees.html#1622" class="Function">subpred</a> <a id="13946" href="Games.FiniteHistoryDependent.html#13101" class="Bound">q</a> <a id="13948" href="Games.FiniteHistoryDependent.html#13801" class="Bound">x</a><a id="13949" class="Symbol">))</a>
  <a id="13954" href="Games.FiniteHistoryDependent.html#13795" class="Function">IH</a> <a id="13957" href="Games.FiniteHistoryDependent.html#13957" class="Bound">x</a> <a id="13959" class="Symbol">=</a> <a id="13961" href="Games.FiniteHistoryDependent.html#12813" class="Function">selection-strategy-lemma</a> <a id="13986" href="Games.FiniteHistoryDependent.html#13076" class="Bound">fe</a> <a id="13989" class="Symbol">(</a><a id="13990" href="Games.FiniteHistoryDependent.html#13097" class="Bound">εf</a> <a id="13993" href="Games.FiniteHistoryDependent.html#13957" class="Bound">x</a><a id="13994" class="Symbol">)</a> <a id="13996" class="Symbol">(</a><a id="13997" href="Games.TypeTrees.html#1622" class="Function">subpred</a> <a id="14005" href="Games.FiniteHistoryDependent.html#13101" class="Bound">q</a> <a id="14007" href="Games.FiniteHistoryDependent.html#13957" class="Bound">x</a><a id="14008" class="Symbol">)</a>

  <a id="14013" href="Games.FiniteHistoryDependent.html#14013" class="Function">γ</a> <a id="14015" class="Symbol">:</a> <a id="14017" href="Games.FiniteHistoryDependent.html#5828" class="Function">is-in-sgpe</a> <a id="14028" class="Symbol">(</a><a id="14029" href="Games.FiniteHistoryDependent.html#10631" class="Function">Overline</a> <a id="14038" href="Games.FiniteHistoryDependent.html#13088" class="Bound">εt</a><a id="14040" class="Symbol">)</a> <a id="14042" href="Games.FiniteHistoryDependent.html#13101" class="Bound">q</a> <a id="14044" class="Symbol">(</a><a id="14045" href="Games.FiniteHistoryDependent.html#13199" class="Function">x₀</a> <a id="14048" href="Games.TypeTrees.html#1296" class="InductiveConstructor Operator">::</a> <a id="14051" href="Games.FiniteHistoryDependent.html#13116" class="Function">σf</a><a id="14053" class="Symbol">)</a>
  <a id="14057" href="Games.FiniteHistoryDependent.html#14013" class="Function">γ</a> <a id="14059" class="Symbol">=</a> <a id="14061" class="Symbol">(</a><a id="14062" href="Games.FiniteHistoryDependent.html#13516" class="Function">III</a> <a id="14066" href="MLTT.Id.html#1055" class="Function Operator">⁻¹</a><a id="14068" class="Symbol">)</a> <a id="14070" href="Games.TypeTrees.html#1296" class="InductiveConstructor Operator">::</a> <a id="14073" href="Games.FiniteHistoryDependent.html#13795" class="Function">IH</a>

<a id="14077" class="Markup">\end{code}</a><a id="14087" class="Background">

The following, which shows how to use selection functions to compute
optimal strategies, corresponds to Theorem 6.2 of [1].

</a><a id="14214" class="Markup">\begin{code}</a>

<a id="selection-strategy-theorem"></a><a id="14228" href="Games.FiniteHistoryDependent.html#14228" class="Function">selection-strategy-theorem</a> <a id="14255" class="Symbol">:</a> <a id="14257" href="UF.FunExt.html#1047" class="Function">Fun-Ext</a>
                           <a id="14292" class="Symbol">→</a> <a id="14294" class="Symbol">{</a><a id="14295" href="Games.FiniteHistoryDependent.html#14295" class="Bound">Xt</a> <a id="14298" class="Symbol">:</a> <a id="14300" href="Games.TypeTrees.html#719" class="Datatype">𝑻</a><a id="14301" class="Symbol">}</a> <a id="14303" class="Symbol">(</a><a id="14304" href="Games.FiniteHistoryDependent.html#14304" class="Bound">εt</a> <a id="14307" class="Symbol">:</a> <a id="14309" href="Games.FiniteHistoryDependent.html#8732" class="Function">𝓙</a> <a id="14311" href="Games.FiniteHistoryDependent.html#14295" class="Bound">Xt</a><a id="14313" class="Symbol">)</a>
                             <a id="14344" class="Symbol">(</a><a id="14345" href="Games.FiniteHistoryDependent.html#14345" class="Bound">ϕt</a> <a id="14348" class="Symbol">:</a> <a id="14350" href="Games.FiniteHistoryDependent.html#2364" class="Function">𝓚</a> <a id="14352" href="Games.FiniteHistoryDependent.html#14295" class="Bound">Xt</a><a id="14354" class="Symbol">)</a> <a id="14356" class="Symbol">(</a><a id="14357" href="Games.FiniteHistoryDependent.html#14357" class="Bound">q</a> <a id="14359" class="Symbol">:</a> <a id="14361" href="Games.TypeTrees.html#906" class="Function">Path</a> <a id="14366" href="Games.FiniteHistoryDependent.html#14295" class="Bound">Xt</a> <a id="14369" class="Symbol">→</a> <a id="14371" href="Games.FiniteHistoryDependent.html#1635" class="Bound">R</a><a id="14372" class="Symbol">)</a>
                           <a id="14401" class="Symbol">→</a> <a id="14403" href="Games.FiniteHistoryDependent.html#14304" class="Bound">εt</a> <a id="14406" href="Games.FiniteHistoryDependent.html#10305" class="Function Operator">Attains</a> <a id="14414" href="Games.FiniteHistoryDependent.html#14345" class="Bound">ϕt</a>
                           <a id="14444" class="Symbol">→</a> <a id="14446" href="Games.FiniteHistoryDependent.html#5828" class="Function">is-in-sgpe</a> <a id="14457" href="Games.FiniteHistoryDependent.html#14345" class="Bound">ϕt</a> <a id="14460" href="Games.FiniteHistoryDependent.html#14357" class="Bound">q</a> <a id="14462" class="Symbol">(</a><a id="14463" href="Games.FiniteHistoryDependent.html#9549" class="Function">selection-strategy</a> <a id="14482" href="Games.FiniteHistoryDependent.html#14304" class="Bound">εt</a> <a id="14485" href="Games.FiniteHistoryDependent.html#14357" class="Bound">q</a><a id="14486" class="Symbol">)</a>
<a id="14488" href="Games.FiniteHistoryDependent.html#14228" class="Function">selection-strategy-theorem</a> <a id="14515" href="Games.FiniteHistoryDependent.html#14515" class="Bound">fe</a> <a id="14518" href="Games.FiniteHistoryDependent.html#14518" class="Bound">εt</a> <a id="14521" href="Games.FiniteHistoryDependent.html#14521" class="Bound">ϕt</a> <a id="14524" href="Games.FiniteHistoryDependent.html#14524" class="Bound">q</a> <a id="14526" href="Games.FiniteHistoryDependent.html#14526" class="Bound">a</a> <a id="14528" class="Symbol">=</a> <a id="14530" href="Games.FiniteHistoryDependent.html#14697" class="Function">III</a>
 <a id="14535" class="Keyword">where</a>
  <a id="14543" href="Games.FiniteHistoryDependent.html#14543" class="Function">I</a> <a id="14545" class="Symbol">:</a> <a id="14547" href="Games.FiniteHistoryDependent.html#10631" class="Function">Overline</a> <a id="14556" href="Games.FiniteHistoryDependent.html#14518" class="Bound">εt</a> <a id="14559" href="MLTT.Id.html#193" class="Datatype Operator">＝</a> <a id="14561" href="Games.FiniteHistoryDependent.html#14521" class="Bound">ϕt</a>
  <a id="14566" href="Games.FiniteHistoryDependent.html#14543" class="Function">I</a> <a id="14568" class="Symbol">=</a> <a id="14570" href="Games.FiniteHistoryDependent.html#10864" class="Function">observation</a> <a id="14582" href="Games.FiniteHistoryDependent.html#14515" class="Bound">fe</a> <a id="14585" href="Games.FiniteHistoryDependent.html#14518" class="Bound">εt</a> <a id="14588" href="Games.FiniteHistoryDependent.html#14521" class="Bound">ϕt</a> <a id="14591" href="Games.FiniteHistoryDependent.html#14526" class="Bound">a</a>

  <a id="14596" href="Games.FiniteHistoryDependent.html#14596" class="Function">II</a> <a id="14599" class="Symbol">:</a> <a id="14601" href="Games.FiniteHistoryDependent.html#5828" class="Function">is-in-sgpe</a> <a id="14612" class="Symbol">(</a><a id="14613" href="Games.FiniteHistoryDependent.html#10631" class="Function">Overline</a> <a id="14622" href="Games.FiniteHistoryDependent.html#14518" class="Bound">εt</a><a id="14624" class="Symbol">)</a> <a id="14626" href="Games.FiniteHistoryDependent.html#14524" class="Bound">q</a> <a id="14628" class="Symbol">(</a><a id="14629" href="Games.FiniteHistoryDependent.html#9549" class="Function">selection-strategy</a> <a id="14648" href="Games.FiniteHistoryDependent.html#14518" class="Bound">εt</a> <a id="14651" href="Games.FiniteHistoryDependent.html#14524" class="Bound">q</a><a id="14652" class="Symbol">)</a>
  <a id="14656" href="Games.FiniteHistoryDependent.html#14596" class="Function">II</a> <a id="14659" class="Symbol">=</a> <a id="14661" href="Games.FiniteHistoryDependent.html#12813" class="Function">selection-strategy-lemma</a> <a id="14686" href="Games.FiniteHistoryDependent.html#14515" class="Bound">fe</a> <a id="14689" href="Games.FiniteHistoryDependent.html#14518" class="Bound">εt</a> <a id="14692" href="Games.FiniteHistoryDependent.html#14524" class="Bound">q</a>

  <a id="14697" href="Games.FiniteHistoryDependent.html#14697" class="Function">III</a> <a id="14701" class="Symbol">:</a> <a id="14703" href="Games.FiniteHistoryDependent.html#5828" class="Function">is-in-sgpe</a> <a id="14714" href="Games.FiniteHistoryDependent.html#14521" class="Bound">ϕt</a> <a id="14717" href="Games.FiniteHistoryDependent.html#14524" class="Bound">q</a> <a id="14719" class="Symbol">(</a><a id="14720" href="Games.FiniteHistoryDependent.html#9549" class="Function">selection-strategy</a> <a id="14739" href="Games.FiniteHistoryDependent.html#14518" class="Bound">εt</a> <a id="14742" href="Games.FiniteHistoryDependent.html#14524" class="Bound">q</a><a id="14743" class="Symbol">)</a>
  <a id="14747" href="Games.FiniteHistoryDependent.html#14697" class="Function">III</a> <a id="14751" class="Symbol">=</a> <a id="14753" href="MLTT.Id.html#735" class="Function">transport</a> <a id="14763" class="Symbol">(λ</a> <a id="14766" href="Games.FiniteHistoryDependent.html#14766" class="Bound">-</a> <a id="14768" class="Symbol">→</a> <a id="14770" href="Games.FiniteHistoryDependent.html#5828" class="Function">is-in-sgpe</a> <a id="14781" href="Games.FiniteHistoryDependent.html#14766" class="Bound">-</a> <a id="14783" href="Games.FiniteHistoryDependent.html#14524" class="Bound">q</a> <a id="14785" class="Symbol">(</a><a id="14786" href="Games.FiniteHistoryDependent.html#9549" class="Function">selection-strategy</a> <a id="14805" href="Games.FiniteHistoryDependent.html#14518" class="Bound">εt</a> <a id="14808" href="Games.FiniteHistoryDependent.html#14524" class="Bound">q</a><a id="14809" class="Symbol">))</a> <a id="14812" href="Games.FiniteHistoryDependent.html#14543" class="Function">I</a> <a id="14814" href="Games.FiniteHistoryDependent.html#14596" class="Function">II</a>


<a id="Selection-Strategy-Theorem"></a><a id="14819" href="Games.FiniteHistoryDependent.html#14819" class="Function">Selection-Strategy-Theorem</a> <a id="14846" class="Symbol">:</a> <a id="14848" href="UF.FunExt.html#1047" class="Function">Fun-Ext</a>
                           <a id="14883" class="Symbol">→</a> <a id="14885" class="Symbol">(</a><a id="14886" href="Games.FiniteHistoryDependent.html#14886" class="Bound">G</a> <a id="14888" class="Symbol">:</a> <a id="14890" href="Games.FiniteHistoryDependent.html#3132" class="Record">Game</a><a id="14894" class="Symbol">)</a> <a id="14896" class="Symbol">(</a><a id="14897" href="Games.FiniteHistoryDependent.html#14897" class="Bound">εt</a> <a id="14900" class="Symbol">:</a> <a id="14902" href="Games.FiniteHistoryDependent.html#8732" class="Function">𝓙</a> <a id="14904" class="Symbol">(</a><a id="14905" href="Games.FiniteHistoryDependent.html#3178" class="Field">Xt</a> <a id="14908" href="Games.FiniteHistoryDependent.html#14886" class="Bound">G</a><a id="14909" class="Symbol">))</a>
                           <a id="14939" class="Symbol">→</a> <a id="14941" href="Games.FiniteHistoryDependent.html#14897" class="Bound">εt</a> <a id="14944" href="Games.FiniteHistoryDependent.html#10305" class="Function Operator">Attains</a> <a id="14952" class="Symbol">(</a><a id="14953" href="Games.FiniteHistoryDependent.html#3206" class="Field">ϕt</a> <a id="14956" href="Games.FiniteHistoryDependent.html#14886" class="Bound">G</a><a id="14957" class="Symbol">)</a>
                           <a id="14986" class="Symbol">→</a> <a id="14988" href="Games.FiniteHistoryDependent.html#7052" class="Function">is-optimal</a> <a id="14999" href="Games.FiniteHistoryDependent.html#14886" class="Bound">G</a> <a id="15001" class="Symbol">(</a><a id="15002" href="Games.FiniteHistoryDependent.html#9549" class="Function">selection-strategy</a> <a id="15021" href="Games.FiniteHistoryDependent.html#14897" class="Bound">εt</a> <a id="15024" class="Symbol">(</a><a id="15025" href="Games.FiniteHistoryDependent.html#3187" class="Field">q</a> <a id="15027" href="Games.FiniteHistoryDependent.html#14886" class="Bound">G</a><a id="15028" class="Symbol">))</a>
<a id="15031" href="Games.FiniteHistoryDependent.html#14819" class="Function">Selection-Strategy-Theorem</a> <a id="15058" href="Games.FiniteHistoryDependent.html#15058" class="Bound">fe</a> <a id="15061" class="Symbol">(</a><a id="15062" href="Games.FiniteHistoryDependent.html#3164" class="InductiveConstructor">game</a> <a id="15067" href="Games.FiniteHistoryDependent.html#15067" class="Bound">Xt</a> <a id="15070" href="Games.FiniteHistoryDependent.html#15070" class="Bound">ϕt</a> <a id="15073" href="Games.FiniteHistoryDependent.html#15073" class="Bound">q</a><a id="15074" class="Symbol">)</a> <a id="15076" href="Games.FiniteHistoryDependent.html#15076" class="Bound">εt</a> <a id="15079" class="Symbol">=</a> <a id="15081" href="Games.FiniteHistoryDependent.html#14228" class="Function">selection-strategy-theorem</a> <a id="15108" href="Games.FiniteHistoryDependent.html#15058" class="Bound">fe</a> <a id="15111" href="Games.FiniteHistoryDependent.html#15076" class="Bound">εt</a> <a id="15114" href="Games.FiniteHistoryDependent.html#15073" class="Bound">q</a> <a id="15116" href="Games.FiniteHistoryDependent.html#15070" class="Bound">ϕt</a>

<a id="15120" class="Markup">\end{code}</a><a id="15130" class="Background">

Added 27th August 2023 after the above was submitted for publication.

</a><a id="15203" class="Markup">\begin{code}</a>

<a id="selection-strategy-corollary"></a><a id="15217" href="Games.FiniteHistoryDependent.html#15217" class="Function">selection-strategy-corollary</a> <a id="15246" class="Symbol">:</a> <a id="15248" href="UF.FunExt.html#1047" class="Function">Fun-Ext</a>
                             <a id="15285" class="Symbol">→</a> <a id="15287" class="Symbol">(</a><a id="15288" href="Games.FiniteHistoryDependent.html#15288" class="Bound">G</a> <a id="15290" class="Symbol">:</a> <a id="15292" href="Games.FiniteHistoryDependent.html#3132" class="Record">Game</a><a id="15296" class="Symbol">)</a> <a id="15298" class="Symbol">(</a><a id="15299" href="Games.FiniteHistoryDependent.html#15299" class="Bound">εt</a> <a id="15302" class="Symbol">:</a> <a id="15304" href="Games.FiniteHistoryDependent.html#8732" class="Function">𝓙</a> <a id="15306" class="Symbol">(</a><a id="15307" href="Games.FiniteHistoryDependent.html#3178" class="Field">Xt</a> <a id="15310" href="Games.FiniteHistoryDependent.html#15288" class="Bound">G</a><a id="15311" class="Symbol">))</a>
                             <a id="15343" class="Symbol">→</a> <a id="15345" href="Games.FiniteHistoryDependent.html#15299" class="Bound">εt</a> <a id="15348" href="Games.FiniteHistoryDependent.html#10305" class="Function Operator">Attains</a> <a id="15356" class="Symbol">(</a><a id="15357" href="Games.FiniteHistoryDependent.html#3206" class="Field">ϕt</a> <a id="15360" href="Games.FiniteHistoryDependent.html#15288" class="Bound">G</a><a id="15361" class="Symbol">)</a>
                             <a id="15392" class="Symbol">→</a> <a id="15394" href="Games.FiniteHistoryDependent.html#3187" class="Field">q</a> <a id="15396" href="Games.FiniteHistoryDependent.html#15288" class="Bound">G</a> <a id="15398" class="Symbol">(</a><a id="15399" href="Games.FiniteHistoryDependent.html#9250" class="Function">sequenceᴶ</a> <a id="15409" href="Games.FiniteHistoryDependent.html#15299" class="Bound">εt</a> <a id="15412" class="Symbol">(</a><a id="15413" href="Games.FiniteHistoryDependent.html#3187" class="Field">q</a> <a id="15415" href="Games.FiniteHistoryDependent.html#15288" class="Bound">G</a><a id="15416" class="Symbol">))</a> <a id="15419" href="MLTT.Id.html#193" class="Datatype Operator">＝</a> <a id="15421" href="Games.FiniteHistoryDependent.html#3488" class="Function">optimal-outcome</a> <a id="15437" href="Games.FiniteHistoryDependent.html#15288" class="Bound">G</a>
<a id="15439" href="Games.FiniteHistoryDependent.html#15217" class="Function">selection-strategy-corollary</a> <a id="15468" href="Games.FiniteHistoryDependent.html#15468" class="Bound">fe</a> <a id="15471" href="Games.FiniteHistoryDependent.html#15471" class="Bound">G</a> <a id="15473" href="Games.FiniteHistoryDependent.html#15473" class="Bound">εt</a> <a id="15476" href="Games.FiniteHistoryDependent.html#15476" class="Bound">a</a> <a id="15478" class="Symbol">=</a>
 <a id="15481" href="Games.FiniteHistoryDependent.html#3187" class="Field">q</a> <a id="15483" href="Games.FiniteHistoryDependent.html#15471" class="Bound">G</a> <a id="15485" class="Symbol">(</a><a id="15486" href="Games.FiniteHistoryDependent.html#9250" class="Function">sequenceᴶ</a> <a id="15496" href="Games.FiniteHistoryDependent.html#15473" class="Bound">εt</a> <a id="15499" class="Symbol">(</a><a id="15500" href="Games.FiniteHistoryDependent.html#3187" class="Field">q</a> <a id="15502" href="Games.FiniteHistoryDependent.html#15471" class="Bound">G</a><a id="15503" class="Symbol">))</a>                           <a id="15532" href="MLTT.Id.html#2705" class="Function Operator">＝⟨</a> <a id="15535" href="Games.FiniteHistoryDependent.html#15664" class="Function">I</a> <a id="15537" href="MLTT.Id.html#2705" class="Function Operator">⟩</a>
 <a id="15540" href="Games.FiniteHistoryDependent.html#3187" class="Field">q</a> <a id="15542" href="Games.FiniteHistoryDependent.html#15471" class="Bound">G</a> <a id="15544" class="Symbol">(</a><a id="15545" href="Games.FiniteHistoryDependent.html#4195" class="Function">strategic-path</a> <a id="15560" class="Symbol">(</a><a id="15561" href="Games.FiniteHistoryDependent.html#9549" class="Function">selection-strategy</a> <a id="15580" href="Games.FiniteHistoryDependent.html#15473" class="Bound">εt</a> <a id="15583" class="Symbol">(</a><a id="15584" href="Games.FiniteHistoryDependent.html#3187" class="Field">q</a> <a id="15586" href="Games.FiniteHistoryDependent.html#15471" class="Bound">G</a><a id="15587" class="Symbol">)))</a> <a id="15591" href="MLTT.Id.html#2705" class="Function Operator">＝⟨</a> <a id="15594" href="Games.FiniteHistoryDependent.html#15707" class="Function">II</a> <a id="15597" href="MLTT.Id.html#2705" class="Function Operator">⟩</a>
 <a id="15600" href="Games.FiniteHistoryDependent.html#3488" class="Function">optimal-outcome</a> <a id="15616" href="Games.FiniteHistoryDependent.html#15471" class="Bound">G</a>                                  <a id="15651" href="MLTT.Id.html#2787" class="Function Operator">∎</a>
  <a id="15655" class="Keyword">where</a>
   <a id="15664" href="Games.FiniteHistoryDependent.html#15664" class="Function">I</a>  <a id="15667" class="Symbol">=</a> <a id="15669" href="MLTT.Id.html#1136" class="Function">ap</a> <a id="15672" class="Symbol">(</a><a id="15673" href="Games.FiniteHistoryDependent.html#3187" class="Field">q</a> <a id="15675" href="Games.FiniteHistoryDependent.html#15471" class="Bound">G</a><a id="15676" class="Symbol">)</a> <a id="15678" class="Symbol">((</a><a id="15680" href="Games.FiniteHistoryDependent.html#11912" class="Function">main-lemma</a> <a id="15691" href="Games.FiniteHistoryDependent.html#15473" class="Bound">εt</a> <a id="15694" class="Symbol">(</a><a id="15695" href="Games.FiniteHistoryDependent.html#3187" class="Field">q</a> <a id="15697" href="Games.FiniteHistoryDependent.html#15471" class="Bound">G</a><a id="15698" class="Symbol">))</a><a id="15700" href="MLTT.Id.html#1055" class="Function Operator">⁻¹</a><a id="15702" class="Symbol">)</a>
   <a id="15707" href="Games.FiniteHistoryDependent.html#15707" class="Function">II</a> <a id="15710" class="Symbol">=</a> <a id="15712" href="Games.FiniteHistoryDependent.html#7404" class="Function">sgpe-lemma</a> <a id="15723" href="Games.FiniteHistoryDependent.html#15468" class="Bound">fe</a> <a id="15726" class="Symbol">(</a><a id="15727" href="Games.FiniteHistoryDependent.html#3178" class="Field">Xt</a> <a id="15730" href="Games.FiniteHistoryDependent.html#15471" class="Bound">G</a><a id="15731" class="Symbol">)</a> <a id="15733" class="Symbol">(</a><a id="15734" href="Games.FiniteHistoryDependent.html#3206" class="Field">ϕt</a> <a id="15737" href="Games.FiniteHistoryDependent.html#15471" class="Bound">G</a><a id="15738" class="Symbol">)</a> <a id="15740" class="Symbol">(</a><a id="15741" href="Games.FiniteHistoryDependent.html#3187" class="Field">q</a> <a id="15743" href="Games.FiniteHistoryDependent.html#15471" class="Bound">G</a><a id="15744" class="Symbol">)</a>
         <a id="15755" class="Symbol">(</a><a id="15756" href="Games.FiniteHistoryDependent.html#9549" class="Function">selection-strategy</a> <a id="15775" href="Games.FiniteHistoryDependent.html#15473" class="Bound">εt</a> <a id="15778" class="Symbol">(</a><a id="15779" href="Games.FiniteHistoryDependent.html#3187" class="Field">q</a> <a id="15781" href="Games.FiniteHistoryDependent.html#15471" class="Bound">G</a><a id="15782" class="Symbol">))</a>
         <a id="15794" class="Symbol">(</a><a id="15795" href="Games.FiniteHistoryDependent.html#14819" class="Function">Selection-Strategy-Theorem</a> <a id="15822" href="Games.FiniteHistoryDependent.html#15468" class="Bound">fe</a> <a id="15825" href="Games.FiniteHistoryDependent.html#15471" class="Bound">G</a> <a id="15827" href="Games.FiniteHistoryDependent.html#15473" class="Bound">εt</a> <a id="15830" href="Games.FiniteHistoryDependent.html#15476" class="Bound">a</a><a id="15831" class="Symbol">)</a>

<a id="15834" class="Markup">\end{code}</a><a id="15844" class="Background">
</a></pre></body></html>