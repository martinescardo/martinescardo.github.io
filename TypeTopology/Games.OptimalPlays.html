<!DOCTYPE HTML>
<html><head><meta charset="utf-8"><title>Games.OptimalPlays</title><link rel="stylesheet" href="Agda.css"><script type="text/javascript" src="highlight-hover.js"></script></head><body><pre class="Agda"><a id="1" class="Background">Martin Escardo, Paulo Oliva, 27th November 2024 - 14th May 2025

We define optimal moves and optimal plays for sequential games. Then
using the JT monad, with T the monad Listâº of non-empty lists, we
compute all optimal plays of a game, provided it has ordinary
selection functions.

</a><a id="285" class="Markup">\begin{code}</a>

<a id="299" class="Symbol">{-#</a> <a id="303" class="Keyword">OPTIONS</a> <a id="311" class="Pragma">--safe</a> <a id="318" class="Pragma">--without-K</a> <a id="330" class="Symbol">#-}</a>

<a id="335" class="Keyword">open</a> <a id="340" class="Keyword">import</a> <a id="347" href="MLTT.Spartan.html" class="Module">MLTT.Spartan</a> <a id="360" class="Keyword">hiding</a> <a id="367" class="Symbol">(</a><a id="368" href="MLTT.Id.html#438" class="Function">J</a><a id="369" class="Symbol">)</a>
<a id="371" class="Keyword">open</a> <a id="376" class="Keyword">import</a> <a id="383" href="UF.FunExt.html" class="Module">UF.FunExt</a>
<a id="393" class="Keyword">open</a> <a id="398" class="Keyword">import</a> <a id="405" href="UF.DiscreteAndSeparated.html" class="Module">UF.DiscreteAndSeparated</a>

<a id="430" class="Markup">\end{code}</a><a id="440" class="Background">

We work with a type of outcomes R with decidable equality (called
discreteness).

</a><a id="524" class="Markup">\begin{code}</a>

<a id="538" class="Keyword">module</a> <a id="545" href="Games.OptimalPlays.html" class="Module">Games.OptimalPlays</a>
        <a id="572" class="Symbol">(</a><a id="573" href="Games.OptimalPlays.html#573" class="Bound">fe</a> <a id="576" class="Symbol">:</a> <a id="578" href="UF.FunExt.html#1047" class="Function">Fun-Ext</a><a id="585" class="Symbol">)</a>
        <a id="595" class="Symbol">(</a><a id="596" href="Games.OptimalPlays.html#596" class="Bound">R</a>  <a id="599" class="Symbol">:</a> <a id="601" href="Notation.General.html#372" class="Function">Type</a><a id="605" class="Symbol">)</a>
        <a id="615" class="Symbol">(</a><a id="616" href="Games.OptimalPlays.html#616" class="Bound">R-is-discrete</a> <a id="630" class="Symbol">:</a> <a id="632" href="UF.DiscreteAndSeparated.html#1853" class="Function">is-discrete</a> <a id="644" href="Games.OptimalPlays.html#596" class="Bound">R</a><a id="645" class="Symbol">)</a>
       <a id="654" class="Keyword">where</a>

<a id="661" class="Keyword">open</a> <a id="666" class="Keyword">import</a> <a id="673" href="Games.FiniteHistoryDependent.html" class="Module">Games.FiniteHistoryDependent</a> <a id="702" href="Games.OptimalPlays.html#596" class="Bound">R</a>
<a id="704" class="Keyword">open</a> <a id="709" class="Keyword">import</a> <a id="716" href="Games.TypeTrees.html" class="Module">Games.TypeTrees</a>
<a id="732" class="Keyword">open</a> <a id="737" class="Keyword">import</a> <a id="744" href="MLTT.List.html" class="Module">MLTT.List</a> <a id="754" class="Keyword">hiding</a> <a id="761" class="Symbol">(</a><a id="762" href="MLTT.List.html#1586" class="Function Operator">[_]</a><a id="765" class="Symbol">)</a> <a id="767" class="Keyword">renaming</a> <a id="776" class="Symbol">(</a><a id="777" href="MLTT.List.html#2285" class="Function">map</a> <a id="781" class="Symbol">to</a> <a id="784" class="Function">lmap</a><a id="788" class="Symbol">)</a>
<a id="790" class="Keyword">open</a> <a id="795" class="Keyword">import</a> <a id="802" href="MonadOnTypes.J-transf-variation.html" class="Module">MonadOnTypes.J-transf-variation</a>
<a id="834" class="Keyword">open</a> <a id="839" class="Keyword">import</a> <a id="846" href="MonadOnTypes.JK.html" class="Module">MonadOnTypes.JK</a>
<a id="862" class="Keyword">open</a> <a id="867" class="Keyword">import</a> <a id="874" href="MonadOnTypes.K.html" class="Module">MonadOnTypes.K</a>
<a id="889" class="Keyword">open</a> <a id="894" class="Keyword">import</a> <a id="901" href="MonadOnTypes.List.html" class="Module">MonadOnTypes.List</a>
<a id="919" class="Keyword">open</a> <a id="924" class="Keyword">import</a> <a id="931" href="MonadOnTypes.Monad.html" class="Module">MonadOnTypes.Monad</a>
<a id="950" class="Keyword">open</a> <a id="955" class="Keyword">import</a> <a id="962" href="MonadOnTypes.NonEmptyList.html" class="Module">MonadOnTypes.NonEmptyList</a>
<a id="988" class="Keyword">open</a> <a id="993" class="Keyword">import</a> <a id="1000" href="Notation.CanonicalMap.html" class="Module">Notation.CanonicalMap</a>
<a id="1022" class="Keyword">open</a> <a id="1027" class="Keyword">import</a> <a id="1034" href="UF.Base.html" class="Module">UF.Base</a>
<a id="1042" class="Keyword">open</a> <a id="1047" class="Keyword">import</a> <a id="1054" href="UF.Subsingletons.html" class="Module">UF.Subsingletons</a>

<a id="1072" class="Keyword">open</a> <a id="1077" href="MonadOnTypes.K.html#438" class="Module">K-definitions</a> <a id="1091" href="Games.OptimalPlays.html#596" class="Bound">R</a>

<a id="1094" class="Markup">\end{code}</a><a id="1104" class="Background">

The following are the main two notions considered in this file.

</a><a id="1171" class="Markup">\begin{code}</a>

<a id="is-optimal-move"></a><a id="1185" href="Games.OptimalPlays.html#1185" class="Function">is-optimal-move</a> <a id="1201" class="Symbol">:</a> <a id="1203" class="Symbol">{</a><a id="1204" href="Games.OptimalPlays.html#1204" class="Bound">X</a> <a id="1206" class="Symbol">:</a> <a id="1208" href="Notation.General.html#372" class="Function">Type</a><a id="1212" class="Symbol">}</a>
                  <a id="1232" class="Symbol">{</a><a id="1233" href="Games.OptimalPlays.html#1233" class="Bound">Xf</a> <a id="1236" class="Symbol">:</a> <a id="1238" href="Games.OptimalPlays.html#1204" class="Bound">X</a> <a id="1240" class="Symbol">â†’</a> <a id="1242" href="Games.TypeTrees.html#755" class="Datatype">ğ‘»</a><a id="1243" class="Symbol">}</a>
                  <a id="1263" class="Symbol">(</a><a id="1264" href="Games.OptimalPlays.html#1264" class="Bound">q</a> <a id="1266" class="Symbol">:</a> <a id="1268" class="Symbol">(</a><a id="1269" href="MLTT.Sigma.html#423" class="Function">Î£</a> <a id="1271" href="Games.OptimalPlays.html#1271" class="Bound">x</a> <a id="1273" href="MLTT.Sigma.html#423" class="Function">ê‰</a> <a id="1275" href="Games.OptimalPlays.html#1204" class="Bound">X</a> <a id="1277" href="MLTT.Sigma.html#423" class="Function">,</a> <a id="1279" href="Games.TypeTrees.html#942" class="Function">Path</a> <a id="1284" class="Symbol">(</a><a id="1285" href="Games.OptimalPlays.html#1233" class="Bound">Xf</a> <a id="1288" href="Games.OptimalPlays.html#1271" class="Bound">x</a><a id="1289" class="Symbol">))</a> <a id="1292" class="Symbol">â†’</a> <a id="1294" href="Games.OptimalPlays.html#596" class="Bound">R</a><a id="1295" class="Symbol">)</a>
                  <a id="1315" class="Symbol">(</a><a id="1316" href="Games.OptimalPlays.html#1316" class="Bound">Ï•</a> <a id="1318" class="Symbol">:</a> <a id="1320" href="MonadOnTypes.K.html#471" class="Function">K</a> <a id="1322" href="Games.OptimalPlays.html#1204" class="Bound">X</a><a id="1323" class="Symbol">)</a>
                  <a id="1343" class="Symbol">(</a><a id="1344" href="Games.OptimalPlays.html#1344" class="Bound">Ï•f</a> <a id="1347" class="Symbol">:</a> <a id="1349" class="Symbol">(</a><a id="1350" href="Games.OptimalPlays.html#1350" class="Bound">x</a> <a id="1352" class="Symbol">:</a> <a id="1354" href="Games.OptimalPlays.html#1204" class="Bound">X</a><a id="1355" class="Symbol">)</a> <a id="1357" class="Symbol">â†’</a> <a id="1359" href="Games.FiniteHistoryDependent.html#2364" class="Function">ğ“š</a> <a id="1361" class="Symbol">(</a><a id="1362" href="Games.OptimalPlays.html#1233" class="Bound">Xf</a> <a id="1365" href="Games.OptimalPlays.html#1350" class="Bound">x</a><a id="1366" class="Symbol">))</a>
                <a id="1385" class="Symbol">â†’</a> <a id="1387" href="Games.OptimalPlays.html#1204" class="Bound">X</a>
                <a id="1405" class="Symbol">â†’</a> <a id="1407" href="Notation.General.html#372" class="Function">Type</a>
<a id="1412" href="Games.OptimalPlays.html#1185" class="Function">is-optimal-move</a> <a id="1428" class="Symbol">{</a><a id="1429" href="Games.OptimalPlays.html#1429" class="Bound">X</a><a id="1430" class="Symbol">}</a> <a id="1432" class="Symbol">{</a><a id="1433" href="Games.OptimalPlays.html#1433" class="Bound">Xf</a><a id="1435" class="Symbol">}</a> <a id="1437" href="Games.OptimalPlays.html#1437" class="Bound">q</a> <a id="1439" href="Games.OptimalPlays.html#1439" class="Bound">Ï•</a> <a id="1441" href="Games.OptimalPlays.html#1441" class="Bound">Ï•f</a> <a id="1444" href="Games.OptimalPlays.html#1444" class="Bound">x</a> <a id="1446" class="Symbol">=</a>
 <a id="1449" href="Games.FiniteHistoryDependent.html#3536" class="Function">optimal-outcome</a> <a id="1465" class="Symbol">(</a><a id="1466" href="Games.FiniteHistoryDependent.html#3164" class="InductiveConstructor">game</a> <a id="1471" class="Symbol">(</a><a id="1472" href="Games.OptimalPlays.html#1429" class="Bound">X</a> <a id="1474" href="Games.TypeTrees.html#783" class="InductiveConstructor Operator">âˆ·</a> <a id="1476" href="Games.OptimalPlays.html#1433" class="Bound">Xf</a><a id="1478" class="Symbol">)</a> <a id="1480" href="Games.OptimalPlays.html#1437" class="Bound">q</a> <a id="1482" class="Symbol">(</a><a id="1483" href="Games.OptimalPlays.html#1439" class="Bound">Ï•</a> <a id="1485" href="Games.TypeTrees.html#1332" class="InductiveConstructor Operator">::</a> <a id="1488" href="Games.OptimalPlays.html#1441" class="Bound">Ï•f</a><a id="1490" class="Symbol">))</a>
 <a id="1494" href="MLTT.Id.html#193" class="Datatype Operator">ï¼</a> <a id="1496" href="Games.FiniteHistoryDependent.html#3536" class="Function">optimal-outcome</a> <a id="1512" class="Symbol">(</a><a id="1513" href="Games.FiniteHistoryDependent.html#3164" class="InductiveConstructor">game</a> <a id="1518" class="Symbol">(</a><a id="1519" href="Games.OptimalPlays.html#1433" class="Bound">Xf</a> <a id="1522" href="Games.OptimalPlays.html#1444" class="Bound">x</a><a id="1523" class="Symbol">)</a> <a id="1525" class="Symbol">(</a><a id="1526" href="Games.TypeTrees.html#1658" class="Function">subpred</a> <a id="1534" href="Games.OptimalPlays.html#1437" class="Bound">q</a> <a id="1536" href="Games.OptimalPlays.html#1444" class="Bound">x</a><a id="1537" class="Symbol">)</a> <a id="1539" class="Symbol">(</a><a id="1540" href="Games.OptimalPlays.html#1441" class="Bound">Ï•f</a> <a id="1543" href="Games.OptimalPlays.html#1444" class="Bound">x</a><a id="1544" class="Symbol">))</a>

<a id="is-optimal-play"></a><a id="1548" href="Games.OptimalPlays.html#1548" class="Function">is-optimal-play</a> <a id="1564" class="Symbol">:</a> <a id="1566" class="Symbol">{</a><a id="1567" href="Games.OptimalPlays.html#1567" class="Bound">Xt</a> <a id="1570" class="Symbol">:</a> <a id="1572" href="Games.TypeTrees.html#755" class="Datatype">ğ‘»</a><a id="1573" class="Symbol">}</a> <a id="1575" class="Symbol">â†’</a> <a id="1577" href="Games.FiniteHistoryDependent.html#2364" class="Function">ğ“š</a> <a id="1579" href="Games.OptimalPlays.html#1567" class="Bound">Xt</a> <a id="1582" class="Symbol">â†’</a> <a id="1584" class="Symbol">(</a><a id="1585" href="Games.TypeTrees.html#942" class="Function">Path</a> <a id="1590" href="Games.OptimalPlays.html#1567" class="Bound">Xt</a> <a id="1593" class="Symbol">â†’</a> <a id="1595" href="Games.OptimalPlays.html#596" class="Bound">R</a><a id="1596" class="Symbol">)</a> <a id="1598" class="Symbol">â†’</a> <a id="1600" href="Games.TypeTrees.html#942" class="Function">Path</a> <a id="1605" href="Games.OptimalPlays.html#1567" class="Bound">Xt</a> <a id="1608" class="Symbol">â†’</a> <a id="1610" href="Notation.General.html#372" class="Function">Type</a>
<a id="1615" href="Games.OptimalPlays.html#1548" class="Function">is-optimal-play</a> <a id="1631" class="Symbol">{</a><a id="1632" href="Games.TypeTrees.html#773" class="InductiveConstructor">[]</a><a id="1634" class="Symbol">}</a>     <a id="1640" href="Games.TypeTrees.html#1310" class="InductiveConstructor">âŸ¨âŸ©</a>        <a id="1650" href="Games.OptimalPlays.html#1650" class="Bound">q</a> <a id="1652" href="Games.TypeTrees.html#1310" class="InductiveConstructor">âŸ¨âŸ©</a>        <a id="1662" class="Symbol">=</a> <a id="1664" href="MLTT.Unit.html#129" class="Record">ğŸ™</a>
<a id="1666" href="Games.OptimalPlays.html#1548" class="Function">is-optimal-play</a> <a id="1682" class="Symbol">{</a><a id="1683" href="Games.OptimalPlays.html#1683" class="Bound">X</a> <a id="1685" href="Games.TypeTrees.html#783" class="InductiveConstructor Operator">âˆ·</a> <a id="1687" href="Games.OptimalPlays.html#1687" class="Bound">Xf</a><a id="1689" class="Symbol">}</a> <a id="1691" class="Symbol">(</a><a id="1692" href="Games.OptimalPlays.html#1692" class="Bound">Ï•</a> <a id="1694" href="Games.TypeTrees.html#1332" class="InductiveConstructor Operator">::</a> <a id="1697" href="Games.OptimalPlays.html#1697" class="Bound">Ï•f</a><a id="1699" class="Symbol">)</a> <a id="1701" href="Games.OptimalPlays.html#1701" class="Bound">q</a> <a id="1703" class="Symbol">(</a><a id="1704" href="Games.OptimalPlays.html#1704" class="Bound">x</a> <a id="1706" href="Games.TypeTrees.html#1332" class="InductiveConstructor Operator">::</a> <a id="1709" href="Games.OptimalPlays.html#1709" class="Bound">xs</a><a id="1711" class="Symbol">)</a> <a id="1713" class="Symbol">=</a>
   <a id="1718" href="Games.OptimalPlays.html#1185" class="Function">is-optimal-move</a> <a id="1734" class="Symbol">{</a><a id="1735" href="Games.OptimalPlays.html#1683" class="Bound">X</a><a id="1736" class="Symbol">}</a> <a id="1738" class="Symbol">{</a><a id="1739" href="Games.OptimalPlays.html#1687" class="Bound">Xf</a><a id="1741" class="Symbol">}</a> <a id="1743" href="Games.OptimalPlays.html#1701" class="Bound">q</a> <a id="1745" href="Games.OptimalPlays.html#1692" class="Bound">Ï•</a> <a id="1747" href="Games.OptimalPlays.html#1697" class="Bound">Ï•f</a> <a id="1750" href="Games.OptimalPlays.html#1704" class="Bound">x</a>
 <a id="1753" href="MLTT.Sigma.html#558" class="Function Operator">Ã—</a> <a id="1755" href="Games.OptimalPlays.html#1548" class="Function">is-optimal-play</a> <a id="1771" class="Symbol">{</a><a id="1772" href="Games.OptimalPlays.html#1687" class="Bound">Xf</a> <a id="1775" href="Games.OptimalPlays.html#1704" class="Bound">x</a><a id="1776" class="Symbol">}</a> <a id="1778" class="Symbol">(</a><a id="1779" href="Games.OptimalPlays.html#1697" class="Bound">Ï•f</a> <a id="1782" href="Games.OptimalPlays.html#1704" class="Bound">x</a><a id="1783" class="Symbol">)</a> <a id="1785" class="Symbol">(</a><a id="1786" href="Games.TypeTrees.html#1658" class="Function">subpred</a> <a id="1794" href="Games.OptimalPlays.html#1701" class="Bound">q</a> <a id="1796" href="Games.OptimalPlays.html#1704" class="Bound">x</a><a id="1797" class="Symbol">)</a> <a id="1799" href="Games.OptimalPlays.html#1709" class="Bound">xs</a>

<a id="1803" class="Markup">\end{code}</a><a id="1813" class="Background">

Being an optimal move is a decidable proposition.

</a><a id="1866" class="Markup">\begin{code}</a>

<a id="being-optimal-move-is-prop"></a><a id="1880" href="Games.OptimalPlays.html#1880" class="Function">being-optimal-move-is-prop</a> <a id="1907" class="Symbol">:</a> <a id="1909" class="Symbol">{</a><a id="1910" href="Games.OptimalPlays.html#1910" class="Bound">X</a> <a id="1912" class="Symbol">:</a> <a id="1914" href="Notation.General.html#372" class="Function">Type</a><a id="1918" class="Symbol">}</a>
                             <a id="1949" class="Symbol">{</a><a id="1950" href="Games.OptimalPlays.html#1950" class="Bound">Xf</a> <a id="1953" class="Symbol">:</a> <a id="1955" href="Games.OptimalPlays.html#1910" class="Bound">X</a> <a id="1957" class="Symbol">â†’</a> <a id="1959" href="Games.TypeTrees.html#755" class="Datatype">ğ‘»</a><a id="1960" class="Symbol">}</a>
                             <a id="1991" class="Symbol">(</a><a id="1992" href="Games.OptimalPlays.html#1992" class="Bound">q</a> <a id="1994" class="Symbol">:</a> <a id="1996" class="Symbol">(</a><a id="1997" href="MLTT.Sigma.html#423" class="Function">Î£</a> <a id="1999" href="Games.OptimalPlays.html#1999" class="Bound">x</a> <a id="2001" href="MLTT.Sigma.html#423" class="Function">ê‰</a> <a id="2003" href="Games.OptimalPlays.html#1910" class="Bound">X</a> <a id="2005" href="MLTT.Sigma.html#423" class="Function">,</a> <a id="2007" href="Games.TypeTrees.html#942" class="Function">Path</a> <a id="2012" class="Symbol">(</a><a id="2013" href="Games.OptimalPlays.html#1950" class="Bound">Xf</a> <a id="2016" href="Games.OptimalPlays.html#1999" class="Bound">x</a><a id="2017" class="Symbol">))</a> <a id="2020" class="Symbol">â†’</a> <a id="2022" href="Games.OptimalPlays.html#596" class="Bound">R</a><a id="2023" class="Symbol">)</a>
                             <a id="2054" class="Symbol">(</a><a id="2055" href="Games.OptimalPlays.html#2055" class="Bound">Ï•</a> <a id="2057" class="Symbol">:</a> <a id="2059" href="MonadOnTypes.K.html#471" class="Function">K</a> <a id="2061" href="Games.OptimalPlays.html#1910" class="Bound">X</a><a id="2062" class="Symbol">)</a>
                             <a id="2093" class="Symbol">(</a><a id="2094" href="Games.OptimalPlays.html#2094" class="Bound">Ï•f</a> <a id="2097" class="Symbol">:</a> <a id="2099" class="Symbol">(</a><a id="2100" href="Games.OptimalPlays.html#2100" class="Bound">x</a> <a id="2102" class="Symbol">:</a> <a id="2104" href="Games.OptimalPlays.html#1910" class="Bound">X</a><a id="2105" class="Symbol">)</a> <a id="2107" class="Symbol">â†’</a> <a id="2109" href="Games.FiniteHistoryDependent.html#2364" class="Function">ğ“š</a> <a id="2111" class="Symbol">(</a><a id="2112" href="Games.OptimalPlays.html#1950" class="Bound">Xf</a> <a id="2115" href="Games.OptimalPlays.html#2100" class="Bound">x</a><a id="2116" class="Symbol">))</a>
                             <a id="2148" class="Symbol">(</a><a id="2149" href="Games.OptimalPlays.html#2149" class="Bound">x</a> <a id="2151" class="Symbol">:</a> <a id="2153" href="Games.OptimalPlays.html#1910" class="Bound">X</a><a id="2154" class="Symbol">)</a>
                           <a id="2183" class="Symbol">â†’</a> <a id="2185" href="UF.Subsingletons.html#469" class="Function">is-prop</a> <a id="2193" class="Symbol">(</a><a id="2194" href="Games.OptimalPlays.html#1185" class="Function">is-optimal-move</a> <a id="2210" href="Games.OptimalPlays.html#1992" class="Bound">q</a> <a id="2212" href="Games.OptimalPlays.html#2055" class="Bound">Ï•</a> <a id="2214" href="Games.OptimalPlays.html#2094" class="Bound">Ï•f</a> <a id="2217" href="Games.OptimalPlays.html#2149" class="Bound">x</a><a id="2218" class="Symbol">)</a>
<a id="2220" href="Games.OptimalPlays.html#1880" class="Function">being-optimal-move-is-prop</a> <a id="2247" href="Games.OptimalPlays.html#2247" class="Bound">q</a> <a id="2249" href="Games.OptimalPlays.html#2249" class="Bound">Ï•</a> <a id="2251" href="Games.OptimalPlays.html#2251" class="Bound">Ï•f</a> <a id="2254" href="Games.OptimalPlays.html#2254" class="Bound">x</a> <a id="2256" class="Symbol">=</a> <a id="2258" href="UF.DiscreteAndSeparated.html#16929" class="Function">discrete-types-are-sets</a> <a id="2282" href="Games.OptimalPlays.html#616" class="Bound">R-is-discrete</a>

<a id="being-optimal-move-is-decidable"></a><a id="2297" href="Games.OptimalPlays.html#2297" class="Function">being-optimal-move-is-decidable</a> <a id="2329" class="Symbol">:</a> <a id="2331" class="Symbol">{</a><a id="2332" href="Games.OptimalPlays.html#2332" class="Bound">X</a> <a id="2334" class="Symbol">:</a> <a id="2336" href="Notation.General.html#372" class="Function">Type</a><a id="2340" class="Symbol">}</a>
                                  <a id="2376" class="Symbol">{</a><a id="2377" href="Games.OptimalPlays.html#2377" class="Bound">Xf</a> <a id="2380" class="Symbol">:</a> <a id="2382" href="Games.OptimalPlays.html#2332" class="Bound">X</a> <a id="2384" class="Symbol">â†’</a> <a id="2386" href="Games.TypeTrees.html#755" class="Datatype">ğ‘»</a><a id="2387" class="Symbol">}</a>
                                  <a id="2423" class="Symbol">(</a><a id="2424" href="Games.OptimalPlays.html#2424" class="Bound">q</a> <a id="2426" class="Symbol">:</a> <a id="2428" class="Symbol">(</a><a id="2429" href="MLTT.Sigma.html#423" class="Function">Î£</a> <a id="2431" href="Games.OptimalPlays.html#2431" class="Bound">x</a> <a id="2433" href="MLTT.Sigma.html#423" class="Function">ê‰</a> <a id="2435" href="Games.OptimalPlays.html#2332" class="Bound">X</a> <a id="2437" href="MLTT.Sigma.html#423" class="Function">,</a> <a id="2439" href="Games.TypeTrees.html#942" class="Function">Path</a> <a id="2444" class="Symbol">(</a><a id="2445" href="Games.OptimalPlays.html#2377" class="Bound">Xf</a> <a id="2448" href="Games.OptimalPlays.html#2431" class="Bound">x</a><a id="2449" class="Symbol">))</a> <a id="2452" class="Symbol">â†’</a> <a id="2454" href="Games.OptimalPlays.html#596" class="Bound">R</a><a id="2455" class="Symbol">)</a>
                                  <a id="2491" class="Symbol">(</a><a id="2492" href="Games.OptimalPlays.html#2492" class="Bound">Ï•</a> <a id="2494" class="Symbol">:</a> <a id="2496" href="MonadOnTypes.K.html#471" class="Function">K</a> <a id="2498" href="Games.OptimalPlays.html#2332" class="Bound">X</a><a id="2499" class="Symbol">)</a>
                                  <a id="2535" class="Symbol">(</a><a id="2536" href="Games.OptimalPlays.html#2536" class="Bound">Ï•f</a> <a id="2539" class="Symbol">:</a> <a id="2541" class="Symbol">(</a><a id="2542" href="Games.OptimalPlays.html#2542" class="Bound">x</a> <a id="2544" class="Symbol">:</a> <a id="2546" href="Games.OptimalPlays.html#2332" class="Bound">X</a><a id="2547" class="Symbol">)</a> <a id="2549" class="Symbol">â†’</a> <a id="2551" href="Games.FiniteHistoryDependent.html#2364" class="Function">ğ“š</a> <a id="2553" class="Symbol">(</a><a id="2554" href="Games.OptimalPlays.html#2377" class="Bound">Xf</a> <a id="2557" href="Games.OptimalPlays.html#2542" class="Bound">x</a><a id="2558" class="Symbol">))</a>
                                  <a id="2595" class="Symbol">(</a><a id="2596" href="Games.OptimalPlays.html#2596" class="Bound">x</a> <a id="2598" class="Symbol">:</a> <a id="2600" href="Games.OptimalPlays.html#2332" class="Bound">X</a><a id="2601" class="Symbol">)</a>
                                <a id="2635" class="Symbol">â†’</a> <a id="2637" href="MLTT.Negation.html#584" class="Function">is-decidable</a> <a id="2650" class="Symbol">(</a><a id="2651" href="Games.OptimalPlays.html#1185" class="Function">is-optimal-move</a> <a id="2667" href="Games.OptimalPlays.html#2424" class="Bound">q</a> <a id="2669" href="Games.OptimalPlays.html#2492" class="Bound">Ï•</a> <a id="2671" href="Games.OptimalPlays.html#2536" class="Bound">Ï•f</a> <a id="2674" href="Games.OptimalPlays.html#2596" class="Bound">x</a><a id="2675" class="Symbol">)</a>
<a id="2677" href="Games.OptimalPlays.html#2297" class="Function">being-optimal-move-is-decidable</a> <a id="2709" href="Games.OptimalPlays.html#2709" class="Bound">q</a> <a id="2711" href="Games.OptimalPlays.html#2711" class="Bound">Ï•</a> <a id="2713" href="Games.OptimalPlays.html#2713" class="Bound">Ï•f</a> <a id="2716" href="Games.OptimalPlays.html#2716" class="Bound">x</a> <a id="2718" class="Symbol">=</a> <a id="2720" href="Games.OptimalPlays.html#616" class="Bound">R-is-discrete</a> <a id="2734" class="Symbol">_</a> <a id="2736" class="Symbol">_</a>

<a id="2739" class="Markup">\end{code}</a><a id="2749" class="Background">

We now show that the strategic path of a strategy in subgame perfect
equilibrium is an optimal play. We start with a lemma that is
interesting on its own right.

</a><a id="2913" class="Markup">\begin{code}</a>

<a id="optimal-play-gives-optimal-outcome"></a><a id="2927" href="Games.OptimalPlays.html#2927" class="Function">optimal-play-gives-optimal-outcome</a>
 <a id="2963" class="Symbol">:</a> <a id="2965" class="Symbol">{</a><a id="2966" href="Games.OptimalPlays.html#2966" class="Bound">Xt</a> <a id="2969" class="Symbol">:</a> <a id="2971" href="Games.TypeTrees.html#755" class="Datatype">ğ‘»</a><a id="2972" class="Symbol">}</a>
   <a id="2977" class="Symbol">(</a><a id="2978" href="Games.OptimalPlays.html#2978" class="Bound">Ï•t</a> <a id="2981" class="Symbol">:</a> <a id="2983" href="Games.FiniteHistoryDependent.html#2364" class="Function">ğ“š</a> <a id="2985" href="Games.OptimalPlays.html#2966" class="Bound">Xt</a><a id="2987" class="Symbol">)</a>
   <a id="2992" class="Symbol">(</a><a id="2993" href="Games.OptimalPlays.html#2993" class="Bound">q</a> <a id="2995" class="Symbol">:</a> <a id="2997" href="Games.TypeTrees.html#942" class="Function">Path</a> <a id="3002" href="Games.OptimalPlays.html#2966" class="Bound">Xt</a> <a id="3005" class="Symbol">â†’</a> <a id="3007" href="Games.OptimalPlays.html#596" class="Bound">R</a><a id="3008" class="Symbol">)</a>
   <a id="3013" class="Symbol">(</a><a id="3014" href="Games.OptimalPlays.html#3014" class="Bound">xs</a> <a id="3017" class="Symbol">:</a> <a id="3019" href="Games.TypeTrees.html#942" class="Function">Path</a> <a id="3024" href="Games.OptimalPlays.html#2966" class="Bound">Xt</a><a id="3026" class="Symbol">)</a>
 <a id="3029" class="Symbol">â†’</a> <a id="3031" href="Games.OptimalPlays.html#1548" class="Function">is-optimal-play</a> <a id="3047" class="Symbol">{</a><a id="3048" href="Games.OptimalPlays.html#2966" class="Bound">Xt</a><a id="3050" class="Symbol">}</a> <a id="3052" href="Games.OptimalPlays.html#2978" class="Bound">Ï•t</a> <a id="3055" href="Games.OptimalPlays.html#2993" class="Bound">q</a> <a id="3057" href="Games.OptimalPlays.html#3014" class="Bound">xs</a>
 <a id="3061" class="Symbol">â†’</a> <a id="3063" href="Games.OptimalPlays.html#2993" class="Bound">q</a> <a id="3065" href="Games.OptimalPlays.html#3014" class="Bound">xs</a> <a id="3068" href="MLTT.Id.html#193" class="Datatype Operator">ï¼</a> <a id="3070" href="Games.FiniteHistoryDependent.html#3536" class="Function">optimal-outcome</a> <a id="3086" class="Symbol">(</a><a id="3087" href="Games.FiniteHistoryDependent.html#3164" class="InductiveConstructor">game</a> <a id="3092" href="Games.OptimalPlays.html#2966" class="Bound">Xt</a> <a id="3095" href="Games.OptimalPlays.html#2993" class="Bound">q</a> <a id="3097" href="Games.OptimalPlays.html#2978" class="Bound">Ï•t</a><a id="3099" class="Symbol">)</a>
<a id="3101" href="Games.OptimalPlays.html#2927" class="Function">optimal-play-gives-optimal-outcome</a> <a id="3136" class="Symbol">{</a><a id="3137" href="Games.TypeTrees.html#773" class="InductiveConstructor">[]</a><a id="3139" class="Symbol">}</a>     <a id="3145" href="Games.TypeTrees.html#1310" class="InductiveConstructor">âŸ¨âŸ©</a>        <a id="3155" href="Games.OptimalPlays.html#3155" class="Bound">q</a> <a id="3157" href="Games.TypeTrees.html#1310" class="InductiveConstructor">âŸ¨âŸ©</a>        <a id="3167" href="Games.TypeTrees.html#1310" class="InductiveConstructor">âŸ¨âŸ©</a> <a id="3170" class="Symbol">=</a> <a id="3172" href="MLTT.Identity-Type.html#157" class="InductiveConstructor">refl</a>
<a id="3177" href="Games.OptimalPlays.html#2927" class="Function">optimal-play-gives-optimal-outcome</a> <a id="3212" class="Symbol">{</a><a id="3213" href="Games.OptimalPlays.html#3213" class="Bound">X</a> <a id="3215" href="Games.TypeTrees.html#783" class="InductiveConstructor Operator">âˆ·</a> <a id="3217" href="Games.OptimalPlays.html#3217" class="Bound">Xf</a><a id="3219" class="Symbol">}</a> <a id="3221" class="Symbol">(</a><a id="3222" href="Games.OptimalPlays.html#3222" class="Bound">Ï•</a> <a id="3224" href="Games.TypeTrees.html#1332" class="InductiveConstructor Operator">::</a> <a id="3227" href="Games.OptimalPlays.html#3227" class="Bound">Ï•f</a><a id="3229" class="Symbol">)</a> <a id="3231" href="Games.OptimalPlays.html#3231" class="Bound">q</a> <a id="3233" class="Symbol">(</a><a id="3234" href="Games.OptimalPlays.html#3234" class="Bound">x</a> <a id="3236" href="Games.TypeTrees.html#1332" class="InductiveConstructor Operator">::</a> <a id="3239" href="Games.OptimalPlays.html#3239" class="Bound">xs</a><a id="3241" class="Symbol">)</a> <a id="3243" class="Symbol">(</a><a id="3244" href="Games.OptimalPlays.html#3244" class="Bound">o</a> <a id="3246" href="Games.TypeTrees.html#1332" class="InductiveConstructor Operator">::</a> <a id="3249" href="Games.OptimalPlays.html#3249" class="Bound">os</a><a id="3251" class="Symbol">)</a>
 <a id="3254" class="Symbol">=</a> <a id="3256" href="Games.TypeTrees.html#1658" class="Function">subpred</a> <a id="3264" href="Games.OptimalPlays.html#3231" class="Bound">q</a> <a id="3266" href="Games.OptimalPlays.html#3234" class="Bound">x</a> <a id="3268" href="Games.OptimalPlays.html#3239" class="Bound">xs</a>                                     <a id="3307" href="MLTT.Id.html#2703" class="Function Operator">ï¼âŸ¨</a> <a id="3310" href="Games.OptimalPlays.html#3444" class="Function">IH</a> <a id="3313" href="MLTT.Id.html#2703" class="Function Operator">âŸ©</a>
   <a id="3318" href="Games.FiniteHistoryDependent.html#3536" class="Function">optimal-outcome</a> <a id="3334" class="Symbol">(</a><a id="3335" href="Games.FiniteHistoryDependent.html#3164" class="InductiveConstructor">game</a> <a id="3340" class="Symbol">(</a><a id="3341" href="Games.OptimalPlays.html#3217" class="Bound">Xf</a> <a id="3344" href="Games.OptimalPlays.html#3234" class="Bound">x</a><a id="3345" class="Symbol">)</a> <a id="3347" class="Symbol">(</a><a id="3348" href="Games.TypeTrees.html#1658" class="Function">subpred</a> <a id="3356" href="Games.OptimalPlays.html#3231" class="Bound">q</a> <a id="3358" href="Games.OptimalPlays.html#3234" class="Bound">x</a><a id="3359" class="Symbol">)</a> <a id="3361" class="Symbol">(</a><a id="3362" href="Games.OptimalPlays.html#3227" class="Bound">Ï•f</a> <a id="3365" href="Games.OptimalPlays.html#3234" class="Bound">x</a><a id="3366" class="Symbol">))</a> <a id="3369" href="MLTT.Id.html#2703" class="Function Operator">ï¼âŸ¨</a> <a id="3372" href="Games.OptimalPlays.html#3244" class="Bound">o</a> <a id="3374" href="MLTT.Id.html#1055" class="Function Operator">â»Â¹</a> <a id="3377" href="MLTT.Id.html#2703" class="Function Operator">âŸ©</a>
   <a id="3382" href="Games.FiniteHistoryDependent.html#3536" class="Function">optimal-outcome</a> <a id="3398" class="Symbol">(</a><a id="3399" href="Games.FiniteHistoryDependent.html#3164" class="InductiveConstructor">game</a> <a id="3404" class="Symbol">(</a><a id="3405" href="Games.OptimalPlays.html#3213" class="Bound">X</a> <a id="3407" href="Games.TypeTrees.html#783" class="InductiveConstructor Operator">âˆ·</a> <a id="3409" href="Games.OptimalPlays.html#3217" class="Bound">Xf</a><a id="3411" class="Symbol">)</a> <a id="3413" href="Games.OptimalPlays.html#3231" class="Bound">q</a> <a id="3415" class="Symbol">(</a><a id="3416" href="Games.OptimalPlays.html#3222" class="Bound">Ï•</a> <a id="3418" href="Games.TypeTrees.html#1332" class="InductiveConstructor Operator">::</a> <a id="3421" href="Games.OptimalPlays.html#3227" class="Bound">Ï•f</a><a id="3423" class="Symbol">))</a>        <a id="3433" href="MLTT.Id.html#2785" class="Function Operator">âˆ</a>
 <a id="3436" class="Keyword">where</a>
  <a id="3444" href="Games.OptimalPlays.html#3444" class="Function">IH</a> <a id="3447" class="Symbol">:</a> <a id="3449" href="Games.TypeTrees.html#1658" class="Function">subpred</a> <a id="3457" href="Games.OptimalPlays.html#3231" class="Bound">q</a> <a id="3459" href="Games.OptimalPlays.html#3234" class="Bound">x</a> <a id="3461" href="Games.OptimalPlays.html#3239" class="Bound">xs</a> <a id="3464" href="MLTT.Id.html#193" class="Datatype Operator">ï¼</a> <a id="3466" href="Games.FiniteHistoryDependent.html#3536" class="Function">optimal-outcome</a> <a id="3482" class="Symbol">(</a><a id="3483" href="Games.FiniteHistoryDependent.html#3164" class="InductiveConstructor">game</a> <a id="3488" class="Symbol">(</a><a id="3489" href="Games.OptimalPlays.html#3217" class="Bound">Xf</a> <a id="3492" href="Games.OptimalPlays.html#3234" class="Bound">x</a><a id="3493" class="Symbol">)</a> <a id="3495" class="Symbol">(</a><a id="3496" href="Games.TypeTrees.html#1658" class="Function">subpred</a> <a id="3504" href="Games.OptimalPlays.html#3231" class="Bound">q</a> <a id="3506" href="Games.OptimalPlays.html#3234" class="Bound">x</a><a id="3507" class="Symbol">)</a> <a id="3509" class="Symbol">(</a><a id="3510" href="Games.OptimalPlays.html#3227" class="Bound">Ï•f</a> <a id="3513" href="Games.OptimalPlays.html#3234" class="Bound">x</a><a id="3514" class="Symbol">))</a>
  <a id="3519" href="Games.OptimalPlays.html#3444" class="Function">IH</a> <a id="3522" class="Symbol">=</a> <a id="3524" href="Games.OptimalPlays.html#2927" class="Function">optimal-play-gives-optimal-outcome</a> <a id="3559" class="Symbol">{</a><a id="3560" href="Games.OptimalPlays.html#3217" class="Bound">Xf</a> <a id="3563" href="Games.OptimalPlays.html#3234" class="Bound">x</a><a id="3564" class="Symbol">}</a> <a id="3566" class="Symbol">(</a><a id="3567" href="Games.OptimalPlays.html#3227" class="Bound">Ï•f</a> <a id="3570" href="Games.OptimalPlays.html#3234" class="Bound">x</a><a id="3571" class="Symbol">)</a> <a id="3573" class="Symbol">(</a><a id="3574" href="Games.TypeTrees.html#1658" class="Function">subpred</a> <a id="3582" href="Games.OptimalPlays.html#3231" class="Bound">q</a> <a id="3584" href="Games.OptimalPlays.html#3234" class="Bound">x</a><a id="3585" class="Symbol">)</a> <a id="3587" href="Games.OptimalPlays.html#3239" class="Bound">xs</a> <a id="3590" href="Games.OptimalPlays.html#3249" class="Bound">os</a>

<a id="strategic-path-is-optimal-play"></a><a id="3594" href="Games.OptimalPlays.html#3594" class="Function">strategic-path-is-optimal-play</a>
 <a id="3626" class="Symbol">:</a> <a id="3628" class="Symbol">{</a><a id="3629" href="Games.OptimalPlays.html#3629" class="Bound">Xt</a> <a id="3632" class="Symbol">:</a> <a id="3634" href="Games.TypeTrees.html#755" class="Datatype">ğ‘»</a><a id="3635" class="Symbol">}</a>
   <a id="3640" class="Symbol">(</a><a id="3641" href="Games.OptimalPlays.html#3641" class="Bound">Ï•t</a> <a id="3644" class="Symbol">:</a> <a id="3646" href="Games.FiniteHistoryDependent.html#2364" class="Function">ğ“š</a> <a id="3648" href="Games.OptimalPlays.html#3629" class="Bound">Xt</a><a id="3650" class="Symbol">)</a>
   <a id="3655" class="Symbol">(</a><a id="3656" href="Games.OptimalPlays.html#3656" class="Bound">q</a> <a id="3658" class="Symbol">:</a> <a id="3660" href="Games.TypeTrees.html#942" class="Function">Path</a> <a id="3665" href="Games.OptimalPlays.html#3629" class="Bound">Xt</a> <a id="3668" class="Symbol">â†’</a> <a id="3670" href="Games.OptimalPlays.html#596" class="Bound">R</a><a id="3671" class="Symbol">)</a>
   <a id="3676" class="Symbol">(</a><a id="3677" href="Games.OptimalPlays.html#3677" class="Bound">Ïƒ</a> <a id="3679" class="Symbol">:</a> <a id="3681" href="Games.FiniteHistoryDependent.html#3735" class="Function">Strategy</a> <a id="3690" href="Games.OptimalPlays.html#3629" class="Bound">Xt</a><a id="3692" class="Symbol">)</a>
 <a id="3695" class="Symbol">â†’</a> <a id="3697" href="Games.FiniteHistoryDependent.html#5881" class="Function">is-in-sgpe</a> <a id="3708" href="Games.OptimalPlays.html#3641" class="Bound">Ï•t</a> <a id="3711" href="Games.OptimalPlays.html#3656" class="Bound">q</a> <a id="3713" href="Games.OptimalPlays.html#3677" class="Bound">Ïƒ</a>
 <a id="3716" class="Symbol">â†’</a> <a id="3718" href="Games.OptimalPlays.html#1548" class="Function">is-optimal-play</a> <a id="3734" href="Games.OptimalPlays.html#3641" class="Bound">Ï•t</a> <a id="3737" href="Games.OptimalPlays.html#3656" class="Bound">q</a> <a id="3739" class="Symbol">(</a><a id="3740" href="Games.FiniteHistoryDependent.html#4248" class="Function">strategic-path</a> <a id="3755" href="Games.OptimalPlays.html#3677" class="Bound">Ïƒ</a><a id="3756" class="Symbol">)</a>
<a id="3758" href="Games.OptimalPlays.html#3594" class="Function">strategic-path-is-optimal-play</a> <a id="3789" class="Symbol">{</a><a id="3790" href="Games.TypeTrees.html#773" class="InductiveConstructor">[]</a><a id="3792" class="Symbol">}</a> <a id="3794" href="Games.TypeTrees.html#1310" class="InductiveConstructor">âŸ¨âŸ©</a> <a id="3797" href="Games.OptimalPlays.html#3797" class="Bound">q</a> <a id="3799" href="Games.TypeTrees.html#1310" class="InductiveConstructor">âŸ¨âŸ©</a> <a id="3802" href="Games.TypeTrees.html#1310" class="InductiveConstructor">âŸ¨âŸ©</a> <a id="3805" class="Symbol">=</a> <a id="3807" href="MLTT.Unit.html#162" class="InductiveConstructor">â‹†</a>
<a id="3809" href="Games.OptimalPlays.html#3594" class="Function">strategic-path-is-optimal-play</a> <a id="3840" class="Symbol">{</a><a id="3841" href="Games.OptimalPlays.html#3841" class="Bound">X</a> <a id="3843" href="Games.TypeTrees.html#783" class="InductiveConstructor Operator">âˆ·</a> <a id="3845" href="Games.OptimalPlays.html#3845" class="Bound">Xf</a><a id="3847" class="Symbol">}</a> <a id="3849" href="Games.OptimalPlays.html#3849" class="Bound">Ï•t</a><a id="3851" class="Symbol">@(</a><a id="3853" href="Games.OptimalPlays.html#3853" class="Bound">Ï•</a> <a id="3855" href="Games.TypeTrees.html#1332" class="InductiveConstructor Operator">::</a> <a id="3858" href="Games.OptimalPlays.html#3858" class="Bound">Ï•f</a><a id="3860" class="Symbol">)</a> <a id="3862" href="Games.OptimalPlays.html#3862" class="Bound">q</a> <a id="3864" href="Games.OptimalPlays.html#3864" class="Bound">Ïƒ</a><a id="3865" class="Symbol">@(</a><a id="3867" href="Games.OptimalPlays.html#3867" class="Bound">xâ‚€</a> <a id="3870" href="Games.TypeTrees.html#1332" class="InductiveConstructor Operator">::</a> <a id="3873" href="Games.OptimalPlays.html#3873" class="Bound">Ïƒf</a><a id="3875" class="Symbol">)</a> <a id="3877" href="Games.OptimalPlays.html#3877" class="Bound">ot</a><a id="3879" class="Symbol">@(</a><a id="3881" href="Games.OptimalPlays.html#3881" class="Bound">o</a> <a id="3883" href="Games.TypeTrees.html#1332" class="InductiveConstructor Operator">::</a> <a id="3886" href="Games.OptimalPlays.html#3886" class="Bound">os</a><a id="3888" class="Symbol">)</a>
 <a id="3891" class="Symbol">=</a> <a id="3893" href="Games.OptimalPlays.html#4073" class="Function">I</a> <a id="3895" href="MLTT.Sigma.html#395" class="InductiveConstructor Operator">,</a> <a id="3897" href="Games.OptimalPlays.html#3912" class="Function">IH</a> <a id="3900" href="Games.OptimalPlays.html#3867" class="Bound">xâ‚€</a>
 <a id="3904" class="Keyword">where</a>
  <a id="3912" href="Games.OptimalPlays.html#3912" class="Function">IH</a> <a id="3915" class="Symbol">:</a> <a id="3917" class="Symbol">(</a><a id="3918" href="Games.OptimalPlays.html#3918" class="Bound">x</a> <a id="3920" class="Symbol">:</a> <a id="3922" href="Games.OptimalPlays.html#3841" class="Bound">X</a><a id="3923" class="Symbol">)</a> <a id="3925" class="Symbol">â†’</a> <a id="3927" href="Games.OptimalPlays.html#1548" class="Function">is-optimal-play</a> <a id="3943" class="Symbol">(</a><a id="3944" href="Games.OptimalPlays.html#3858" class="Bound">Ï•f</a> <a id="3947" href="Games.OptimalPlays.html#3918" class="Bound">x</a><a id="3948" class="Symbol">)</a> <a id="3950" class="Symbol">(</a><a id="3951" href="Games.TypeTrees.html#1658" class="Function">subpred</a> <a id="3959" href="Games.OptimalPlays.html#3862" class="Bound">q</a> <a id="3961" href="Games.OptimalPlays.html#3918" class="Bound">x</a><a id="3962" class="Symbol">)</a> <a id="3964" class="Symbol">(</a><a id="3965" href="Games.FiniteHistoryDependent.html#4248" class="Function">strategic-path</a> <a id="3980" class="Symbol">(</a><a id="3981" href="Games.OptimalPlays.html#3873" class="Bound">Ïƒf</a> <a id="3984" href="Games.OptimalPlays.html#3918" class="Bound">x</a><a id="3985" class="Symbol">))</a>
  <a id="3990" href="Games.OptimalPlays.html#3912" class="Function">IH</a> <a id="3993" href="Games.OptimalPlays.html#3993" class="Bound">x</a> <a id="3995" class="Symbol">=</a> <a id="3997" href="Games.OptimalPlays.html#3594" class="Function">strategic-path-is-optimal-play</a> <a id="4028" class="Symbol">{</a><a id="4029" href="Games.OptimalPlays.html#3845" class="Bound">Xf</a> <a id="4032" href="Games.OptimalPlays.html#3993" class="Bound">x</a><a id="4033" class="Symbol">}</a> <a id="4035" class="Symbol">(</a><a id="4036" href="Games.OptimalPlays.html#3858" class="Bound">Ï•f</a> <a id="4039" href="Games.OptimalPlays.html#3993" class="Bound">x</a><a id="4040" class="Symbol">)</a> <a id="4042" class="Symbol">(</a><a id="4043" href="Games.TypeTrees.html#1658" class="Function">subpred</a> <a id="4051" href="Games.OptimalPlays.html#3862" class="Bound">q</a> <a id="4053" href="Games.OptimalPlays.html#3993" class="Bound">x</a><a id="4054" class="Symbol">)</a> <a id="4056" class="Symbol">(</a><a id="4057" href="Games.OptimalPlays.html#3873" class="Bound">Ïƒf</a> <a id="4060" href="Games.OptimalPlays.html#3993" class="Bound">x</a><a id="4061" class="Symbol">)</a> <a id="4063" class="Symbol">(</a><a id="4064" href="Games.OptimalPlays.html#3886" class="Bound">os</a> <a id="4067" href="Games.OptimalPlays.html#3993" class="Bound">x</a><a id="4068" class="Symbol">)</a>

  <a id="4073" href="Games.OptimalPlays.html#4073" class="Function">I</a> <a id="4075" class="Symbol">:</a> <a id="4077" href="Games.OptimalPlays.html#1185" class="Function">is-optimal-move</a> <a id="4093" href="Games.OptimalPlays.html#3862" class="Bound">q</a> <a id="4095" href="Games.OptimalPlays.html#3853" class="Bound">Ï•</a> <a id="4097" href="Games.OptimalPlays.html#3858" class="Bound">Ï•f</a> <a id="4100" href="Games.OptimalPlays.html#3867" class="Bound">xâ‚€</a>
  <a id="4105" href="Games.OptimalPlays.html#4073" class="Function">I</a> <a id="4107" class="Symbol">=</a> <a id="4109" href="Games.FiniteHistoryDependent.html#3536" class="Function">optimal-outcome</a> <a id="4125" class="Symbol">(</a><a id="4126" href="Games.FiniteHistoryDependent.html#3164" class="InductiveConstructor">game</a> <a id="4131" class="Symbol">(</a><a id="4132" href="Games.OptimalPlays.html#3841" class="Bound">X</a> <a id="4134" href="Games.TypeTrees.html#783" class="InductiveConstructor Operator">âˆ·</a> <a id="4136" href="Games.OptimalPlays.html#3845" class="Bound">Xf</a><a id="4138" class="Symbol">)</a> <a id="4140" href="Games.OptimalPlays.html#3862" class="Bound">q</a> <a id="4142" class="Symbol">(</a><a id="4143" href="Games.OptimalPlays.html#3853" class="Bound">Ï•</a> <a id="4145" href="Games.TypeTrees.html#1332" class="InductiveConstructor Operator">::</a> <a id="4148" href="Games.OptimalPlays.html#3858" class="Bound">Ï•f</a><a id="4150" class="Symbol">))</a>                  <a id="4170" href="MLTT.Id.html#2703" class="Function Operator">ï¼âŸ¨</a> <a id="4173" href="MLTT.Identity-Type.html#157" class="InductiveConstructor">refl</a> <a id="4178" href="MLTT.Id.html#2703" class="Function Operator">âŸ©</a>
      <a id="4186" href="Games.FiniteHistoryDependent.html#2857" class="Function">sequenceá´·</a> <a id="4196" class="Symbol">{</a><a id="4197" href="Games.OptimalPlays.html#3841" class="Bound">X</a> <a id="4199" href="Games.TypeTrees.html#783" class="InductiveConstructor Operator">âˆ·</a> <a id="4201" href="Games.OptimalPlays.html#3845" class="Bound">Xf</a><a id="4203" class="Symbol">}</a> <a id="4205" class="Symbol">(</a><a id="4206" href="Games.OptimalPlays.html#3853" class="Bound">Ï•</a> <a id="4208" href="Games.TypeTrees.html#1332" class="InductiveConstructor Operator">::</a> <a id="4211" href="Games.OptimalPlays.html#3858" class="Bound">Ï•f</a><a id="4213" class="Symbol">)</a> <a id="4215" href="Games.OptimalPlays.html#3862" class="Bound">q</a>                               <a id="4247" href="MLTT.Id.html#2703" class="Function Operator">ï¼âŸ¨</a> <a id="4250" href="MLTT.Identity-Type.html#157" class="InductiveConstructor">refl</a> <a id="4255" href="MLTT.Id.html#2703" class="Function Operator">âŸ©</a>
      <a id="4263" href="Games.OptimalPlays.html#3853" class="Bound">Ï•</a> <a id="4265" class="Symbol">(Î»</a> <a id="4268" href="Games.OptimalPlays.html#4268" class="Bound">x</a> <a id="4270" class="Symbol">â†’</a> <a id="4272" href="Games.FiniteHistoryDependent.html#2857" class="Function">sequenceá´·</a> <a id="4282" class="Symbol">(</a><a id="4283" href="Games.OptimalPlays.html#3858" class="Bound">Ï•f</a> <a id="4286" href="Games.OptimalPlays.html#4268" class="Bound">x</a><a id="4287" class="Symbol">)</a> <a id="4289" class="Symbol">(</a><a id="4290" href="Games.TypeTrees.html#1658" class="Function">subpred</a> <a id="4298" href="Games.OptimalPlays.html#3862" class="Bound">q</a> <a id="4300" href="Games.OptimalPlays.html#4268" class="Bound">x</a><a id="4301" class="Symbol">))</a>                     <a id="4324" href="MLTT.Id.html#2703" class="Function Operator">ï¼âŸ¨</a> <a id="4327" href="MLTT.Identity-Type.html#157" class="InductiveConstructor">refl</a> <a id="4332" href="MLTT.Id.html#2703" class="Function Operator">âŸ©</a>
      <a id="4340" href="Games.OptimalPlays.html#3853" class="Bound">Ï•</a> <a id="4342" class="Symbol">(Î»</a> <a id="4345" href="Games.OptimalPlays.html#4345" class="Bound">x</a> <a id="4347" class="Symbol">â†’</a> <a id="4349" href="Games.FiniteHistoryDependent.html#3536" class="Function">optimal-outcome</a> <a id="4365" class="Symbol">(</a><a id="4366" href="Games.FiniteHistoryDependent.html#3164" class="InductiveConstructor">game</a> <a id="4371" class="Symbol">(</a><a id="4372" href="Games.OptimalPlays.html#3845" class="Bound">Xf</a> <a id="4375" href="Games.OptimalPlays.html#4345" class="Bound">x</a><a id="4376" class="Symbol">)</a> <a id="4378" class="Symbol">(</a><a id="4379" href="Games.TypeTrees.html#1658" class="Function">subpred</a> <a id="4387" href="Games.OptimalPlays.html#3862" class="Bound">q</a> <a id="4389" href="Games.OptimalPlays.html#4345" class="Bound">x</a><a id="4390" class="Symbol">)</a> <a id="4392" class="Symbol">(</a><a id="4393" href="Games.OptimalPlays.html#3858" class="Bound">Ï•f</a> <a id="4396" href="Games.OptimalPlays.html#4345" class="Bound">x</a><a id="4397" class="Symbol">)))</a> <a id="4401" href="MLTT.Id.html#2703" class="Function Operator">ï¼âŸ¨</a> <a id="4404" href="Games.OptimalPlays.html#4986" class="Function">Iâ‚</a> <a id="4407" href="MLTT.Id.html#2703" class="Function Operator">âŸ©</a>
      <a id="4415" href="Games.OptimalPlays.html#3853" class="Bound">Ï•</a> <a id="4417" class="Symbol">(Î»</a> <a id="4420" href="Games.OptimalPlays.html#4420" class="Bound">x</a> <a id="4422" class="Symbol">â†’</a> <a id="4424" href="Games.TypeTrees.html#1658" class="Function">subpred</a> <a id="4432" href="Games.OptimalPlays.html#3862" class="Bound">q</a> <a id="4434" href="Games.OptimalPlays.html#4420" class="Bound">x</a> <a id="4436" class="Symbol">(</a><a id="4437" href="Games.FiniteHistoryDependent.html#4248" class="Function">strategic-path</a> <a id="4452" class="Symbol">(</a><a id="4453" href="Games.OptimalPlays.html#3873" class="Bound">Ïƒf</a> <a id="4456" href="Games.OptimalPlays.html#4420" class="Bound">x</a><a id="4457" class="Symbol">)))</a>                <a id="4476" href="MLTT.Id.html#2703" class="Function Operator">ï¼âŸ¨</a> <a id="4479" href="Games.OptimalPlays.html#3881" class="Bound">o</a> <a id="4481" href="MLTT.Id.html#1055" class="Function Operator">â»Â¹</a> <a id="4484" href="MLTT.Id.html#2703" class="Function Operator">âŸ©</a>
      <a id="4492" href="Games.OptimalPlays.html#3862" class="Bound">q</a> <a id="4494" class="Symbol">(</a><a id="4495" href="Games.FiniteHistoryDependent.html#4248" class="Function">strategic-path</a> <a id="4510" href="Games.OptimalPlays.html#3864" class="Bound">Ïƒ</a><a id="4511" class="Symbol">)</a>                                         <a id="4553" href="MLTT.Id.html#2703" class="Function Operator">ï¼âŸ¨</a> <a id="4556" href="MLTT.Identity-Type.html#157" class="InductiveConstructor">refl</a> <a id="4561" href="MLTT.Id.html#2703" class="Function Operator">âŸ©</a>
      <a id="4569" href="Games.TypeTrees.html#1658" class="Function">subpred</a> <a id="4577" href="Games.OptimalPlays.html#3862" class="Bound">q</a> <a id="4579" href="Games.OptimalPlays.html#3867" class="Bound">xâ‚€</a> <a id="4582" class="Symbol">(</a><a id="4583" href="Games.FiniteHistoryDependent.html#4248" class="Function">strategic-path</a> <a id="4598" class="Symbol">(</a><a id="4599" href="Games.OptimalPlays.html#3873" class="Bound">Ïƒf</a> <a id="4602" href="Games.OptimalPlays.html#3867" class="Bound">xâ‚€</a><a id="4604" class="Symbol">))</a>                        <a id="4630" href="MLTT.Id.html#2703" class="Function Operator">ï¼âŸ¨</a> <a id="4633" href="Games.OptimalPlays.html#5020" class="Function">Iâ‚‚</a> <a id="4636" href="MLTT.Id.html#2703" class="Function Operator">âŸ©</a>
      <a id="4644" href="Games.FiniteHistoryDependent.html#3536" class="Function">optimal-outcome</a> <a id="4660" class="Symbol">(</a><a id="4661" href="Games.FiniteHistoryDependent.html#3164" class="InductiveConstructor">game</a> <a id="4666" class="Symbol">(</a><a id="4667" href="Games.OptimalPlays.html#3845" class="Bound">Xf</a> <a id="4670" href="Games.OptimalPlays.html#3867" class="Bound">xâ‚€</a><a id="4672" class="Symbol">)</a> <a id="4674" class="Symbol">(</a><a id="4675" href="Games.TypeTrees.html#1658" class="Function">subpred</a> <a id="4683" href="Games.OptimalPlays.html#3862" class="Bound">q</a> <a id="4685" href="Games.OptimalPlays.html#3867" class="Bound">xâ‚€</a><a id="4687" class="Symbol">)</a> <a id="4689" class="Symbol">(</a><a id="4690" href="Games.OptimalPlays.html#3858" class="Bound">Ï•f</a> <a id="4693" href="Games.OptimalPlays.html#3867" class="Bound">xâ‚€</a><a id="4695" class="Symbol">))</a>        <a id="4705" href="MLTT.Id.html#2785" class="Function Operator">âˆ</a>
       <a id="4714" class="Keyword">where</a>
        <a id="4728" href="Games.OptimalPlays.html#4728" class="Function">Iâ‚€</a> <a id="4731" class="Symbol">:</a> <a id="4733" class="Symbol">(</a><a id="4734" href="Games.OptimalPlays.html#4734" class="Bound">x</a> <a id="4736" class="Symbol">:</a> <a id="4738" href="Games.OptimalPlays.html#3841" class="Bound">X</a><a id="4739" class="Symbol">)</a>
           <a id="4752" class="Symbol">â†’</a> <a id="4754" href="Games.FiniteHistoryDependent.html#3536" class="Function">optimal-outcome</a> <a id="4770" class="Symbol">(</a><a id="4771" href="Games.FiniteHistoryDependent.html#3164" class="InductiveConstructor">game</a> <a id="4776" class="Symbol">(</a><a id="4777" href="Games.OptimalPlays.html#3845" class="Bound">Xf</a> <a id="4780" href="Games.OptimalPlays.html#4734" class="Bound">x</a><a id="4781" class="Symbol">)</a> <a id="4783" class="Symbol">(</a><a id="4784" href="Games.TypeTrees.html#1658" class="Function">subpred</a> <a id="4792" href="Games.OptimalPlays.html#3862" class="Bound">q</a> <a id="4794" href="Games.OptimalPlays.html#4734" class="Bound">x</a><a id="4795" class="Symbol">)</a> <a id="4797" class="Symbol">(</a><a id="4798" href="Games.OptimalPlays.html#3858" class="Bound">Ï•f</a> <a id="4801" href="Games.OptimalPlays.html#4734" class="Bound">x</a><a id="4802" class="Symbol">))</a>
           <a id="4816" href="MLTT.Id.html#193" class="Datatype Operator">ï¼</a> <a id="4818" href="Games.TypeTrees.html#1658" class="Function">subpred</a> <a id="4826" href="Games.OptimalPlays.html#3862" class="Bound">q</a> <a id="4828" href="Games.OptimalPlays.html#4734" class="Bound">x</a> <a id="4830" class="Symbol">(</a><a id="4831" href="Games.FiniteHistoryDependent.html#4248" class="Function">strategic-path</a> <a id="4846" class="Symbol">(</a><a id="4847" href="Games.OptimalPlays.html#3873" class="Bound">Ïƒf</a> <a id="4850" href="Games.OptimalPlays.html#4734" class="Bound">x</a><a id="4851" class="Symbol">))</a>
        <a id="4862" href="Games.OptimalPlays.html#4728" class="Function">Iâ‚€</a> <a id="4865" href="Games.OptimalPlays.html#4865" class="Bound">x</a> <a id="4867" class="Symbol">=</a> <a id="4869" class="Symbol">(</a><a id="4870" href="Games.OptimalPlays.html#2927" class="Function">optimal-play-gives-optimal-outcome</a>
                 <a id="4922" class="Symbol">(</a><a id="4923" href="Games.OptimalPlays.html#3858" class="Bound">Ï•f</a> <a id="4926" href="Games.OptimalPlays.html#4865" class="Bound">x</a><a id="4927" class="Symbol">)</a> <a id="4929" class="Symbol">(</a><a id="4930" href="Games.TypeTrees.html#1658" class="Function">subpred</a> <a id="4938" href="Games.OptimalPlays.html#3862" class="Bound">q</a> <a id="4940" href="Games.OptimalPlays.html#4865" class="Bound">x</a><a id="4941" class="Symbol">)</a> <a id="4943" class="Symbol">(</a><a id="4944" href="Games.FiniteHistoryDependent.html#4248" class="Function">strategic-path</a> <a id="4959" class="Symbol">(</a><a id="4960" href="Games.OptimalPlays.html#3873" class="Bound">Ïƒf</a> <a id="4963" href="Games.OptimalPlays.html#4865" class="Bound">x</a><a id="4964" class="Symbol">))</a> <a id="4967" class="Symbol">(</a><a id="4968" href="Games.OptimalPlays.html#3912" class="Function">IH</a> <a id="4971" href="Games.OptimalPlays.html#4865" class="Bound">x</a><a id="4972" class="Symbol">))</a><a id="4974" href="MLTT.Id.html#1055" class="Function Operator">â»Â¹</a>

        <a id="4986" href="Games.OptimalPlays.html#4986" class="Function">Iâ‚</a> <a id="4989" class="Symbol">=</a> <a id="4991" href="MLTT.Id.html#1136" class="Function">ap</a> <a id="4994" href="Games.OptimalPlays.html#3853" class="Bound">Ï•</a> <a id="4996" class="Symbol">(</a><a id="4997" href="UF.FunExt.html#1242" class="Function">dfunext</a> <a id="5005" href="Games.OptimalPlays.html#573" class="Bound">fe</a> <a id="5008" href="Games.OptimalPlays.html#4728" class="Function">Iâ‚€</a><a id="5010" class="Symbol">)</a>
        <a id="5020" href="Games.OptimalPlays.html#5020" class="Function">Iâ‚‚</a> <a id="5023" class="Symbol">=</a> <a id="5025" href="Games.OptimalPlays.html#2927" class="Function">optimal-play-gives-optimal-outcome</a>
              <a id="5074" class="Symbol">(</a><a id="5075" href="Games.OptimalPlays.html#3858" class="Bound">Ï•f</a> <a id="5078" href="Games.OptimalPlays.html#3867" class="Bound">xâ‚€</a><a id="5080" class="Symbol">)</a> <a id="5082" class="Symbol">(</a><a id="5083" href="Games.TypeTrees.html#1658" class="Function">subpred</a> <a id="5091" href="Games.OptimalPlays.html#3862" class="Bound">q</a> <a id="5093" href="Games.OptimalPlays.html#3867" class="Bound">xâ‚€</a><a id="5095" class="Symbol">)</a> <a id="5097" class="Symbol">(</a><a id="5098" href="Games.FiniteHistoryDependent.html#4248" class="Function">strategic-path</a> <a id="5113" class="Symbol">(</a><a id="5114" href="Games.OptimalPlays.html#3873" class="Bound">Ïƒf</a> <a id="5117" href="Games.OptimalPlays.html#3867" class="Bound">xâ‚€</a><a id="5119" class="Symbol">))</a> <a id="5122" class="Symbol">(</a><a id="5123" href="Games.OptimalPlays.html#3912" class="Function">IH</a> <a id="5126" href="Games.OptimalPlays.html#3867" class="Bound">xâ‚€</a><a id="5128" class="Symbol">)</a>

<a id="5131" class="Markup">\end{code}</a><a id="5141" class="Background">

We now proceed to compute the non-empty list of all optimal plays of a
game, under suitable assumptions on the game.

The algebras of the nonempty list monad ğ•ƒâº are the semigroups
(associative magmas). We work with the magma structure on R defined by
x Â· y = x. Concretely, this amounts to the following construction.

</a><a id="5462" class="Markup">\begin{code}</a>

<a id="ğ“"></a><a id="5476" href="Games.OptimalPlays.html#5476" class="Function">ğ“</a> <a id="5478" class="Symbol">:</a> <a id="5480" href="MonadOnTypes.Monad.html#9102" class="Record">Algebra</a> <a id="5488" href="MonadOnTypes.NonEmptyList.html#1721" class="Function">ğ•ƒâº</a> <a id="5491" href="Games.OptimalPlays.html#596" class="Bound">R</a>
<a id="5493" href="Games.OptimalPlays.html#5476" class="Function">ğ“</a> <a id="5495" class="Symbol">=</a> <a id="5497" class="Keyword">record</a> <a id="5504" class="Symbol">{</a>
     <a id="5511" href="MonadOnTypes.Monad.html#9180" class="Field">structure-map</a> <a id="5525" class="Symbol">=</a> <a id="5527" href="MonadOnTypes.NonEmptyList.html#665" class="Function">headâº</a> <a id="5533" class="Symbol">;</a>
     <a id="5540" href="MonadOnTypes.Monad.html#9244" class="Field">aunit</a> <a id="5546" class="Symbol">=</a> <a id="5548" href="Games.OptimalPlays.html#5583" class="Function">u</a> <a id="5550" class="Symbol">;</a>
     <a id="5557" href="MonadOnTypes.Monad.html#9274" class="Field">aassoc</a> <a id="5564" class="Symbol">=</a> <a id="5566" href="Games.OptimalPlays.html#5621" class="Function">a</a>
    <a id="5572" class="Symbol">}</a>
 <a id="5575" class="Keyword">where</a>
  <a id="5583" href="Games.OptimalPlays.html#5583" class="Function">u</a> <a id="5585" class="Symbol">:</a> <a id="5587" href="MonadOnTypes.NonEmptyList.html#665" class="Function">headâº</a> <a id="5593" href="MLTT.Pi.html#513" class="Function Operator">âˆ˜</a> <a id="5595" href="MonadOnTypes.Monad.html#371" class="Field">Î·</a> <a id="5597" href="MonadOnTypes.NonEmptyList.html#1721" class="Function">ğ•ƒâº</a> <a id="5600" href="MLTT.Id.html#1889" class="Function Operator">âˆ¼</a> <a id="5602" href="MLTT.Pi.html#444" class="Function">id</a>
  <a id="5607" href="Games.OptimalPlays.html#5583" class="Function">u</a> <a id="5609" href="Games.OptimalPlays.html#5609" class="Bound">r</a> <a id="5611" class="Symbol">=</a> <a id="5613" href="MLTT.Identity-Type.html#157" class="InductiveConstructor">refl</a>

  <a id="5621" href="Games.OptimalPlays.html#5621" class="Function">a</a> <a id="5623" class="Symbol">:</a> <a id="5625" href="MonadOnTypes.NonEmptyList.html#665" class="Function">headâº</a> <a id="5631" href="MLTT.Pi.html#513" class="Function Operator">âˆ˜</a> <a id="5633" href="MonadOnTypes.Monad.html#404" class="Field">ext</a> <a id="5637" href="MonadOnTypes.NonEmptyList.html#1721" class="Function">ğ•ƒâº</a> <a id="5640" class="Symbol">(</a><a id="5641" href="MonadOnTypes.Monad.html#371" class="Field">Î·</a> <a id="5643" href="MonadOnTypes.NonEmptyList.html#1721" class="Function">ğ•ƒâº</a> <a id="5646" href="MLTT.Pi.html#513" class="Function Operator">âˆ˜</a> <a id="5648" href="MonadOnTypes.NonEmptyList.html#665" class="Function">headâº</a><a id="5653" class="Symbol">)</a> <a id="5655" href="MLTT.Id.html#1889" class="Function Operator">âˆ¼</a> <a id="5657" href="MonadOnTypes.NonEmptyList.html#665" class="Function">headâº</a> <a id="5663" href="MLTT.Pi.html#513" class="Function Operator">âˆ˜</a> <a id="5665" href="MonadOnTypes.Monad.html#404" class="Field">ext</a> <a id="5669" href="MonadOnTypes.NonEmptyList.html#1721" class="Function">ğ•ƒâº</a> <a id="5672" href="MLTT.Pi.html#444" class="Function">id</a>
  <a id="5677" href="Games.OptimalPlays.html#5621" class="Function">a</a> <a id="5679" class="Symbol">((((</a><a id="5683" href="Games.OptimalPlays.html#5683" class="Bound">r</a> <a id="5685" href="MLTT.List.html#534" class="InductiveConstructor Operator">âˆ·</a> <a id="5687" class="Symbol">_)</a> <a id="5690" href="MLTT.Sigma.html#395" class="InductiveConstructor Operator">,</a> <a id="5692" class="Symbol">_)</a> <a id="5695" href="MLTT.List.html#534" class="InductiveConstructor Operator">âˆ·</a> <a id="5697" class="Symbol">_)</a> <a id="5700" href="MLTT.Sigma.html#395" class="InductiveConstructor Operator">,</a> <a id="5702" class="Symbol">_)</a> <a id="5705" class="Symbol">=</a> <a id="5707" href="MLTT.Identity-Type.html#157" class="InductiveConstructor">refl</a>

<a id="5713" class="Keyword">open</a> <a id="5718" href="MonadOnTypes.Monad.html#5034" class="Module">T-definitions</a> <a id="5732" href="MonadOnTypes.NonEmptyList.html#1721" class="Function">ğ•ƒâº</a>
<a id="5735" class="Keyword">open</a> <a id="5740" href="MonadOnTypes.Monad.html#14518" class="Module">Î±-definitions</a> <a id="5754" href="MonadOnTypes.NonEmptyList.html#1721" class="Function">ğ•ƒâº</a> <a id="5757" href="Games.OptimalPlays.html#596" class="Bound">R</a> <a id="5759" href="Games.OptimalPlays.html#5476" class="Function">ğ“</a>
<a id="5761" class="Keyword">open</a> <a id="5766" href="MonadOnTypes.J-transf-variation.html#2217" class="Module">JT-definitions</a> <a id="5781" href="MonadOnTypes.NonEmptyList.html#1721" class="Function">ğ•ƒâº</a> <a id="5784" href="Games.OptimalPlays.html#596" class="Bound">R</a> <a id="5786" href="Games.OptimalPlays.html#5476" class="Function">ğ“</a> <a id="5788" href="Games.OptimalPlays.html#573" class="Bound">fe</a>
<a id="5791" class="Keyword">open</a> <a id="5796" href="MonadOnTypes.JK.html#215" class="Module">JK</a> <a id="5799" href="Games.OptimalPlays.html#596" class="Bound">R</a>

<a id="5802" class="Markup">\end{code}</a><a id="5812" class="Background">

Ordinary selection functions are of type J X := (X â†’ R) â†’ X. Here we
work with JT defined as follows.

</a><a id="5917" class="Markup">\begin{code}</a>

<a id="JT-remark"></a><a id="5931" href="Games.OptimalPlays.html#5931" class="Function">JT-remark</a> <a id="5941" class="Symbol">:</a> <a id="5943" href="MonadOnTypes.J-transf-variation.html#2446" class="Function">JT</a> <a id="5946" href="MLTT.Id.html#193" class="Datatype Operator">ï¼</a> <a id="5948" class="Symbol">Î»</a> <a id="5950" href="Games.OptimalPlays.html#5950" class="Bound">X</a> <a id="5952" class="Symbol">â†’</a> <a id="5954" class="Symbol">(</a><a id="5955" href="Games.OptimalPlays.html#5950" class="Bound">X</a> <a id="5957" class="Symbol">â†’</a> <a id="5959" href="Games.OptimalPlays.html#596" class="Bound">R</a><a id="5960" class="Symbol">)</a> <a id="5962" class="Symbol">â†’</a> <a id="5964" href="MonadOnTypes.NonEmptyList.html#514" class="Function">Listâº</a> <a id="5970" href="Games.OptimalPlays.html#5950" class="Bound">X</a>
<a id="5972" href="Games.OptimalPlays.html#5931" class="Function">JT-remark</a> <a id="5982" class="Symbol">=</a> <a id="5984" href="MLTT.Id.html#2431" class="Function">by-definition</a>

<a id="5999" class="Markup">\end{code}</a><a id="6009" class="Background">

Every algebra Î± of any monad T induces an extension operator Î±Â­extáµ€,
which for the case T = Listâº with the algebra defined above is
characterized as follows.

</a><a id="6170" class="Markup">\begin{code}</a>

<a id="Î±-extáµ€-explicitly"></a><a id="6184" href="Games.OptimalPlays.html#6184" class="Function">Î±-extáµ€-explicitly</a> <a id="6202" class="Symbol">:</a> <a id="6204" class="Symbol">{</a><a id="6205" href="Games.OptimalPlays.html#6205" class="Bound">X</a> <a id="6207" class="Symbol">:</a> <a id="6209" href="Notation.General.html#372" class="Function">Type</a><a id="6213" class="Symbol">}</a> <a id="6215" class="Symbol">(</a><a id="6216" href="Games.OptimalPlays.html#6216" class="Bound">p</a> <a id="6218" class="Symbol">:</a> <a id="6220" href="Games.OptimalPlays.html#6205" class="Bound">X</a> <a id="6222" class="Symbol">â†’</a> <a id="6224" href="Games.OptimalPlays.html#596" class="Bound">R</a><a id="6225" class="Symbol">)</a> <a id="6227" class="Symbol">(</a><a id="6228" href="Games.OptimalPlays.html#6228" class="Bound">t</a> <a id="6230" class="Symbol">:</a> <a id="6232" href="MonadOnTypes.NonEmptyList.html#514" class="Function">Listâº</a> <a id="6238" href="Games.OptimalPlays.html#6205" class="Bound">X</a><a id="6239" class="Symbol">)</a>
                  <a id="6259" class="Symbol">â†’</a> <a id="6261" href="MonadOnTypes.Monad.html#14835" class="Function">Î±-extáµ€</a> <a id="6268" href="Games.OptimalPlays.html#6216" class="Bound">p</a> <a id="6270" href="Games.OptimalPlays.html#6228" class="Bound">t</a> <a id="6272" href="MLTT.Id.html#193" class="Datatype Operator">ï¼</a> <a id="6274" href="Games.OptimalPlays.html#6216" class="Bound">p</a> <a id="6276" class="Symbol">(</a><a id="6277" href="MonadOnTypes.NonEmptyList.html#665" class="Function">headâº</a> <a id="6283" href="Games.OptimalPlays.html#6228" class="Bound">t</a><a id="6284" class="Symbol">)</a>
<a id="6286" href="Games.OptimalPlays.html#6184" class="Function">Î±-extáµ€-explicitly</a> <a id="6304" href="Games.OptimalPlays.html#6304" class="Bound">p</a> <a id="6306" class="Symbol">((</a><a id="6308" href="Games.OptimalPlays.html#6308" class="Bound">x</a> <a id="6310" href="MLTT.List.html#534" class="InductiveConstructor Operator">âˆ·</a> <a id="6312" class="Symbol">_)</a> <a id="6315" href="Games.TypeTrees.html#1332" class="InductiveConstructor Operator">::</a> <a id="6318" class="Symbol">_)</a> <a id="6321" class="Symbol">=</a> <a id="6323" href="MLTT.Identity-Type.html#157" class="InductiveConstructor">refl</a>

<a id="6329" class="Markup">\end{code}</a><a id="6339" class="Background">

We now construct a JT-selection function Îµâº from an ordinary
J-selection function Îµ that attains a quantifier Ï•, for any listed
type X with at least one element.

Recall that we say that a type is listedâº if it has a distinguished
element and a list of all its elements (which will automatically
include the distinguished element).

</a><a id="6674" class="Markup">\begin{code}</a>

<a id="6688" class="Keyword">module</a> <a id="6695" href="Games.OptimalPlays.html#6695" class="Module">_</a> <a id="6697" class="Symbol">(</a><a id="6698" href="Games.OptimalPlays.html#6698" class="Bound">X</a> <a id="6700" class="Symbol">:</a> <a id="6702" href="Notation.General.html#372" class="Function">Type</a><a id="6706" class="Symbol">)</a>
         <a id="6717" class="Symbol">(</a><a id="6718" href="Games.OptimalPlays.html#6718" class="Bound">X-is-listedâº</a><a id="6730" class="Symbol">@(</a><a id="6732" href="Games.OptimalPlays.html#6732" class="Bound">xâ‚€</a> <a id="6735" href="MLTT.Sigma.html#395" class="InductiveConstructor Operator">,</a> <a id="6737" href="Games.OptimalPlays.html#6737" class="Bound">xs</a> <a id="6740" href="MLTT.Sigma.html#395" class="InductiveConstructor Operator">,</a> <a id="6742" href="Games.OptimalPlays.html#6742" class="Bound">Î¼</a><a id="6743" class="Symbol">)</a> <a id="6745" class="Symbol">:</a> <a id="6747" href="MLTT.List.html#6746" class="Function">listedâº</a> <a id="6755" href="Games.OptimalPlays.html#6698" class="Bound">X</a><a id="6756" class="Symbol">)</a>
         <a id="6767" class="Symbol">(</a><a id="6768" href="Games.OptimalPlays.html#6768" class="Bound">Ï•</a> <a id="6770" class="Symbol">:</a> <a id="6772" class="Symbol">(</a><a id="6773" href="Games.OptimalPlays.html#6698" class="Bound">X</a> <a id="6775" class="Symbol">â†’</a> <a id="6777" href="Games.OptimalPlays.html#596" class="Bound">R</a><a id="6778" class="Symbol">)</a> <a id="6780" class="Symbol">â†’</a> <a id="6782" href="Games.OptimalPlays.html#596" class="Bound">R</a><a id="6783" class="Symbol">)</a>
      <a id="6791" class="Keyword">where</a>

 <a id="6799" class="Keyword">private</a>
  <a id="6809" href="Games.OptimalPlays.html#6809" class="Function">A</a> <a id="6811" class="Symbol">:</a> <a id="6813" class="Symbol">(</a><a id="6814" href="Games.OptimalPlays.html#6698" class="Bound">X</a> <a id="6816" class="Symbol">â†’</a> <a id="6818" href="Games.OptimalPlays.html#596" class="Bound">R</a><a id="6819" class="Symbol">)</a> <a id="6821" class="Symbol">â†’</a> <a id="6823" href="Games.OptimalPlays.html#6698" class="Bound">X</a> <a id="6825" class="Symbol">â†’</a> <a id="6827" href="Notation.General.html#372" class="Function">Type</a>
  <a id="6834" href="Games.OptimalPlays.html#6809" class="Function">A</a> <a id="6836" href="Games.OptimalPlays.html#6836" class="Bound">p</a> <a id="6838" href="Games.OptimalPlays.html#6838" class="Bound">x</a> <a id="6840" class="Symbol">=</a> <a id="6842" href="Games.OptimalPlays.html#6836" class="Bound">p</a> <a id="6844" href="Games.OptimalPlays.html#6838" class="Bound">x</a> <a id="6846" href="MLTT.Id.html#193" class="Datatype Operator">ï¼</a> <a id="6848" href="Games.OptimalPlays.html#6768" class="Bound">Ï•</a> <a id="6850" href="Games.OptimalPlays.html#6836" class="Bound">p</a>

  <a id="6855" href="Games.OptimalPlays.html#6855" class="Function">Î´A</a> <a id="6858" class="Symbol">:</a> <a id="6860" class="Symbol">(</a><a id="6861" href="Games.OptimalPlays.html#6861" class="Bound">p</a> <a id="6863" class="Symbol">:</a> <a id="6865" href="Games.OptimalPlays.html#6698" class="Bound">X</a> <a id="6867" class="Symbol">â†’</a> <a id="6869" href="Games.OptimalPlays.html#596" class="Bound">R</a><a id="6870" class="Symbol">)</a> <a id="6872" class="Symbol">(</a><a id="6873" href="Games.OptimalPlays.html#6873" class="Bound">x</a> <a id="6875" class="Symbol">:</a> <a id="6877" href="Games.OptimalPlays.html#6698" class="Bound">X</a><a id="6878" class="Symbol">)</a> <a id="6880" class="Symbol">â†’</a> <a id="6882" href="MLTT.Negation.html#584" class="Function">is-decidable</a> <a id="6895" class="Symbol">(</a><a id="6896" href="Games.OptimalPlays.html#6809" class="Function">A</a> <a id="6898" href="Games.OptimalPlays.html#6861" class="Bound">p</a> <a id="6900" href="Games.OptimalPlays.html#6873" class="Bound">x</a><a id="6901" class="Symbol">)</a>
  <a id="6905" href="Games.OptimalPlays.html#6855" class="Function">Î´A</a> <a id="6908" href="Games.OptimalPlays.html#6908" class="Bound">p</a> <a id="6910" href="Games.OptimalPlays.html#6910" class="Bound">x</a> <a id="6912" class="Symbol">=</a> <a id="6914" href="Games.OptimalPlays.html#616" class="Bound">R-is-discrete</a> <a id="6928" class="Symbol">(</a><a id="6929" href="Games.OptimalPlays.html#6908" class="Bound">p</a> <a id="6931" href="Games.OptimalPlays.html#6910" class="Bound">x</a><a id="6932" class="Symbol">)</a> <a id="6934" class="Symbol">(</a><a id="6935" href="Games.OptimalPlays.html#6768" class="Bound">Ï•</a> <a id="6937" href="Games.OptimalPlays.html#6908" class="Bound">p</a><a id="6938" class="Symbol">)</a>

 <a id="6942" href="Games.OptimalPlays.html#6942" class="Function">Îµá´¸</a> <a id="6945" class="Symbol">:</a>  <a id="6948" class="Symbol">(</a><a id="6949" href="Games.OptimalPlays.html#6698" class="Bound">X</a> <a id="6951" class="Symbol">â†’</a> <a id="6953" href="Games.OptimalPlays.html#596" class="Bound">R</a><a id="6954" class="Symbol">)</a> <a id="6956" class="Symbol">â†’</a> <a id="6958" href="MLTT.List.html#488" class="Datatype">List</a> <a id="6963" href="Games.OptimalPlays.html#6698" class="Bound">X</a>
 <a id="6966" href="Games.OptimalPlays.html#6942" class="Function">Îµá´¸</a> <a id="6969" href="Games.OptimalPlays.html#6969" class="Bound">p</a> <a id="6971" class="Symbol">=</a> <a id="6973" href="MLTT.List.html#4578" class="Function">filter</a> <a id="6980" class="Symbol">(</a><a id="6981" href="Games.OptimalPlays.html#6809" class="Function">A</a> <a id="6983" href="Games.OptimalPlays.html#6969" class="Bound">p</a><a id="6984" class="Symbol">)</a> <a id="6986" class="Symbol">(</a><a id="6987" href="Games.OptimalPlays.html#6855" class="Function">Î´A</a> <a id="6990" href="Games.OptimalPlays.html#6969" class="Bound">p</a><a id="6991" class="Symbol">)</a> <a id="6993" href="Games.OptimalPlays.html#6737" class="Bound">xs</a>

 <a id="6998" href="Games.OptimalPlays.html#6998" class="Function">Îµá´¸-propertyâ†’</a> <a id="7011" class="Symbol">:</a> <a id="7013" class="Symbol">(</a><a id="7014" href="Games.OptimalPlays.html#7014" class="Bound">p</a> <a id="7016" class="Symbol">:</a> <a id="7018" href="Games.OptimalPlays.html#6698" class="Bound">X</a> <a id="7020" class="Symbol">â†’</a> <a id="7022" href="Games.OptimalPlays.html#596" class="Bound">R</a><a id="7023" class="Symbol">)</a> <a id="7025" class="Symbol">(</a><a id="7026" href="Games.OptimalPlays.html#7026" class="Bound">x</a> <a id="7028" class="Symbol">:</a> <a id="7030" href="Games.OptimalPlays.html#6698" class="Bound">X</a><a id="7031" class="Symbol">)</a> <a id="7033" class="Symbol">â†’</a> <a id="7035" href="MLTT.List.html#3417" class="Datatype">member</a> <a id="7042" href="Games.OptimalPlays.html#7026" class="Bound">x</a> <a id="7044" class="Symbol">(</a><a id="7045" href="Games.OptimalPlays.html#6942" class="Function">Îµá´¸</a> <a id="7048" href="Games.OptimalPlays.html#7014" class="Bound">p</a><a id="7049" class="Symbol">)</a> <a id="7051" class="Symbol">â†’</a> <a id="7053" href="Games.OptimalPlays.html#7014" class="Bound">p</a> <a id="7055" href="Games.OptimalPlays.html#7026" class="Bound">x</a> <a id="7057" href="MLTT.Id.html#193" class="Datatype Operator">ï¼</a> <a id="7059" href="Games.OptimalPlays.html#6768" class="Bound">Ï•</a> <a id="7061" href="Games.OptimalPlays.html#7014" class="Bound">p</a>
 <a id="7064" href="Games.OptimalPlays.html#6998" class="Function">Îµá´¸-propertyâ†’</a> <a id="7077" href="Games.OptimalPlays.html#7077" class="Bound">p</a> <a id="7079" href="Games.OptimalPlays.html#7079" class="Bound">x</a> <a id="7081" class="Symbol">=</a> <a id="7083" href="MLTT.List.html#4779" class="Function">filter-memberâ†’</a> <a id="7098" class="Symbol">(</a><a id="7099" href="Games.OptimalPlays.html#6809" class="Function">A</a> <a id="7101" href="Games.OptimalPlays.html#7077" class="Bound">p</a><a id="7102" class="Symbol">)</a> <a id="7104" class="Symbol">(</a><a id="7105" href="Games.OptimalPlays.html#6855" class="Function">Î´A</a> <a id="7108" href="Games.OptimalPlays.html#7077" class="Bound">p</a><a id="7109" class="Symbol">)</a> <a id="7111" href="Games.OptimalPlays.html#7079" class="Bound">x</a> <a id="7113" href="Games.OptimalPlays.html#6737" class="Bound">xs</a>

 <a id="7118" href="Games.OptimalPlays.html#7118" class="Function">Îµá´¸-propertyâ†</a> <a id="7131" class="Symbol">:</a> <a id="7133" class="Symbol">(</a><a id="7134" href="Games.OptimalPlays.html#7134" class="Bound">p</a> <a id="7136" class="Symbol">:</a> <a id="7138" href="Games.OptimalPlays.html#6698" class="Bound">X</a> <a id="7140" class="Symbol">â†’</a> <a id="7142" href="Games.OptimalPlays.html#596" class="Bound">R</a><a id="7143" class="Symbol">)</a> <a id="7145" class="Symbol">(</a><a id="7146" href="Games.OptimalPlays.html#7146" class="Bound">x</a> <a id="7148" class="Symbol">:</a> <a id="7150" href="Games.OptimalPlays.html#6698" class="Bound">X</a><a id="7151" class="Symbol">)</a> <a id="7153" class="Symbol">â†’</a> <a id="7155" href="Games.OptimalPlays.html#7134" class="Bound">p</a> <a id="7157" href="Games.OptimalPlays.html#7146" class="Bound">x</a> <a id="7159" href="MLTT.Id.html#193" class="Datatype Operator">ï¼</a> <a id="7161" href="Games.OptimalPlays.html#6768" class="Bound">Ï•</a> <a id="7163" href="Games.OptimalPlays.html#7134" class="Bound">p</a> <a id="7165" class="Symbol">â†’</a> <a id="7167" href="MLTT.List.html#3417" class="Datatype">member</a> <a id="7174" href="Games.OptimalPlays.html#7146" class="Bound">x</a> <a id="7176" class="Symbol">(</a><a id="7177" href="Games.OptimalPlays.html#6942" class="Function">Îµá´¸</a> <a id="7180" href="Games.OptimalPlays.html#7134" class="Bound">p</a><a id="7181" class="Symbol">)</a>
 <a id="7184" href="Games.OptimalPlays.html#7118" class="Function">Îµá´¸-propertyâ†</a> <a id="7197" href="Games.OptimalPlays.html#7197" class="Bound">p</a> <a id="7199" href="Games.OptimalPlays.html#7199" class="Bound">x</a> <a id="7201" href="Games.OptimalPlays.html#7201" class="Bound">e</a> <a id="7203" class="Symbol">=</a> <a id="7205" href="MLTT.List.html#5348" class="Function">filter-memberâ†</a> <a id="7220" class="Symbol">(</a><a id="7221" href="Games.OptimalPlays.html#6809" class="Function">A</a> <a id="7223" href="Games.OptimalPlays.html#7197" class="Bound">p</a><a id="7224" class="Symbol">)</a> <a id="7226" class="Symbol">(</a><a id="7227" href="Games.OptimalPlays.html#6855" class="Function">Î´A</a> <a id="7230" href="Games.OptimalPlays.html#7197" class="Bound">p</a><a id="7231" class="Symbol">)</a> <a id="7233" href="Games.OptimalPlays.html#7199" class="Bound">x</a> <a id="7235" href="Games.OptimalPlays.html#6737" class="Bound">xs</a> <a id="7238" href="Games.OptimalPlays.html#7201" class="Bound">e</a> <a id="7240" class="Symbol">(</a><a id="7241" href="Games.OptimalPlays.html#6742" class="Bound">Î¼</a> <a id="7243" href="Games.OptimalPlays.html#7199" class="Bound">x</a><a id="7244" class="Symbol">)</a>

 <a id="7248" class="Keyword">module</a> <a id="7255" href="Games.OptimalPlays.html#7255" class="Module">_</a> <a id="7257" class="Symbol">(</a><a id="7258" href="Games.OptimalPlays.html#7258" class="Bound">Îµ</a> <a id="7260" class="Symbol">:</a> <a id="7262" class="Symbol">(</a><a id="7263" href="Games.OptimalPlays.html#6698" class="Bound">X</a> <a id="7265" class="Symbol">â†’</a> <a id="7267" href="Games.OptimalPlays.html#596" class="Bound">R</a><a id="7268" class="Symbol">)</a> <a id="7270" class="Symbol">â†’</a> <a id="7272" href="Games.OptimalPlays.html#6698" class="Bound">X</a><a id="7273" class="Symbol">)</a>
          <a id="7285" class="Symbol">(</a><a id="7286" href="Games.OptimalPlays.html#7286" class="Bound">Îµ-attains-Ï•</a> <a id="7298" class="Symbol">:</a> <a id="7300" href="Games.OptimalPlays.html#7258" class="Bound">Îµ</a> <a id="7302" href="MonadOnTypes.JK.html#555" class="Function Operator">attains</a> <a id="7310" href="Games.OptimalPlays.html#6768" class="Bound">Ï•</a><a id="7311" class="Symbol">)</a>
        <a id="7321" class="Keyword">where</a>

  <a id="7330" href="Games.OptimalPlays.html#7330" class="Function">Îµ-member-of-Îµá´¸</a> <a id="7345" class="Symbol">:</a> <a id="7347" class="Symbol">(</a><a id="7348" href="Games.OptimalPlays.html#7348" class="Bound">p</a> <a id="7350" class="Symbol">:</a> <a id="7352" href="Games.OptimalPlays.html#6698" class="Bound">X</a> <a id="7354" class="Symbol">â†’</a> <a id="7356" href="Games.OptimalPlays.html#596" class="Bound">R</a><a id="7357" class="Symbol">)</a> <a id="7359" class="Symbol">â†’</a> <a id="7361" href="MLTT.List.html#3417" class="Datatype">member</a> <a id="7368" class="Symbol">(</a><a id="7369" href="Games.OptimalPlays.html#7258" class="Bound">Îµ</a> <a id="7371" href="Games.OptimalPlays.html#7348" class="Bound">p</a><a id="7372" class="Symbol">)</a> <a id="7374" class="Symbol">(</a><a id="7375" href="Games.OptimalPlays.html#6942" class="Function">Îµá´¸</a> <a id="7378" href="Games.OptimalPlays.html#7348" class="Bound">p</a><a id="7379" class="Symbol">)</a>
  <a id="7383" href="Games.OptimalPlays.html#7330" class="Function">Îµ-member-of-Îµá´¸</a> <a id="7398" href="Games.OptimalPlays.html#7398" class="Bound">p</a> <a id="7400" class="Symbol">=</a> <a id="7402" href="MLTT.List.html#5348" class="Function">filter-memberâ†</a> <a id="7417" class="Symbol">(</a><a id="7418" href="Games.OptimalPlays.html#6809" class="Function">A</a> <a id="7420" href="Games.OptimalPlays.html#7398" class="Bound">p</a><a id="7421" class="Symbol">)</a> <a id="7423" class="Symbol">(</a><a id="7424" href="Games.OptimalPlays.html#6855" class="Function">Î´A</a> <a id="7427" href="Games.OptimalPlays.html#7398" class="Bound">p</a><a id="7428" class="Symbol">)</a> <a id="7430" class="Symbol">(</a><a id="7431" href="Games.OptimalPlays.html#7258" class="Bound">Îµ</a> <a id="7433" href="Games.OptimalPlays.html#7398" class="Bound">p</a><a id="7434" class="Symbol">)</a> <a id="7436" href="Games.OptimalPlays.html#6737" class="Bound">xs</a> <a id="7439" class="Symbol">(</a><a id="7440" href="Games.OptimalPlays.html#7286" class="Bound">Îµ-attains-Ï•</a> <a id="7452" href="Games.OptimalPlays.html#7398" class="Bound">p</a><a id="7453" class="Symbol">)</a> <a id="7455" class="Symbol">(</a><a id="7456" href="Games.OptimalPlays.html#6742" class="Bound">Î¼</a> <a id="7458" class="Symbol">(</a><a id="7459" href="Games.OptimalPlays.html#7258" class="Bound">Îµ</a> <a id="7461" href="Games.OptimalPlays.html#7398" class="Bound">p</a><a id="7462" class="Symbol">))</a>

  <a id="7468" href="Games.OptimalPlays.html#7468" class="Function">Îµá´¸-is-non-empty</a> <a id="7484" class="Symbol">:</a> <a id="7486" class="Symbol">(</a><a id="7487" href="Games.OptimalPlays.html#7487" class="Bound">p</a> <a id="7489" class="Symbol">:</a> <a id="7491" href="Games.OptimalPlays.html#6698" class="Bound">X</a> <a id="7493" class="Symbol">â†’</a> <a id="7495" href="Games.OptimalPlays.html#596" class="Bound">R</a><a id="7496" class="Symbol">)</a> <a id="7498" class="Symbol">â†’</a> <a id="7500" href="MLTT.List.html#2407" class="Function">is-non-empty</a> <a id="7513" class="Symbol">(</a><a id="7514" href="Games.OptimalPlays.html#6942" class="Function">Îµá´¸</a> <a id="7517" href="Games.OptimalPlays.html#7487" class="Bound">p</a><a id="7518" class="Symbol">)</a>
  <a id="7522" href="Games.OptimalPlays.html#7468" class="Function">Îµá´¸-is-non-empty</a> <a id="7538" href="Games.OptimalPlays.html#7538" class="Bound">p</a> <a id="7540" class="Symbol">=</a> <a id="7542" href="MLTT.List.html#3734" class="Function">lists-with-members-are-non-empty</a> <a id="7575" class="Symbol">(</a><a id="7576" href="Games.OptimalPlays.html#7330" class="Function">Îµ-member-of-Îµá´¸</a> <a id="7591" href="Games.OptimalPlays.html#7538" class="Bound">p</a><a id="7592" class="Symbol">)</a>

  <a id="7597" href="Games.OptimalPlays.html#7597" class="Function">Îµâº</a> <a id="7600" class="Symbol">:</a> <a id="7602" href="MonadOnTypes.J-transf-variation.html#2446" class="Function">JT</a> <a id="7605" href="Games.OptimalPlays.html#6698" class="Bound">X</a>
  <a id="7609" href="Games.OptimalPlays.html#7597" class="Function">Îµâº</a> <a id="7612" href="Games.OptimalPlays.html#7612" class="Bound">p</a> <a id="7614" class="Symbol">=</a> <a id="7616" href="Games.OptimalPlays.html#6942" class="Function">Îµá´¸</a> <a id="7619" href="Games.OptimalPlays.html#7612" class="Bound">p</a> <a id="7621" href="MLTT.Sigma.html#395" class="InductiveConstructor Operator">,</a> <a id="7623" href="Games.OptimalPlays.html#7468" class="Function">Îµá´¸-is-non-empty</a> <a id="7639" href="Games.OptimalPlays.html#7612" class="Bound">p</a>

<a id="7642" class="Markup">\end{code}</a><a id="7652" class="Background">

We now extend this to trees of selection functions that attain
quantifiers.

</a><a id="7731" class="Markup">\begin{code}</a>

<a id="ğ“™ğ“£"></a><a id="7745" href="Games.OptimalPlays.html#7745" class="Function">ğ“™ğ“£</a> <a id="7748" class="Symbol">:</a> <a id="7750" href="Games.TypeTrees.html#755" class="Datatype">ğ‘»</a> <a id="7752" class="Symbol">â†’</a> <a id="7754" href="Notation.General.html#372" class="Function">Type</a>
<a id="7759" href="Games.OptimalPlays.html#7745" class="Function">ğ“™ğ“£</a> <a id="7762" class="Symbol">=</a> <a id="7764" href="Games.TypeTrees.html#2156" class="Function">structure</a> <a id="7774" href="MonadOnTypes.J-transf-variation.html#2446" class="Function">JT</a>

<a id="Îµtâº"></a><a id="7778" href="Games.OptimalPlays.html#7778" class="Function">Îµtâº</a> <a id="7782" class="Symbol">:</a> <a id="7784" class="Symbol">(</a><a id="7785" href="Games.OptimalPlays.html#7785" class="Bound">Xt</a> <a id="7788" class="Symbol">:</a> <a id="7790" href="Games.TypeTrees.html#755" class="Datatype">ğ‘»</a><a id="7791" class="Symbol">)</a>
    <a id="7797" class="Symbol">â†’</a> <a id="7799" href="Games.TypeTrees.html#2156" class="Function">structure</a> <a id="7809" href="MLTT.List.html#6746" class="Function">listedâº</a> <a id="7817" href="Games.OptimalPlays.html#7785" class="Bound">Xt</a>
    <a id="7824" class="Symbol">â†’</a> <a id="7826" class="Symbol">(</a><a id="7827" href="Games.OptimalPlays.html#7827" class="Bound">Ï•t</a> <a id="7830" class="Symbol">:</a> <a id="7832" href="Games.FiniteHistoryDependent.html#2364" class="Function">ğ“š</a> <a id="7834" href="Games.OptimalPlays.html#7785" class="Bound">Xt</a><a id="7836" class="Symbol">)</a>
    <a id="7842" class="Symbol">â†’</a> <a id="7844" class="Symbol">(</a><a id="7845" href="Games.OptimalPlays.html#7845" class="Bound">Îµt</a> <a id="7848" class="Symbol">:</a> <a id="7850" href="Games.FiniteHistoryDependent.html#8970" class="Function">ğ“™</a> <a id="7852" href="Games.OptimalPlays.html#7785" class="Bound">Xt</a><a id="7854" class="Symbol">)</a>
    <a id="7860" class="Symbol">â†’</a> <a id="7862" href="Games.OptimalPlays.html#7845" class="Bound">Îµt</a> <a id="7865" href="Games.FiniteHistoryDependent.html#10543" class="Function Operator">Attains</a> <a id="7873" href="Games.OptimalPlays.html#7827" class="Bound">Ï•t</a>
    <a id="7880" class="Symbol">â†’</a> <a id="7882" href="Games.OptimalPlays.html#7745" class="Function">ğ“™ğ“£</a> <a id="7885" href="Games.OptimalPlays.html#7785" class="Bound">Xt</a>
<a id="7888" href="Games.OptimalPlays.html#7778" class="Function">Îµtâº</a> <a id="7892" href="Games.TypeTrees.html#773" class="InductiveConstructor">[]</a> <a id="7895" href="Games.TypeTrees.html#1310" class="InductiveConstructor">âŸ¨âŸ©</a> <a id="7898" href="Games.TypeTrees.html#1310" class="InductiveConstructor">âŸ¨âŸ©</a> <a id="7901" href="Games.TypeTrees.html#1310" class="InductiveConstructor">âŸ¨âŸ©</a> <a id="7904" href="Games.TypeTrees.html#1310" class="InductiveConstructor">âŸ¨âŸ©</a> <a id="7907" class="Symbol">=</a> <a id="7909" href="Games.TypeTrees.html#1310" class="InductiveConstructor">âŸ¨âŸ©</a>
<a id="7912" href="Games.OptimalPlays.html#7778" class="Function">Îµtâº</a> <a id="7916" class="Symbol">(</a><a id="7917" href="Games.OptimalPlays.html#7917" class="Bound">X</a> <a id="7919" href="Games.TypeTrees.html#783" class="InductiveConstructor Operator">âˆ·</a> <a id="7921" href="Games.OptimalPlays.html#7921" class="Bound">Xf</a><a id="7923" class="Symbol">)</a> <a id="7925" class="Symbol">(</a><a id="7926" href="Games.OptimalPlays.html#7926" class="Bound">l</a> <a id="7928" href="Games.TypeTrees.html#1332" class="InductiveConstructor Operator">::</a> <a id="7931" href="Games.OptimalPlays.html#7931" class="Bound">lf</a><a id="7933" class="Symbol">)</a> <a id="7935" class="Symbol">(</a><a id="7936" href="Games.OptimalPlays.html#7936" class="Bound">Ï•</a> <a id="7938" href="Games.TypeTrees.html#1332" class="InductiveConstructor Operator">::</a> <a id="7941" href="Games.OptimalPlays.html#7941" class="Bound">Ï•f</a><a id="7943" class="Symbol">)</a> <a id="7945" class="Symbol">(</a><a id="7946" href="Games.OptimalPlays.html#7946" class="Bound">Îµ</a> <a id="7948" href="Games.TypeTrees.html#1332" class="InductiveConstructor Operator">::</a> <a id="7951" href="Games.OptimalPlays.html#7951" class="Bound">Îµf</a><a id="7953" class="Symbol">)</a> <a id="7955" class="Symbol">(</a><a id="7956" href="Games.OptimalPlays.html#7956" class="Bound">a</a> <a id="7958" href="Games.TypeTrees.html#1332" class="InductiveConstructor Operator">::</a> <a id="7961" href="Games.OptimalPlays.html#7961" class="Bound">af</a><a id="7963" class="Symbol">)</a> <a id="7965" class="Symbol">=</a>
 <a id="7968" href="Games.OptimalPlays.html#7597" class="Function">Îµâº</a> <a id="7971" href="Games.OptimalPlays.html#7917" class="Bound">X</a> <a id="7973" href="Games.OptimalPlays.html#7926" class="Bound">l</a> <a id="7975" href="Games.OptimalPlays.html#7936" class="Bound">Ï•</a> <a id="7977" href="Games.OptimalPlays.html#7946" class="Bound">Îµ</a> <a id="7979" href="Games.OptimalPlays.html#7956" class="Bound">a</a> <a id="7981" href="Games.TypeTrees.html#1332" class="InductiveConstructor Operator">::</a> <a id="7984" class="Symbol">(Î»</a> <a id="7987" href="Games.OptimalPlays.html#7987" class="Bound">x</a> <a id="7989" class="Symbol">â†’</a> <a id="7991" href="Games.OptimalPlays.html#7778" class="Function">Îµtâº</a> <a id="7995" class="Symbol">(</a><a id="7996" href="Games.OptimalPlays.html#7921" class="Bound">Xf</a> <a id="7999" href="Games.OptimalPlays.html#7987" class="Bound">x</a><a id="8000" class="Symbol">)</a> <a id="8002" class="Symbol">(</a><a id="8003" href="Games.OptimalPlays.html#7931" class="Bound">lf</a> <a id="8006" href="Games.OptimalPlays.html#7987" class="Bound">x</a><a id="8007" class="Symbol">)</a> <a id="8009" class="Symbol">(</a><a id="8010" href="Games.OptimalPlays.html#7941" class="Bound">Ï•f</a> <a id="8013" href="Games.OptimalPlays.html#7987" class="Bound">x</a><a id="8014" class="Symbol">)</a> <a id="8016" class="Symbol">(</a><a id="8017" href="Games.OptimalPlays.html#7951" class="Bound">Îµf</a> <a id="8020" href="Games.OptimalPlays.html#7987" class="Bound">x</a><a id="8021" class="Symbol">)</a> <a id="8023" class="Symbol">(</a><a id="8024" href="Games.OptimalPlays.html#7961" class="Bound">af</a> <a id="8027" href="Games.OptimalPlays.html#7987" class="Bound">x</a><a id="8028" class="Symbol">))</a>

<a id="8032" class="Keyword">open</a> <a id="8037" href="MonadOnTypes.NonEmptyList.html#2321" class="Module">Listâº-definitions</a>

<a id="8056" class="Markup">\end{code}</a><a id="8066" class="Background">

We now prove a couple of technical lemmas.

</a><a id="8112" class="Markup">\begin{code}</a>

<a id="8126" class="Keyword">module</a> <a id="8133" href="Games.OptimalPlays.html#8133" class="Module">_</a> <a id="8135" class="Symbol">{</a><a id="8136" href="Games.OptimalPlays.html#8136" class="Bound">X</a> <a id="8138" class="Symbol">:</a> <a id="8140" href="Notation.General.html#372" class="Function">Type</a><a id="8144" class="Symbol">}</a> <a id="8146" class="Symbol">{</a><a id="8147" href="Games.OptimalPlays.html#8147" class="Bound">Xf</a> <a id="8150" class="Symbol">:</a> <a id="8152" href="Games.OptimalPlays.html#8136" class="Bound">X</a> <a id="8154" class="Symbol">â†’</a> <a id="8156" href="Games.TypeTrees.html#755" class="Datatype">ğ‘»</a><a id="8157" class="Symbol">}</a>
         <a id="8168" class="Symbol">(</a><a id="8169" href="Games.OptimalPlays.html#8169" class="Bound">eâº</a> <a id="8172" class="Symbol">:</a> <a id="8174" href="MonadOnTypes.J-transf-variation.html#2446" class="Function">JT</a> <a id="8177" href="Games.OptimalPlays.html#8136" class="Bound">X</a><a id="8178" class="Symbol">)</a>
         <a id="8189" class="Symbol">(</a><a id="8190" href="Games.OptimalPlays.html#8190" class="Bound">dâº</a> <a id="8193" class="Symbol">:</a> <a id="8195" class="Symbol">(</a><a id="8196" href="Games.OptimalPlays.html#8196" class="Bound">x</a> <a id="8198" class="Symbol">:</a> <a id="8200" href="Games.OptimalPlays.html#8136" class="Bound">X</a><a id="8201" class="Symbol">)</a> <a id="8203" class="Symbol">â†’</a> <a id="8205" href="MonadOnTypes.J-transf-variation.html#2446" class="Function">JT</a> <a id="8208" class="Symbol">(</a><a id="8209" href="Games.TypeTrees.html#942" class="Function">Path</a> <a id="8214" class="Symbol">(</a><a id="8215" href="Games.OptimalPlays.html#8147" class="Bound">Xf</a> <a id="8218" href="Games.OptimalPlays.html#8196" class="Bound">x</a><a id="8219" class="Symbol">)))</a>
         <a id="8232" class="Symbol">(</a><a id="8233" href="Games.OptimalPlays.html#8233" class="Bound">q</a> <a id="8235" class="Symbol">:</a> <a id="8237" href="Games.TypeTrees.html#942" class="Function">Path</a> <a id="8242" class="Symbol">(</a><a id="8243" href="Games.OptimalPlays.html#8136" class="Bound">X</a> <a id="8245" href="Games.TypeTrees.html#783" class="InductiveConstructor Operator">âˆ·</a> <a id="8247" href="Games.OptimalPlays.html#8147" class="Bound">Xf</a><a id="8249" class="Symbol">)</a>  <a id="8252" class="Symbol">â†’</a> <a id="8254" href="Games.OptimalPlays.html#596" class="Bound">R</a><a id="8255" class="Symbol">)</a>
       <a id="8264" class="Keyword">where</a>

 <a id="8272" class="Keyword">private</a>
  <a id="8282" href="Games.OptimalPlays.html#8282" class="Function">g</a> <a id="8284" class="Symbol">:</a> <a id="8286" class="Symbol">(</a><a id="8287" href="Games.OptimalPlays.html#8287" class="Bound">x</a> <a id="8289" class="Symbol">:</a> <a id="8291" href="Games.OptimalPlays.html#8136" class="Bound">X</a><a id="8292" class="Symbol">)</a> <a id="8294" class="Symbol">â†’</a> <a id="8296" href="MonadOnTypes.Monad.html#5068" class="Function">T</a> <a id="8298" class="Symbol">(</a><a id="8299" href="Games.TypeTrees.html#942" class="Function">Path</a> <a id="8304" class="Symbol">(</a><a id="8305" href="Games.OptimalPlays.html#8147" class="Bound">Xf</a> <a id="8308" href="Games.OptimalPlays.html#8287" class="Bound">x</a><a id="8309" class="Symbol">))</a>
  <a id="8314" href="Games.OptimalPlays.html#8282" class="Function">g</a> <a id="8316" href="Games.OptimalPlays.html#8316" class="Bound">x</a> <a id="8318" class="Symbol">=</a> <a id="8320" href="Games.OptimalPlays.html#8190" class="Bound">dâº</a> <a id="8323" href="Games.OptimalPlays.html#8316" class="Bound">x</a> <a id="8325" class="Symbol">(</a><a id="8326" href="Games.TypeTrees.html#1658" class="Function">subpred</a> <a id="8334" href="Games.OptimalPlays.html#8233" class="Bound">q</a> <a id="8336" href="Games.OptimalPlays.html#8316" class="Bound">x</a><a id="8337" class="Symbol">)</a>

  <a id="8342" href="Games.OptimalPlays.html#8342" class="Function">f</a> <a id="8344" class="Symbol">:</a> <a id="8346" href="Games.OptimalPlays.html#8136" class="Bound">X</a> <a id="8348" class="Symbol">â†’</a> <a id="8350" href="Games.OptimalPlays.html#596" class="Bound">R</a>
  <a id="8354" href="Games.OptimalPlays.html#8342" class="Function">f</a> <a id="8356" href="Games.OptimalPlays.html#8356" class="Bound">x</a> <a id="8358" class="Symbol">=</a> <a id="8360" href="MonadOnTypes.Monad.html#14835" class="Function">Î±-extáµ€</a> <a id="8367" class="Symbol">(</a><a id="8368" href="Games.TypeTrees.html#1658" class="Function">subpred</a> <a id="8376" href="Games.OptimalPlays.html#8233" class="Bound">q</a> <a id="8378" href="Games.OptimalPlays.html#8356" class="Bound">x</a><a id="8379" class="Symbol">)</a> <a id="8381" class="Symbol">(</a><a id="8382" href="Games.OptimalPlays.html#8282" class="Function">g</a> <a id="8384" href="Games.OptimalPlays.html#8356" class="Bound">x</a><a id="8385" class="Symbol">)</a>

  <a id="8390" href="Games.OptimalPlays.html#8390" class="Function">xt</a> <a id="8393" class="Symbol">:</a> <a id="8395" href="MonadOnTypes.Monad.html#5068" class="Function">T</a> <a id="8397" href="Games.OptimalPlays.html#8136" class="Bound">X</a>
  <a id="8401" href="Games.OptimalPlays.html#8390" class="Function">xt</a> <a id="8404" class="Symbol">=</a> <a id="8406" href="Games.OptimalPlays.html#8169" class="Bound">eâº</a> <a id="8409" href="Games.OptimalPlays.html#8342" class="Function">f</a>

  <a id="8414" href="Games.OptimalPlays.html#8414" class="Function">x</a> <a id="8416" class="Symbol">:</a> <a id="8418" href="Games.OptimalPlays.html#8136" class="Bound">X</a>
  <a id="8422" href="Games.OptimalPlays.html#8414" class="Function">x</a> <a id="8424" class="Symbol">=</a> <a id="8426" href="MonadOnTypes.NonEmptyList.html#665" class="Function">headâº</a> <a id="8432" href="Games.OptimalPlays.html#8390" class="Function">xt</a>

  <a id="8438" href="Games.OptimalPlays.html#8438" class="Function">xs</a> <a id="8441" class="Symbol">:</a> <a id="8443" href="Games.TypeTrees.html#942" class="Function">Path</a> <a id="8448" class="Symbol">(</a><a id="8449" href="Games.OptimalPlays.html#8147" class="Bound">Xf</a> <a id="8452" href="Games.OptimalPlays.html#8414" class="Function">x</a><a id="8453" class="Symbol">)</a>
  <a id="8457" href="Games.OptimalPlays.html#8438" class="Function">xs</a> <a id="8460" class="Symbol">=</a> <a id="8462" href="MonadOnTypes.NonEmptyList.html#665" class="Function">headâº</a> <a id="8468" class="Symbol">(</a><a id="8469" href="Games.OptimalPlays.html#8282" class="Function">g</a> <a id="8471" href="Games.OptimalPlays.html#8414" class="Function">x</a><a id="8472" class="Symbol">)</a>

 <a id="8476" href="Games.OptimalPlays.html#8476" class="Function">headâº-of-âŠ—á´¶áµ€</a> <a id="8489" class="Symbol">:</a> <a id="8491" href="MonadOnTypes.NonEmptyList.html#665" class="Function">headâº</a> <a id="8497" class="Symbol">((</a><a id="8499" href="Games.OptimalPlays.html#8169" class="Bound">eâº</a> <a id="8502" href="MonadOnTypes.J-transf-variation.html#2694" class="Function Operator">âŠ—á´¶áµ€</a> <a id="8506" href="Games.OptimalPlays.html#8190" class="Bound">dâº</a><a id="8508" class="Symbol">)</a> <a id="8510" href="Games.OptimalPlays.html#8233" class="Bound">q</a><a id="8511" class="Symbol">)</a> <a id="8513" href="MLTT.Id.html#193" class="Datatype Operator">ï¼</a> <a id="8515" href="Games.OptimalPlays.html#8414" class="Function">x</a> <a id="8517" href="Games.TypeTrees.html#1332" class="InductiveConstructor Operator">::</a> <a id="8520" href="Games.OptimalPlays.html#8438" class="Function">xs</a>
 <a id="8524" href="Games.OptimalPlays.html#8476" class="Function">headâº-of-âŠ—á´¶áµ€</a> <a id="8537" class="Symbol">=</a>
  <a id="8541" href="MonadOnTypes.NonEmptyList.html#665" class="Function">headâº</a> <a id="8547" class="Symbol">((</a><a id="8549" href="Games.OptimalPlays.html#8169" class="Bound">eâº</a> <a id="8552" href="MonadOnTypes.J-transf-variation.html#2694" class="Function Operator">âŠ—á´¶áµ€</a> <a id="8556" href="Games.OptimalPlays.html#8190" class="Bound">dâº</a><a id="8558" class="Symbol">)</a> <a id="8560" href="Games.OptimalPlays.html#8233" class="Bound">q</a><a id="8561" class="Symbol">)</a>                                         <a id="8603" href="MLTT.Id.html#2703" class="Function Operator">ï¼âŸ¨</a> <a id="8606" href="Games.OptimalPlays.html#9125" class="Function">I</a> <a id="8608" href="MLTT.Id.html#2703" class="Function Operator">âŸ©</a>
  <a id="8612" href="MonadOnTypes.NonEmptyList.html#665" class="Function">headâº</a> <a id="8618" class="Symbol">(</a><a id="8619" href="Games.OptimalPlays.html#8390" class="Function">xt</a> <a id="8622" href="MonadOnTypes.NonEmptyList.html#2347" class="Function Operator">âŠ—á´¸âº</a> <a id="8626" href="Games.OptimalPlays.html#8282" class="Function">g</a><a id="8627" class="Symbol">)</a>                                              <a id="8674" href="MLTT.Id.html#2703" class="Function Operator">ï¼âŸ¨</a> <a id="8677" href="Games.OptimalPlays.html#9176" class="Function">II</a> <a id="8680" href="MLTT.Id.html#2703" class="Function Operator">âŸ©</a>
  <a id="8684" href="MonadOnTypes.NonEmptyList.html#665" class="Function">headâº</a> <a id="8690" class="Symbol">(</a><a id="8691" href="MonadOnTypes.NonEmptyList.html#3050" class="Function">concatâº</a> <a id="8699" class="Symbol">(</a><a id="8700" href="MonadOnTypes.NonEmptyList.html#2666" class="Function">lmapâº</a> <a id="8706" class="Symbol">(Î»</a> <a id="8709" href="Games.OptimalPlays.html#8709" class="Bound">x</a> <a id="8711" class="Symbol">â†’</a> <a id="8713" href="MonadOnTypes.NonEmptyList.html#2666" class="Function">lmapâº</a> <a id="8719" class="Symbol">(Î»</a> <a id="8722" href="Games.OptimalPlays.html#8722" class="Bound">y</a> <a id="8724" class="Symbol">â†’</a> <a id="8726" href="Games.OptimalPlays.html#8709" class="Bound">x</a> <a id="8728" href="Games.TypeTrees.html#1332" class="InductiveConstructor Operator">::</a> <a id="8731" href="Games.OptimalPlays.html#8722" class="Bound">y</a><a id="8732" class="Symbol">)</a> <a id="8734" class="Symbol">(</a><a id="8735" href="Games.OptimalPlays.html#8282" class="Function">g</a> <a id="8737" href="Games.OptimalPlays.html#8709" class="Bound">x</a><a id="8738" class="Symbol">))</a> <a id="8741" href="Games.OptimalPlays.html#8390" class="Function">xt</a><a id="8743" class="Symbol">))</a> <a id="8746" href="MLTT.Id.html#2703" class="Function Operator">ï¼âŸ¨</a> <a id="8749" href="Games.OptimalPlays.html#9224" class="Function">III</a> <a id="8753" href="MLTT.Id.html#2703" class="Function Operator">âŸ©</a>
  <a id="8757" href="MonadOnTypes.NonEmptyList.html#665" class="Function">headâº</a> <a id="8763" class="Symbol">(</a><a id="8764" href="MonadOnTypes.NonEmptyList.html#665" class="Function">headâº</a> <a id="8770" class="Symbol">(</a><a id="8771" href="MonadOnTypes.NonEmptyList.html#2666" class="Function">lmapâº</a> <a id="8777" class="Symbol">(Î»</a> <a id="8780" href="Games.OptimalPlays.html#8780" class="Bound">x</a> <a id="8782" class="Symbol">â†’</a> <a id="8784" href="MonadOnTypes.NonEmptyList.html#2666" class="Function">lmapâº</a> <a id="8790" class="Symbol">(Î»</a> <a id="8793" href="Games.OptimalPlays.html#8793" class="Bound">y</a> <a id="8795" class="Symbol">â†’</a> <a id="8797" href="Games.OptimalPlays.html#8780" class="Bound">x</a> <a id="8799" href="Games.TypeTrees.html#1332" class="InductiveConstructor Operator">::</a> <a id="8802" href="Games.OptimalPlays.html#8793" class="Bound">y</a><a id="8803" class="Symbol">)</a> <a id="8805" class="Symbol">(</a><a id="8806" href="Games.OptimalPlays.html#8282" class="Function">g</a> <a id="8808" href="Games.OptimalPlays.html#8780" class="Bound">x</a><a id="8809" class="Symbol">))</a> <a id="8812" href="Games.OptimalPlays.html#8390" class="Function">xt</a><a id="8814" class="Symbol">))</a>   <a id="8819" href="MLTT.Id.html#2703" class="Function Operator">ï¼âŸ¨</a> <a id="8822" href="Games.OptimalPlays.html#9297" class="Function">IV</a> <a id="8825" href="MLTT.Id.html#2703" class="Function Operator">âŸ©</a>
  <a id="8829" href="MonadOnTypes.NonEmptyList.html#665" class="Function">headâº</a> <a id="8835" class="Symbol">(</a><a id="8836" href="MonadOnTypes.NonEmptyList.html#2666" class="Function">lmapâº</a> <a id="8842" class="Symbol">(</a><a id="8843" href="MonadOnTypes.NonEmptyList.html#665" class="Function">headâº</a> <a id="8849" href="Games.OptimalPlays.html#8390" class="Function">xt</a> <a id="8852" href="Games.TypeTrees.html#1332" class="InductiveConstructor Operator">::_</a><a id="8855" class="Symbol">)</a> <a id="8857" class="Symbol">(</a><a id="8858" href="Games.OptimalPlays.html#8282" class="Function">g</a> <a id="8860" class="Symbol">(</a><a id="8861" href="MonadOnTypes.NonEmptyList.html#665" class="Function">headâº</a> <a id="8867" href="Games.OptimalPlays.html#8390" class="Function">xt</a><a id="8869" class="Symbol">)))</a>                   <a id="8891" href="MLTT.Id.html#2703" class="Function Operator">ï¼âŸ¨</a> <a id="8894" href="MLTT.Identity-Type.html#157" class="InductiveConstructor">refl</a> <a id="8899" href="MLTT.Id.html#2703" class="Function Operator">âŸ©</a>
  <a id="8903" href="MonadOnTypes.NonEmptyList.html#665" class="Function">headâº</a> <a id="8909" class="Symbol">(</a><a id="8910" href="MonadOnTypes.NonEmptyList.html#2666" class="Function">lmapâº</a> <a id="8916" class="Symbol">(</a><a id="8917" href="Games.OptimalPlays.html#8414" class="Function">x</a> <a id="8919" href="Games.TypeTrees.html#1332" class="InductiveConstructor Operator">::_</a><a id="8922" class="Symbol">)</a> <a id="8924" class="Symbol">(</a><a id="8925" href="Games.OptimalPlays.html#8282" class="Function">g</a> <a id="8927" href="Games.OptimalPlays.html#8414" class="Function">x</a><a id="8928" class="Symbol">))</a>                                   <a id="8965" href="MLTT.Id.html#2703" class="Function Operator">ï¼âŸ¨</a> <a id="8968" href="Games.OptimalPlays.html#9371" class="Function">V</a> <a id="8970" href="MLTT.Id.html#2703" class="Function Operator">âŸ©</a>
  <a id="8974" href="Games.OptimalPlays.html#8414" class="Function">x</a> <a id="8976" href="Games.TypeTrees.html#1332" class="InductiveConstructor Operator">::</a> <a id="8979" href="MonadOnTypes.NonEmptyList.html#665" class="Function">headâº</a> <a id="8985" class="Symbol">(</a><a id="8986" href="Games.OptimalPlays.html#8282" class="Function">g</a> <a id="8988" href="Games.OptimalPlays.html#8414" class="Function">x</a><a id="8989" class="Symbol">)</a>                                              <a id="9036" href="MLTT.Id.html#2703" class="Function Operator">ï¼âŸ¨</a> <a id="9039" href="MLTT.Identity-Type.html#157" class="InductiveConstructor">refl</a> <a id="9044" href="MLTT.Id.html#2703" class="Function Operator">âŸ©</a>
  <a id="9048" href="Games.OptimalPlays.html#8414" class="Function">x</a> <a id="9050" href="Games.TypeTrees.html#1332" class="InductiveConstructor Operator">::</a> <a id="9053" href="Games.OptimalPlays.html#8438" class="Function">xs</a>                                                       <a id="9110" href="MLTT.Id.html#2785" class="Function Operator">âˆ</a>
   <a id="9115" class="Keyword">where</a>
    <a id="9125" href="Games.OptimalPlays.html#9125" class="Function">I</a>   <a id="9129" class="Symbol">=</a> <a id="9131" href="MLTT.Id.html#1136" class="Function">ap</a> <a id="9134" href="MonadOnTypes.NonEmptyList.html#665" class="Function">headâº</a> <a id="9140" class="Symbol">(</a><a id="9141" href="MonadOnTypes.J-transf-variation.html#4839" class="Function">âŠ—á´¶áµ€-in-terms-of-âŠ—áµ€</a> <a id="9160" href="Games.OptimalPlays.html#8169" class="Bound">eâº</a> <a id="9163" href="Games.OptimalPlays.html#8190" class="Bound">dâº</a> <a id="9166" href="Games.OptimalPlays.html#8233" class="Bound">q</a> <a id="9168" href="Games.OptimalPlays.html#573" class="Bound">fe</a><a id="9170" class="Symbol">)</a>
    <a id="9176" href="Games.OptimalPlays.html#9176" class="Function">II</a>  <a id="9180" class="Symbol">=</a> <a id="9182" href="MLTT.Id.html#1136" class="Function">ap</a> <a id="9185" href="MonadOnTypes.NonEmptyList.html#665" class="Function">headâº</a> <a id="9191" class="Symbol">(</a><a id="9192" href="MonadOnTypes.NonEmptyList.html#3662" class="Function">âŠ—á´¸âº-explicitly</a> <a id="9207" href="Games.OptimalPlays.html#573" class="Bound">fe</a> <a id="9210" class="Symbol">(</a><a id="9211" href="Games.OptimalPlays.html#8169" class="Bound">eâº</a> <a id="9214" href="Games.OptimalPlays.html#8342" class="Function">f</a><a id="9215" class="Symbol">)</a> <a id="9217" href="Games.OptimalPlays.html#8282" class="Function">g</a><a id="9218" class="Symbol">)</a>
    <a id="9224" href="Games.OptimalPlays.html#9224" class="Function">III</a> <a id="9228" class="Symbol">=</a> <a id="9230" href="MonadOnTypes.NonEmptyList.html#5112" class="Function">headâº-of-concatâº</a> <a id="9247" class="Symbol">(</a><a id="9248" href="MonadOnTypes.NonEmptyList.html#2666" class="Function">lmapâº</a> <a id="9254" class="Symbol">(Î»</a> <a id="9257" href="Games.OptimalPlays.html#9257" class="Bound">x</a> <a id="9259" class="Symbol">â†’</a> <a id="9261" href="MonadOnTypes.NonEmptyList.html#2666" class="Function">lmapâº</a> <a id="9267" class="Symbol">(Î»</a> <a id="9270" href="Games.OptimalPlays.html#9270" class="Bound">y</a> <a id="9272" class="Symbol">â†’</a> <a id="9274" href="Games.OptimalPlays.html#9257" class="Bound">x</a> <a id="9276" href="Games.TypeTrees.html#1332" class="InductiveConstructor Operator">::</a> <a id="9279" href="Games.OptimalPlays.html#9270" class="Bound">y</a><a id="9280" class="Symbol">)</a> <a id="9282" class="Symbol">(</a><a id="9283" href="Games.OptimalPlays.html#8282" class="Function">g</a> <a id="9285" href="Games.OptimalPlays.html#9257" class="Bound">x</a><a id="9286" class="Symbol">))</a> <a id="9289" href="Games.OptimalPlays.html#8390" class="Function">xt</a><a id="9291" class="Symbol">)</a>
    <a id="9297" href="Games.OptimalPlays.html#9297" class="Function">IV</a>  <a id="9301" class="Symbol">=</a> <a id="9303" href="MLTT.Id.html#1136" class="Function">ap</a> <a id="9306" href="MonadOnTypes.NonEmptyList.html#665" class="Function">headâº</a> <a id="9312" class="Symbol">(</a><a id="9313" href="MonadOnTypes.NonEmptyList.html#5319" class="Function">headâº-of-lmapâº</a> <a id="9328" class="Symbol">(Î»</a> <a id="9331" href="Games.OptimalPlays.html#9331" class="Bound">x</a> <a id="9333" class="Symbol">â†’</a> <a id="9335" href="MonadOnTypes.NonEmptyList.html#2666" class="Function">lmapâº</a> <a id="9341" class="Symbol">(Î»</a> <a id="9344" href="Games.OptimalPlays.html#9344" class="Bound">y</a> <a id="9346" class="Symbol">â†’</a> <a id="9348" href="Games.OptimalPlays.html#9331" class="Bound">x</a> <a id="9350" href="Games.TypeTrees.html#1332" class="InductiveConstructor Operator">::</a> <a id="9353" href="Games.OptimalPlays.html#9344" class="Bound">y</a><a id="9354" class="Symbol">)</a> <a id="9356" class="Symbol">(</a><a id="9357" href="Games.OptimalPlays.html#8282" class="Function">g</a> <a id="9359" href="Games.OptimalPlays.html#9331" class="Bound">x</a><a id="9360" class="Symbol">))</a> <a id="9363" href="Games.OptimalPlays.html#8390" class="Function">xt</a><a id="9365" class="Symbol">)</a>
    <a id="9371" href="Games.OptimalPlays.html#9371" class="Function">V</a>   <a id="9375" class="Symbol">=</a> <a id="9377" href="MonadOnTypes.NonEmptyList.html#5319" class="Function">headâº-of-lmapâº</a> <a id="9392" class="Symbol">(</a><a id="9393" href="Games.OptimalPlays.html#8414" class="Function">x</a> <a id="9395" href="Games.TypeTrees.html#1332" class="InductiveConstructor Operator">::_</a><a id="9398" class="Symbol">)</a> <a id="9400" class="Symbol">(</a><a id="9401" href="Games.OptimalPlays.html#8282" class="Function">g</a> <a id="9403" href="Games.OptimalPlays.html#8414" class="Function">x</a><a id="9404" class="Symbol">)</a>

<a id="JT-in-terms-of-K"></a><a id="9407" href="Games.OptimalPlays.html#9407" class="Function">JT-in-terms-of-K</a> <a id="9424" class="Symbol">:</a> <a id="9426" class="Symbol">(</a><a id="9427" href="Games.OptimalPlays.html#9427" class="Bound">Xt</a> <a id="9430" class="Symbol">:</a> <a id="9432" href="Games.TypeTrees.html#755" class="Datatype">ğ‘»</a><a id="9433" class="Symbol">)</a>
                   <a id="9454" class="Symbol">(</a><a id="9455" href="Games.OptimalPlays.html#9455" class="Bound">Ï•t</a> <a id="9458" class="Symbol">:</a> <a id="9460" href="Games.FiniteHistoryDependent.html#2364" class="Function">ğ“š</a> <a id="9462" href="Games.OptimalPlays.html#9427" class="Bound">Xt</a><a id="9464" class="Symbol">)</a>
                   <a id="9485" class="Symbol">(</a><a id="9486" href="Games.OptimalPlays.html#9486" class="Bound">q</a> <a id="9488" class="Symbol">:</a> <a id="9490" href="Games.TypeTrees.html#942" class="Function">Path</a> <a id="9495" href="Games.OptimalPlays.html#9427" class="Bound">Xt</a> <a id="9498" class="Symbol">â†’</a> <a id="9500" href="Games.OptimalPlays.html#596" class="Bound">R</a><a id="9501" class="Symbol">)</a>
                   <a id="9522" class="Symbol">(</a><a id="9523" href="Games.OptimalPlays.html#9523" class="Bound">Îµt</a> <a id="9526" class="Symbol">:</a> <a id="9528" href="Games.FiniteHistoryDependent.html#8970" class="Function">ğ“™</a> <a id="9530" href="Games.OptimalPlays.html#9427" class="Bound">Xt</a><a id="9532" class="Symbol">)</a>
                   <a id="9553" class="Symbol">(</a><a id="9554" href="Games.OptimalPlays.html#9554" class="Bound">at</a> <a id="9557" class="Symbol">:</a> <a id="9559" href="Games.OptimalPlays.html#9523" class="Bound">Îµt</a> <a id="9562" href="Games.FiniteHistoryDependent.html#10543" class="Function Operator">Attains</a> <a id="9570" href="Games.OptimalPlays.html#9455" class="Bound">Ï•t</a><a id="9572" class="Symbol">)</a>
                   <a id="9593" class="Symbol">(</a><a id="9594" href="Games.OptimalPlays.html#9594" class="Bound">lt</a> <a id="9597" class="Symbol">:</a> <a id="9599" href="Games.TypeTrees.html#2156" class="Function">structure</a> <a id="9609" href="MLTT.List.html#6746" class="Function">listedâº</a> <a id="9617" href="Games.OptimalPlays.html#9427" class="Bound">Xt</a><a id="9619" class="Symbol">)</a>
                 <a id="9638" class="Symbol">â†’</a> <a id="9640" href="MonadOnTypes.Monad.html#14835" class="Function">Î±-extáµ€</a> <a id="9647" href="Games.OptimalPlays.html#9486" class="Bound">q</a> <a id="9649" class="Symbol">(</a><a id="9650" href="Games.TypeTrees.html#3825" class="Function">path-sequence</a> <a id="9664" href="MonadOnTypes.J-transf-variation.html#2409" class="Function">ğ•ğ•‹</a> <a id="9667" class="Symbol">(</a><a id="9668" href="Games.OptimalPlays.html#7778" class="Function">Îµtâº</a> <a id="9672" href="Games.OptimalPlays.html#9427" class="Bound">Xt</a> <a id="9675" href="Games.OptimalPlays.html#9594" class="Bound">lt</a> <a id="9678" href="Games.OptimalPlays.html#9455" class="Bound">Ï•t</a> <a id="9681" href="Games.OptimalPlays.html#9523" class="Bound">Îµt</a> <a id="9684" href="Games.OptimalPlays.html#9554" class="Bound">at</a><a id="9686" class="Symbol">)</a> <a id="9688" href="Games.OptimalPlays.html#9486" class="Bound">q</a><a id="9689" class="Symbol">)</a>
                 <a id="9708" href="MLTT.Id.html#193" class="Datatype Operator">ï¼</a> <a id="9710" href="Games.TypeTrees.html#3825" class="Function">path-sequence</a> <a id="9724" class="Symbol">(</a><a id="9725" href="MonadOnTypes.K.html#184" class="Function">ğ•‚</a> <a id="9727" href="Games.OptimalPlays.html#596" class="Bound">R</a><a id="9728" class="Symbol">)</a> <a id="9730" href="Games.OptimalPlays.html#9455" class="Bound">Ï•t</a> <a id="9733" href="Games.OptimalPlays.html#9486" class="Bound">q</a>
<a id="9735" href="Games.OptimalPlays.html#9407" class="Function">JT-in-terms-of-K</a> <a id="9752" href="Games.TypeTrees.html#773" class="InductiveConstructor">[]</a> <a id="9755" href="Games.OptimalPlays.html#9755" class="Bound">Ï•t</a> <a id="9758" href="Games.OptimalPlays.html#9758" class="Bound">q</a> <a id="9760" href="Games.OptimalPlays.html#9760" class="Bound">Îµt</a> <a id="9763" href="Games.OptimalPlays.html#9763" class="Bound">at</a> <a id="9766" href="Games.OptimalPlays.html#9766" class="Bound">lt</a> <a id="9769" class="Symbol">=</a> <a id="9771" href="MLTT.Identity-Type.html#157" class="InductiveConstructor">refl</a>
<a id="9776" href="Games.OptimalPlays.html#9407" class="Function">JT-in-terms-of-K</a> <a id="9793" href="Games.OptimalPlays.html#9793" class="Bound">Xt</a><a id="9795" class="Symbol">@(</a><a id="9797" href="Games.OptimalPlays.html#9797" class="Bound">X</a> <a id="9799" href="Games.TypeTrees.html#783" class="InductiveConstructor Operator">âˆ·</a> <a id="9801" href="Games.OptimalPlays.html#9801" class="Bound">Xf</a><a id="9803" class="Symbol">)</a> <a id="9805" href="Games.OptimalPlays.html#9805" class="Bound">Ï•t</a><a id="9807" class="Symbol">@(</a><a id="9809" href="Games.OptimalPlays.html#9809" class="Bound">Ï•</a> <a id="9811" href="Games.TypeTrees.html#1332" class="InductiveConstructor Operator">::</a> <a id="9814" href="Games.OptimalPlays.html#9814" class="Bound">Ï•f</a><a id="9816" class="Symbol">)</a> <a id="9818" href="Games.OptimalPlays.html#9818" class="Bound">q</a> <a id="9820" href="Games.OptimalPlays.html#9820" class="Bound">Îµt</a><a id="9822" class="Symbol">@(</a><a id="9824" href="Games.OptimalPlays.html#9824" class="Bound">Îµ</a> <a id="9826" href="Games.TypeTrees.html#1332" class="InductiveConstructor Operator">::</a> <a id="9829" href="Games.OptimalPlays.html#9829" class="Bound">Îµf</a><a id="9831" class="Symbol">)</a> <a id="9833" href="Games.OptimalPlays.html#9833" class="Bound">at</a><a id="9835" class="Symbol">@(</a><a id="9837" href="Games.OptimalPlays.html#9837" class="Bound">a</a> <a id="9839" href="Games.TypeTrees.html#1332" class="InductiveConstructor Operator">::</a> <a id="9842" href="Games.OptimalPlays.html#9842" class="Bound">af</a><a id="9844" class="Symbol">)</a> <a id="9846" href="Games.OptimalPlays.html#9846" class="Bound">lt</a><a id="9848" class="Symbol">@(</a><a id="9850" href="Games.OptimalPlays.html#9850" class="Bound">l</a> <a id="9852" href="Games.TypeTrees.html#1332" class="InductiveConstructor Operator">::</a> <a id="9855" href="Games.OptimalPlays.html#9855" class="Bound">lf</a><a id="9857" class="Symbol">)</a> <a id="9859" class="Symbol">=</a> <a id="9861" href="Games.OptimalPlays.html#10344" class="Function">II</a>
 <a id="9865" class="Keyword">where</a>
  <a id="9873" href="Games.OptimalPlays.html#9873" class="Function">dâº</a> <a id="9876" class="Symbol">:</a> <a id="9878" class="Symbol">(</a><a id="9879" href="Games.OptimalPlays.html#9879" class="Bound">x</a> <a id="9881" class="Symbol">:</a> <a id="9883" href="Games.OptimalPlays.html#9797" class="Bound">X</a><a id="9884" class="Symbol">)</a> <a id="9886" class="Symbol">â†’</a> <a id="9888" href="MonadOnTypes.J-transf-variation.html#2446" class="Function">JT</a> <a id="9891" class="Symbol">(</a><a id="9892" href="Games.TypeTrees.html#942" class="Function">Path</a> <a id="9897" class="Symbol">(</a><a id="9898" href="Games.OptimalPlays.html#9801" class="Bound">Xf</a> <a id="9901" href="Games.OptimalPlays.html#9879" class="Bound">x</a><a id="9902" class="Symbol">))</a>
  <a id="9907" href="Games.OptimalPlays.html#9873" class="Function">dâº</a> <a id="9910" href="Games.OptimalPlays.html#9910" class="Bound">x</a> <a id="9912" class="Symbol">=</a> <a id="9914" href="Games.TypeTrees.html#3825" class="Function">path-sequence</a> <a id="9928" href="MonadOnTypes.J-transf-variation.html#2409" class="Function">ğ•ğ•‹</a> <a id="9931" class="Symbol">(</a><a id="9932" href="Games.OptimalPlays.html#7778" class="Function">Îµtâº</a> <a id="9936" class="Symbol">(</a><a id="9937" href="Games.OptimalPlays.html#9801" class="Bound">Xf</a> <a id="9940" href="Games.OptimalPlays.html#9910" class="Bound">x</a><a id="9941" class="Symbol">)</a> <a id="9943" class="Symbol">(</a><a id="9944" href="Games.OptimalPlays.html#9855" class="Bound">lf</a> <a id="9947" href="Games.OptimalPlays.html#9910" class="Bound">x</a><a id="9948" class="Symbol">)</a> <a id="9950" class="Symbol">(</a><a id="9951" href="Games.OptimalPlays.html#9814" class="Bound">Ï•f</a> <a id="9954" href="Games.OptimalPlays.html#9910" class="Bound">x</a><a id="9955" class="Symbol">)</a> <a id="9957" class="Symbol">(</a><a id="9958" href="Games.OptimalPlays.html#9829" class="Bound">Îµf</a> <a id="9961" href="Games.OptimalPlays.html#9910" class="Bound">x</a><a id="9962" class="Symbol">)</a> <a id="9964" class="Symbol">(</a><a id="9965" href="Games.OptimalPlays.html#9842" class="Bound">af</a> <a id="9968" href="Games.OptimalPlays.html#9910" class="Bound">x</a><a id="9969" class="Symbol">))</a>

  <a id="9975" href="Games.OptimalPlays.html#9975" class="Function">f</a> <a id="9977" class="Symbol">:</a> <a id="9979" class="Symbol">(</a><a id="9980" href="Games.OptimalPlays.html#9980" class="Bound">x</a> <a id="9982" class="Symbol">:</a> <a id="9984" href="Games.OptimalPlays.html#9797" class="Bound">X</a><a id="9985" class="Symbol">)</a> <a id="9987" class="Symbol">â†’</a> <a id="9989" href="MonadOnTypes.NonEmptyList.html#514" class="Function">Listâº</a> <a id="9995" class="Symbol">(</a><a id="9996" href="Games.TypeTrees.html#942" class="Function">Path</a> <a id="10001" class="Symbol">(</a><a id="10002" href="Games.OptimalPlays.html#9801" class="Bound">Xf</a> <a id="10005" href="Games.OptimalPlays.html#9980" class="Bound">x</a><a id="10006" class="Symbol">))</a>
  <a id="10011" href="Games.OptimalPlays.html#9975" class="Function">f</a> <a id="10013" href="Games.OptimalPlays.html#10013" class="Bound">x</a> <a id="10015" class="Symbol">=</a> <a id="10017" href="Games.OptimalPlays.html#9873" class="Function">dâº</a> <a id="10020" href="Games.OptimalPlays.html#10013" class="Bound">x</a> <a id="10022" class="Symbol">(</a><a id="10023" href="Games.TypeTrees.html#1658" class="Function">subpred</a> <a id="10031" href="Games.OptimalPlays.html#9818" class="Bound">q</a> <a id="10033" href="Games.OptimalPlays.html#10013" class="Bound">x</a><a id="10034" class="Symbol">)</a>

  <a id="10039" href="Games.OptimalPlays.html#10039" class="Function">p</a> <a id="10041" class="Symbol">:</a> <a id="10043" href="Games.OptimalPlays.html#9797" class="Bound">X</a> <a id="10045" class="Symbol">â†’</a> <a id="10047" href="Games.OptimalPlays.html#596" class="Bound">R</a>
  <a id="10051" href="Games.OptimalPlays.html#10039" class="Function">p</a> <a id="10053" href="Games.OptimalPlays.html#10053" class="Bound">x</a> <a id="10055" class="Symbol">=</a> <a id="10057" href="MonadOnTypes.Monad.html#14835" class="Function">Î±-extáµ€</a> <a id="10064" class="Symbol">(</a><a id="10065" href="Games.TypeTrees.html#1658" class="Function">subpred</a> <a id="10073" href="Games.OptimalPlays.html#9818" class="Bound">q</a> <a id="10075" href="Games.OptimalPlays.html#10053" class="Bound">x</a><a id="10076" class="Symbol">)</a> <a id="10078" class="Symbol">(</a><a id="10079" href="Games.OptimalPlays.html#9975" class="Function">f</a> <a id="10081" href="Games.OptimalPlays.html#10053" class="Bound">x</a><a id="10082" class="Symbol">)</a>

  <a id="10087" href="Games.OptimalPlays.html#10087" class="Function">IH</a> <a id="10090" class="Symbol">:</a> <a id="10092" class="Symbol">(</a><a id="10093" href="Games.OptimalPlays.html#10093" class="Bound">x</a> <a id="10095" class="Symbol">:</a> <a id="10097" href="Games.OptimalPlays.html#9797" class="Bound">X</a><a id="10098" class="Symbol">)</a> <a id="10100" class="Symbol">â†’</a> <a id="10102" href="Games.OptimalPlays.html#10039" class="Function">p</a> <a id="10104" href="Games.OptimalPlays.html#10093" class="Bound">x</a> <a id="10106" href="MLTT.Id.html#193" class="Datatype Operator">ï¼</a> <a id="10108" href="Games.TypeTrees.html#3825" class="Function">path-sequence</a> <a id="10122" class="Symbol">(</a><a id="10123" href="MonadOnTypes.K.html#184" class="Function">ğ•‚</a> <a id="10125" href="Games.OptimalPlays.html#596" class="Bound">R</a><a id="10126" class="Symbol">)</a> <a id="10128" class="Symbol">(</a><a id="10129" href="Games.OptimalPlays.html#9814" class="Bound">Ï•f</a> <a id="10132" href="Games.OptimalPlays.html#10093" class="Bound">x</a><a id="10133" class="Symbol">)</a> <a id="10135" class="Symbol">(</a><a id="10136" href="Games.TypeTrees.html#1658" class="Function">subpred</a> <a id="10144" href="Games.OptimalPlays.html#9818" class="Bound">q</a> <a id="10146" href="Games.OptimalPlays.html#10093" class="Bound">x</a><a id="10147" class="Symbol">)</a>
  <a id="10151" href="Games.OptimalPlays.html#10087" class="Function">IH</a> <a id="10154" href="Games.OptimalPlays.html#10154" class="Bound">x</a> <a id="10156" class="Symbol">=</a> <a id="10158" href="Games.OptimalPlays.html#9407" class="Function">JT-in-terms-of-K</a> <a id="10175" class="Symbol">(</a><a id="10176" href="Games.OptimalPlays.html#9801" class="Bound">Xf</a> <a id="10179" href="Games.OptimalPlays.html#10154" class="Bound">x</a><a id="10180" class="Symbol">)</a> <a id="10182" class="Symbol">(</a><a id="10183" href="Games.OptimalPlays.html#9814" class="Bound">Ï•f</a> <a id="10186" href="Games.OptimalPlays.html#10154" class="Bound">x</a><a id="10187" class="Symbol">)</a> <a id="10189" class="Symbol">(</a><a id="10190" href="Games.TypeTrees.html#1658" class="Function">subpred</a> <a id="10198" href="Games.OptimalPlays.html#9818" class="Bound">q</a> <a id="10200" href="Games.OptimalPlays.html#10154" class="Bound">x</a><a id="10201" class="Symbol">)</a> <a id="10203" class="Symbol">(</a><a id="10204" href="Games.OptimalPlays.html#9829" class="Bound">Îµf</a> <a id="10207" href="Games.OptimalPlays.html#10154" class="Bound">x</a><a id="10208" class="Symbol">)</a> <a id="10210" class="Symbol">(</a><a id="10211" href="Games.OptimalPlays.html#9842" class="Bound">af</a> <a id="10214" href="Games.OptimalPlays.html#10154" class="Bound">x</a><a id="10215" class="Symbol">)</a> <a id="10217" class="Symbol">(</a><a id="10218" href="Games.OptimalPlays.html#9855" class="Bound">lf</a> <a id="10221" href="Games.OptimalPlays.html#10154" class="Bound">x</a><a id="10222" class="Symbol">)</a>

  <a id="10227" href="Games.OptimalPlays.html#10227" class="Function">eâº</a> <a id="10230" class="Symbol">:</a> <a id="10232" href="MonadOnTypes.J-transf-variation.html#2446" class="Function">JT</a> <a id="10235" href="Games.OptimalPlays.html#9797" class="Bound">X</a>
  <a id="10239" href="Games.OptimalPlays.html#10227" class="Function">eâº</a> <a id="10242" class="Symbol">=</a> <a id="10244" href="Games.OptimalPlays.html#7597" class="Function">Îµâº</a> <a id="10247" href="Games.OptimalPlays.html#9797" class="Bound">X</a> <a id="10249" href="Games.OptimalPlays.html#9850" class="Bound">l</a> <a id="10251" href="Games.OptimalPlays.html#9809" class="Bound">Ï•</a> <a id="10253" href="Games.OptimalPlays.html#9824" class="Bound">Îµ</a> <a id="10255" href="Games.OptimalPlays.html#9837" class="Bound">a</a>

  <a id="10260" href="Games.OptimalPlays.html#10260" class="Function">x</a> <a id="10262" class="Symbol">:</a> <a id="10264" href="Games.OptimalPlays.html#9797" class="Bound">X</a>
  <a id="10268" href="Games.OptimalPlays.html#10260" class="Function">x</a> <a id="10270" class="Symbol">=</a> <a id="10272" href="MonadOnTypes.NonEmptyList.html#665" class="Function">headâº</a> <a id="10278" class="Symbol">(</a><a id="10279" href="Games.OptimalPlays.html#10227" class="Function">eâº</a> <a id="10282" href="Games.OptimalPlays.html#10039" class="Function">p</a><a id="10283" class="Symbol">)</a>

  <a id="10288" href="Games.OptimalPlays.html#10288" class="Function">I</a> <a id="10290" class="Symbol">:</a> <a id="10292" href="MLTT.List.html#3417" class="Datatype">member</a> <a id="10299" href="Games.OptimalPlays.html#10260" class="Function">x</a> <a id="10301" class="Symbol">(</a><a id="10302" href="Notation.CanonicalMap.html#359" class="Field">Î¹</a> <a id="10304" class="Symbol">(</a><a id="10305" href="Games.OptimalPlays.html#10227" class="Function">eâº</a> <a id="10308" href="Games.OptimalPlays.html#10039" class="Function">p</a><a id="10309" class="Symbol">))</a>
  <a id="10314" href="Games.OptimalPlays.html#10288" class="Function">I</a> <a id="10316" class="Symbol">=</a> <a id="10318" href="MonadOnTypes.NonEmptyList.html#1327" class="Function">headâº-is-member</a> <a id="10334" class="Symbol">(</a><a id="10335" href="Games.OptimalPlays.html#10227" class="Function">eâº</a> <a id="10338" href="Games.OptimalPlays.html#10039" class="Function">p</a><a id="10339" class="Symbol">)</a>

  <a id="10344" href="Games.OptimalPlays.html#10344" class="Function">II</a> <a id="10347" class="Symbol">=</a> <a id="10349" href="MonadOnTypes.Monad.html#14835" class="Function">Î±-extáµ€</a> <a id="10356" href="Games.OptimalPlays.html#9818" class="Bound">q</a> <a id="10358" class="Symbol">((</a><a id="10360" href="Games.OptimalPlays.html#10227" class="Function">eâº</a> <a id="10363" href="MonadOnTypes.J-transf-variation.html#2694" class="Function Operator">âŠ—á´¶áµ€</a> <a id="10367" href="Games.OptimalPlays.html#9873" class="Function">dâº</a><a id="10369" class="Symbol">)</a> <a id="10371" href="Games.OptimalPlays.html#9818" class="Bound">q</a><a id="10372" class="Symbol">)</a>                           <a id="10400" href="MLTT.Id.html#2703" class="Function Operator">ï¼âŸ¨</a> <a id="10403" href="Games.OptimalPlays.html#10828" class="Function">IIâ‚€</a> <a id="10407" href="MLTT.Id.html#2703" class="Function Operator">âŸ©</a>
       <a id="10416" href="Games.OptimalPlays.html#9818" class="Bound">q</a> <a id="10418" class="Symbol">(</a><a id="10419" href="MonadOnTypes.NonEmptyList.html#665" class="Function">headâº</a> <a id="10425" class="Symbol">((</a><a id="10427" href="Games.OptimalPlays.html#10227" class="Function">eâº</a> <a id="10430" href="MonadOnTypes.J-transf-variation.html#2694" class="Function Operator">âŠ—á´¶áµ€</a> <a id="10434" href="Games.OptimalPlays.html#9873" class="Function">dâº</a><a id="10436" class="Symbol">)</a> <a id="10438" href="Games.OptimalPlays.html#9818" class="Bound">q</a><a id="10439" class="Symbol">))</a>                          <a id="10467" href="MLTT.Id.html#2703" class="Function Operator">ï¼âŸ¨</a> <a id="10470" href="Games.OptimalPlays.html#10883" class="Function">IIâ‚</a> <a id="10474" href="MLTT.Id.html#2703" class="Function Operator">âŸ©</a>
       <a id="10483" href="Games.OptimalPlays.html#9818" class="Bound">q</a> <a id="10485" class="Symbol">(</a><a id="10486" href="Games.OptimalPlays.html#10260" class="Function">x</a> <a id="10488" href="Games.TypeTrees.html#1332" class="InductiveConstructor Operator">::</a> <a id="10491" href="MonadOnTypes.NonEmptyList.html#665" class="Function">headâº</a> <a id="10497" class="Symbol">(</a><a id="10498" href="Games.OptimalPlays.html#9975" class="Function">f</a> <a id="10500" href="Games.OptimalPlays.html#10260" class="Function">x</a><a id="10501" class="Symbol">))</a>                               <a id="10534" href="MLTT.Id.html#2703" class="Function Operator">ï¼âŸ¨</a> <a id="10537" href="Games.OptimalPlays.html#10926" class="Function">IIâ‚‚</a> <a id="10541" href="MLTT.Id.html#2703" class="Function Operator">âŸ©</a>
       <a id="10550" href="Games.OptimalPlays.html#10039" class="Function">p</a> <a id="10552" href="Games.OptimalPlays.html#10260" class="Function">x</a>                                                <a id="10601" href="MLTT.Id.html#2703" class="Function Operator">ï¼âŸ¨</a> <a id="10604" href="Games.OptimalPlays.html#10983" class="Function">IIâ‚ƒ</a> <a id="10608" href="MLTT.Id.html#2703" class="Function Operator">âŸ©</a>
       <a id="10617" href="Games.OptimalPlays.html#9809" class="Bound">Ï•</a> <a id="10619" href="Games.OptimalPlays.html#10039" class="Function">p</a>                                                <a id="10668" href="MLTT.Id.html#2703" class="Function Operator">ï¼âŸ¨</a> <a id="10671" href="Games.OptimalPlays.html#11023" class="Function">IIâ‚„</a> <a id="10675" href="MLTT.Id.html#2703" class="Function Operator">âŸ©</a>
       <a id="10684" href="Games.OptimalPlays.html#9809" class="Bound">Ï•</a> <a id="10686" class="Symbol">(Î»</a> <a id="10689" href="Games.OptimalPlays.html#10689" class="Bound">x</a> <a id="10691" class="Symbol">â†’</a> <a id="10693" href="Games.TypeTrees.html#3825" class="Function">path-sequence</a> <a id="10707" class="Symbol">(</a><a id="10708" href="MonadOnTypes.K.html#184" class="Function">ğ•‚</a> <a id="10710" href="Games.OptimalPlays.html#596" class="Bound">R</a><a id="10711" class="Symbol">)</a> <a id="10713" class="Symbol">(</a><a id="10714" href="Games.OptimalPlays.html#9814" class="Bound">Ï•f</a> <a id="10717" href="Games.OptimalPlays.html#10689" class="Bound">x</a><a id="10718" class="Symbol">)</a> <a id="10720" class="Symbol">(</a><a id="10721" href="Games.TypeTrees.html#1658" class="Function">subpred</a> <a id="10729" href="Games.OptimalPlays.html#9818" class="Bound">q</a> <a id="10731" href="Games.OptimalPlays.html#10689" class="Bound">x</a><a id="10732" class="Symbol">))</a> <a id="10735" href="MLTT.Id.html#2703" class="Function Operator">ï¼âŸ¨</a> <a id="10738" href="MLTT.Identity-Type.html#157" class="InductiveConstructor">refl</a> <a id="10743" href="MLTT.Id.html#2703" class="Function Operator">âŸ©</a>
       <a id="10752" class="Symbol">(</a><a id="10753" href="Games.OptimalPlays.html#9809" class="Bound">Ï•</a> <a id="10755" href="MonadOnTypes.Monad.html#4201" class="Function">âŠ—[</a> <a id="10758" href="MonadOnTypes.K.html#184" class="Function">ğ•‚</a> <a id="10760" href="Games.OptimalPlays.html#596" class="Bound">R</a> <a id="10762" href="MonadOnTypes.Monad.html#4201" class="Function">]</a> <a id="10764" class="Symbol">(Î»</a> <a id="10767" href="Games.OptimalPlays.html#10767" class="Bound">x</a> <a id="10769" class="Symbol">â†’</a> <a id="10771" href="Games.TypeTrees.html#3825" class="Function">path-sequence</a> <a id="10785" class="Symbol">(</a><a id="10786" href="MonadOnTypes.K.html#184" class="Function">ğ•‚</a> <a id="10788" href="Games.OptimalPlays.html#596" class="Bound">R</a><a id="10789" class="Symbol">)</a> <a id="10791" class="Symbol">(</a><a id="10792" href="Games.OptimalPlays.html#9814" class="Bound">Ï•f</a> <a id="10795" href="Games.OptimalPlays.html#10767" class="Bound">x</a><a id="10796" class="Symbol">)))</a> <a id="10800" href="Games.OptimalPlays.html#9818" class="Bound">q</a>  <a id="10803" href="MLTT.Id.html#2785" class="Function Operator">âˆ</a>
        <a id="10813" class="Keyword">where</a>
         <a id="10828" href="Games.OptimalPlays.html#10828" class="Function">IIâ‚€</a> <a id="10832" class="Symbol">=</a> <a id="10834" href="Games.OptimalPlays.html#6184" class="Function">Î±-extáµ€-explicitly</a> <a id="10852" href="Games.OptimalPlays.html#9818" class="Bound">q</a> <a id="10854" class="Symbol">((</a><a id="10856" href="Games.OptimalPlays.html#10227" class="Function">eâº</a> <a id="10859" href="MonadOnTypes.Monad.html#4201" class="Function">âŠ—[</a> <a id="10862" href="MonadOnTypes.J-transf-variation.html#2409" class="Function">ğ•ğ•‹</a> <a id="10865" href="MonadOnTypes.Monad.html#4201" class="Function">]</a> <a id="10867" href="Games.OptimalPlays.html#9873" class="Function">dâº</a><a id="10869" class="Symbol">)</a> <a id="10871" href="Games.OptimalPlays.html#9818" class="Bound">q</a><a id="10872" class="Symbol">)</a>
         <a id="10883" href="Games.OptimalPlays.html#10883" class="Function">IIâ‚</a> <a id="10887" class="Symbol">=</a> <a id="10889" href="MLTT.Id.html#1136" class="Function">ap</a> <a id="10892" href="Games.OptimalPlays.html#9818" class="Bound">q</a> <a id="10894" class="Symbol">(</a><a id="10895" href="Games.OptimalPlays.html#8476" class="Function">headâº-of-âŠ—á´¶áµ€</a> <a id="10908" href="Games.OptimalPlays.html#10227" class="Function">eâº</a> <a id="10911" href="Games.OptimalPlays.html#9873" class="Function">dâº</a> <a id="10914" href="Games.OptimalPlays.html#9818" class="Bound">q</a><a id="10915" class="Symbol">)</a>
         <a id="10926" href="Games.OptimalPlays.html#10926" class="Function">IIâ‚‚</a> <a id="10930" class="Symbol">=</a> <a id="10932" class="Symbol">(</a><a id="10933" href="Games.OptimalPlays.html#6184" class="Function">Î±-extáµ€-explicitly</a> <a id="10951" class="Symbol">(</a><a id="10952" href="Games.TypeTrees.html#1658" class="Function">subpred</a> <a id="10960" href="Games.OptimalPlays.html#9818" class="Bound">q</a> <a id="10962" href="Games.OptimalPlays.html#10260" class="Function">x</a><a id="10963" class="Symbol">)</a> <a id="10965" class="Symbol">(</a><a id="10966" href="Games.OptimalPlays.html#9975" class="Function">f</a> <a id="10968" href="Games.OptimalPlays.html#10260" class="Function">x</a><a id="10969" class="Symbol">))</a><a id="10971" href="MLTT.Id.html#1055" class="Function Operator">â»Â¹</a>
         <a id="10983" href="Games.OptimalPlays.html#10983" class="Function">IIâ‚ƒ</a> <a id="10987" class="Symbol">=</a> <a id="10989" href="Games.OptimalPlays.html#6998" class="Function">Îµá´¸-propertyâ†’</a> <a id="11002" href="Games.OptimalPlays.html#9797" class="Bound">X</a> <a id="11004" href="Games.OptimalPlays.html#9850" class="Bound">l</a> <a id="11006" href="Games.OptimalPlays.html#9809" class="Bound">Ï•</a> <a id="11008" href="Games.OptimalPlays.html#10039" class="Function">p</a> <a id="11010" href="Games.OptimalPlays.html#10260" class="Function">x</a> <a id="11012" href="Games.OptimalPlays.html#10288" class="Function">I</a>
         <a id="11023" href="Games.OptimalPlays.html#11023" class="Function">IIâ‚„</a> <a id="11027" class="Symbol">=</a> <a id="11029" href="MLTT.Id.html#1136" class="Function">ap</a> <a id="11032" href="Games.OptimalPlays.html#9809" class="Bound">Ï•</a> <a id="11034" class="Symbol">(</a><a id="11035" href="UF.FunExt.html#1242" class="Function">dfunext</a> <a id="11043" href="Games.OptimalPlays.html#573" class="Bound">fe</a> <a id="11046" href="Games.OptimalPlays.html#10087" class="Function">IH</a><a id="11048" class="Symbol">)</a>

<a id="11051" class="Markup">\end{code}</a><a id="11061" class="Background">

We now show that path-sequence ğ•ğ•‹ computes the non-empty list of all
optimal plays.

</a><a id="11148" class="Markup">\begin{code}</a>

<a id="main-lemmaâ†’"></a><a id="11162" href="Games.OptimalPlays.html#11162" class="Function">main-lemmaâ†’</a> <a id="11174" class="Symbol">:</a> <a id="11176" class="Symbol">(</a><a id="11177" href="Games.OptimalPlays.html#11177" class="Bound">Xt</a> <a id="11180" class="Symbol">:</a> <a id="11182" href="Games.TypeTrees.html#755" class="Datatype">ğ‘»</a><a id="11183" class="Symbol">)</a>
              <a id="11199" class="Symbol">(</a><a id="11200" href="Games.OptimalPlays.html#11200" class="Bound">Ï•t</a> <a id="11203" class="Symbol">:</a> <a id="11205" href="Games.FiniteHistoryDependent.html#2364" class="Function">ğ“š</a> <a id="11207" href="Games.OptimalPlays.html#11177" class="Bound">Xt</a><a id="11209" class="Symbol">)</a>
              <a id="11225" class="Symbol">(</a><a id="11226" href="Games.OptimalPlays.html#11226" class="Bound">q</a> <a id="11228" class="Symbol">:</a> <a id="11230" href="Games.TypeTrees.html#942" class="Function">Path</a> <a id="11235" href="Games.OptimalPlays.html#11177" class="Bound">Xt</a> <a id="11238" class="Symbol">â†’</a> <a id="11240" href="Games.OptimalPlays.html#596" class="Bound">R</a><a id="11241" class="Symbol">)</a>
              <a id="11257" class="Symbol">(</a><a id="11258" href="Games.OptimalPlays.html#11258" class="Bound">Îµt</a> <a id="11261" class="Symbol">:</a> <a id="11263" href="Games.FiniteHistoryDependent.html#8970" class="Function">ğ“™</a> <a id="11265" href="Games.OptimalPlays.html#11177" class="Bound">Xt</a><a id="11267" class="Symbol">)</a>
              <a id="11283" class="Symbol">(</a><a id="11284" href="Games.OptimalPlays.html#11284" class="Bound">at</a> <a id="11287" class="Symbol">:</a> <a id="11289" href="Games.OptimalPlays.html#11258" class="Bound">Îµt</a> <a id="11292" href="Games.FiniteHistoryDependent.html#10543" class="Function Operator">Attains</a> <a id="11300" href="Games.OptimalPlays.html#11200" class="Bound">Ï•t</a><a id="11302" class="Symbol">)</a>
              <a id="11318" class="Symbol">(</a><a id="11319" href="Games.OptimalPlays.html#11319" class="Bound">lt</a> <a id="11322" class="Symbol">:</a> <a id="11324" href="Games.TypeTrees.html#2156" class="Function">structure</a> <a id="11334" href="MLTT.List.html#6746" class="Function">listedâº</a> <a id="11342" href="Games.OptimalPlays.html#11177" class="Bound">Xt</a><a id="11344" class="Symbol">)</a>
              <a id="11360" class="Symbol">(</a><a id="11361" href="Games.OptimalPlays.html#11361" class="Bound">xs</a> <a id="11364" class="Symbol">:</a> <a id="11366" href="Games.TypeTrees.html#942" class="Function">Path</a> <a id="11371" href="Games.OptimalPlays.html#11177" class="Bound">Xt</a><a id="11373" class="Symbol">)</a>
            <a id="11387" class="Symbol">â†’</a> <a id="11389" href="MLTT.List.html#3417" class="Datatype">member</a> <a id="11396" href="Games.OptimalPlays.html#11361" class="Bound">xs</a> <a id="11399" class="Symbol">(</a><a id="11400" href="Notation.CanonicalMap.html#359" class="Field">Î¹</a> <a id="11402" class="Symbol">(</a><a id="11403" href="Games.TypeTrees.html#3825" class="Function">path-sequence</a> <a id="11417" href="MonadOnTypes.J-transf-variation.html#2409" class="Function">ğ•ğ•‹</a> <a id="11420" class="Symbol">(</a><a id="11421" href="Games.OptimalPlays.html#7778" class="Function">Îµtâº</a> <a id="11425" href="Games.OptimalPlays.html#11177" class="Bound">Xt</a> <a id="11428" href="Games.OptimalPlays.html#11319" class="Bound">lt</a> <a id="11431" href="Games.OptimalPlays.html#11200" class="Bound">Ï•t</a> <a id="11434" href="Games.OptimalPlays.html#11258" class="Bound">Îµt</a> <a id="11437" href="Games.OptimalPlays.html#11284" class="Bound">at</a><a id="11439" class="Symbol">)</a> <a id="11441" href="Games.OptimalPlays.html#11226" class="Bound">q</a><a id="11442" class="Symbol">))</a>
            <a id="11457" class="Symbol">â†’</a> <a id="11459" href="Games.OptimalPlays.html#1548" class="Function">is-optimal-play</a> <a id="11475" href="Games.OptimalPlays.html#11200" class="Bound">Ï•t</a> <a id="11478" href="Games.OptimalPlays.html#11226" class="Bound">q</a> <a id="11480" href="Games.OptimalPlays.html#11361" class="Bound">xs</a>
<a id="11483" href="Games.OptimalPlays.html#11162" class="Function">main-lemmaâ†’</a> <a id="11495" href="Games.TypeTrees.html#773" class="InductiveConstructor">[]</a> <a id="11498" href="Games.TypeTrees.html#1310" class="InductiveConstructor">âŸ¨âŸ©</a> <a id="11501" href="Games.OptimalPlays.html#11501" class="Bound">q</a> <a id="11503" href="Games.TypeTrees.html#1310" class="InductiveConstructor">âŸ¨âŸ©</a> <a id="11506" href="Games.TypeTrees.html#1310" class="InductiveConstructor">âŸ¨âŸ©</a> <a id="11509" href="Games.TypeTrees.html#1310" class="InductiveConstructor">âŸ¨âŸ©</a> <a id="11512" href="Games.TypeTrees.html#1310" class="InductiveConstructor">âŸ¨âŸ©</a> <a id="11515" href="MLTT.List.html#3461" class="InductiveConstructor">in-head</a> <a id="11523" class="Symbol">=</a> <a id="11525" href="Games.TypeTrees.html#1310" class="InductiveConstructor">âŸ¨âŸ©</a>
<a id="11528" href="Games.OptimalPlays.html#11162" class="Function">main-lemmaâ†’</a> <a id="11540" href="Games.OptimalPlays.html#11540" class="Bound">Xt</a><a id="11542" class="Symbol">@(</a><a id="11544" href="Games.OptimalPlays.html#11544" class="Bound">X</a> <a id="11546" href="Games.TypeTrees.html#783" class="InductiveConstructor Operator">âˆ·</a> <a id="11548" href="Games.OptimalPlays.html#11548" class="Bound">Xf</a><a id="11550" class="Symbol">)</a> <a id="11552" href="Games.OptimalPlays.html#11552" class="Bound">Ï•t</a><a id="11554" class="Symbol">@(</a><a id="11556" href="Games.OptimalPlays.html#11556" class="Bound">Ï•</a> <a id="11558" href="Games.TypeTrees.html#1332" class="InductiveConstructor Operator">::</a> <a id="11561" href="Games.OptimalPlays.html#11561" class="Bound">Ï•f</a><a id="11563" class="Symbol">)</a> <a id="11565" href="Games.OptimalPlays.html#11565" class="Bound">q</a> <a id="11567" href="Games.OptimalPlays.html#11567" class="Bound">Îµt</a><a id="11569" class="Symbol">@(</a><a id="11571" href="Games.OptimalPlays.html#11571" class="Bound">Îµ</a> <a id="11573" href="Games.TypeTrees.html#1332" class="InductiveConstructor Operator">::</a> <a id="11576" href="Games.OptimalPlays.html#11576" class="Bound">Îµf</a><a id="11578" class="Symbol">)</a> <a id="11580" href="Games.OptimalPlays.html#11580" class="Bound">at</a><a id="11582" class="Symbol">@(</a><a id="11584" href="Games.OptimalPlays.html#11584" class="Bound">a</a> <a id="11586" href="Games.TypeTrees.html#1332" class="InductiveConstructor Operator">::</a> <a id="11589" href="Games.OptimalPlays.html#11589" class="Bound">af</a><a id="11591" class="Symbol">)</a>
            <a id="11605" href="Games.OptimalPlays.html#11605" class="Bound">lt</a><a id="11607" class="Symbol">@(</a><a id="11609" href="Games.OptimalPlays.html#11609" class="Bound">l</a> <a id="11611" href="Games.TypeTrees.html#1332" class="InductiveConstructor Operator">::</a> <a id="11614" href="Games.OptimalPlays.html#11614" class="Bound">lf</a><a id="11616" class="Symbol">)</a> <a id="11618" class="Symbol">(</a><a id="11619" href="Games.OptimalPlays.html#11619" class="Bound">x</a> <a id="11621" href="Games.TypeTrees.html#1332" class="InductiveConstructor Operator">::</a> <a id="11624" href="Games.OptimalPlays.html#11624" class="Bound">xs</a><a id="11626" class="Symbol">)</a> <a id="11628" href="Games.OptimalPlays.html#11628" class="Bound">m</a> <a id="11630" class="Symbol">=</a>
 <a id="11633" href="Games.OptimalPlays.html#12676" class="Function">head-is-optimal-move</a> <a id="11654" href="MLTT.Sigma.html#395" class="InductiveConstructor Operator">,</a> <a id="11656" href="Games.OptimalPlays.html#13056" class="Function">tail-is-optimal-play</a>
 <a id="11678" class="Keyword">where</a>
  <a id="11686" href="Games.OptimalPlays.html#11686" class="Function">eâº</a> <a id="11689" class="Symbol">:</a> <a id="11691" href="MonadOnTypes.J-transf-variation.html#2446" class="Function">JT</a> <a id="11694" href="Games.OptimalPlays.html#11544" class="Bound">X</a>
  <a id="11698" href="Games.OptimalPlays.html#11686" class="Function">eâº</a> <a id="11701" class="Symbol">=</a> <a id="11703" href="Games.OptimalPlays.html#7597" class="Function">Îµâº</a> <a id="11706" href="Games.OptimalPlays.html#11544" class="Bound">X</a> <a id="11708" href="Games.OptimalPlays.html#11609" class="Bound">l</a> <a id="11710" href="Games.OptimalPlays.html#11556" class="Bound">Ï•</a> <a id="11712" href="Games.OptimalPlays.html#11571" class="Bound">Îµ</a> <a id="11714" href="Games.OptimalPlays.html#11584" class="Bound">a</a>

  <a id="11719" href="Games.OptimalPlays.html#11719" class="Function">dâº</a> <a id="11722" class="Symbol">:</a> <a id="11724" class="Symbol">(</a><a id="11725" href="Games.OptimalPlays.html#11725" class="Bound">x</a> <a id="11727" class="Symbol">:</a> <a id="11729" href="Games.OptimalPlays.html#11544" class="Bound">X</a><a id="11730" class="Symbol">)</a> <a id="11732" class="Symbol">â†’</a> <a id="11734" href="MonadOnTypes.J-transf-variation.html#2446" class="Function">JT</a> <a id="11737" class="Symbol">(</a><a id="11738" href="Games.TypeTrees.html#942" class="Function">Path</a> <a id="11743" class="Symbol">(</a><a id="11744" href="Games.OptimalPlays.html#11548" class="Bound">Xf</a> <a id="11747" href="Games.OptimalPlays.html#11725" class="Bound">x</a><a id="11748" class="Symbol">))</a>
  <a id="11753" href="Games.OptimalPlays.html#11719" class="Function">dâº</a> <a id="11756" href="Games.OptimalPlays.html#11756" class="Bound">x</a> <a id="11758" class="Symbol">=</a> <a id="11760" href="Games.TypeTrees.html#3825" class="Function">path-sequence</a> <a id="11774" href="MonadOnTypes.J-transf-variation.html#2409" class="Function">ğ•ğ•‹</a> <a id="11777" class="Symbol">(</a><a id="11778" href="Games.OptimalPlays.html#7778" class="Function">Îµtâº</a> <a id="11782" class="Symbol">(</a><a id="11783" href="Games.OptimalPlays.html#11548" class="Bound">Xf</a> <a id="11786" href="Games.OptimalPlays.html#11756" class="Bound">x</a><a id="11787" class="Symbol">)</a> <a id="11789" class="Symbol">(</a><a id="11790" href="Games.OptimalPlays.html#11614" class="Bound">lf</a> <a id="11793" href="Games.OptimalPlays.html#11756" class="Bound">x</a><a id="11794" class="Symbol">)</a> <a id="11796" class="Symbol">(</a><a id="11797" href="Games.OptimalPlays.html#11561" class="Bound">Ï•f</a> <a id="11800" href="Games.OptimalPlays.html#11756" class="Bound">x</a><a id="11801" class="Symbol">)</a> <a id="11803" class="Symbol">(</a><a id="11804" href="Games.OptimalPlays.html#11576" class="Bound">Îµf</a> <a id="11807" href="Games.OptimalPlays.html#11756" class="Bound">x</a><a id="11808" class="Symbol">)</a> <a id="11810" class="Symbol">(</a><a id="11811" href="Games.OptimalPlays.html#11589" class="Bound">af</a> <a id="11814" href="Games.OptimalPlays.html#11756" class="Bound">x</a><a id="11815" class="Symbol">))</a>

  <a id="11821" href="Games.OptimalPlays.html#11821" class="Function">t</a> <a id="11823" class="Symbol">:</a> <a id="11825" href="MonadOnTypes.NonEmptyList.html#514" class="Function">Listâº</a> <a id="11831" href="Games.OptimalPlays.html#11544" class="Bound">X</a>
  <a id="11835" href="Games.OptimalPlays.html#11821" class="Function">t</a> <a id="11837" class="Symbol">=</a> <a id="11839" href="MonadOnTypes.J-transf-variation.html#3331" class="Function">Ï„</a> <a id="11841" href="Games.OptimalPlays.html#11686" class="Function">eâº</a> <a id="11844" href="Games.OptimalPlays.html#11719" class="Function">dâº</a> <a id="11847" href="Games.OptimalPlays.html#11565" class="Bound">q</a>

  <a id="11852" href="Games.OptimalPlays.html#11852" class="Function">tf</a> <a id="11855" class="Symbol">:</a> <a id="11857" class="Symbol">(</a><a id="11858" href="Games.OptimalPlays.html#11858" class="Bound">x</a> <a id="11860" class="Symbol">:</a> <a id="11862" href="Games.OptimalPlays.html#11544" class="Bound">X</a><a id="11863" class="Symbol">)</a> <a id="11865" class="Symbol">â†’</a> <a id="11867" href="MonadOnTypes.Monad.html#5068" class="Function">T</a> <a id="11869" class="Symbol">(</a><a id="11870" href="Games.TypeTrees.html#942" class="Function">Path</a> <a id="11875" class="Symbol">(</a><a id="11876" href="Games.OptimalPlays.html#11548" class="Bound">Xf</a> <a id="11879" href="Games.OptimalPlays.html#11858" class="Bound">x</a><a id="11880" class="Symbol">))</a>
  <a id="11885" href="Games.OptimalPlays.html#11852" class="Function">tf</a> <a id="11888" href="Games.OptimalPlays.html#11888" class="Bound">x</a> <a id="11890" class="Symbol">=</a> <a id="11892" href="Games.OptimalPlays.html#11719" class="Function">dâº</a> <a id="11895" href="Games.OptimalPlays.html#11888" class="Bound">x</a> <a id="11897" class="Symbol">(</a><a id="11898" href="Games.TypeTrees.html#1658" class="Function">subpred</a> <a id="11906" href="Games.OptimalPlays.html#11565" class="Bound">q</a> <a id="11908" href="Games.OptimalPlays.html#11888" class="Bound">x</a><a id="11909" class="Symbol">)</a>

  <a id="11914" href="Games.OptimalPlays.html#11914" class="Function">p</a> <a id="11916" class="Symbol">:</a> <a id="11918" href="Games.OptimalPlays.html#11544" class="Bound">X</a> <a id="11920" class="Symbol">â†’</a> <a id="11922" href="Games.OptimalPlays.html#596" class="Bound">R</a>
  <a id="11926" href="Games.OptimalPlays.html#11914" class="Function">p</a> <a id="11928" href="Games.OptimalPlays.html#11928" class="Bound">x</a> <a id="11930" class="Symbol">=</a> <a id="11932" href="Games.TypeTrees.html#3825" class="Function">path-sequence</a> <a id="11946" class="Symbol">(</a><a id="11947" href="MonadOnTypes.K.html#184" class="Function">ğ•‚</a> <a id="11949" href="Games.OptimalPlays.html#596" class="Bound">R</a><a id="11950" class="Symbol">)</a> <a id="11952" class="Symbol">(</a><a id="11953" href="Games.OptimalPlays.html#11561" class="Bound">Ï•f</a> <a id="11956" href="Games.OptimalPlays.html#11928" class="Bound">x</a><a id="11957" class="Symbol">)</a> <a id="11959" class="Symbol">(</a><a id="11960" href="Games.TypeTrees.html#1658" class="Function">subpred</a> <a id="11968" href="Games.OptimalPlays.html#11565" class="Bound">q</a> <a id="11970" href="Games.OptimalPlays.html#11928" class="Bound">x</a><a id="11971" class="Symbol">)</a>

  <a id="11976" href="Games.OptimalPlays.html#11976" class="Function">p&#39;</a> <a id="11979" class="Symbol">:</a> <a id="11981" href="Games.OptimalPlays.html#11544" class="Bound">X</a> <a id="11983" class="Symbol">â†’</a> <a id="11985" href="Games.OptimalPlays.html#596" class="Bound">R</a>
  <a id="11989" href="Games.OptimalPlays.html#11976" class="Function">p&#39;</a> <a id="11992" href="Games.OptimalPlays.html#11992" class="Bound">x</a> <a id="11994" class="Symbol">=</a> <a id="11996" href="MonadOnTypes.Monad.html#14835" class="Function">Î±-extáµ€</a>
          <a id="12013" class="Symbol">(</a><a id="12014" href="Games.TypeTrees.html#1658" class="Function">subpred</a> <a id="12022" href="Games.OptimalPlays.html#11565" class="Bound">q</a> <a id="12024" href="Games.OptimalPlays.html#11992" class="Bound">x</a><a id="12025" class="Symbol">)</a>
          <a id="12037" class="Symbol">(</a><a id="12038" href="Games.TypeTrees.html#3825" class="Function">path-sequence</a> <a id="12052" href="MonadOnTypes.J-transf-variation.html#2409" class="Function">ğ•ğ•‹</a>
            <a id="12067" class="Symbol">(</a><a id="12068" href="Games.OptimalPlays.html#7778" class="Function">Îµtâº</a> <a id="12072" class="Symbol">(</a><a id="12073" href="Games.OptimalPlays.html#11548" class="Bound">Xf</a> <a id="12076" href="Games.OptimalPlays.html#11992" class="Bound">x</a><a id="12077" class="Symbol">)</a> <a id="12079" class="Symbol">(</a><a id="12080" href="Games.OptimalPlays.html#11614" class="Bound">lf</a> <a id="12083" href="Games.OptimalPlays.html#11992" class="Bound">x</a><a id="12084" class="Symbol">)</a> <a id="12086" class="Symbol">(</a><a id="12087" href="Games.OptimalPlays.html#11561" class="Bound">Ï•f</a> <a id="12090" href="Games.OptimalPlays.html#11992" class="Bound">x</a><a id="12091" class="Symbol">)</a> <a id="12093" class="Symbol">(</a><a id="12094" href="Games.OptimalPlays.html#11576" class="Bound">Îµf</a> <a id="12097" href="Games.OptimalPlays.html#11992" class="Bound">x</a><a id="12098" class="Symbol">)</a> <a id="12100" class="Symbol">(</a><a id="12101" href="Games.OptimalPlays.html#11589" class="Bound">af</a> <a id="12104" href="Games.OptimalPlays.html#11992" class="Bound">x</a><a id="12105" class="Symbol">))</a>
            <a id="12120" class="Symbol">(</a><a id="12121" href="Games.TypeTrees.html#1658" class="Function">subpred</a> <a id="12129" href="Games.OptimalPlays.html#11565" class="Bound">q</a> <a id="12131" href="Games.OptimalPlays.html#11992" class="Bound">x</a><a id="12132" class="Symbol">))</a>

  <a id="12138" href="Games.OptimalPlays.html#12138" class="Function">I</a> <a id="12140" class="Symbol">:</a> <a id="12142" href="Games.TypeTrees.html#3825" class="Function">path-sequence</a> <a id="12156" href="MonadOnTypes.J-transf-variation.html#2409" class="Function">ğ•ğ•‹</a> <a id="12159" class="Symbol">(</a><a id="12160" href="Games.OptimalPlays.html#7778" class="Function">Îµtâº</a> <a id="12164" href="Games.OptimalPlays.html#11540" class="Bound">Xt</a> <a id="12167" href="Games.OptimalPlays.html#11605" class="Bound">lt</a> <a id="12170" href="Games.OptimalPlays.html#11552" class="Bound">Ï•t</a> <a id="12173" href="Games.OptimalPlays.html#11567" class="Bound">Îµt</a> <a id="12176" href="Games.OptimalPlays.html#11580" class="Bound">at</a><a id="12178" class="Symbol">)</a> <a id="12180" href="Games.OptimalPlays.html#11565" class="Bound">q</a> <a id="12182" href="MLTT.Id.html#193" class="Datatype Operator">ï¼</a> <a id="12184" href="Games.OptimalPlays.html#11821" class="Function">t</a> <a id="12186" href="MonadOnTypes.NonEmptyList.html#2347" class="Function Operator">âŠ—á´¸âº</a> <a id="12190" href="Games.OptimalPlays.html#11852" class="Function">tf</a>
  <a id="12195" href="Games.OptimalPlays.html#12138" class="Function">I</a> <a id="12197" class="Symbol">=</a> <a id="12199" href="MonadOnTypes.J-transf-variation.html#4839" class="Function">âŠ—á´¶áµ€-in-terms-of-âŠ—áµ€</a> <a id="12218" href="Games.OptimalPlays.html#11686" class="Function">eâº</a> <a id="12221" href="Games.OptimalPlays.html#11719" class="Function">dâº</a> <a id="12224" href="Games.OptimalPlays.html#11565" class="Bound">q</a> <a id="12226" href="Games.OptimalPlays.html#573" class="Bound">fe</a>

  <a id="12232" href="Games.OptimalPlays.html#12232" class="Function">II</a> <a id="12235" class="Symbol">:</a> <a id="12237" href="MLTT.List.html#3417" class="Datatype">member</a> <a id="12244" class="Symbol">(</a><a id="12245" href="Games.OptimalPlays.html#11619" class="Bound">x</a> <a id="12247" href="Games.TypeTrees.html#1332" class="InductiveConstructor Operator">::</a> <a id="12250" href="Games.OptimalPlays.html#11624" class="Bound">xs</a><a id="12252" class="Symbol">)</a> <a id="12254" class="Symbol">(</a><a id="12255" href="Notation.CanonicalMap.html#359" class="Field">Î¹</a> <a id="12257" class="Symbol">(</a><a id="12258" href="Games.OptimalPlays.html#11821" class="Function">t</a> <a id="12260" href="MonadOnTypes.NonEmptyList.html#2347" class="Function Operator">âŠ—á´¸âº</a> <a id="12264" href="Games.OptimalPlays.html#11852" class="Function">tf</a><a id="12266" class="Symbol">))</a>
  <a id="12271" href="Games.OptimalPlays.html#12232" class="Function">II</a> <a id="12274" class="Symbol">=</a> <a id="12276" href="MLTT.Id.html#735" class="Function">transport</a> <a id="12286" class="Symbol">(</a><a id="12287" href="MLTT.List.html#3417" class="Datatype">member</a> <a id="12294" class="Symbol">(</a><a id="12295" href="Games.OptimalPlays.html#11619" class="Bound">x</a> <a id="12297" href="Games.TypeTrees.html#1332" class="InductiveConstructor Operator">::</a> <a id="12300" href="Games.OptimalPlays.html#11624" class="Bound">xs</a><a id="12302" class="Symbol">))</a> <a id="12305" class="Symbol">(</a><a id="12306" href="MLTT.Id.html#1136" class="Function">ap</a> <a id="12309" href="Notation.CanonicalMap.html#359" class="Field">Î¹</a> <a id="12311" href="Games.OptimalPlays.html#12138" class="Function">I</a><a id="12312" class="Symbol">)</a> <a id="12314" href="Games.OptimalPlays.html#11628" class="Bound">m</a>

  <a id="12319" href="Games.OptimalPlays.html#12319" class="Function">III</a> <a id="12323" class="Symbol">:</a> <a id="12325" href="MLTT.List.html#3417" class="Datatype">member</a> <a id="12332" href="Games.OptimalPlays.html#11619" class="Bound">x</a> <a id="12334" class="Symbol">(</a><a id="12335" href="Notation.CanonicalMap.html#359" class="Field">Î¹</a> <a id="12337" href="Games.OptimalPlays.html#11821" class="Function">t</a><a id="12338" class="Symbol">)</a>
  <a id="12342" href="Games.OptimalPlays.html#12319" class="Function">III</a> <a id="12346" class="Symbol">=</a> <a id="12348" href="MLTT.Sigma-Type.html#198" class="Field">prâ‚</a> <a id="12352" class="Symbol">(</a><a id="12353" href="MonadOnTypes.NonEmptyList.html#5471" class="Function">split-membership</a> <a id="12370" href="Games.OptimalPlays.html#573" class="Bound">fe</a> <a id="12373" href="Games.OptimalPlays.html#11619" class="Bound">x</a> <a id="12375" href="Games.OptimalPlays.html#11624" class="Bound">xs</a> <a id="12378" href="Games.OptimalPlays.html#11821" class="Function">t</a> <a id="12380" href="Games.OptimalPlays.html#11852" class="Function">tf</a> <a id="12383" href="Games.OptimalPlays.html#12232" class="Function">II</a><a id="12385" class="Symbol">)</a>

  <a id="12390" href="Games.OptimalPlays.html#12390" class="Function">IV</a> <a id="12393" class="Symbol">:</a> <a id="12395" href="MLTT.List.html#3417" class="Datatype">member</a> <a id="12402" href="Games.OptimalPlays.html#11624" class="Bound">xs</a> <a id="12405" class="Symbol">(</a><a id="12406" href="Notation.CanonicalMap.html#359" class="Field">Î¹</a> <a id="12408" class="Symbol">(</a><a id="12409" href="Games.OptimalPlays.html#11852" class="Function">tf</a> <a id="12412" href="Games.OptimalPlays.html#11619" class="Bound">x</a><a id="12413" class="Symbol">))</a>
  <a id="12418" href="Games.OptimalPlays.html#12390" class="Function">IV</a> <a id="12421" class="Symbol">=</a> <a id="12423" href="MLTT.Sigma-Type.html#209" class="Field">prâ‚‚</a> <a id="12427" class="Symbol">(</a><a id="12428" href="MonadOnTypes.NonEmptyList.html#5471" class="Function">split-membership</a> <a id="12445" href="Games.OptimalPlays.html#573" class="Bound">fe</a> <a id="12448" href="Games.OptimalPlays.html#11619" class="Bound">x</a> <a id="12450" href="Games.OptimalPlays.html#11624" class="Bound">xs</a> <a id="12453" href="Games.OptimalPlays.html#11821" class="Function">t</a> <a id="12455" href="Games.OptimalPlays.html#11852" class="Function">tf</a> <a id="12458" href="Games.OptimalPlays.html#12232" class="Function">II</a><a id="12460" class="Symbol">)</a>

  <a id="12465" href="Games.OptimalPlays.html#12465" class="Function">V</a> <a id="12467" class="Symbol">:</a> <a id="12469" href="Games.OptimalPlays.html#11976" class="Function">p&#39;</a> <a id="12472" href="MLTT.Id.html#1889" class="Function Operator">âˆ¼</a> <a id="12474" href="Games.OptimalPlays.html#11914" class="Function">p</a>
  <a id="12478" href="Games.OptimalPlays.html#12465" class="Function">V</a> <a id="12480" href="Games.OptimalPlays.html#12480" class="Bound">x</a> <a id="12482" class="Symbol">=</a> <a id="12484" href="Games.OptimalPlays.html#9407" class="Function">JT-in-terms-of-K</a> <a id="12501" class="Symbol">(</a><a id="12502" href="Games.OptimalPlays.html#11548" class="Bound">Xf</a> <a id="12505" href="Games.OptimalPlays.html#12480" class="Bound">x</a><a id="12506" class="Symbol">)</a> <a id="12508" class="Symbol">(</a><a id="12509" href="Games.OptimalPlays.html#11561" class="Bound">Ï•f</a> <a id="12512" href="Games.OptimalPlays.html#12480" class="Bound">x</a><a id="12513" class="Symbol">)</a> <a id="12515" class="Symbol">(</a><a id="12516" href="Games.TypeTrees.html#1658" class="Function">subpred</a> <a id="12524" href="Games.OptimalPlays.html#11565" class="Bound">q</a> <a id="12526" href="Games.OptimalPlays.html#12480" class="Bound">x</a><a id="12527" class="Symbol">)</a> <a id="12529" class="Symbol">(</a><a id="12530" href="Games.OptimalPlays.html#11576" class="Bound">Îµf</a> <a id="12533" href="Games.OptimalPlays.html#12480" class="Bound">x</a> <a id="12535" class="Symbol">)</a> <a id="12537" class="Symbol">(</a><a id="12538" href="Games.OptimalPlays.html#11589" class="Bound">af</a> <a id="12541" href="Games.OptimalPlays.html#12480" class="Bound">x</a><a id="12542" class="Symbol">)</a> <a id="12544" class="Symbol">(</a><a id="12545" href="Games.OptimalPlays.html#11614" class="Bound">lf</a> <a id="12548" href="Games.OptimalPlays.html#12480" class="Bound">x</a><a id="12549" class="Symbol">)</a>

  <a id="12554" href="Games.OptimalPlays.html#12554" class="Function">VI</a> <a id="12557" class="Symbol">:</a> <a id="12559" href="Games.OptimalPlays.html#11821" class="Function">t</a> <a id="12561" href="MLTT.Id.html#193" class="Datatype Operator">ï¼</a> <a id="12563" href="Games.OptimalPlays.html#11686" class="Function">eâº</a> <a id="12566" href="Games.OptimalPlays.html#11914" class="Function">p</a>
  <a id="12570" href="Games.OptimalPlays.html#12554" class="Function">VI</a> <a id="12573" class="Symbol">=</a> <a id="12575" href="MLTT.Id.html#1136" class="Function">ap</a> <a id="12578" href="Games.OptimalPlays.html#11686" class="Function">eâº</a> <a id="12581" class="Symbol">(</a><a id="12582" href="UF.FunExt.html#1242" class="Function">dfunext</a> <a id="12590" href="Games.OptimalPlays.html#573" class="Bound">fe</a> <a id="12593" href="Games.OptimalPlays.html#12465" class="Function">V</a><a id="12594" class="Symbol">)</a>

  <a id="12599" href="Games.OptimalPlays.html#12599" class="Function">VII</a> <a id="12603" class="Symbol">:</a> <a id="12605" href="MLTT.List.html#3417" class="Datatype">member</a> <a id="12612" href="Games.OptimalPlays.html#11619" class="Bound">x</a> <a id="12614" class="Symbol">(</a><a id="12615" href="Notation.CanonicalMap.html#359" class="Field">Î¹</a> <a id="12617" class="Symbol">(</a><a id="12618" href="Games.OptimalPlays.html#11686" class="Function">eâº</a> <a id="12621" href="Games.OptimalPlays.html#11914" class="Function">p</a><a id="12622" class="Symbol">))</a>
  <a id="12627" href="Games.OptimalPlays.html#12599" class="Function">VII</a> <a id="12631" class="Symbol">=</a> <a id="12633" href="MLTT.Id.html#735" class="Function">transport</a> <a id="12643" class="Symbol">(Î»</a> <a id="12646" href="Games.OptimalPlays.html#12646" class="Bound">-</a> <a id="12648" class="Symbol">â†’</a> <a id="12650" href="MLTT.List.html#3417" class="Datatype">member</a> <a id="12657" href="Games.OptimalPlays.html#11619" class="Bound">x</a> <a id="12659" class="Symbol">(</a><a id="12660" href="Notation.CanonicalMap.html#359" class="Field">Î¹</a> <a id="12662" href="Games.OptimalPlays.html#12646" class="Bound">-</a><a id="12663" class="Symbol">))</a> <a id="12666" href="Games.OptimalPlays.html#12554" class="Function">VI</a> <a id="12669" href="Games.OptimalPlays.html#12319" class="Function">III</a>

  <a id="12676" href="Games.OptimalPlays.html#12676" class="Function">head-is-optimal-move</a> <a id="12697" class="Symbol">=</a>
   <a id="12702" href="Games.OptimalPlays.html#11556" class="Bound">Ï•</a> <a id="12704" href="Games.OptimalPlays.html#11914" class="Function">p</a>                                      <a id="12743" href="MLTT.Id.html#2703" class="Function Operator">ï¼âŸ¨</a> <a id="12746" href="Games.OptimalPlays.html#12868" class="Function">VIII</a> <a id="12751" href="MLTT.Id.html#2703" class="Function Operator">âŸ©</a>
   <a id="12756" href="Games.OptimalPlays.html#11914" class="Function">p</a> <a id="12758" href="Games.OptimalPlays.html#11619" class="Bound">x</a>                                      <a id="12797" href="MLTT.Id.html#2703" class="Function Operator">ï¼âŸ¨</a> <a id="12800" href="MLTT.Identity-Type.html#157" class="InductiveConstructor">refl</a> <a id="12805" href="MLTT.Id.html#2703" class="Function Operator">âŸ©</a>
   <a id="12810" href="Games.TypeTrees.html#3825" class="Function">path-sequence</a> <a id="12824" class="Symbol">(</a><a id="12825" href="MonadOnTypes.K.html#184" class="Function">ğ•‚</a> <a id="12827" href="Games.OptimalPlays.html#596" class="Bound">R</a><a id="12828" class="Symbol">)</a> <a id="12830" class="Symbol">(</a><a id="12831" href="Games.OptimalPlays.html#11561" class="Bound">Ï•f</a> <a id="12834" href="Games.OptimalPlays.html#11619" class="Bound">x</a><a id="12835" class="Symbol">)</a> <a id="12837" class="Symbol">(</a><a id="12838" href="Games.TypeTrees.html#1658" class="Function">subpred</a> <a id="12846" href="Games.OptimalPlays.html#11565" class="Bound">q</a> <a id="12848" href="Games.OptimalPlays.html#11619" class="Bound">x</a><a id="12849" class="Symbol">)</a> <a id="12851" href="MLTT.Id.html#2785" class="Function Operator">âˆ</a>
    <a id="12857" class="Keyword">where</a>
     <a id="12868" href="Games.OptimalPlays.html#12868" class="Function">VIII</a> <a id="12873" class="Symbol">=</a> <a id="12875" class="Symbol">(</a><a id="12876" href="Games.OptimalPlays.html#6998" class="Function">Îµá´¸-propertyâ†’</a> <a id="12889" href="Games.OptimalPlays.html#11544" class="Bound">X</a> <a id="12891" href="Games.OptimalPlays.html#11609" class="Bound">l</a> <a id="12893" href="Games.OptimalPlays.html#11556" class="Bound">Ï•</a> <a id="12895" href="Games.OptimalPlays.html#11914" class="Function">p</a> <a id="12897" href="Games.OptimalPlays.html#11619" class="Bound">x</a> <a id="12899" href="Games.OptimalPlays.html#12599" class="Function">VII</a><a id="12902" class="Symbol">)</a><a id="12903" href="MLTT.Id.html#1055" class="Function Operator">â»Â¹</a>

  <a id="12909" href="Games.OptimalPlays.html#12909" class="Function">IH</a> <a id="12912" class="Symbol">:</a> <a id="12914" href="MLTT.List.html#3417" class="Datatype">member</a> <a id="12921" href="Games.OptimalPlays.html#11624" class="Bound">xs</a> <a id="12924" class="Symbol">(</a><a id="12925" href="Notation.CanonicalMap.html#359" class="Field">Î¹</a> <a id="12927" class="Symbol">(</a><a id="12928" href="Games.OptimalPlays.html#11852" class="Function">tf</a> <a id="12931" href="Games.OptimalPlays.html#11619" class="Bound">x</a><a id="12932" class="Symbol">))</a>
     <a id="12940" class="Symbol">â†’</a> <a id="12942" href="Games.OptimalPlays.html#1548" class="Function">is-optimal-play</a> <a id="12958" class="Symbol">(</a><a id="12959" href="Games.OptimalPlays.html#11561" class="Bound">Ï•f</a> <a id="12962" href="Games.OptimalPlays.html#11619" class="Bound">x</a><a id="12963" class="Symbol">)</a> <a id="12965" class="Symbol">(</a><a id="12966" href="Games.TypeTrees.html#1658" class="Function">subpred</a> <a id="12974" href="Games.OptimalPlays.html#11565" class="Bound">q</a> <a id="12976" href="Games.OptimalPlays.html#11619" class="Bound">x</a><a id="12977" class="Symbol">)</a> <a id="12979" href="Games.OptimalPlays.html#11624" class="Bound">xs</a>
  <a id="12984" href="Games.OptimalPlays.html#12909" class="Function">IH</a> <a id="12987" class="Symbol">=</a> <a id="12989" href="Games.OptimalPlays.html#11162" class="Function">main-lemmaâ†’</a> <a id="13001" class="Symbol">(</a><a id="13002" href="Games.OptimalPlays.html#11548" class="Bound">Xf</a> <a id="13005" href="Games.OptimalPlays.html#11619" class="Bound">x</a><a id="13006" class="Symbol">)</a> <a id="13008" class="Symbol">(</a><a id="13009" href="Games.OptimalPlays.html#11561" class="Bound">Ï•f</a> <a id="13012" href="Games.OptimalPlays.html#11619" class="Bound">x</a><a id="13013" class="Symbol">)</a> <a id="13015" class="Symbol">(</a><a id="13016" href="Games.TypeTrees.html#1658" class="Function">subpred</a> <a id="13024" href="Games.OptimalPlays.html#11565" class="Bound">q</a> <a id="13026" href="Games.OptimalPlays.html#11619" class="Bound">x</a><a id="13027" class="Symbol">)</a> <a id="13029" class="Symbol">(</a><a id="13030" href="Games.OptimalPlays.html#11576" class="Bound">Îµf</a> <a id="13033" href="Games.OptimalPlays.html#11619" class="Bound">x</a><a id="13034" class="Symbol">)</a> <a id="13036" class="Symbol">(</a><a id="13037" href="Games.OptimalPlays.html#11589" class="Bound">af</a> <a id="13040" href="Games.OptimalPlays.html#11619" class="Bound">x</a><a id="13041" class="Symbol">)</a> <a id="13043" class="Symbol">(</a><a id="13044" href="Games.OptimalPlays.html#11614" class="Bound">lf</a> <a id="13047" href="Games.OptimalPlays.html#11619" class="Bound">x</a><a id="13048" class="Symbol">)</a> <a id="13050" href="Games.OptimalPlays.html#11624" class="Bound">xs</a>

  <a id="13056" href="Games.OptimalPlays.html#13056" class="Function">tail-is-optimal-play</a> <a id="13077" class="Symbol">:</a> <a id="13079" href="Games.OptimalPlays.html#1548" class="Function">is-optimal-play</a> <a id="13095" class="Symbol">(</a><a id="13096" href="Games.OptimalPlays.html#11561" class="Bound">Ï•f</a> <a id="13099" href="Games.OptimalPlays.html#11619" class="Bound">x</a><a id="13100" class="Symbol">)</a> <a id="13102" class="Symbol">(</a><a id="13103" href="Games.TypeTrees.html#1658" class="Function">subpred</a> <a id="13111" href="Games.OptimalPlays.html#11565" class="Bound">q</a> <a id="13113" href="Games.OptimalPlays.html#11619" class="Bound">x</a><a id="13114" class="Symbol">)</a> <a id="13116" href="Games.OptimalPlays.html#11624" class="Bound">xs</a>
  <a id="13121" href="Games.OptimalPlays.html#13056" class="Function">tail-is-optimal-play</a> <a id="13142" class="Symbol">=</a> <a id="13144" href="Games.OptimalPlays.html#12909" class="Function">IH</a> <a id="13147" href="Games.OptimalPlays.html#12390" class="Function">IV</a>

<a id="main-lemmaâ†"></a><a id="13151" href="Games.OptimalPlays.html#13151" class="Function">main-lemmaâ†</a> <a id="13163" class="Symbol">:</a> <a id="13165" class="Symbol">(</a><a id="13166" href="Games.OptimalPlays.html#13166" class="Bound">Xt</a> <a id="13169" class="Symbol">:</a> <a id="13171" href="Games.TypeTrees.html#755" class="Datatype">ğ‘»</a><a id="13172" class="Symbol">)</a>
              <a id="13188" class="Symbol">(</a><a id="13189" href="Games.OptimalPlays.html#13189" class="Bound">Ï•t</a> <a id="13192" class="Symbol">:</a> <a id="13194" href="Games.FiniteHistoryDependent.html#2364" class="Function">ğ“š</a> <a id="13196" href="Games.OptimalPlays.html#13166" class="Bound">Xt</a><a id="13198" class="Symbol">)</a>
              <a id="13214" class="Symbol">(</a><a id="13215" href="Games.OptimalPlays.html#13215" class="Bound">q</a> <a id="13217" class="Symbol">:</a> <a id="13219" href="Games.TypeTrees.html#942" class="Function">Path</a> <a id="13224" href="Games.OptimalPlays.html#13166" class="Bound">Xt</a> <a id="13227" class="Symbol">â†’</a> <a id="13229" href="Games.OptimalPlays.html#596" class="Bound">R</a><a id="13230" class="Symbol">)</a>
              <a id="13246" class="Symbol">(</a><a id="13247" href="Games.OptimalPlays.html#13247" class="Bound">Îµt</a> <a id="13250" class="Symbol">:</a> <a id="13252" href="Games.FiniteHistoryDependent.html#8970" class="Function">ğ“™</a> <a id="13254" href="Games.OptimalPlays.html#13166" class="Bound">Xt</a><a id="13256" class="Symbol">)</a>
              <a id="13272" class="Symbol">(</a><a id="13273" href="Games.OptimalPlays.html#13273" class="Bound">at</a> <a id="13276" class="Symbol">:</a> <a id="13278" href="Games.OptimalPlays.html#13247" class="Bound">Îµt</a> <a id="13281" href="Games.FiniteHistoryDependent.html#10543" class="Function Operator">Attains</a> <a id="13289" href="Games.OptimalPlays.html#13189" class="Bound">Ï•t</a><a id="13291" class="Symbol">)</a>
              <a id="13307" class="Symbol">(</a><a id="13308" href="Games.OptimalPlays.html#13308" class="Bound">lt</a> <a id="13311" class="Symbol">:</a> <a id="13313" href="Games.TypeTrees.html#2156" class="Function">structure</a> <a id="13323" href="MLTT.List.html#6746" class="Function">listedâº</a> <a id="13331" href="Games.OptimalPlays.html#13166" class="Bound">Xt</a><a id="13333" class="Symbol">)</a>
              <a id="13349" class="Symbol">(</a><a id="13350" href="Games.OptimalPlays.html#13350" class="Bound">xs</a> <a id="13353" class="Symbol">:</a> <a id="13355" href="Games.TypeTrees.html#942" class="Function">Path</a> <a id="13360" href="Games.OptimalPlays.html#13166" class="Bound">Xt</a><a id="13362" class="Symbol">)</a>
            <a id="13376" class="Symbol">â†’</a> <a id="13378" href="Games.OptimalPlays.html#1548" class="Function">is-optimal-play</a> <a id="13394" href="Games.OptimalPlays.html#13189" class="Bound">Ï•t</a> <a id="13397" href="Games.OptimalPlays.html#13215" class="Bound">q</a> <a id="13399" href="Games.OptimalPlays.html#13350" class="Bound">xs</a>
            <a id="13414" class="Symbol">â†’</a> <a id="13416" href="MLTT.List.html#3417" class="Datatype">member</a> <a id="13423" href="Games.OptimalPlays.html#13350" class="Bound">xs</a> <a id="13426" class="Symbol">(</a><a id="13427" href="Notation.CanonicalMap.html#359" class="Field">Î¹</a> <a id="13429" class="Symbol">(</a><a id="13430" href="Games.TypeTrees.html#3825" class="Function">path-sequence</a> <a id="13444" href="MonadOnTypes.J-transf-variation.html#2409" class="Function">ğ•ğ•‹</a> <a id="13447" class="Symbol">(</a><a id="13448" href="Games.OptimalPlays.html#7778" class="Function">Îµtâº</a> <a id="13452" href="Games.OptimalPlays.html#13166" class="Bound">Xt</a> <a id="13455" href="Games.OptimalPlays.html#13308" class="Bound">lt</a> <a id="13458" href="Games.OptimalPlays.html#13189" class="Bound">Ï•t</a> <a id="13461" href="Games.OptimalPlays.html#13247" class="Bound">Îµt</a> <a id="13464" href="Games.OptimalPlays.html#13273" class="Bound">at</a><a id="13466" class="Symbol">)</a> <a id="13468" href="Games.OptimalPlays.html#13215" class="Bound">q</a><a id="13469" class="Symbol">))</a>
<a id="13472" href="Games.OptimalPlays.html#13151" class="Function">main-lemmaâ†</a> <a id="13484" href="Games.TypeTrees.html#773" class="InductiveConstructor">[]</a> <a id="13487" href="Games.TypeTrees.html#1310" class="InductiveConstructor">âŸ¨âŸ©</a> <a id="13490" href="Games.OptimalPlays.html#13490" class="Bound">q</a> <a id="13492" href="Games.TypeTrees.html#1310" class="InductiveConstructor">âŸ¨âŸ©</a> <a id="13495" href="Games.TypeTrees.html#1310" class="InductiveConstructor">âŸ¨âŸ©</a> <a id="13498" href="Games.TypeTrees.html#1310" class="InductiveConstructor">âŸ¨âŸ©</a> <a id="13501" href="Games.TypeTrees.html#1310" class="InductiveConstructor">âŸ¨âŸ©</a> <a id="13504" href="MLTT.Unit.html#162" class="InductiveConstructor">â‹†</a> <a id="13506" class="Symbol">=</a> <a id="13508" href="MLTT.List.html#3461" class="InductiveConstructor">in-head</a>
<a id="13516" href="Games.OptimalPlays.html#13151" class="Function">main-lemmaâ†</a> <a id="13528" href="Games.OptimalPlays.html#13528" class="Bound">Xt</a><a id="13530" class="Symbol">@(</a><a id="13532" href="Games.OptimalPlays.html#13532" class="Bound">X</a> <a id="13534" href="Games.TypeTrees.html#783" class="InductiveConstructor Operator">âˆ·</a> <a id="13536" href="Games.OptimalPlays.html#13536" class="Bound">Xf</a><a id="13538" class="Symbol">)</a> <a id="13540" href="Games.OptimalPlays.html#13540" class="Bound">Ï•t</a><a id="13542" class="Symbol">@(</a><a id="13544" href="Games.OptimalPlays.html#13544" class="Bound">Ï•</a> <a id="13546" href="Games.TypeTrees.html#1332" class="InductiveConstructor Operator">::</a> <a id="13549" href="Games.OptimalPlays.html#13549" class="Bound">Ï•f</a><a id="13551" class="Symbol">)</a> <a id="13553" href="Games.OptimalPlays.html#13553" class="Bound">q</a> <a id="13555" href="Games.OptimalPlays.html#13555" class="Bound">Îµt</a><a id="13557" class="Symbol">@(</a><a id="13559" href="Games.OptimalPlays.html#13559" class="Bound">Îµ</a> <a id="13561" href="Games.TypeTrees.html#1332" class="InductiveConstructor Operator">::</a> <a id="13564" href="Games.OptimalPlays.html#13564" class="Bound">Îµf</a><a id="13566" class="Symbol">)</a> <a id="13568" href="Games.OptimalPlays.html#13568" class="Bound">at</a><a id="13570" class="Symbol">@(</a><a id="13572" href="Games.OptimalPlays.html#13572" class="Bound">a</a> <a id="13574" href="Games.TypeTrees.html#1332" class="InductiveConstructor Operator">::</a> <a id="13577" href="Games.OptimalPlays.html#13577" class="Bound">af</a><a id="13579" class="Symbol">)</a>
            <a id="13593" href="Games.OptimalPlays.html#13593" class="Bound">lt</a><a id="13595" class="Symbol">@(</a><a id="13597" href="Games.OptimalPlays.html#13597" class="Bound">l</a> <a id="13599" href="Games.TypeTrees.html#1332" class="InductiveConstructor Operator">::</a> <a id="13602" href="Games.OptimalPlays.html#13602" class="Bound">lf</a><a id="13604" class="Symbol">)</a> <a id="13606" class="Symbol">(</a><a id="13607" href="Games.OptimalPlays.html#13607" class="Bound">x</a> <a id="13609" href="Games.TypeTrees.html#1332" class="InductiveConstructor Operator">::</a> <a id="13612" href="Games.OptimalPlays.html#13612" class="Bound">xs</a><a id="13614" class="Symbol">)</a> <a id="13616" class="Symbol">(</a><a id="13617" href="Games.OptimalPlays.html#13617" class="Bound">om</a> <a id="13620" href="MLTT.Sigma.html#395" class="InductiveConstructor Operator">,</a> <a id="13622" href="Games.OptimalPlays.html#13622" class="Bound">op</a><a id="13624" class="Symbol">)</a> <a id="13626" class="Symbol">=</a> <a id="13628" href="Games.OptimalPlays.html#14524" class="Function">VI</a>
 <a id="13632" class="Keyword">where</a>
  <a id="13640" href="Games.OptimalPlays.html#13640" class="Function">p</a> <a id="13642" class="Symbol">:</a> <a id="13644" href="Games.OptimalPlays.html#13532" class="Bound">X</a> <a id="13646" class="Symbol">â†’</a> <a id="13648" href="Games.OptimalPlays.html#596" class="Bound">R</a>
  <a id="13652" href="Games.OptimalPlays.html#13640" class="Function">p</a> <a id="13654" href="Games.OptimalPlays.html#13654" class="Bound">x</a> <a id="13656" class="Symbol">=</a> <a id="13658" href="Games.TypeTrees.html#3825" class="Function">path-sequence</a> <a id="13672" class="Symbol">(</a><a id="13673" href="MonadOnTypes.K.html#184" class="Function">ğ•‚</a> <a id="13675" href="Games.OptimalPlays.html#596" class="Bound">R</a><a id="13676" class="Symbol">)</a> <a id="13678" class="Symbol">(</a><a id="13679" href="Games.OptimalPlays.html#13549" class="Bound">Ï•f</a> <a id="13682" href="Games.OptimalPlays.html#13654" class="Bound">x</a><a id="13683" class="Symbol">)</a> <a id="13685" class="Symbol">(</a><a id="13686" href="Games.TypeTrees.html#1658" class="Function">subpred</a> <a id="13694" href="Games.OptimalPlays.html#13553" class="Bound">q</a> <a id="13696" href="Games.OptimalPlays.html#13654" class="Bound">x</a><a id="13697" class="Symbol">)</a>

  <a id="13702" href="Games.OptimalPlays.html#13702" class="Function">eâº</a> <a id="13705" class="Symbol">:</a> <a id="13707" href="MonadOnTypes.J-transf-variation.html#2446" class="Function">JT</a> <a id="13710" href="Games.OptimalPlays.html#13532" class="Bound">X</a>
  <a id="13714" href="Games.OptimalPlays.html#13702" class="Function">eâº</a> <a id="13717" class="Symbol">=</a> <a id="13719" href="Games.OptimalPlays.html#7597" class="Function">Îµâº</a> <a id="13722" href="Games.OptimalPlays.html#13532" class="Bound">X</a> <a id="13724" href="Games.OptimalPlays.html#13597" class="Bound">l</a> <a id="13726" href="Games.OptimalPlays.html#13544" class="Bound">Ï•</a> <a id="13728" href="Games.OptimalPlays.html#13559" class="Bound">Îµ</a> <a id="13730" href="Games.OptimalPlays.html#13572" class="Bound">a</a>

  <a id="13735" href="Games.OptimalPlays.html#13735" class="Function">dâº</a> <a id="13738" class="Symbol">:</a> <a id="13740" class="Symbol">(</a><a id="13741" href="Games.OptimalPlays.html#13741" class="Bound">x</a> <a id="13743" class="Symbol">:</a> <a id="13745" href="Games.OptimalPlays.html#13532" class="Bound">X</a><a id="13746" class="Symbol">)</a> <a id="13748" class="Symbol">â†’</a> <a id="13750" href="MonadOnTypes.J-transf-variation.html#2446" class="Function">JT</a> <a id="13753" class="Symbol">(</a><a id="13754" href="Games.TypeTrees.html#942" class="Function">Path</a> <a id="13759" class="Symbol">(</a><a id="13760" href="Games.OptimalPlays.html#13536" class="Bound">Xf</a> <a id="13763" href="Games.OptimalPlays.html#13741" class="Bound">x</a><a id="13764" class="Symbol">))</a>
  <a id="13769" href="Games.OptimalPlays.html#13735" class="Function">dâº</a> <a id="13772" href="Games.OptimalPlays.html#13772" class="Bound">x</a> <a id="13774" class="Symbol">=</a> <a id="13776" href="Games.TypeTrees.html#3825" class="Function">path-sequence</a> <a id="13790" href="MonadOnTypes.J-transf-variation.html#2409" class="Function">ğ•ğ•‹</a> <a id="13793" class="Symbol">(</a><a id="13794" href="Games.OptimalPlays.html#7778" class="Function">Îµtâº</a> <a id="13798" class="Symbol">(</a><a id="13799" href="Games.OptimalPlays.html#13536" class="Bound">Xf</a> <a id="13802" href="Games.OptimalPlays.html#13772" class="Bound">x</a><a id="13803" class="Symbol">)</a> <a id="13805" class="Symbol">(</a><a id="13806" href="Games.OptimalPlays.html#13602" class="Bound">lf</a> <a id="13809" href="Games.OptimalPlays.html#13772" class="Bound">x</a><a id="13810" class="Symbol">)</a> <a id="13812" class="Symbol">(</a><a id="13813" href="Games.OptimalPlays.html#13549" class="Bound">Ï•f</a> <a id="13816" href="Games.OptimalPlays.html#13772" class="Bound">x</a><a id="13817" class="Symbol">)</a> <a id="13819" class="Symbol">(</a><a id="13820" href="Games.OptimalPlays.html#13564" class="Bound">Îµf</a> <a id="13823" href="Games.OptimalPlays.html#13772" class="Bound">x</a><a id="13824" class="Symbol">)</a> <a id="13826" class="Symbol">(</a><a id="13827" href="Games.OptimalPlays.html#13577" class="Bound">af</a> <a id="13830" href="Games.OptimalPlays.html#13772" class="Bound">x</a><a id="13831" class="Symbol">))</a>

  <a id="13837" href="Games.OptimalPlays.html#13837" class="Function">t</a> <a id="13839" class="Symbol">:</a> <a id="13841" href="MonadOnTypes.NonEmptyList.html#514" class="Function">Listâº</a> <a id="13847" href="Games.OptimalPlays.html#13532" class="Bound">X</a>
  <a id="13851" href="Games.OptimalPlays.html#13837" class="Function">t</a> <a id="13853" class="Symbol">=</a> <a id="13855" href="MonadOnTypes.J-transf-variation.html#3331" class="Function">Ï„</a> <a id="13857" href="Games.OptimalPlays.html#13702" class="Function">eâº</a> <a id="13860" href="Games.OptimalPlays.html#13735" class="Function">dâº</a> <a id="13863" href="Games.OptimalPlays.html#13553" class="Bound">q</a>

  <a id="13868" href="Games.OptimalPlays.html#13868" class="Function">tf</a> <a id="13871" class="Symbol">:</a> <a id="13873" class="Symbol">(</a><a id="13874" href="Games.OptimalPlays.html#13874" class="Bound">x</a> <a id="13876" class="Symbol">:</a> <a id="13878" href="Games.OptimalPlays.html#13532" class="Bound">X</a><a id="13879" class="Symbol">)</a> <a id="13881" class="Symbol">â†’</a> <a id="13883" href="MonadOnTypes.Monad.html#5068" class="Function">T</a> <a id="13885" class="Symbol">(</a><a id="13886" href="Games.TypeTrees.html#942" class="Function">Path</a> <a id="13891" class="Symbol">(</a><a id="13892" href="Games.OptimalPlays.html#13536" class="Bound">Xf</a> <a id="13895" href="Games.OptimalPlays.html#13874" class="Bound">x</a><a id="13896" class="Symbol">))</a>
  <a id="13901" href="Games.OptimalPlays.html#13868" class="Function">tf</a> <a id="13904" href="Games.OptimalPlays.html#13904" class="Bound">x</a> <a id="13906" class="Symbol">=</a> <a id="13908" href="Games.OptimalPlays.html#13735" class="Function">dâº</a> <a id="13911" href="Games.OptimalPlays.html#13904" class="Bound">x</a> <a id="13913" class="Symbol">(</a><a id="13914" href="Games.TypeTrees.html#1658" class="Function">subpred</a> <a id="13922" href="Games.OptimalPlays.html#13553" class="Bound">q</a> <a id="13924" href="Games.OptimalPlays.html#13904" class="Bound">x</a><a id="13925" class="Symbol">)</a>

  <a id="13930" href="Games.OptimalPlays.html#13930" class="Function">p&#39;</a> <a id="13933" class="Symbol">:</a> <a id="13935" href="Games.OptimalPlays.html#13532" class="Bound">X</a> <a id="13937" class="Symbol">â†’</a> <a id="13939" href="Games.OptimalPlays.html#596" class="Bound">R</a>
  <a id="13943" href="Games.OptimalPlays.html#13930" class="Function">p&#39;</a> <a id="13946" href="Games.OptimalPlays.html#13946" class="Bound">x</a> <a id="13948" class="Symbol">=</a> <a id="13950" href="MonadOnTypes.Monad.html#14835" class="Function">Î±-extáµ€</a> <a id="13957" class="Symbol">(</a><a id="13958" href="Games.TypeTrees.html#1658" class="Function">subpred</a> <a id="13966" href="Games.OptimalPlays.html#13553" class="Bound">q</a> <a id="13968" href="Games.OptimalPlays.html#13946" class="Bound">x</a><a id="13969" class="Symbol">)</a> <a id="13971" class="Symbol">(</a><a id="13972" href="Games.OptimalPlays.html#13868" class="Function">tf</a> <a id="13975" href="Games.OptimalPlays.html#13946" class="Bound">x</a><a id="13976" class="Symbol">)</a>

  <a id="13981" href="Games.OptimalPlays.html#13981" class="Function">IH</a> <a id="13984" class="Symbol">:</a> <a id="13986" href="MLTT.List.html#3417" class="Datatype">member</a> <a id="13993" href="Games.OptimalPlays.html#13612" class="Bound">xs</a> <a id="13996" class="Symbol">(</a><a id="13997" href="Notation.CanonicalMap.html#359" class="Field">Î¹</a> <a id="13999" class="Symbol">(</a><a id="14000" href="Games.OptimalPlays.html#13868" class="Function">tf</a> <a id="14003" href="Games.OptimalPlays.html#13607" class="Bound">x</a><a id="14004" class="Symbol">))</a>
  <a id="14009" href="Games.OptimalPlays.html#13981" class="Function">IH</a> <a id="14012" class="Symbol">=</a> <a id="14014" href="Games.OptimalPlays.html#13151" class="Function">main-lemmaâ†</a> <a id="14026" class="Symbol">(</a><a id="14027" href="Games.OptimalPlays.html#13536" class="Bound">Xf</a> <a id="14030" href="Games.OptimalPlays.html#13607" class="Bound">x</a><a id="14031" class="Symbol">)</a> <a id="14033" class="Symbol">(</a><a id="14034" href="Games.OptimalPlays.html#13549" class="Bound">Ï•f</a> <a id="14037" href="Games.OptimalPlays.html#13607" class="Bound">x</a><a id="14038" class="Symbol">)</a> <a id="14040" class="Symbol">(</a><a id="14041" href="Games.TypeTrees.html#1658" class="Function">subpred</a> <a id="14049" href="Games.OptimalPlays.html#13553" class="Bound">q</a> <a id="14051" href="Games.OptimalPlays.html#13607" class="Bound">x</a><a id="14052" class="Symbol">)</a> <a id="14054" class="Symbol">(</a><a id="14055" href="Games.OptimalPlays.html#13564" class="Bound">Îµf</a> <a id="14058" href="Games.OptimalPlays.html#13607" class="Bound">x</a><a id="14059" class="Symbol">)</a> <a id="14061" class="Symbol">(</a><a id="14062" href="Games.OptimalPlays.html#13577" class="Bound">af</a> <a id="14065" href="Games.OptimalPlays.html#13607" class="Bound">x</a><a id="14066" class="Symbol">)</a> <a id="14068" class="Symbol">(</a><a id="14069" href="Games.OptimalPlays.html#13602" class="Bound">lf</a> <a id="14072" href="Games.OptimalPlays.html#13607" class="Bound">x</a><a id="14073" class="Symbol">)</a> <a id="14075" href="Games.OptimalPlays.html#13612" class="Bound">xs</a> <a id="14078" href="Games.OptimalPlays.html#13622" class="Bound">op</a>

  <a id="14084" href="Games.OptimalPlays.html#14084" class="Function">I</a> <a id="14086" class="Symbol">:</a> <a id="14088" href="Games.OptimalPlays.html#13640" class="Function">p</a> <a id="14090" href="MLTT.Id.html#193" class="Datatype Operator">ï¼</a> <a id="14092" href="Games.OptimalPlays.html#13930" class="Function">p&#39;</a>
  <a id="14097" href="Games.OptimalPlays.html#14084" class="Function">I</a> <a id="14099" class="Symbol">=</a> <a id="14101" href="UF.FunExt.html#1242" class="Function">dfunext</a> <a id="14109" href="Games.OptimalPlays.html#573" class="Bound">fe</a>
       <a id="14119" class="Symbol">(Î»</a> <a id="14122" href="Games.OptimalPlays.html#14122" class="Bound">x</a> <a id="14124" class="Symbol">â†’</a> <a id="14126" class="Symbol">(</a><a id="14127" href="Games.OptimalPlays.html#9407" class="Function">JT-in-terms-of-K</a> <a id="14144" class="Symbol">(</a><a id="14145" href="Games.OptimalPlays.html#13536" class="Bound">Xf</a> <a id="14148" href="Games.OptimalPlays.html#14122" class="Bound">x</a><a id="14149" class="Symbol">)</a> <a id="14151" class="Symbol">(</a><a id="14152" href="Games.OptimalPlays.html#13549" class="Bound">Ï•f</a> <a id="14155" href="Games.OptimalPlays.html#14122" class="Bound">x</a><a id="14156" class="Symbol">)</a> <a id="14158" class="Symbol">(</a><a id="14159" href="Games.TypeTrees.html#1658" class="Function">subpred</a> <a id="14167" href="Games.OptimalPlays.html#13553" class="Bound">q</a> <a id="14169" href="Games.OptimalPlays.html#14122" class="Bound">x</a><a id="14170" class="Symbol">)</a> <a id="14172" class="Symbol">(</a><a id="14173" href="Games.OptimalPlays.html#13564" class="Bound">Îµf</a> <a id="14176" href="Games.OptimalPlays.html#14122" class="Bound">x</a><a id="14177" class="Symbol">)</a> <a id="14179" class="Symbol">(</a><a id="14180" href="Games.OptimalPlays.html#13577" class="Bound">af</a> <a id="14183" href="Games.OptimalPlays.html#14122" class="Bound">x</a><a id="14184" class="Symbol">)</a> <a id="14186" class="Symbol">(</a><a id="14187" href="Games.OptimalPlays.html#13602" class="Bound">lf</a> <a id="14190" href="Games.OptimalPlays.html#14122" class="Bound">x</a><a id="14191" class="Symbol">))</a><a id="14193" href="MLTT.Id.html#1055" class="Function Operator">â»Â¹</a><a id="14195" class="Symbol">)</a>

  <a id="14200" href="Games.OptimalPlays.html#14200" class="Function">II</a> <a id="14203" class="Symbol">:</a> <a id="14205" href="Games.OptimalPlays.html#13930" class="Function">p&#39;</a> <a id="14208" href="Games.OptimalPlays.html#13607" class="Bound">x</a> <a id="14210" href="MLTT.Id.html#193" class="Datatype Operator">ï¼</a> <a id="14212" href="Games.OptimalPlays.html#13544" class="Bound">Ï•</a> <a id="14214" href="Games.OptimalPlays.html#13930" class="Function">p&#39;</a>
  <a id="14219" href="Games.OptimalPlays.html#14200" class="Function">II</a> <a id="14222" class="Symbol">=</a> <a id="14224" href="MLTT.Id.html#735" class="Function">transport</a> <a id="14234" class="Symbol">(Î»</a> <a id="14237" href="Games.OptimalPlays.html#14237" class="Bound">-</a> <a id="14239" class="Symbol">â†’</a> <a id="14241" href="Games.OptimalPlays.html#14237" class="Bound">-</a> <a id="14243" href="Games.OptimalPlays.html#13607" class="Bound">x</a> <a id="14245" href="MLTT.Id.html#193" class="Datatype Operator">ï¼</a> <a id="14247" href="Games.OptimalPlays.html#13544" class="Bound">Ï•</a> <a id="14249" href="Games.OptimalPlays.html#14237" class="Bound">-</a><a id="14250" class="Symbol">)</a> <a id="14252" href="Games.OptimalPlays.html#14084" class="Function">I</a> <a id="14254" class="Symbol">(</a><a id="14255" href="Games.OptimalPlays.html#13617" class="Bound">om</a> <a id="14258" href="MLTT.Id.html#1055" class="Function Operator">â»Â¹</a><a id="14260" class="Symbol">)</a>

  <a id="14265" href="Games.OptimalPlays.html#14265" class="Function">III</a> <a id="14269" class="Symbol">:</a> <a id="14271" href="MLTT.List.html#3417" class="Datatype">member</a> <a id="14278" href="Games.OptimalPlays.html#13607" class="Bound">x</a> <a id="14280" class="Symbol">(</a><a id="14281" href="Notation.CanonicalMap.html#359" class="Field">Î¹</a> <a id="14283" href="Games.OptimalPlays.html#13837" class="Function">t</a><a id="14284" class="Symbol">)</a>
  <a id="14288" href="Games.OptimalPlays.html#14265" class="Function">III</a> <a id="14292" class="Symbol">=</a> <a id="14294" href="Games.OptimalPlays.html#7118" class="Function">Îµá´¸-propertyâ†</a> <a id="14307" href="Games.OptimalPlays.html#13532" class="Bound">X</a> <a id="14309" href="Games.OptimalPlays.html#13597" class="Bound">l</a> <a id="14311" href="Games.OptimalPlays.html#13544" class="Bound">Ï•</a> <a id="14313" href="Games.OptimalPlays.html#13930" class="Function">p&#39;</a> <a id="14316" href="Games.OptimalPlays.html#13607" class="Bound">x</a> <a id="14318" href="Games.OptimalPlays.html#14200" class="Function">II</a>

  <a id="14324" href="Games.OptimalPlays.html#14324" class="Function">IV</a> <a id="14327" class="Symbol">:</a> <a id="14329" href="MLTT.List.html#3417" class="Datatype">member</a> <a id="14336" class="Symbol">(</a><a id="14337" href="Games.OptimalPlays.html#13607" class="Bound">x</a> <a id="14339" href="Games.TypeTrees.html#1332" class="InductiveConstructor Operator">::</a> <a id="14342" href="Games.OptimalPlays.html#13612" class="Bound">xs</a><a id="14344" class="Symbol">)</a> <a id="14346" class="Symbol">(</a><a id="14347" href="Notation.CanonicalMap.html#359" class="Field">Î¹</a> <a id="14349" class="Symbol">(</a><a id="14350" href="Games.OptimalPlays.html#13837" class="Function">t</a> <a id="14352" href="MonadOnTypes.NonEmptyList.html#2347" class="Function Operator">âŠ—á´¸âº</a> <a id="14356" href="Games.OptimalPlays.html#13868" class="Function">tf</a><a id="14358" class="Symbol">))</a>
  <a id="14363" href="Games.OptimalPlays.html#14324" class="Function">IV</a> <a id="14366" class="Symbol">=</a> <a id="14368" href="MonadOnTypes.NonEmptyList.html#7325" class="Function">join-membership</a> <a id="14384" href="Games.OptimalPlays.html#573" class="Bound">fe</a> <a id="14387" href="Games.OptimalPlays.html#13607" class="Bound">x</a> <a id="14389" href="Games.OptimalPlays.html#13612" class="Bound">xs</a> <a id="14392" href="Games.OptimalPlays.html#13837" class="Function">t</a> <a id="14394" href="Games.OptimalPlays.html#13868" class="Function">tf</a> <a id="14397" class="Symbol">(</a><a id="14398" href="Games.OptimalPlays.html#14265" class="Function">III</a> <a id="14402" href="MLTT.Sigma.html#395" class="InductiveConstructor Operator">,</a> <a id="14404" href="Games.OptimalPlays.html#13981" class="Function">IH</a><a id="14406" class="Symbol">)</a>

  <a id="14411" href="Games.OptimalPlays.html#14411" class="Function">V</a> <a id="14413" class="Symbol">:</a> <a id="14415" href="Notation.CanonicalMap.html#359" class="Field">Î¹</a> <a id="14417" class="Symbol">(</a><a id="14418" href="Games.OptimalPlays.html#13837" class="Function">t</a> <a id="14420" href="MonadOnTypes.NonEmptyList.html#2347" class="Function Operator">âŠ—á´¸âº</a> <a id="14424" href="Games.OptimalPlays.html#13868" class="Function">tf</a><a id="14426" class="Symbol">)</a> <a id="14428" href="MLTT.Id.html#193" class="Datatype Operator">ï¼</a> <a id="14430" href="Notation.CanonicalMap.html#359" class="Field">Î¹</a> <a id="14432" class="Symbol">(</a><a id="14433" href="Games.TypeTrees.html#3825" class="Function">path-sequence</a> <a id="14447" href="MonadOnTypes.J-transf-variation.html#2409" class="Function">ğ•ğ•‹</a> <a id="14450" class="Symbol">(</a><a id="14451" href="Games.OptimalPlays.html#7778" class="Function">Îµtâº</a> <a id="14455" href="Games.OptimalPlays.html#13528" class="Bound">Xt</a> <a id="14458" href="Games.OptimalPlays.html#13593" class="Bound">lt</a> <a id="14461" href="Games.OptimalPlays.html#13540" class="Bound">Ï•t</a> <a id="14464" href="Games.OptimalPlays.html#13555" class="Bound">Îµt</a> <a id="14467" href="Games.OptimalPlays.html#13568" class="Bound">at</a><a id="14469" class="Symbol">)</a> <a id="14471" href="Games.OptimalPlays.html#13553" class="Bound">q</a><a id="14472" class="Symbol">)</a>
  <a id="14476" href="Games.OptimalPlays.html#14411" class="Function">V</a> <a id="14478" class="Symbol">=</a> <a id="14480" class="Symbol">(</a><a id="14481" href="MLTT.Id.html#1136" class="Function">ap</a> <a id="14484" href="Notation.CanonicalMap.html#359" class="Field">Î¹</a> <a id="14486" class="Symbol">(</a><a id="14487" href="MonadOnTypes.J-transf-variation.html#4839" class="Function">âŠ—á´¶áµ€-in-terms-of-âŠ—áµ€</a> <a id="14506" href="Games.OptimalPlays.html#13702" class="Function">eâº</a> <a id="14509" href="Games.OptimalPlays.html#13735" class="Function">dâº</a> <a id="14512" href="Games.OptimalPlays.html#13553" class="Bound">q</a> <a id="14514" href="Games.OptimalPlays.html#573" class="Bound">fe</a><a id="14516" class="Symbol">))</a><a id="14518" href="MLTT.Id.html#1055" class="Function Operator">â»Â¹</a>

  <a id="14524" href="Games.OptimalPlays.html#14524" class="Function">VI</a> <a id="14527" class="Symbol">:</a> <a id="14529" href="MLTT.List.html#3417" class="Datatype">member</a> <a id="14536" class="Symbol">(</a><a id="14537" href="Games.OptimalPlays.html#13607" class="Bound">x</a> <a id="14539" href="Games.TypeTrees.html#1332" class="InductiveConstructor Operator">::</a> <a id="14542" href="Games.OptimalPlays.html#13612" class="Bound">xs</a><a id="14544" class="Symbol">)</a> <a id="14546" class="Symbol">(</a><a id="14547" href="Notation.CanonicalMap.html#359" class="Field">Î¹</a> <a id="14549" class="Symbol">(</a><a id="14550" href="Games.TypeTrees.html#3825" class="Function">path-sequence</a> <a id="14564" href="MonadOnTypes.J-transf-variation.html#2409" class="Function">ğ•ğ•‹</a> <a id="14567" class="Symbol">(</a><a id="14568" href="Games.OptimalPlays.html#7778" class="Function">Îµtâº</a> <a id="14572" href="Games.OptimalPlays.html#13528" class="Bound">Xt</a> <a id="14575" href="Games.OptimalPlays.html#13593" class="Bound">lt</a> <a id="14578" href="Games.OptimalPlays.html#13540" class="Bound">Ï•t</a> <a id="14581" href="Games.OptimalPlays.html#13555" class="Bound">Îµt</a> <a id="14584" href="Games.OptimalPlays.html#13568" class="Bound">at</a><a id="14586" class="Symbol">)</a> <a id="14588" href="Games.OptimalPlays.html#13553" class="Bound">q</a><a id="14589" class="Symbol">))</a>
  <a id="14594" href="Games.OptimalPlays.html#14524" class="Function">VI</a> <a id="14597" class="Symbol">=</a> <a id="14599" href="MLTT.Id.html#735" class="Function">transport</a> <a id="14609" class="Symbol">(</a><a id="14610" href="MLTT.List.html#3417" class="Datatype">member</a> <a id="14617" class="Symbol">(</a><a id="14618" href="Games.OptimalPlays.html#13607" class="Bound">x</a> <a id="14620" href="Games.TypeTrees.html#1332" class="InductiveConstructor Operator">::</a> <a id="14623" href="Games.OptimalPlays.html#13612" class="Bound">xs</a><a id="14625" class="Symbol">))</a> <a id="14628" href="Games.OptimalPlays.html#14411" class="Function">V</a> <a id="14630" href="Games.OptimalPlays.html#14324" class="Function">IV</a>

<a id="14634" class="Markup">\end{code}</a><a id="14644" class="Background">

To conclude, we package the above with a game as a parameter, where
the types of moves are listed, and where we are given attaining
selection functions for the quantifiers.

</a><a id="14820" class="Markup">\begin{code}</a>

<a id="14834" class="Keyword">module</a> <a id="14841" href="Games.OptimalPlays.html#14841" class="Module">_</a> <a id="14843" class="Symbol">(</a><a id="14844" href="Games.OptimalPlays.html#14844" class="Bound">G</a><a id="14845" class="Symbol">@(</a><a id="14847" href="Games.FiniteHistoryDependent.html#3164" class="InductiveConstructor">game</a> <a id="14852" href="Games.OptimalPlays.html#14852" class="Bound">Xt</a> <a id="14855" href="Games.OptimalPlays.html#14855" class="Bound">q</a> <a id="14857" href="Games.OptimalPlays.html#14857" class="Bound">Ï•t</a><a id="14859" class="Symbol">)</a> <a id="14861" class="Symbol">:</a> <a id="14863" href="Games.FiniteHistoryDependent.html#3132" class="Record">Game</a><a id="14867" class="Symbol">)</a>
         <a id="14878" class="Symbol">(</a><a id="14879" href="Games.OptimalPlays.html#14879" class="Bound">Xt-is-listedâº</a> <a id="14893" class="Symbol">:</a> <a id="14895" href="Games.TypeTrees.html#2156" class="Function">structure</a> <a id="14905" href="MLTT.List.html#6746" class="Function">listedâº</a> <a id="14913" href="Games.OptimalPlays.html#14852" class="Bound">Xt</a><a id="14915" class="Symbol">)</a>
         <a id="14926" class="Symbol">(</a><a id="14927" href="Games.OptimalPlays.html#14927" class="Bound">Îµt</a> <a id="14930" class="Symbol">:</a> <a id="14932" href="Games.FiniteHistoryDependent.html#8970" class="Function">ğ“™</a> <a id="14934" href="Games.OptimalPlays.html#14852" class="Bound">Xt</a><a id="14936" class="Symbol">)</a>
         <a id="14947" class="Symbol">(</a><a id="14948" href="Games.OptimalPlays.html#14948" class="Bound">Îµt-Attains-Ï•t</a> <a id="14962" class="Symbol">:</a> <a id="14964" href="Games.OptimalPlays.html#14927" class="Bound">Îµt</a> <a id="14967" href="Games.FiniteHistoryDependent.html#10543" class="Function Operator">Attains</a> <a id="14975" href="Games.OptimalPlays.html#14857" class="Bound">Ï•t</a><a id="14977" class="Symbol">)</a>
       <a id="14986" class="Keyword">where</a>

 <a id="14994" href="Games.OptimalPlays.html#14994" class="Function">optimal-plays</a> <a id="15008" class="Symbol">:</a> <a id="15010" href="MonadOnTypes.NonEmptyList.html#514" class="Function">Listâº</a> <a id="15016" class="Symbol">(</a><a id="15017" href="Games.TypeTrees.html#942" class="Function">Path</a> <a id="15022" href="Games.OptimalPlays.html#14852" class="Bound">Xt</a><a id="15024" class="Symbol">)</a>
 <a id="15027" href="Games.OptimalPlays.html#14994" class="Function">optimal-plays</a> <a id="15041" class="Symbol">=</a> <a id="15043" href="Games.TypeTrees.html#3825" class="Function">path-sequence</a> <a id="15057" href="MonadOnTypes.J-transf-variation.html#2409" class="Function">ğ•ğ•‹</a> <a id="15060" class="Symbol">(</a><a id="15061" href="Games.OptimalPlays.html#7778" class="Function">Îµtâº</a> <a id="15065" href="Games.OptimalPlays.html#14852" class="Bound">Xt</a> <a id="15068" href="Games.OptimalPlays.html#14879" class="Bound">Xt-is-listedâº</a> <a id="15082" href="Games.OptimalPlays.html#14857" class="Bound">Ï•t</a> <a id="15085" href="Games.OptimalPlays.html#14927" class="Bound">Îµt</a> <a id="15088" href="Games.OptimalPlays.html#14948" class="Bound">Îµt-Attains-Ï•t</a><a id="15101" class="Symbol">)</a> <a id="15103" href="Games.OptimalPlays.html#14855" class="Bound">q</a>

 <a id="15107" href="Games.OptimalPlays.html#15107" class="Function">Theoremâ†’</a> <a id="15116" class="Symbol">:</a> <a id="15118" class="Symbol">(</a><a id="15119" href="Games.OptimalPlays.html#15119" class="Bound">xs</a> <a id="15122" class="Symbol">:</a> <a id="15124" href="Games.TypeTrees.html#942" class="Function">Path</a> <a id="15129" href="Games.OptimalPlays.html#14852" class="Bound">Xt</a><a id="15131" class="Symbol">)</a> <a id="15133" class="Symbol">â†’</a> <a id="15135" href="MLTT.List.html#3417" class="Datatype">member</a> <a id="15142" href="Games.OptimalPlays.html#15119" class="Bound">xs</a> <a id="15145" class="Symbol">(</a><a id="15146" href="Notation.CanonicalMap.html#359" class="Field">Î¹</a> <a id="15148" href="Games.OptimalPlays.html#14994" class="Function">optimal-plays</a><a id="15161" class="Symbol">)</a> <a id="15163" class="Symbol">â†’</a> <a id="15165" href="Games.OptimalPlays.html#1548" class="Function">is-optimal-play</a> <a id="15181" href="Games.OptimalPlays.html#14857" class="Bound">Ï•t</a> <a id="15184" href="Games.OptimalPlays.html#14855" class="Bound">q</a> <a id="15186" href="Games.OptimalPlays.html#15119" class="Bound">xs</a>
 <a id="15190" href="Games.OptimalPlays.html#15107" class="Function">Theoremâ†’</a> <a id="15199" class="Symbol">=</a> <a id="15201" href="Games.OptimalPlays.html#11162" class="Function">main-lemmaâ†’</a> <a id="15213" href="Games.OptimalPlays.html#14852" class="Bound">Xt</a> <a id="15216" href="Games.OptimalPlays.html#14857" class="Bound">Ï•t</a> <a id="15219" href="Games.OptimalPlays.html#14855" class="Bound">q</a> <a id="15221" href="Games.OptimalPlays.html#14927" class="Bound">Îµt</a> <a id="15224" href="Games.OptimalPlays.html#14948" class="Bound">Îµt-Attains-Ï•t</a> <a id="15238" href="Games.OptimalPlays.html#14879" class="Bound">Xt-is-listedâº</a>

 <a id="15254" href="Games.OptimalPlays.html#15254" class="Function">Theoremâ†</a> <a id="15263" class="Symbol">:</a> <a id="15265" class="Symbol">(</a><a id="15266" href="Games.OptimalPlays.html#15266" class="Bound">xs</a> <a id="15269" class="Symbol">:</a> <a id="15271" href="Games.TypeTrees.html#942" class="Function">Path</a> <a id="15276" href="Games.OptimalPlays.html#14852" class="Bound">Xt</a><a id="15278" class="Symbol">)</a> <a id="15280" class="Symbol">â†’</a> <a id="15282" href="Games.OptimalPlays.html#1548" class="Function">is-optimal-play</a> <a id="15298" href="Games.OptimalPlays.html#14857" class="Bound">Ï•t</a> <a id="15301" href="Games.OptimalPlays.html#14855" class="Bound">q</a> <a id="15303" href="Games.OptimalPlays.html#15266" class="Bound">xs</a> <a id="15306" class="Symbol">â†’</a> <a id="15308" href="MLTT.List.html#3417" class="Datatype">member</a> <a id="15315" href="Games.OptimalPlays.html#15266" class="Bound">xs</a> <a id="15318" class="Symbol">(</a><a id="15319" href="Notation.CanonicalMap.html#359" class="Field">Î¹</a> <a id="15321" href="Games.OptimalPlays.html#14994" class="Function">optimal-plays</a><a id="15334" class="Symbol">)</a>
 <a id="15337" href="Games.OptimalPlays.html#15254" class="Function">Theoremâ†</a> <a id="15346" class="Symbol">=</a> <a id="15348" href="Games.OptimalPlays.html#13151" class="Function">main-lemmaâ†</a> <a id="15360" href="Games.OptimalPlays.html#14852" class="Bound">Xt</a> <a id="15363" href="Games.OptimalPlays.html#14857" class="Bound">Ï•t</a> <a id="15366" href="Games.OptimalPlays.html#14855" class="Bound">q</a> <a id="15368" href="Games.OptimalPlays.html#14927" class="Bound">Îµt</a> <a id="15371" href="Games.OptimalPlays.html#14948" class="Bound">Îµt-Attains-Ï•t</a> <a id="15385" href="Games.OptimalPlays.html#14879" class="Bound">Xt-is-listedâº</a>

<a id="15400" class="Markup">\end{code}</a><a id="15410" class="Background">

This concludes what we wished to construct and prove.

Remark. The assumption Xt-is-listedâº implies that the type R of
outcomes has at least one element.

</a><a id="15567" class="Markup">\begin{code}</a>

 <a id="15582" href="Games.OptimalPlays.html#15582" class="Function">râ‚€</a> <a id="15585" class="Symbol">:</a> <a id="15587" href="Games.OptimalPlays.html#596" class="Bound">R</a>
 <a id="15590" href="Games.OptimalPlays.html#15582" class="Function">râ‚€</a> <a id="15593" class="Symbol">=</a> <a id="15595" href="Games.OptimalPlays.html#14855" class="Bound">q</a> <a id="15597" class="Symbol">(</a><a id="15598" href="MonadOnTypes.NonEmptyList.html#665" class="Function">headâº</a> <a id="15604" href="Games.OptimalPlays.html#14994" class="Function">optimal-plays</a><a id="15617" class="Symbol">)</a>

<a id="15620" class="Markup">\end{code}</a><a id="15630" class="Background">

In a previous version of this file, we instead assumed râ‚€ : R, and we
worked with &quot;listed&quot; instead of &quot;listedâº&quot;, but the listings were
automatically non-empty.

Added 24th September 2025.

</a><a id="15821" class="Markup">\begin{code}</a>

<a id="quantifiers-over-empty-types-are-not-attainable"></a><a id="15835" href="Games.OptimalPlays.html#15835" class="Function">quantifiers-over-empty-types-are-not-attainable</a>
 <a id="15884" class="Symbol">:</a> <a id="15886" class="Symbol">{</a><a id="15887" href="Games.OptimalPlays.html#15887" class="Bound">X</a> <a id="15889" class="Symbol">:</a> <a id="15891" href="Notation.General.html#372" class="Function">Type</a><a id="15895" class="Symbol">}</a>
 <a id="15898" class="Symbol">â†’</a> <a id="15900" href="MLTT.Negation.html#1004" class="Function">is-empty</a> <a id="15909" href="Games.OptimalPlays.html#15887" class="Bound">X</a>
 <a id="15912" class="Symbol">â†’</a> <a id="15914" class="Symbol">(</a><a id="15915" href="Games.OptimalPlays.html#15915" class="Bound">Ï•</a> <a id="15917" class="Symbol">:</a> <a id="15919" href="MonadOnTypes.K.html#471" class="Function">K</a> <a id="15921" href="Games.OptimalPlays.html#15887" class="Bound">X</a><a id="15922" class="Symbol">)</a>
 <a id="15925" class="Symbol">â†’</a> <a id="15927" href="MLTT.Negation.html#278" class="Function Operator">Â¬</a> <a id="15929" href="MonadOnTypes.JK.html#629" class="Function">is-attainable</a> <a id="15943" href="Games.OptimalPlays.html#15915" class="Bound">Ï•</a>
<a id="15945" href="Games.OptimalPlays.html#15835" class="Function">quantifiers-over-empty-types-are-not-attainable</a> <a id="15993" href="Games.OptimalPlays.html#15993" class="Bound">e</a> <a id="15995" href="Games.OptimalPlays.html#15995" class="Bound">Ï•</a> <a id="15997" class="Symbol">(</a><a id="15998" href="Games.OptimalPlays.html#15998" class="Bound">Îµ</a> <a id="16000" href="MLTT.Sigma.html#395" class="InductiveConstructor Operator">,</a> <a id="16002" href="Games.OptimalPlays.html#16002" class="Bound">a</a><a id="16003" class="Symbol">)</a>
 <a id="16006" class="Symbol">=</a> <a id="16008" href="Games.OptimalPlays.html#15993" class="Bound">e</a> <a id="16010" class="Symbol">(</a><a id="16011" href="Games.OptimalPlays.html#15998" class="Bound">Îµ</a> <a id="16013" class="Symbol">(</a><a id="16014" href="MLTT.Empty.html#288" class="Function">unique-from-ğŸ˜</a> <a id="16028" href="MLTT.Pi.html#513" class="Function Operator">âˆ˜</a> <a id="16030" href="Games.OptimalPlays.html#15993" class="Bound">e</a><a id="16031" class="Symbol">))</a>

<a id="16035" class="Markup">\end{code}</a><a id="16045" class="Background">

Added 17th September. We calculate the subtree of the game tree whose
paths are precisely the optimal plays of the original game.

</a><a id="16178" class="Markup">\begin{code}</a>

<a id="prune"></a><a id="16192" href="Games.OptimalPlays.html#16192" class="Function">prune</a> <a id="16198" class="Symbol">:</a> <a id="16200" class="Symbol">(</a><a id="16201" href="Games.OptimalPlays.html#16201" class="Bound">Xt</a> <a id="16204" class="Symbol">:</a> <a id="16206" href="Games.TypeTrees.html#755" class="Datatype">ğ‘»</a><a id="16207" class="Symbol">)</a>
        <a id="16217" class="Symbol">(</a><a id="16218" href="Games.OptimalPlays.html#16218" class="Bound">q</a> <a id="16220" class="Symbol">:</a> <a id="16222" href="Games.TypeTrees.html#942" class="Function">Path</a> <a id="16227" href="Games.OptimalPlays.html#16201" class="Bound">Xt</a> <a id="16230" class="Symbol">â†’</a> <a id="16232" href="Games.OptimalPlays.html#596" class="Bound">R</a><a id="16233" class="Symbol">)</a>
        <a id="16243" class="Symbol">(</a><a id="16244" href="Games.OptimalPlays.html#16244" class="Bound">Ï•t</a> <a id="16247" class="Symbol">:</a> <a id="16249" href="Games.FiniteHistoryDependent.html#2364" class="Function">ğ“š</a> <a id="16251" href="Games.OptimalPlays.html#16201" class="Bound">Xt</a><a id="16253" class="Symbol">)</a>
      <a id="16261" class="Symbol">â†’</a> <a id="16263" href="Games.TypeTrees.html#755" class="Datatype">ğ‘»</a>
<a id="16265" href="Games.OptimalPlays.html#16192" class="Function">prune</a> <a id="16271" href="Games.TypeTrees.html#773" class="InductiveConstructor">[]</a> <a id="16274" href="Games.OptimalPlays.html#16274" class="Bound">q</a> <a id="16276" href="Games.TypeTrees.html#1310" class="InductiveConstructor">âŸ¨âŸ©</a> <a id="16279" class="Symbol">=</a> <a id="16281" href="Games.TypeTrees.html#773" class="InductiveConstructor">[]</a>
<a id="16284" href="Games.OptimalPlays.html#16192" class="Function">prune</a> <a id="16290" class="Symbol">(</a><a id="16291" href="Games.OptimalPlays.html#16291" class="Bound">X</a> <a id="16293" href="Games.TypeTrees.html#783" class="InductiveConstructor Operator">âˆ·</a> <a id="16295" href="Games.OptimalPlays.html#16295" class="Bound">Xf</a><a id="16297" class="Symbol">)</a> <a id="16299" href="Games.OptimalPlays.html#16299" class="Bound">q</a> <a id="16301" class="Symbol">(</a><a id="16302" href="Games.OptimalPlays.html#16302" class="Bound">Ï•</a> <a id="16304" href="Games.TypeTrees.html#1332" class="InductiveConstructor Operator">::</a> <a id="16307" href="Games.OptimalPlays.html#16307" class="Bound">Ï•f</a><a id="16309" class="Symbol">)</a> <a id="16311" class="Symbol">=</a> <a id="16313" class="Symbol">(</a><a id="16314" href="MLTT.Sigma.html#423" class="Function">Î£</a> <a id="16316" href="Games.OptimalPlays.html#16316" class="Bound">x</a> <a id="16318" href="MLTT.Sigma.html#423" class="Function">ê‰</a> <a id="16320" href="Games.OptimalPlays.html#16291" class="Bound">X</a> <a id="16322" href="MLTT.Sigma.html#423" class="Function">,</a> <a id="16324" href="Games.OptimalPlays.html#1185" class="Function">is-optimal-move</a> <a id="16340" href="Games.OptimalPlays.html#16299" class="Bound">q</a> <a id="16342" href="Games.OptimalPlays.html#16302" class="Bound">Ï•</a> <a id="16344" href="Games.OptimalPlays.html#16307" class="Bound">Ï•f</a> <a id="16347" href="Games.OptimalPlays.html#16316" class="Bound">x</a><a id="16348" class="Symbol">)</a>
                           <a id="16377" href="Games.TypeTrees.html#783" class="InductiveConstructor Operator">âˆ·</a> <a id="16379" class="Symbol">(Î»</a> <a id="16382" class="Symbol">(</a><a id="16383" href="Games.OptimalPlays.html#16383" class="Bound">x</a> <a id="16385" href="MLTT.Sigma.html#395" class="InductiveConstructor Operator">,</a> <a id="16387" href="Games.OptimalPlays.html#16387" class="Bound">o</a><a id="16388" class="Symbol">)</a> <a id="16390" class="Symbol">â†’</a> <a id="16392" href="Games.OptimalPlays.html#16192" class="Function">prune</a> <a id="16398" class="Symbol">(</a><a id="16399" href="Games.OptimalPlays.html#16295" class="Bound">Xf</a> <a id="16402" href="Games.OptimalPlays.html#16383" class="Bound">x</a><a id="16403" class="Symbol">)</a> <a id="16405" class="Symbol">(</a><a id="16406" href="Games.TypeTrees.html#1658" class="Function">subpred</a> <a id="16414" href="Games.OptimalPlays.html#16299" class="Bound">q</a> <a id="16416" href="Games.OptimalPlays.html#16383" class="Bound">x</a><a id="16417" class="Symbol">)</a> <a id="16419" class="Symbol">(</a><a id="16420" href="Games.OptimalPlays.html#16307" class="Bound">Ï•f</a> <a id="16423" href="Games.OptimalPlays.html#16383" class="Bound">x</a><a id="16424" class="Symbol">))</a>
<a id="16427" class="Markup">\end{code}</a><a id="16437" class="Background">

Notice that it may happen that the pruned tree is non-empty, but all
the nodes in the tree are empty types of moves. So we can&#39;t use the
pruned tree to decide whether or not there is an optimal
play. However, if we further assume that the types of moves in the
original tree are listed, we can decide this, and, moreover, get the
list of all optimal plays from the pruned tree *without* assuming that
the quantifiers are attainable (as we did above).

Each path in the pruned tree is a path in the original tree.

</a><a id="16953" class="Markup">\begin{code}</a>

<a id="inclusion"></a><a id="16967" href="Games.OptimalPlays.html#16967" class="Function">inclusion</a> <a id="16977" class="Symbol">:</a> <a id="16979" class="Symbol">{</a><a id="16980" href="Games.OptimalPlays.html#16980" class="Bound">Xt</a> <a id="16983" class="Symbol">:</a> <a id="16985" href="Games.TypeTrees.html#755" class="Datatype">ğ‘»</a><a id="16986" class="Symbol">}</a>
            <a id="17000" class="Symbol">(</a><a id="17001" href="Games.OptimalPlays.html#17001" class="Bound">Ï•t</a> <a id="17004" class="Symbol">:</a> <a id="17006" href="Games.FiniteHistoryDependent.html#2364" class="Function">ğ“š</a> <a id="17008" href="Games.OptimalPlays.html#16980" class="Bound">Xt</a><a id="17010" class="Symbol">)</a>
            <a id="17024" class="Symbol">(</a><a id="17025" href="Games.OptimalPlays.html#17025" class="Bound">q</a> <a id="17027" class="Symbol">:</a> <a id="17029" href="Games.TypeTrees.html#942" class="Function">Path</a> <a id="17034" href="Games.OptimalPlays.html#16980" class="Bound">Xt</a> <a id="17037" class="Symbol">â†’</a> <a id="17039" href="Games.OptimalPlays.html#596" class="Bound">R</a><a id="17040" class="Symbol">)</a>
          <a id="17052" class="Symbol">â†’</a> <a id="17054" href="Games.TypeTrees.html#942" class="Function">Path</a> <a id="17059" class="Symbol">(</a><a id="17060" href="Games.OptimalPlays.html#16192" class="Function">prune</a> <a id="17066" href="Games.OptimalPlays.html#16980" class="Bound">Xt</a> <a id="17069" href="Games.OptimalPlays.html#17025" class="Bound">q</a> <a id="17071" href="Games.OptimalPlays.html#17001" class="Bound">Ï•t</a><a id="17073" class="Symbol">)</a>
          <a id="17085" class="Symbol">â†’</a> <a id="17087" href="Games.TypeTrees.html#942" class="Function">Path</a> <a id="17092" href="Games.OptimalPlays.html#16980" class="Bound">Xt</a>
<a id="17095" href="Games.OptimalPlays.html#16967" class="Function">inclusion</a> <a id="17105" class="Symbol">{</a><a id="17106" href="Games.TypeTrees.html#773" class="InductiveConstructor">[]</a><a id="17108" class="Symbol">}</a> <a id="17110" href="Games.TypeTrees.html#1310" class="InductiveConstructor">âŸ¨âŸ©</a> <a id="17113" href="Games.OptimalPlays.html#17113" class="Bound">q</a> <a id="17115" href="Games.TypeTrees.html#1310" class="InductiveConstructor">âŸ¨âŸ©</a> <a id="17118" class="Symbol">=</a> <a id="17120" href="Games.TypeTrees.html#1310" class="InductiveConstructor">âŸ¨âŸ©</a>
<a id="17123" href="Games.OptimalPlays.html#16967" class="Function">inclusion</a> <a id="17133" class="Symbol">{</a><a id="17134" href="Games.OptimalPlays.html#17134" class="Bound">X</a> <a id="17136" href="Games.TypeTrees.html#783" class="InductiveConstructor Operator">âˆ·</a> <a id="17138" href="Games.OptimalPlays.html#17138" class="Bound">Xf</a><a id="17140" class="Symbol">}</a> <a id="17142" class="Symbol">(</a><a id="17143" href="Games.OptimalPlays.html#17143" class="Bound">Ï•</a> <a id="17145" href="Games.TypeTrees.html#1332" class="InductiveConstructor Operator">::</a> <a id="17148" href="Games.OptimalPlays.html#17148" class="Bound">Ï•f</a><a id="17150" class="Symbol">)</a> <a id="17152" href="Games.OptimalPlays.html#17152" class="Bound">q</a> <a id="17154" class="Symbol">((</a><a id="17156" href="Games.OptimalPlays.html#17156" class="Bound">x</a> <a id="17158" href="MLTT.Sigma.html#395" class="InductiveConstructor Operator">,</a> <a id="17160" class="Symbol">_)</a> <a id="17163" href="Games.TypeTrees.html#1332" class="InductiveConstructor Operator">::</a> <a id="17166" href="Games.OptimalPlays.html#17166" class="Bound">xos</a><a id="17169" class="Symbol">)</a>
 <a id="17172" class="Symbol">=</a> <a id="17174" href="Games.OptimalPlays.html#17156" class="Bound">x</a> <a id="17176" href="Games.TypeTrees.html#1332" class="InductiveConstructor Operator">::</a> <a id="17179" href="Games.OptimalPlays.html#16967" class="Function">inclusion</a> <a id="17189" class="Symbol">{</a><a id="17190" href="Games.OptimalPlays.html#17138" class="Bound">Xf</a> <a id="17193" href="Games.OptimalPlays.html#17156" class="Bound">x</a><a id="17194" class="Symbol">}</a> <a id="17196" class="Symbol">(</a><a id="17197" href="Games.OptimalPlays.html#17148" class="Bound">Ï•f</a> <a id="17200" href="Games.OptimalPlays.html#17156" class="Bound">x</a><a id="17201" class="Symbol">)</a> <a id="17203" class="Symbol">(</a><a id="17204" href="Games.TypeTrees.html#1658" class="Function">subpred</a> <a id="17212" href="Games.OptimalPlays.html#17152" class="Bound">q</a> <a id="17214" href="Games.OptimalPlays.html#17156" class="Bound">x</a><a id="17215" class="Symbol">)</a> <a id="17217" href="Games.OptimalPlays.html#17166" class="Bound">xos</a>

<a id="17222" class="Markup">\end{code}</a><a id="17232" class="Background">

The predicate q restricts to a predicate in the pruned tree.

</a><a id="17296" class="Markup">\begin{code}</a>

<a id="restriction"></a><a id="17310" href="Games.OptimalPlays.html#17310" class="Function">restriction</a> <a id="17322" class="Symbol">:</a> <a id="17324" class="Symbol">{</a><a id="17325" href="Games.OptimalPlays.html#17325" class="Bound">Xt</a> <a id="17328" class="Symbol">:</a> <a id="17330" href="Games.TypeTrees.html#755" class="Datatype">ğ‘»</a><a id="17331" class="Symbol">}</a>
              <a id="17347" class="Symbol">(</a><a id="17348" href="Games.OptimalPlays.html#17348" class="Bound">Ï•t</a> <a id="17351" class="Symbol">:</a> <a id="17353" href="Games.FiniteHistoryDependent.html#2364" class="Function">ğ“š</a> <a id="17355" href="Games.OptimalPlays.html#17325" class="Bound">Xt</a><a id="17357" class="Symbol">)</a>
              <a id="17373" class="Symbol">(</a><a id="17374" href="Games.OptimalPlays.html#17374" class="Bound">q</a> <a id="17376" class="Symbol">:</a> <a id="17378" href="Games.TypeTrees.html#942" class="Function">Path</a> <a id="17383" href="Games.OptimalPlays.html#17325" class="Bound">Xt</a> <a id="17386" class="Symbol">â†’</a> <a id="17388" href="Games.OptimalPlays.html#596" class="Bound">R</a><a id="17389" class="Symbol">)</a>
            <a id="17403" class="Symbol">â†’</a> <a id="17405" href="Games.TypeTrees.html#942" class="Function">Path</a> <a id="17410" class="Symbol">(</a><a id="17411" href="Games.OptimalPlays.html#16192" class="Function">prune</a> <a id="17417" href="Games.OptimalPlays.html#17325" class="Bound">Xt</a> <a id="17420" href="Games.OptimalPlays.html#17374" class="Bound">q</a> <a id="17422" href="Games.OptimalPlays.html#17348" class="Bound">Ï•t</a><a id="17424" class="Symbol">)</a> <a id="17426" class="Symbol">â†’</a> <a id="17428" href="Games.OptimalPlays.html#596" class="Bound">R</a>
<a id="17430" href="Games.OptimalPlays.html#17310" class="Function">restriction</a> <a id="17442" href="Games.OptimalPlays.html#17442" class="Bound">Ï•t</a> <a id="17445" href="Games.OptimalPlays.html#17445" class="Bound">q</a> <a id="17447" class="Symbol">=</a> <a id="17449" href="Games.OptimalPlays.html#17445" class="Bound">q</a> <a id="17451" href="MLTT.Pi.html#513" class="Function Operator">âˆ˜</a> <a id="17453" href="Games.OptimalPlays.html#16967" class="Function">inclusion</a> <a id="17463" href="Games.OptimalPlays.html#17442" class="Bound">Ï•t</a> <a id="17466" href="Games.OptimalPlays.html#17445" class="Bound">q</a>

<a id="17469" class="Markup">\end{code}</a><a id="17479" class="Background">

The restriction operation is not very useful, because it gives a
constant predicate with the optimal outcome as its value (see below).

The paths in the pruned tree are precisely the optimals plays in the
original tree.

</a><a id="17702" class="Markup">\begin{code}</a>

<a id="lemmaâ†’"></a><a id="17716" href="Games.OptimalPlays.html#17716" class="Function">lemmaâ†’</a> <a id="17723" class="Symbol">:</a> <a id="17725" class="Symbol">{</a><a id="17726" href="Games.OptimalPlays.html#17726" class="Bound">Xt</a> <a id="17729" class="Symbol">:</a> <a id="17731" href="Games.TypeTrees.html#755" class="Datatype">ğ‘»</a><a id="17732" class="Symbol">}</a>
         <a id="17743" class="Symbol">(</a><a id="17744" href="Games.OptimalPlays.html#17744" class="Bound">q</a> <a id="17746" class="Symbol">:</a> <a id="17748" href="Games.TypeTrees.html#942" class="Function">Path</a> <a id="17753" href="Games.OptimalPlays.html#17726" class="Bound">Xt</a> <a id="17756" class="Symbol">â†’</a> <a id="17758" href="Games.OptimalPlays.html#596" class="Bound">R</a><a id="17759" class="Symbol">)</a>
         <a id="17770" class="Symbol">(</a><a id="17771" href="Games.OptimalPlays.html#17771" class="Bound">Ï•t</a> <a id="17774" class="Symbol">:</a> <a id="17776" href="Games.FiniteHistoryDependent.html#2364" class="Function">ğ“š</a> <a id="17778" href="Games.OptimalPlays.html#17726" class="Bound">Xt</a><a id="17780" class="Symbol">)</a>
       <a id="17789" class="Symbol">â†’</a> <a id="17791" class="Symbol">(</a><a id="17792" href="Games.OptimalPlays.html#17792" class="Bound">xos</a> <a id="17796" class="Symbol">:</a> <a id="17798" href="Games.TypeTrees.html#942" class="Function">Path</a> <a id="17803" class="Symbol">(</a><a id="17804" href="Games.OptimalPlays.html#16192" class="Function">prune</a> <a id="17810" href="Games.OptimalPlays.html#17726" class="Bound">Xt</a> <a id="17813" href="Games.OptimalPlays.html#17744" class="Bound">q</a> <a id="17815" href="Games.OptimalPlays.html#17771" class="Bound">Ï•t</a><a id="17817" class="Symbol">))</a>
       <a id="17827" class="Symbol">â†’</a> <a id="17829" href="Games.OptimalPlays.html#1548" class="Function">is-optimal-play</a> <a id="17845" href="Games.OptimalPlays.html#17771" class="Bound">Ï•t</a> <a id="17848" href="Games.OptimalPlays.html#17744" class="Bound">q</a> <a id="17850" class="Symbol">(</a><a id="17851" href="Games.OptimalPlays.html#16967" class="Function">inclusion</a> <a id="17861" href="Games.OptimalPlays.html#17771" class="Bound">Ï•t</a> <a id="17864" href="Games.OptimalPlays.html#17744" class="Bound">q</a> <a id="17866" href="Games.OptimalPlays.html#17792" class="Bound">xos</a><a id="17869" class="Symbol">)</a>
<a id="17871" href="Games.OptimalPlays.html#17716" class="Function">lemmaâ†’</a> <a id="17878" class="Symbol">{</a><a id="17879" href="Games.TypeTrees.html#773" class="InductiveConstructor">[]</a><a id="17881" class="Symbol">}</a> <a id="17883" href="Games.OptimalPlays.html#17883" class="Bound">q</a> <a id="17885" href="Games.TypeTrees.html#1310" class="InductiveConstructor">âŸ¨âŸ©</a> <a id="17888" href="Games.TypeTrees.html#1310" class="InductiveConstructor">âŸ¨âŸ©</a> <a id="17891" class="Symbol">=</a> <a id="17893" href="Games.TypeTrees.html#1310" class="InductiveConstructor">âŸ¨âŸ©</a>
<a id="17896" href="Games.OptimalPlays.html#17716" class="Function">lemmaâ†’</a> <a id="17903" class="Symbol">{</a><a id="17904" href="Games.OptimalPlays.html#17904" class="Bound">X</a> <a id="17906" href="Games.TypeTrees.html#783" class="InductiveConstructor Operator">âˆ·</a> <a id="17908" href="Games.OptimalPlays.html#17908" class="Bound">Xf</a><a id="17910" class="Symbol">}</a> <a id="17912" href="Games.OptimalPlays.html#17912" class="Bound">q</a> <a id="17914" class="Symbol">(</a><a id="17915" href="Games.OptimalPlays.html#17915" class="Bound">Ï•</a> <a id="17917" href="Games.TypeTrees.html#1332" class="InductiveConstructor Operator">::</a> <a id="17920" href="Games.OptimalPlays.html#17920" class="Bound">Ï•f</a><a id="17922" class="Symbol">)</a> <a id="17924" class="Symbol">((</a><a id="17926" href="Games.OptimalPlays.html#17926" class="Bound">x</a> <a id="17928" href="MLTT.Sigma.html#395" class="InductiveConstructor Operator">,</a> <a id="17930" href="Games.OptimalPlays.html#17930" class="Bound">o</a><a id="17931" class="Symbol">)</a> <a id="17933" href="Games.TypeTrees.html#1332" class="InductiveConstructor Operator">::</a> <a id="17936" href="Games.OptimalPlays.html#17936" class="Bound">xos</a><a id="17939" class="Symbol">)</a>
 <a id="17942" class="Symbol">=</a> <a id="17944" href="Games.OptimalPlays.html#17930" class="Bound">o</a> <a id="17946" href="MLTT.Sigma.html#395" class="InductiveConstructor Operator">,</a> <a id="17948" href="Games.OptimalPlays.html#17716" class="Function">lemmaâ†’</a> <a id="17955" class="Symbol">{</a><a id="17956" href="Games.OptimalPlays.html#17908" class="Bound">Xf</a> <a id="17959" href="Games.OptimalPlays.html#17926" class="Bound">x</a><a id="17960" class="Symbol">}</a> <a id="17962" class="Symbol">(</a><a id="17963" href="Games.TypeTrees.html#1658" class="Function">subpred</a> <a id="17971" href="Games.OptimalPlays.html#17912" class="Bound">q</a> <a id="17973" href="Games.OptimalPlays.html#17926" class="Bound">x</a><a id="17974" class="Symbol">)</a> <a id="17976" class="Symbol">(</a><a id="17977" href="Games.OptimalPlays.html#17920" class="Bound">Ï•f</a> <a id="17980" href="Games.OptimalPlays.html#17926" class="Bound">x</a><a id="17981" class="Symbol">)</a> <a id="17983" href="Games.OptimalPlays.html#17936" class="Bound">xos</a>

<a id="lemmaâ†"></a><a id="17988" href="Games.OptimalPlays.html#17988" class="Function">lemmaâ†</a> <a id="17995" class="Symbol">:</a> <a id="17997" class="Symbol">{</a><a id="17998" href="Games.OptimalPlays.html#17998" class="Bound">Xt</a> <a id="18001" class="Symbol">:</a> <a id="18003" href="Games.TypeTrees.html#755" class="Datatype">ğ‘»</a><a id="18004" class="Symbol">}</a>
         <a id="18015" class="Symbol">(</a><a id="18016" href="Games.OptimalPlays.html#18016" class="Bound">q</a> <a id="18018" class="Symbol">:</a> <a id="18020" href="Games.TypeTrees.html#942" class="Function">Path</a> <a id="18025" href="Games.OptimalPlays.html#17998" class="Bound">Xt</a> <a id="18028" class="Symbol">â†’</a> <a id="18030" href="Games.OptimalPlays.html#596" class="Bound">R</a><a id="18031" class="Symbol">)</a>
         <a id="18042" class="Symbol">(</a><a id="18043" href="Games.OptimalPlays.html#18043" class="Bound">Ï•t</a> <a id="18046" class="Symbol">:</a> <a id="18048" href="Games.FiniteHistoryDependent.html#2364" class="Function">ğ“š</a> <a id="18050" href="Games.OptimalPlays.html#17998" class="Bound">Xt</a><a id="18052" class="Symbol">)</a>
         <a id="18063" class="Symbol">(</a><a id="18064" href="Games.OptimalPlays.html#18064" class="Bound">xs</a> <a id="18067" class="Symbol">:</a> <a id="18069" href="Games.TypeTrees.html#942" class="Function">Path</a> <a id="18074" href="Games.OptimalPlays.html#17998" class="Bound">Xt</a><a id="18076" class="Symbol">)</a>
       <a id="18085" class="Symbol">â†’</a> <a id="18087" href="Games.OptimalPlays.html#1548" class="Function">is-optimal-play</a> <a id="18103" href="Games.OptimalPlays.html#18043" class="Bound">Ï•t</a> <a id="18106" href="Games.OptimalPlays.html#18016" class="Bound">q</a> <a id="18108" href="Games.OptimalPlays.html#18064" class="Bound">xs</a>
       <a id="18118" class="Symbol">â†’</a> <a id="18120" href="MLTT.Sigma.html#423" class="Function">Î£</a> <a id="18122" href="Games.OptimalPlays.html#18122" class="Bound">xos</a> <a id="18126" href="MLTT.Sigma.html#423" class="Function">ê‰</a> <a id="18128" href="Games.TypeTrees.html#942" class="Function">Path</a> <a id="18133" class="Symbol">(</a><a id="18134" href="Games.OptimalPlays.html#16192" class="Function">prune</a> <a id="18140" href="Games.OptimalPlays.html#17998" class="Bound">Xt</a> <a id="18143" href="Games.OptimalPlays.html#18016" class="Bound">q</a> <a id="18145" href="Games.OptimalPlays.html#18043" class="Bound">Ï•t</a><a id="18147" class="Symbol">)</a> <a id="18149" href="MLTT.Sigma.html#423" class="Function">,</a> <a id="18151" href="Games.OptimalPlays.html#16967" class="Function">inclusion</a> <a id="18161" href="Games.OptimalPlays.html#18043" class="Bound">Ï•t</a> <a id="18164" href="Games.OptimalPlays.html#18016" class="Bound">q</a> <a id="18166" href="Games.OptimalPlays.html#18122" class="Bound">xos</a> <a id="18170" href="MLTT.Id.html#193" class="Datatype Operator">ï¼</a> <a id="18172" href="Games.OptimalPlays.html#18064" class="Bound">xs</a>
<a id="18175" href="Games.OptimalPlays.html#17988" class="Function">lemmaâ†</a> <a id="18182" class="Symbol">{</a><a id="18183" href="Games.TypeTrees.html#773" class="InductiveConstructor">[]</a><a id="18185" class="Symbol">}</a> <a id="18187" href="Games.OptimalPlays.html#18187" class="Bound">q</a> <a id="18189" href="Games.TypeTrees.html#1310" class="InductiveConstructor">âŸ¨âŸ©</a> <a id="18192" href="Games.TypeTrees.html#1310" class="InductiveConstructor">âŸ¨âŸ©</a> <a id="18195" href="Games.TypeTrees.html#1310" class="InductiveConstructor">âŸ¨âŸ©</a> <a id="18198" class="Symbol">=</a> <a id="18200" href="Games.TypeTrees.html#1310" class="InductiveConstructor">âŸ¨âŸ©</a> <a id="18203" href="MLTT.Sigma.html#395" class="InductiveConstructor Operator">,</a> <a id="18205" href="MLTT.Identity-Type.html#157" class="InductiveConstructor">refl</a>
<a id="18210" href="Games.OptimalPlays.html#17988" class="Function">lemmaâ†</a> <a id="18217" class="Symbol">{</a><a id="18218" href="Games.OptimalPlays.html#18218" class="Bound">X</a> <a id="18220" href="Games.TypeTrees.html#783" class="InductiveConstructor Operator">âˆ·</a> <a id="18222" href="Games.OptimalPlays.html#18222" class="Bound">Xf</a><a id="18224" class="Symbol">}</a> <a id="18226" href="Games.OptimalPlays.html#18226" class="Bound">q</a> <a id="18228" class="Symbol">(</a><a id="18229" href="Games.OptimalPlays.html#18229" class="Bound">Ï•</a> <a id="18231" href="Games.TypeTrees.html#1332" class="InductiveConstructor Operator">::</a> <a id="18234" href="Games.OptimalPlays.html#18234" class="Bound">Ï•f</a><a id="18236" class="Symbol">)</a> <a id="18238" class="Symbol">(</a><a id="18239" href="Games.OptimalPlays.html#18239" class="Bound">x</a> <a id="18241" href="Games.TypeTrees.html#1332" class="InductiveConstructor Operator">::</a> <a id="18244" href="Games.OptimalPlays.html#18244" class="Bound">xs</a><a id="18246" class="Symbol">)</a> <a id="18248" class="Symbol">(</a><a id="18249" href="Games.OptimalPlays.html#18249" class="Bound">o</a> <a id="18251" href="Games.TypeTrees.html#1332" class="InductiveConstructor Operator">::</a> <a id="18254" href="Games.OptimalPlays.html#18254" class="Bound">os</a><a id="18256" class="Symbol">)</a>
 <a id="18259" class="Symbol">=</a> <a id="18261" class="Symbol">((</a><a id="18263" href="Games.OptimalPlays.html#18239" class="Bound">x</a> <a id="18265" href="MLTT.Sigma.html#395" class="InductiveConstructor Operator">,</a> <a id="18267" href="Games.OptimalPlays.html#18249" class="Bound">o</a><a id="18268" class="Symbol">)</a> <a id="18270" href="Games.TypeTrees.html#1332" class="InductiveConstructor Operator">::</a> <a id="18273" href="MLTT.Sigma-Type.html#198" class="Field">prâ‚</a> <a id="18277" href="Games.OptimalPlays.html#18312" class="Function">IH</a><a id="18279" class="Symbol">)</a> <a id="18281" href="MLTT.Sigma.html#395" class="InductiveConstructor Operator">,</a> <a id="18283" href="MLTT.Id.html#1136" class="Function">ap</a> <a id="18286" class="Symbol">(</a><a id="18287" href="Games.OptimalPlays.html#18239" class="Bound">x</a> <a id="18289" href="Games.TypeTrees.html#1332" class="InductiveConstructor Operator">::_</a><a id="18292" class="Symbol">)</a> <a id="18294" class="Symbol">(</a><a id="18295" href="MLTT.Sigma-Type.html#209" class="Field">prâ‚‚</a> <a id="18299" href="Games.OptimalPlays.html#18312" class="Function">IH</a><a id="18301" class="Symbol">)</a>
 <a id="18304" class="Keyword">where</a>
  <a id="18312" href="Games.OptimalPlays.html#18312" class="Function">IH</a> <a id="18315" class="Symbol">:</a> <a id="18317" href="MLTT.Sigma.html#423" class="Function">Î£</a> <a id="18319" href="Games.OptimalPlays.html#18319" class="Bound">xos</a> <a id="18323" href="MLTT.Sigma.html#423" class="Function">ê‰</a> <a id="18325" href="Games.TypeTrees.html#942" class="Function">Path</a> <a id="18330" class="Symbol">(</a><a id="18331" href="Games.OptimalPlays.html#16192" class="Function">prune</a> <a id="18337" class="Symbol">(</a><a id="18338" href="Games.OptimalPlays.html#18222" class="Bound">Xf</a> <a id="18341" href="Games.OptimalPlays.html#18239" class="Bound">x</a><a id="18342" class="Symbol">)</a> <a id="18344" class="Symbol">(</a><a id="18345" href="Games.TypeTrees.html#1658" class="Function">subpred</a> <a id="18353" href="Games.OptimalPlays.html#18226" class="Bound">q</a> <a id="18355" href="Games.OptimalPlays.html#18239" class="Bound">x</a><a id="18356" class="Symbol">)</a> <a id="18358" class="Symbol">(</a><a id="18359" href="Games.OptimalPlays.html#18234" class="Bound">Ï•f</a> <a id="18362" href="Games.OptimalPlays.html#18239" class="Bound">x</a><a id="18363" class="Symbol">))</a>
             <a id="18379" href="MLTT.Sigma.html#423" class="Function">,</a> <a id="18381" href="Games.OptimalPlays.html#16967" class="Function">inclusion</a> <a id="18391" class="Symbol">(</a><a id="18392" href="Games.OptimalPlays.html#18234" class="Bound">Ï•f</a> <a id="18395" href="Games.OptimalPlays.html#18239" class="Bound">x</a><a id="18396" class="Symbol">)</a> <a id="18398" class="Symbol">(</a><a id="18399" href="Games.TypeTrees.html#1658" class="Function">subpred</a> <a id="18407" href="Games.OptimalPlays.html#18226" class="Bound">q</a> <a id="18409" href="Games.OptimalPlays.html#18239" class="Bound">x</a><a id="18410" class="Symbol">)</a> <a id="18412" href="Games.OptimalPlays.html#18319" class="Bound">xos</a> <a id="18416" href="MLTT.Id.html#193" class="Datatype Operator">ï¼</a> <a id="18418" href="Games.OptimalPlays.html#18244" class="Bound">xs</a>
  <a id="18423" href="Games.OptimalPlays.html#18312" class="Function">IH</a> <a id="18426" class="Symbol">=</a> <a id="18428" href="Games.OptimalPlays.html#17988" class="Function">lemmaâ†</a> <a id="18435" class="Symbol">{</a><a id="18436" href="Games.OptimalPlays.html#18222" class="Bound">Xf</a> <a id="18439" href="Games.OptimalPlays.html#18239" class="Bound">x</a><a id="18440" class="Symbol">}</a> <a id="18442" class="Symbol">(</a><a id="18443" href="Games.TypeTrees.html#1658" class="Function">subpred</a> <a id="18451" href="Games.OptimalPlays.html#18226" class="Bound">q</a> <a id="18453" href="Games.OptimalPlays.html#18239" class="Bound">x</a><a id="18454" class="Symbol">)</a> <a id="18456" class="Symbol">(</a><a id="18457" href="Games.OptimalPlays.html#18234" class="Bound">Ï•f</a> <a id="18460" href="Games.OptimalPlays.html#18239" class="Bound">x</a><a id="18461" class="Symbol">)</a> <a id="18463" href="Games.OptimalPlays.html#18244" class="Bound">xs</a> <a id="18466" href="Games.OptimalPlays.html#18254" class="Bound">os</a>

<a id="18470" class="Markup">\end{code}</a><a id="18480" class="Background">

This gives an alternative way to calculate the list of optimal plays,
which doesn&#39;t use selection functions.

Added 22nd October 2025.

We prove a remark stated above.

</a><a id="18651" class="Markup">\begin{code}</a>

<a id="restriction-is-constant"></a><a id="18665" href="Games.OptimalPlays.html#18665" class="Function">restriction-is-constant</a>
 <a id="18690" class="Symbol">:</a> <a id="18692" class="Symbol">{</a><a id="18693" href="Games.OptimalPlays.html#18693" class="Bound">Xt</a> <a id="18696" class="Symbol">:</a> <a id="18698" href="Games.TypeTrees.html#755" class="Datatype">ğ‘»</a><a id="18699" class="Symbol">}</a>
   <a id="18704" class="Symbol">(</a><a id="18705" href="Games.OptimalPlays.html#18705" class="Bound">Ï•t</a> <a id="18708" class="Symbol">:</a> <a id="18710" href="Games.FiniteHistoryDependent.html#2364" class="Function">ğ“š</a> <a id="18712" href="Games.OptimalPlays.html#18693" class="Bound">Xt</a><a id="18714" class="Symbol">)</a>
   <a id="18719" class="Symbol">(</a><a id="18720" href="Games.OptimalPlays.html#18720" class="Bound">q</a> <a id="18722" class="Symbol">:</a> <a id="18724" href="Games.TypeTrees.html#942" class="Function">Path</a> <a id="18729" href="Games.OptimalPlays.html#18693" class="Bound">Xt</a> <a id="18732" class="Symbol">â†’</a> <a id="18734" href="Games.OptimalPlays.html#596" class="Bound">R</a><a id="18735" class="Symbol">)</a>
   <a id="18740" class="Symbol">(</a><a id="18741" href="Games.OptimalPlays.html#18741" class="Bound">xos</a> <a id="18745" class="Symbol">:</a> <a id="18747" href="Games.TypeTrees.html#942" class="Function">Path</a> <a id="18752" class="Symbol">(</a><a id="18753" href="Games.OptimalPlays.html#16192" class="Function">prune</a> <a id="18759" href="Games.OptimalPlays.html#18693" class="Bound">Xt</a> <a id="18762" href="Games.OptimalPlays.html#18720" class="Bound">q</a> <a id="18764" href="Games.OptimalPlays.html#18705" class="Bound">Ï•t</a><a id="18766" class="Symbol">))</a>
 <a id="18770" class="Symbol">â†’</a> <a id="18772" href="Games.OptimalPlays.html#17310" class="Function">restriction</a> <a id="18784" href="Games.OptimalPlays.html#18705" class="Bound">Ï•t</a> <a id="18787" href="Games.OptimalPlays.html#18720" class="Bound">q</a> <a id="18789" href="Games.OptimalPlays.html#18741" class="Bound">xos</a> <a id="18793" href="MLTT.Id.html#193" class="Datatype Operator">ï¼</a> <a id="18795" href="Games.FiniteHistoryDependent.html#3536" class="Function">optimal-outcome</a> <a id="18811" class="Symbol">(</a><a id="18812" href="Games.FiniteHistoryDependent.html#3164" class="InductiveConstructor">game</a> <a id="18817" href="Games.OptimalPlays.html#18693" class="Bound">Xt</a> <a id="18820" href="Games.OptimalPlays.html#18720" class="Bound">q</a> <a id="18822" href="Games.OptimalPlays.html#18705" class="Bound">Ï•t</a><a id="18824" class="Symbol">)</a>
<a id="18826" href="Games.OptimalPlays.html#18665" class="Function">restriction-is-constant</a> <a id="18850" class="Symbol">{</a><a id="18851" href="Games.OptimalPlays.html#18851" class="Bound">Xt</a><a id="18853" class="Symbol">}</a> <a id="18855" href="Games.OptimalPlays.html#18855" class="Bound">Ï•t</a> <a id="18858" href="Games.OptimalPlays.html#18858" class="Bound">q</a> <a id="18860" href="Games.OptimalPlays.html#18860" class="Bound">xos</a>
 <a id="18865" class="Symbol">=</a> <a id="18867" href="Games.OptimalPlays.html#2927" class="Function">optimal-play-gives-optimal-outcome</a> <a id="18902" href="Games.OptimalPlays.html#18855" class="Bound">Ï•t</a> <a id="18905" href="Games.OptimalPlays.html#18858" class="Bound">q</a> <a id="18907" class="Symbol">(</a><a id="18908" href="Games.OptimalPlays.html#16967" class="Function">inclusion</a> <a id="18918" href="Games.OptimalPlays.html#18855" class="Bound">Ï•t</a> <a id="18921" href="Games.OptimalPlays.html#18858" class="Bound">q</a> <a id="18923" href="Games.OptimalPlays.html#18860" class="Bound">xos</a><a id="18926" class="Symbol">)</a> <a id="18928" class="Symbol">(</a><a id="18929" href="Games.OptimalPlays.html#17716" class="Function">lemmaâ†’</a> <a id="18936" href="Games.OptimalPlays.html#18858" class="Bound">q</a> <a id="18938" href="Games.OptimalPlays.html#18855" class="Bound">Ï•t</a> <a id="18941" href="Games.OptimalPlays.html#18860" class="Bound">xos</a><a id="18944" class="Symbol">)</a>

<a id="18947" class="Markup">\end{code}</a><a id="18957" class="Background">

Added 8th October 2025.

</a><a id="18984" class="Markup">\begin{code}</a>

<a id="prune-is-listed"></a><a id="18998" href="Games.OptimalPlays.html#18998" class="Function">prune-is-listed</a> <a id="19014" class="Symbol">:</a> <a id="19016" class="Symbol">(</a><a id="19017" href="Games.OptimalPlays.html#19017" class="Bound">Xt</a> <a id="19020" class="Symbol">:</a> <a id="19022" href="Games.TypeTrees.html#755" class="Datatype">ğ‘»</a><a id="19023" class="Symbol">)</a>
                  <a id="19043" class="Symbol">(</a><a id="19044" href="Games.OptimalPlays.html#19044" class="Bound">q</a> <a id="19046" class="Symbol">:</a> <a id="19048" href="Games.TypeTrees.html#942" class="Function">Path</a> <a id="19053" href="Games.OptimalPlays.html#19017" class="Bound">Xt</a> <a id="19056" class="Symbol">â†’</a> <a id="19058" href="Games.OptimalPlays.html#596" class="Bound">R</a><a id="19059" class="Symbol">)</a>
                  <a id="19079" class="Symbol">(</a><a id="19080" href="Games.OptimalPlays.html#19080" class="Bound">Ï•t</a> <a id="19083" class="Symbol">:</a> <a id="19085" href="Games.FiniteHistoryDependent.html#2364" class="Function">ğ“š</a> <a id="19087" href="Games.OptimalPlays.html#19017" class="Bound">Xt</a><a id="19089" class="Symbol">)</a>
                <a id="19107" class="Symbol">â†’</a> <a id="19109" href="Games.TypeTrees.html#2156" class="Function">structure</a> <a id="19119" href="MLTT.List.html#6385" class="Function">listed</a> <a id="19126" href="Games.OptimalPlays.html#19017" class="Bound">Xt</a>
                <a id="19145" class="Symbol">â†’</a> <a id="19147" href="Games.TypeTrees.html#2156" class="Function">structure</a> <a id="19157" href="MLTT.List.html#6385" class="Function">listed</a> <a id="19164" class="Symbol">(</a><a id="19165" href="Games.OptimalPlays.html#16192" class="Function">prune</a> <a id="19171" href="Games.OptimalPlays.html#19017" class="Bound">Xt</a> <a id="19174" href="Games.OptimalPlays.html#19044" class="Bound">q</a> <a id="19176" href="Games.OptimalPlays.html#19080" class="Bound">Ï•t</a><a id="19178" class="Symbol">)</a>
<a id="19180" href="Games.OptimalPlays.html#18998" class="Function">prune-is-listed</a> <a id="19196" href="Games.TypeTrees.html#773" class="InductiveConstructor">[]</a> <a id="19199" href="Games.OptimalPlays.html#19199" class="Bound">q</a> <a id="19201" href="Games.OptimalPlays.html#19201" class="Bound">Ï•t</a> <a id="19204" href="Games.TypeTrees.html#1310" class="InductiveConstructor">âŸ¨âŸ©</a> <a id="19207" class="Symbol">=</a> <a id="19209" href="Games.TypeTrees.html#1310" class="InductiveConstructor">âŸ¨âŸ©</a>
<a id="19212" href="Games.OptimalPlays.html#18998" class="Function">prune-is-listed</a> <a id="19228" class="Symbol">(</a><a id="19229" href="Games.OptimalPlays.html#19229" class="Bound">X</a> <a id="19231" href="Games.TypeTrees.html#783" class="InductiveConstructor Operator">âˆ·</a> <a id="19233" href="Games.OptimalPlays.html#19233" class="Bound">Xf</a><a id="19235" class="Symbol">)</a> <a id="19237" href="Games.OptimalPlays.html#19237" class="Bound">q</a> <a id="19239" class="Symbol">(</a><a id="19240" href="Games.OptimalPlays.html#19240" class="Bound">Ï•</a> <a id="19242" href="Games.TypeTrees.html#1332" class="InductiveConstructor Operator">::</a> <a id="19245" href="Games.OptimalPlays.html#19245" class="Bound">Ï•f</a><a id="19247" class="Symbol">)</a> <a id="19249" class="Symbol">(</a><a id="19250" href="Games.OptimalPlays.html#19250" class="Bound">X-is-listed</a> <a id="19262" href="MLTT.Sigma.html#395" class="InductiveConstructor Operator">,</a> <a id="19264" href="Games.OptimalPlays.html#19264" class="Bound">Xf-is-listed</a><a id="19276" class="Symbol">)</a> <a id="19278" class="Symbol">=</a>
 <a id="19281" href="Games.OptimalPlays.html#19375" class="Function">X&#39;-is-listed</a> <a id="19294" href="Games.TypeTrees.html#1332" class="InductiveConstructor Operator">::</a> <a id="19297" href="Games.OptimalPlays.html#19716" class="Function">Xf&#39;-is-listed</a>
 <a id="19312" class="Keyword">where</a>
  <a id="19320" href="Games.OptimalPlays.html#19320" class="Function">X&#39;</a> <a id="19323" class="Symbol">:</a> <a id="19325" href="Notation.General.html#372" class="Function">Type</a>
  <a id="19332" href="Games.OptimalPlays.html#19320" class="Function">X&#39;</a> <a id="19335" class="Symbol">=</a> <a id="19337" href="MLTT.Sigma.html#423" class="Function">Î£</a> <a id="19339" href="Games.OptimalPlays.html#19339" class="Bound">x</a> <a id="19341" href="MLTT.Sigma.html#423" class="Function">ê‰</a> <a id="19343" href="Games.OptimalPlays.html#19229" class="Bound">X</a> <a id="19345" href="MLTT.Sigma.html#423" class="Function">,</a> <a id="19347" href="Games.OptimalPlays.html#1185" class="Function">is-optimal-move</a> <a id="19363" href="Games.OptimalPlays.html#19237" class="Bound">q</a> <a id="19365" href="Games.OptimalPlays.html#19240" class="Bound">Ï•</a> <a id="19367" href="Games.OptimalPlays.html#19245" class="Bound">Ï•f</a> <a id="19370" href="Games.OptimalPlays.html#19339" class="Bound">x</a>

  <a id="19375" href="Games.OptimalPlays.html#19375" class="Function">X&#39;-is-listed</a> <a id="19388" class="Symbol">:</a> <a id="19390" href="MLTT.List.html#6385" class="Function">listed</a> <a id="19397" href="Games.OptimalPlays.html#19320" class="Function">X&#39;</a>
  <a id="19402" href="Games.OptimalPlays.html#19375" class="Function">X&#39;-is-listed</a> <a id="19415" class="Symbol">=</a> <a id="19417" href="MLTT.List.html#21970" class="Function">detachable-subtype-of-listed-type-is-listed</a>
                  <a id="19479" class="Symbol">(</a><a id="19480" href="Games.OptimalPlays.html#1185" class="Function">is-optimal-move</a> <a id="19496" href="Games.OptimalPlays.html#19237" class="Bound">q</a> <a id="19498" href="Games.OptimalPlays.html#19240" class="Bound">Ï•</a> <a id="19500" href="Games.OptimalPlays.html#19245" class="Bound">Ï•f</a><a id="19502" class="Symbol">)</a>
                  <a id="19522" class="Symbol">(</a><a id="19523" href="Games.OptimalPlays.html#2297" class="Function">being-optimal-move-is-decidable</a> <a id="19555" href="Games.OptimalPlays.html#19237" class="Bound">q</a> <a id="19557" href="Games.OptimalPlays.html#19240" class="Bound">Ï•</a> <a id="19559" href="Games.OptimalPlays.html#19245" class="Bound">Ï•f</a><a id="19561" class="Symbol">)</a>
                  <a id="19581" class="Symbol">(</a><a id="19582" href="Games.OptimalPlays.html#1880" class="Function">being-optimal-move-is-prop</a> <a id="19609" href="Games.OptimalPlays.html#19237" class="Bound">q</a> <a id="19611" href="Games.OptimalPlays.html#19240" class="Bound">Ï•</a> <a id="19613" href="Games.OptimalPlays.html#19245" class="Bound">Ï•f</a><a id="19615" class="Symbol">)</a>
                  <a id="19635" href="Games.OptimalPlays.html#19250" class="Bound">X-is-listed</a>

  <a id="19650" href="Games.OptimalPlays.html#19650" class="Function">Xf&#39;</a> <a id="19654" class="Symbol">:</a> <a id="19656" href="Games.OptimalPlays.html#19320" class="Function">X&#39;</a> <a id="19659" class="Symbol">â†’</a> <a id="19661" href="Games.TypeTrees.html#755" class="Datatype">ğ‘»</a>
  <a id="19665" href="Games.OptimalPlays.html#19650" class="Function">Xf&#39;</a> <a id="19669" class="Symbol">(</a><a id="19670" href="Games.OptimalPlays.html#19670" class="Bound">x</a> <a id="19672" href="MLTT.Sigma.html#395" class="InductiveConstructor Operator">,</a> <a id="19674" href="Games.OptimalPlays.html#19674" class="Bound">o</a><a id="19675" class="Symbol">)</a> <a id="19677" class="Symbol">=</a> <a id="19679" href="Games.OptimalPlays.html#16192" class="Function">prune</a> <a id="19685" class="Symbol">(</a><a id="19686" href="Games.OptimalPlays.html#19233" class="Bound">Xf</a> <a id="19689" href="Games.OptimalPlays.html#19670" class="Bound">x</a><a id="19690" class="Symbol">)</a> <a id="19692" class="Symbol">(</a><a id="19693" href="Games.TypeTrees.html#1658" class="Function">subpred</a> <a id="19701" href="Games.OptimalPlays.html#19237" class="Bound">q</a> <a id="19703" href="Games.OptimalPlays.html#19670" class="Bound">x</a><a id="19704" class="Symbol">)</a> <a id="19706" class="Symbol">(</a><a id="19707" href="Games.OptimalPlays.html#19245" class="Bound">Ï•f</a> <a id="19710" href="Games.OptimalPlays.html#19670" class="Bound">x</a><a id="19711" class="Symbol">)</a>

  <a id="19716" href="Games.OptimalPlays.html#19716" class="Function">Xf&#39;-is-listed</a> <a id="19730" class="Symbol">:</a> <a id="19732" class="Symbol">(</a><a id="19733" href="Games.OptimalPlays.html#19733" class="Bound">x&#39;</a> <a id="19736" class="Symbol">:</a> <a id="19738" href="Games.OptimalPlays.html#19320" class="Function">X&#39;</a><a id="19740" class="Symbol">)</a> <a id="19742" class="Symbol">â†’</a> <a id="19744" href="Games.TypeTrees.html#2156" class="Function">structure</a> <a id="19754" href="MLTT.List.html#6385" class="Function">listed</a> <a id="19761" class="Symbol">(</a><a id="19762" href="Games.OptimalPlays.html#19650" class="Function">Xf&#39;</a> <a id="19766" href="Games.OptimalPlays.html#19733" class="Bound">x&#39;</a><a id="19768" class="Symbol">)</a>
  <a id="19772" href="Games.OptimalPlays.html#19716" class="Function">Xf&#39;-is-listed</a> <a id="19786" class="Symbol">(</a><a id="19787" href="Games.OptimalPlays.html#19787" class="Bound">x</a> <a id="19789" href="MLTT.Sigma.html#395" class="InductiveConstructor Operator">,</a> <a id="19791" href="Games.OptimalPlays.html#19791" class="Bound">o</a><a id="19792" class="Symbol">)</a> <a id="19794" class="Symbol">=</a> <a id="19796" href="Games.OptimalPlays.html#18998" class="Function">prune-is-listed</a>
                           <a id="19839" class="Symbol">(</a><a id="19840" href="Games.OptimalPlays.html#19233" class="Bound">Xf</a> <a id="19843" href="Games.OptimalPlays.html#19787" class="Bound">x</a><a id="19844" class="Symbol">)</a>
                           <a id="19873" class="Symbol">(</a><a id="19874" href="Games.TypeTrees.html#1658" class="Function">subpred</a> <a id="19882" href="Games.OptimalPlays.html#19237" class="Bound">q</a> <a id="19884" href="Games.OptimalPlays.html#19787" class="Bound">x</a><a id="19885" class="Symbol">)</a>
                           <a id="19914" class="Symbol">(</a><a id="19915" href="Games.OptimalPlays.html#19245" class="Bound">Ï•f</a> <a id="19918" href="Games.OptimalPlays.html#19787" class="Bound">x</a><a id="19919" class="Symbol">)</a>
                           <a id="19948" class="Symbol">(</a><a id="19949" href="Games.OptimalPlays.html#19264" class="Bound">Xf-is-listed</a> <a id="19962" href="Games.OptimalPlays.html#19787" class="Bound">x</a><a id="19963" class="Symbol">)</a>

<a id="19966" class="Keyword">module</a> <a id="19973" href="Games.OptimalPlays.html#19973" class="Module">_</a> <a id="19975" class="Symbol">(</a><a id="19976" href="Games.OptimalPlays.html#19976" class="Bound">G</a><a id="19977" class="Symbol">@(</a><a id="19979" href="Games.FiniteHistoryDependent.html#3164" class="InductiveConstructor">game</a> <a id="19984" href="Games.OptimalPlays.html#19984" class="Bound">Xt</a> <a id="19987" href="Games.OptimalPlays.html#19987" class="Bound">q</a> <a id="19989" href="Games.OptimalPlays.html#19989" class="Bound">Ï•t</a><a id="19991" class="Symbol">)</a> <a id="19993" class="Symbol">:</a> <a id="19995" href="Games.FiniteHistoryDependent.html#3132" class="Record">Game</a><a id="19999" class="Symbol">)</a>
         <a id="20010" class="Symbol">(</a><a id="20011" href="Games.OptimalPlays.html#20011" class="Bound">Xt-is-listed</a> <a id="20024" class="Symbol">:</a> <a id="20026" href="Games.TypeTrees.html#2156" class="Function">structure</a> <a id="20036" href="MLTT.List.html#6385" class="Function">listed</a> <a id="20043" href="Games.OptimalPlays.html#19984" class="Bound">Xt</a><a id="20045" class="Symbol">)</a>
       <a id="20054" class="Keyword">where</a>

 <a id="20062" href="Games.OptimalPlays.html#20062" class="Function">optimal-plays&#39;</a> <a id="20077" class="Symbol">:</a> <a id="20079" href="MLTT.List.html#488" class="Datatype">List</a> <a id="20084" class="Symbol">(</a><a id="20085" href="Games.TypeTrees.html#942" class="Function">Path</a> <a id="20090" href="Games.OptimalPlays.html#19984" class="Bound">Xt</a><a id="20092" class="Symbol">)</a>
 <a id="20095" href="Games.OptimalPlays.html#20062" class="Function">optimal-plays&#39;</a> <a id="20110" class="Symbol">=</a> <a id="20112" href="Games.OptimalPlays.html#20272" class="Function">xss</a>
  <a id="20118" class="Keyword">where</a>
   <a id="20127" href="Games.OptimalPlays.html#20127" class="Function">Xt&#39;</a> <a id="20131" class="Symbol">:</a> <a id="20133" href="Games.TypeTrees.html#755" class="Datatype">ğ‘»</a>
   <a id="20138" href="Games.OptimalPlays.html#20127" class="Function">Xt&#39;</a> <a id="20142" class="Symbol">=</a> <a id="20144" href="Games.OptimalPlays.html#16192" class="Function">prune</a> <a id="20150" href="Games.OptimalPlays.html#19984" class="Bound">Xt</a> <a id="20153" href="Games.OptimalPlays.html#19987" class="Bound">q</a> <a id="20155" href="Games.OptimalPlays.html#19989" class="Bound">Ï•t</a>

   <a id="20162" href="Games.OptimalPlays.html#20162" class="Function">xss&#39;</a> <a id="20167" class="Symbol">:</a> <a id="20169" href="MLTT.List.html#488" class="Datatype">List</a> <a id="20174" class="Symbol">(</a><a id="20175" href="Games.TypeTrees.html#942" class="Function">Path</a> <a id="20180" class="Symbol">(</a><a id="20181" href="Games.OptimalPlays.html#16192" class="Function">prune</a> <a id="20187" href="Games.OptimalPlays.html#19984" class="Bound">Xt</a> <a id="20190" href="Games.OptimalPlays.html#19987" class="Bound">q</a> <a id="20192" href="Games.OptimalPlays.html#19989" class="Bound">Ï•t</a><a id="20194" class="Symbol">))</a>
   <a id="20200" href="Games.OptimalPlays.html#20162" class="Function">xss&#39;</a> <a id="20205" class="Symbol">=</a> <a id="20207" href="Games.TypeTrees.html#5859" class="Function">list-of-all-paths</a> <a id="20225" href="Games.OptimalPlays.html#20127" class="Function">Xt&#39;</a> <a id="20229" class="Symbol">(</a><a id="20230" href="Games.OptimalPlays.html#18998" class="Function">prune-is-listed</a> <a id="20246" href="Games.OptimalPlays.html#19984" class="Bound">Xt</a> <a id="20249" href="Games.OptimalPlays.html#19987" class="Bound">q</a> <a id="20251" href="Games.OptimalPlays.html#19989" class="Bound">Ï•t</a> <a id="20254" href="Games.OptimalPlays.html#20011" class="Bound">Xt-is-listed</a><a id="20266" class="Symbol">)</a>

   <a id="20272" href="Games.OptimalPlays.html#20272" class="Function">xss</a> <a id="20276" class="Symbol">:</a> <a id="20278" href="MLTT.List.html#488" class="Datatype">List</a> <a id="20283" class="Symbol">(</a><a id="20284" href="Games.TypeTrees.html#942" class="Function">Path</a> <a id="20289" href="Games.OptimalPlays.html#19984" class="Bound">Xt</a><a id="20291" class="Symbol">)</a>
   <a id="20296" href="Games.OptimalPlays.html#20272" class="Function">xss</a> <a id="20300" class="Symbol">=</a> <a id="20302" href="Games.OptimalPlays.html#784" class="Function">lmap</a> <a id="20307" class="Symbol">(</a><a id="20308" href="Games.OptimalPlays.html#16967" class="Function">inclusion</a> <a id="20318" href="Games.OptimalPlays.html#19989" class="Bound">Ï•t</a> <a id="20321" href="Games.OptimalPlays.html#19987" class="Bound">q</a><a id="20322" class="Symbol">)</a> <a id="20324" href="Games.OptimalPlays.html#20162" class="Function">xss&#39;</a>

<a id="20330" class="Markup">\end{code}</a><a id="20340" class="Background">

Added 22nd October 2025. We now prove that optimal-plays&#39; lists
precisely the optimal plays.

</a><a id="20436" class="Markup">\begin{code}</a>

 <a id="20451" class="Keyword">module</a> <a id="20458" href="Games.OptimalPlays.html#20458" class="Module">_</a> <a id="20460" class="Symbol">(</a><a id="20461" href="Games.OptimalPlays.html#20461" class="Bound">xs</a> <a id="20464" class="Symbol">:</a> <a id="20466" href="Games.TypeTrees.html#942" class="Function">Path</a> <a id="20471" href="Games.OptimalPlays.html#19984" class="Bound">Xt</a><a id="20473" class="Symbol">)</a>
        <a id="20483" class="Keyword">where</a>

  <a id="20492" class="Keyword">private</a>
   <a id="20503" href="Games.OptimalPlays.html#20503" class="Function">xss&#39;</a> <a id="20508" class="Symbol">:</a> <a id="20510" href="MLTT.List.html#488" class="Datatype">List</a> <a id="20515" class="Symbol">(</a><a id="20516" href="Games.TypeTrees.html#942" class="Function">Path</a> <a id="20521" class="Symbol">(</a><a id="20522" href="Games.OptimalPlays.html#16192" class="Function">prune</a> <a id="20528" href="Games.OptimalPlays.html#19984" class="Bound">Xt</a> <a id="20531" href="Games.OptimalPlays.html#19987" class="Bound">q</a> <a id="20533" href="Games.OptimalPlays.html#19989" class="Bound">Ï•t</a><a id="20535" class="Symbol">))</a>
   <a id="20541" href="Games.OptimalPlays.html#20503" class="Function">xss&#39;</a> <a id="20546" class="Symbol">=</a> <a id="20548" href="Games.TypeTrees.html#5859" class="Function">list-of-all-paths</a>
           <a id="20577" class="Symbol">(</a><a id="20578" href="Games.OptimalPlays.html#16192" class="Function">prune</a> <a id="20584" href="Games.OptimalPlays.html#19984" class="Bound">Xt</a> <a id="20587" href="Games.OptimalPlays.html#19987" class="Bound">q</a> <a id="20589" href="Games.OptimalPlays.html#19989" class="Bound">Ï•t</a><a id="20591" class="Symbol">)</a>
           <a id="20604" class="Symbol">(</a><a id="20605" href="Games.OptimalPlays.html#18998" class="Function">prune-is-listed</a> <a id="20621" href="Games.OptimalPlays.html#19984" class="Bound">Xt</a> <a id="20624" href="Games.OptimalPlays.html#19987" class="Bound">q</a> <a id="20626" href="Games.OptimalPlays.html#19989" class="Bound">Ï•t</a> <a id="20629" href="Games.OptimalPlays.html#20011" class="Bound">Xt-is-listed</a><a id="20641" class="Symbol">)</a>

  <a id="20646" href="Games.OptimalPlays.html#20646" class="Function">main-lemma&#39;â†’</a> <a id="20659" class="Symbol">:</a> <a id="20661" href="MLTT.List.html#3417" class="Datatype">member</a> <a id="20668" href="Games.OptimalPlays.html#20461" class="Bound">xs</a> <a id="20671" href="Games.OptimalPlays.html#20062" class="Function">optimal-plays&#39;</a>
               <a id="20701" class="Symbol">â†’</a> <a id="20703" href="Games.OptimalPlays.html#1548" class="Function">is-optimal-play</a> <a id="20719" href="Games.OptimalPlays.html#19989" class="Bound">Ï•t</a> <a id="20722" href="Games.OptimalPlays.html#19987" class="Bound">q</a> <a id="20724" href="Games.OptimalPlays.html#20461" class="Bound">xs</a>
  <a id="20729" href="Games.OptimalPlays.html#20646" class="Function">main-lemma&#39;â†’</a> <a id="20742" href="Games.OptimalPlays.html#20742" class="Bound">m</a> <a id="20744" class="Symbol">=</a> <a id="20746" href="Games.OptimalPlays.html#21002" class="Function">I</a> <a id="20748" href="Games.OptimalPlays.html#20831" class="Function">Ïƒ</a>
   <a id="20753" class="Keyword">where</a>
    <a id="20763" href="Games.OptimalPlays.html#20763" class="Function">have-m</a> <a id="20770" class="Symbol">:</a> <a id="20772" href="MLTT.List.html#3417" class="Datatype">member</a> <a id="20779" href="Games.OptimalPlays.html#20461" class="Bound">xs</a> <a id="20782" class="Symbol">(</a><a id="20783" href="Games.OptimalPlays.html#784" class="Function">lmap</a> <a id="20788" class="Symbol">(</a><a id="20789" href="Games.OptimalPlays.html#16967" class="Function">inclusion</a> <a id="20799" href="Games.OptimalPlays.html#19989" class="Bound">Ï•t</a> <a id="20802" href="Games.OptimalPlays.html#19987" class="Bound">q</a><a id="20803" class="Symbol">)</a> <a id="20805" href="Games.OptimalPlays.html#20503" class="Function">xss&#39;</a><a id="20809" class="Symbol">)</a>
    <a id="20815" href="Games.OptimalPlays.html#20763" class="Function">have-m</a> <a id="20822" class="Symbol">=</a> <a id="20824" href="Games.OptimalPlays.html#20742" class="Bound">m</a>

    <a id="20831" href="Games.OptimalPlays.html#20831" class="Function">Ïƒ</a> <a id="20833" class="Symbol">:</a> <a id="20835" href="MLTT.Sigma.html#423" class="Function">Î£</a> <a id="20837" href="Games.OptimalPlays.html#20837" class="Bound">xos</a> <a id="20841" href="MLTT.Sigma.html#423" class="Function">ê‰</a> <a id="20843" href="Games.TypeTrees.html#942" class="Function">Path</a> <a id="20848" class="Symbol">(</a><a id="20849" href="Games.OptimalPlays.html#16192" class="Function">prune</a> <a id="20855" href="Games.OptimalPlays.html#19984" class="Bound">Xt</a> <a id="20858" href="Games.OptimalPlays.html#19987" class="Bound">q</a> <a id="20860" href="Games.OptimalPlays.html#19989" class="Bound">Ï•t</a><a id="20862" class="Symbol">)</a> <a id="20864" href="MLTT.Sigma.html#423" class="Function">,</a> <a id="20866" href="MLTT.List.html#3417" class="Datatype">member</a> <a id="20873" href="Games.OptimalPlays.html#20837" class="Bound">xos</a> <a id="20877" href="Games.OptimalPlays.html#20503" class="Function">xss&#39;</a>
                                     <a id="20919" href="MLTT.Sigma.html#558" class="Function Operator">Ã—</a> <a id="20921" class="Symbol">(</a><a id="20922" href="Games.OptimalPlays.html#16967" class="Function">inclusion</a> <a id="20932" href="Games.OptimalPlays.html#19989" class="Bound">Ï•t</a> <a id="20935" href="Games.OptimalPlays.html#19987" class="Bound">q</a> <a id="20937" href="Games.OptimalPlays.html#20837" class="Bound">xos</a> <a id="20941" href="MLTT.Id.html#193" class="Datatype Operator">ï¼</a> <a id="20943" href="Games.OptimalPlays.html#20461" class="Bound">xs</a><a id="20945" class="Symbol">)</a>
    <a id="20951" href="Games.OptimalPlays.html#20831" class="Function">Ïƒ</a> <a id="20953" class="Symbol">=</a> <a id="20955" href="MLTT.List.html#18534" class="Function">member-of-mapâ†</a> <a id="20970" class="Symbol">(</a><a id="20971" href="Games.OptimalPlays.html#16967" class="Function">inclusion</a> <a id="20981" href="Games.OptimalPlays.html#19989" class="Bound">Ï•t</a> <a id="20984" href="Games.OptimalPlays.html#19987" class="Bound">q</a><a id="20985" class="Symbol">)</a> <a id="20987" href="Games.OptimalPlays.html#20461" class="Bound">xs</a> <a id="20990" href="Games.OptimalPlays.html#20503" class="Function">xss&#39;</a> <a id="20995" href="Games.OptimalPlays.html#20742" class="Bound">m</a>

    <a id="21002" href="Games.OptimalPlays.html#21002" class="Function">I</a> <a id="21004" class="Symbol">:</a> <a id="21006" href="Notation.General.html#3219" class="Function">type-of</a> <a id="21014" href="Games.OptimalPlays.html#20831" class="Function">Ïƒ</a> <a id="21016" class="Symbol">â†’</a> <a id="21018" href="Games.OptimalPlays.html#1548" class="Function">is-optimal-play</a> <a id="21034" href="Games.OptimalPlays.html#19989" class="Bound">Ï•t</a> <a id="21037" href="Games.OptimalPlays.html#19987" class="Bound">q</a> <a id="21039" href="Games.OptimalPlays.html#20461" class="Bound">xs</a>
    <a id="21046" href="Games.OptimalPlays.html#21002" class="Function">I</a> <a id="21048" class="Symbol">(</a><a id="21049" href="Games.OptimalPlays.html#21049" class="Bound">xos</a> <a id="21053" href="MLTT.Sigma.html#395" class="InductiveConstructor Operator">,</a> <a id="21055" class="Symbol">_</a> <a id="21057" href="MLTT.Sigma.html#395" class="InductiveConstructor Operator">,</a> <a id="21059" href="Games.OptimalPlays.html#21059" class="Bound">e</a><a id="21060" class="Symbol">)</a> <a id="21062" class="Symbol">=</a> <a id="21064" href="MLTT.Id.html#735" class="Function">transport</a> <a id="21074" class="Symbol">(</a><a id="21075" href="Games.OptimalPlays.html#1548" class="Function">is-optimal-play</a> <a id="21091" href="Games.OptimalPlays.html#19989" class="Bound">Ï•t</a> <a id="21094" href="Games.OptimalPlays.html#19987" class="Bound">q</a><a id="21095" class="Symbol">)</a> <a id="21097" href="Games.OptimalPlays.html#21059" class="Bound">e</a> <a id="21099" class="Symbol">(</a><a id="21100" href="Games.OptimalPlays.html#17716" class="Function">lemmaâ†’</a> <a id="21107" href="Games.OptimalPlays.html#19987" class="Bound">q</a> <a id="21109" href="Games.OptimalPlays.html#19989" class="Bound">Ï•t</a> <a id="21112" href="Games.OptimalPlays.html#21049" class="Bound">xos</a><a id="21115" class="Symbol">)</a>

  <a id="21120" href="Games.OptimalPlays.html#21120" class="Function">main-lemma&#39;â†</a> <a id="21133" class="Symbol">:</a> <a id="21135" href="Games.OptimalPlays.html#1548" class="Function">is-optimal-play</a> <a id="21151" href="Games.OptimalPlays.html#19989" class="Bound">Ï•t</a> <a id="21154" href="Games.OptimalPlays.html#19987" class="Bound">q</a> <a id="21156" href="Games.OptimalPlays.html#20461" class="Bound">xs</a>
               <a id="21174" class="Symbol">â†’</a> <a id="21176" href="MLTT.List.html#3417" class="Datatype">member</a> <a id="21183" href="Games.OptimalPlays.html#20461" class="Bound">xs</a> <a id="21186" href="Games.OptimalPlays.html#20062" class="Function">optimal-plays&#39;</a>
  <a id="21203" href="Games.OptimalPlays.html#21120" class="Function">main-lemma&#39;â†</a> <a id="21216" href="Games.OptimalPlays.html#21216" class="Bound">o</a> <a id="21218" class="Symbol">=</a> <a id="21220" href="Games.OptimalPlays.html#21326" class="Function">I</a> <a id="21222" href="Games.OptimalPlays.html#21237" class="Function">Ïƒ</a>
   <a id="21227" class="Keyword">where</a>
    <a id="21237" href="Games.OptimalPlays.html#21237" class="Function">Ïƒ</a> <a id="21239" class="Symbol">:</a> <a id="21241" href="MLTT.Sigma.html#423" class="Function">Î£</a> <a id="21243" href="Games.OptimalPlays.html#21243" class="Bound">xos</a> <a id="21247" href="MLTT.Sigma.html#423" class="Function">ê‰</a> <a id="21249" href="Games.TypeTrees.html#942" class="Function">Path</a> <a id="21254" class="Symbol">(</a><a id="21255" href="Games.OptimalPlays.html#16192" class="Function">prune</a> <a id="21261" href="Games.OptimalPlays.html#19984" class="Bound">Xt</a> <a id="21264" href="Games.OptimalPlays.html#19987" class="Bound">q</a> <a id="21266" href="Games.OptimalPlays.html#19989" class="Bound">Ï•t</a><a id="21268" class="Symbol">)</a> <a id="21270" href="MLTT.Sigma.html#423" class="Function">,</a> <a id="21272" href="Games.OptimalPlays.html#16967" class="Function">inclusion</a> <a id="21282" href="Games.OptimalPlays.html#19989" class="Bound">Ï•t</a> <a id="21285" href="Games.OptimalPlays.html#19987" class="Bound">q</a> <a id="21287" href="Games.OptimalPlays.html#21243" class="Bound">xos</a> <a id="21291" href="MLTT.Id.html#193" class="Datatype Operator">ï¼</a> <a id="21293" href="Games.OptimalPlays.html#20461" class="Bound">xs</a>
    <a id="21300" href="Games.OptimalPlays.html#21237" class="Function">Ïƒ</a> <a id="21302" class="Symbol">=</a> <a id="21304" href="Games.OptimalPlays.html#17988" class="Function">lemmaâ†</a> <a id="21311" href="Games.OptimalPlays.html#19987" class="Bound">q</a> <a id="21313" href="Games.OptimalPlays.html#19989" class="Bound">Ï•t</a> <a id="21316" href="Games.OptimalPlays.html#20461" class="Bound">xs</a> <a id="21319" href="Games.OptimalPlays.html#21216" class="Bound">o</a>

    <a id="21326" href="Games.OptimalPlays.html#21326" class="Function">I</a> <a id="21328" class="Symbol">:</a> <a id="21330" href="Notation.General.html#3219" class="Function">type-of</a> <a id="21338" href="Games.OptimalPlays.html#21237" class="Function">Ïƒ</a> <a id="21340" class="Symbol">â†’</a> <a id="21342" href="MLTT.List.html#3417" class="Datatype">member</a> <a id="21349" href="Games.OptimalPlays.html#20461" class="Bound">xs</a> <a id="21352" href="Games.OptimalPlays.html#20062" class="Function">optimal-plays&#39;</a>
    <a id="21371" href="Games.OptimalPlays.html#21326" class="Function">I</a> <a id="21373" class="Symbol">(</a><a id="21374" href="Games.OptimalPlays.html#21374" class="Bound">xos</a> <a id="21378" href="MLTT.Sigma.html#395" class="InductiveConstructor Operator">,</a> <a id="21380" href="Games.OptimalPlays.html#21380" class="Bound">e</a><a id="21381" class="Symbol">)</a> <a id="21383" class="Symbol">=</a> <a id="21385" href="Games.OptimalPlays.html#21699" class="Function">Iâ‚‚</a>
     <a id="21393" class="Keyword">where</a>
      <a id="21405" href="Games.OptimalPlays.html#21405" class="Function">Iâ‚€</a> <a id="21408" class="Symbol">:</a> <a id="21410" href="MLTT.List.html#3417" class="Datatype">member</a> <a id="21417" href="Games.OptimalPlays.html#21374" class="Bound">xos</a> <a id="21421" href="Games.OptimalPlays.html#20503" class="Function">xss&#39;</a>
      <a id="21432" href="Games.OptimalPlays.html#21405" class="Function">Iâ‚€</a> <a id="21435" class="Symbol">=</a> <a id="21437" href="Games.TypeTrees.html#6149" class="Function">path-is-member-of-list-of-all-paths</a>
            <a id="21485" class="Symbol">(</a><a id="21486" href="Games.OptimalPlays.html#16192" class="Function">prune</a> <a id="21492" href="Games.OptimalPlays.html#19984" class="Bound">Xt</a> <a id="21495" href="Games.OptimalPlays.html#19987" class="Bound">q</a> <a id="21497" href="Games.OptimalPlays.html#19989" class="Bound">Ï•t</a><a id="21499" class="Symbol">)</a>
            <a id="21513" class="Symbol">(</a><a id="21514" href="Games.OptimalPlays.html#18998" class="Function">prune-is-listed</a> <a id="21530" href="Games.OptimalPlays.html#19984" class="Bound">Xt</a> <a id="21533" href="Games.OptimalPlays.html#19987" class="Bound">q</a> <a id="21535" href="Games.OptimalPlays.html#19989" class="Bound">Ï•t</a> <a id="21538" href="Games.OptimalPlays.html#20011" class="Bound">Xt-is-listed</a><a id="21550" class="Symbol">)</a>
            <a id="21564" href="Games.OptimalPlays.html#21374" class="Bound">xos</a>

      <a id="21575" href="Games.OptimalPlays.html#21575" class="Function">Iâ‚</a> <a id="21578" class="Symbol">:</a> <a id="21580" href="MLTT.List.html#3417" class="Datatype">member</a> <a id="21587" class="Symbol">(</a><a id="21588" href="Games.OptimalPlays.html#16967" class="Function">inclusion</a> <a id="21598" href="Games.OptimalPlays.html#19989" class="Bound">Ï•t</a> <a id="21601" href="Games.OptimalPlays.html#19987" class="Bound">q</a> <a id="21603" href="Games.OptimalPlays.html#21374" class="Bound">xos</a><a id="21606" class="Symbol">)</a> <a id="21608" class="Symbol">(</a><a id="21609" href="Games.OptimalPlays.html#784" class="Function">lmap</a> <a id="21614" class="Symbol">(</a><a id="21615" href="Games.OptimalPlays.html#16967" class="Function">inclusion</a> <a id="21625" href="Games.OptimalPlays.html#19989" class="Bound">Ï•t</a> <a id="21628" href="Games.OptimalPlays.html#19987" class="Bound">q</a><a id="21629" class="Symbol">)</a> <a id="21631" href="Games.OptimalPlays.html#20503" class="Function">xss&#39;</a><a id="21635" class="Symbol">)</a>
      <a id="21643" href="Games.OptimalPlays.html#21575" class="Function">Iâ‚</a> <a id="21646" class="Symbol">=</a> <a id="21648" href="MLTT.List.html#20029" class="Function">member-of-mapâ†’</a> <a id="21663" class="Symbol">(</a><a id="21664" href="Games.OptimalPlays.html#16967" class="Function">inclusion</a> <a id="21674" href="Games.OptimalPlays.html#19989" class="Bound">Ï•t</a> <a id="21677" href="Games.OptimalPlays.html#19987" class="Bound">q</a><a id="21678" class="Symbol">)</a> <a id="21680" href="Games.OptimalPlays.html#20503" class="Function">xss&#39;</a> <a id="21685" href="Games.OptimalPlays.html#21374" class="Bound">xos</a> <a id="21689" href="Games.OptimalPlays.html#21405" class="Function">Iâ‚€</a>

      <a id="21699" href="Games.OptimalPlays.html#21699" class="Function">Iâ‚‚</a> <a id="21702" class="Symbol">:</a> <a id="21704" href="MLTT.List.html#3417" class="Datatype">member</a> <a id="21711" href="Games.OptimalPlays.html#20461" class="Bound">xs</a> <a id="21714" class="Symbol">(</a><a id="21715" href="Games.OptimalPlays.html#784" class="Function">lmap</a> <a id="21720" class="Symbol">(</a><a id="21721" href="Games.OptimalPlays.html#16967" class="Function">inclusion</a> <a id="21731" href="Games.OptimalPlays.html#19989" class="Bound">Ï•t</a> <a id="21734" href="Games.OptimalPlays.html#19987" class="Bound">q</a><a id="21735" class="Symbol">)</a> <a id="21737" href="Games.OptimalPlays.html#20503" class="Function">xss&#39;</a><a id="21741" class="Symbol">)</a>
      <a id="21749" href="Games.OptimalPlays.html#21699" class="Function">Iâ‚‚</a> <a id="21752" class="Symbol">=</a> <a id="21754" href="MLTT.Id.html#735" class="Function">transport</a> <a id="21764" class="Symbol">(Î»</a> <a id="21767" href="Games.OptimalPlays.html#21767" class="Bound">-</a> <a id="21769" class="Symbol">â†’</a> <a id="21771" href="MLTT.List.html#3417" class="Datatype">member</a> <a id="21778" href="Games.OptimalPlays.html#21767" class="Bound">-</a> <a id="21780" class="Symbol">(</a><a id="21781" href="Games.OptimalPlays.html#784" class="Function">lmap</a> <a id="21786" class="Symbol">(</a><a id="21787" href="Games.OptimalPlays.html#16967" class="Function">inclusion</a> <a id="21797" href="Games.OptimalPlays.html#19989" class="Bound">Ï•t</a> <a id="21800" href="Games.OptimalPlays.html#19987" class="Bound">q</a><a id="21801" class="Symbol">)</a> <a id="21803" href="Games.OptimalPlays.html#20503" class="Function">xss&#39;</a><a id="21807" class="Symbol">))</a> <a id="21810" href="Games.OptimalPlays.html#21380" class="Bound">e</a> <a id="21812" href="Games.OptimalPlays.html#21575" class="Function">Iâ‚</a>

<a id="21816" class="Markup">\end{code}</a><a id="21826" class="Background">

Notice that this way of computing the optimal plays doesn&#39;t need the
assumption that the quantifiers are attainable.

In general, there are games where the quantifiers are not attainable,
so that the &quot;optimal outcome&quot; of a game still exists (the product of
the quantifiers), but there are no strategies which lead to the
optimal outcome, so that the list of optimal plays will be empty.
</a></pre></body></html>