<!DOCTYPE HTML>
<html><head><meta charset="utf-8"><title>InfinitePigeon.K-Shift-MBR</title><link rel="stylesheet" href="Agda.css"><script type="text/javascript" src="highlight-hover.js"></script></head><body><pre class="Agda"><a id="1" class="Comment">-- Martin Escardo and Paulo Oliva 2011</a>

<a id="41" class="Symbol">{-#</a> <a id="45" class="Keyword">OPTIONS</a> <a id="53" class="Pragma">--without-K</a> <a id="65" class="Pragma">--no-termination-check</a> <a id="88" class="Symbol">#-}</a>

<a id="93" class="Comment">-- We use Berger&#39;s modified bar recursion functional to realize the</a>
<a id="161" class="Comment">-- K-Shift.</a>

<a id="174" class="Keyword">module</a> <a id="181" href="InfinitePigeon.K-Shift-MBR.html" class="Module">InfinitePigeon.K-Shift-MBR</a> <a id="208" class="Keyword">where</a>

<a id="215" class="Keyword">open</a> <a id="220" class="Keyword">import</a> <a id="227" href="InfinitePigeon.Finite.html" class="Module">InfinitePigeon.Finite</a>
<a id="249" class="Keyword">open</a> <a id="254" class="Keyword">import</a> <a id="261" href="InfinitePigeon.JK-Monads.html" class="Module">InfinitePigeon.JK-Monads</a>
<a id="286" class="Keyword">open</a> <a id="291" class="Keyword">import</a> <a id="298" href="InfinitePigeon.Logic.html" class="Module">InfinitePigeon.Logic</a>
<a id="319" class="Keyword">open</a> <a id="324" class="Keyword">import</a> <a id="331" href="InfinitePigeon.LogicalFacts.html" class="Module">InfinitePigeon.LogicalFacts</a>
<a id="359" class="Keyword">open</a> <a id="364" class="Keyword">import</a> <a id="371" href="InfinitePigeon.Naturals.html" class="Module">InfinitePigeon.Naturals</a>

<a id="K-∀-shift-mbr"></a><a id="396" href="InfinitePigeon.K-Shift-MBR.html#396" class="Function">K-∀-shift-mbr</a> <a id="410" class="Symbol">:</a> <a id="412" class="Symbol">{</a><a id="413" href="InfinitePigeon.K-Shift-MBR.html#413" class="Bound">R</a> <a id="415" class="Symbol">:</a> <a id="417" href="InfinitePigeon.Logic.html#168" class="Function">Ω</a><a id="418" class="Symbol">}</a> <a id="420" class="Symbol">{</a><a id="421" href="InfinitePigeon.K-Shift-MBR.html#421" class="Bound">A</a> <a id="423" class="Symbol">:</a> <a id="425" href="MLTT.Natural-Numbers-Type.html#96" class="Datatype">ℕ</a> <a id="427" class="Symbol">→</a> <a id="429" href="InfinitePigeon.Logic.html#168" class="Function">Ω</a><a id="430" class="Symbol">}</a> <a id="432" class="Symbol">→</a>
<a id="434" class="Comment">-------------</a>
            <a id="460" class="Symbol">(∀(</a><a id="463" href="InfinitePigeon.K-Shift-MBR.html#463" class="Bound">n</a> <a id="465" class="Symbol">:</a> <a id="467" href="MLTT.Natural-Numbers-Type.html#96" class="Datatype">ℕ</a><a id="468" class="Symbol">)</a> <a id="470" class="Symbol">→</a> <a id="472" href="InfinitePigeon.K-Shift-MBR.html#413" class="Bound">R</a> <a id="474" class="Symbol">→</a> <a id="476" href="InfinitePigeon.K-Shift-MBR.html#421" class="Bound">A</a> <a id="478" href="InfinitePigeon.K-Shift-MBR.html#463" class="Bound">n</a><a id="479" class="Symbol">)</a> <a id="481" class="Symbol">→</a>                   <a id="501" class="Comment">-- efqs,</a>
            <a id="522" class="Symbol">(∀(</a><a id="525" href="InfinitePigeon.K-Shift-MBR.html#525" class="Bound">n</a> <a id="527" class="Symbol">:</a> <a id="529" href="MLTT.Natural-Numbers-Type.html#96" class="Datatype">ℕ</a><a id="530" class="Symbol">)</a> <a id="532" class="Symbol">→</a> <a id="534" href="InfinitePigeon.JK-Monads.html#511" class="Function">K</a><a id="535" class="Symbol">(</a><a id="536" href="InfinitePigeon.K-Shift-MBR.html#421" class="Bound">A</a> <a id="538" href="InfinitePigeon.K-Shift-MBR.html#525" class="Bound">n</a><a id="539" class="Symbol">))</a> <a id="542" class="Symbol">→</a> <a id="544" href="InfinitePigeon.JK-Monads.html#511" class="Function">K</a><a id="545" class="Symbol">(∀(</a><a id="548" href="InfinitePigeon.K-Shift-MBR.html#548" class="Bound">n</a> <a id="550" class="Symbol">:</a> <a id="552" href="MLTT.Natural-Numbers-Type.html#96" class="Datatype">ℕ</a><a id="553" class="Symbol">)</a> <a id="555" class="Symbol">→</a> <a id="557" href="InfinitePigeon.K-Shift-MBR.html#421" class="Bound">A</a> <a id="559" href="InfinitePigeon.K-Shift-MBR.html#548" class="Bound">n</a><a id="560" class="Symbol">)</a>  <a id="563" class="Comment">-- shift.</a>

<a id="574" href="InfinitePigeon.K-Shift-MBR.html#396" class="Function">K-∀-shift-mbr</a> <a id="588" class="Symbol">{</a><a id="589" href="InfinitePigeon.K-Shift-MBR.html#589" class="Bound">R</a><a id="590" class="Symbol">}</a> <a id="592" class="Symbol">{</a><a id="593" href="InfinitePigeon.K-Shift-MBR.html#593" class="Bound">A</a><a id="594" class="Symbol">}</a> <a id="596" href="InfinitePigeon.K-Shift-MBR.html#596" class="Bound">efqs</a> <a id="601" href="InfinitePigeon.K-Shift-MBR.html#601" class="Bound">φs</a> <a id="604" href="InfinitePigeon.K-Shift-MBR.html#604" class="Bound">p</a> <a id="606" class="Symbol">=</a> <a id="608" href="InfinitePigeon.K-Shift-MBR.html#634" class="Function">mbr</a> <a id="612" class="Symbol">{</a><a id="613" class="Number">0</a><a id="614" class="Symbol">}</a> <a id="616" class="Symbol">(λ</a> <a id="619" class="Symbol">())</a>
  <a id="625" class="Keyword">where</a>
   <a id="634" href="InfinitePigeon.K-Shift-MBR.html#634" class="Function">mbr</a> <a id="638" class="Symbol">:</a> <a id="640" class="Symbol">{</a><a id="641" href="InfinitePigeon.K-Shift-MBR.html#641" class="Bound">m</a> <a id="643" class="Symbol">:</a> <a id="645" href="MLTT.Natural-Numbers-Type.html#96" class="Datatype">ℕ</a><a id="646" class="Symbol">}</a> <a id="648" class="Symbol">→</a> <a id="650" class="Symbol">(∀(</a><a id="653" href="InfinitePigeon.K-Shift-MBR.html#653" class="Bound">i</a> <a id="655" class="Symbol">:</a> <a id="657" href="InfinitePigeon.Finite.html#346" class="Datatype">smaller</a> <a id="665" href="InfinitePigeon.K-Shift-MBR.html#641" class="Bound">m</a><a id="666" class="Symbol">)</a> <a id="668" class="Symbol">→</a> <a id="670" href="InfinitePigeon.K-Shift-MBR.html#593" class="Bound">A</a><a id="671" class="Symbol">(</a><a id="672" href="InfinitePigeon.Finite.html#456" class="Function">embed</a> <a id="678" href="InfinitePigeon.K-Shift-MBR.html#653" class="Bound">i</a><a id="679" class="Symbol">))</a> <a id="682" class="Symbol">→</a> <a id="684" href="InfinitePigeon.K-Shift-MBR.html#589" class="Bound">R</a>
   <a id="689" href="InfinitePigeon.K-Shift-MBR.html#634" class="Function">mbr</a> <a id="693" class="Symbol">{</a><a id="694" href="InfinitePigeon.K-Shift-MBR.html#694" class="Bound">m</a><a id="695" class="Symbol">}</a> <a id="697" href="InfinitePigeon.K-Shift-MBR.html#697" class="Bound">s</a> <a id="699" class="Symbol">=</a> <a id="701" href="InfinitePigeon.K-Shift-MBR.html#604" class="Bound">p</a><a id="702" class="Symbol">(</a><a id="703" href="InfinitePigeon.Finite.html#3121" class="Function">override</a> <a id="712" href="InfinitePigeon.K-Shift-MBR.html#697" class="Bound">s</a> <a id="714" class="Symbol">(λ</a> <a id="717" href="InfinitePigeon.K-Shift-MBR.html#717" class="Bound">n</a> <a id="719" class="Symbol">→</a> <a id="721" href="InfinitePigeon.K-Shift-MBR.html#596" class="Bound">efqs</a> <a id="726" href="InfinitePigeon.K-Shift-MBR.html#717" class="Bound">n</a> <a id="728" class="Symbol">(</a><a id="729" href="InfinitePigeon.K-Shift-MBR.html#601" class="Bound">φs</a> <a id="732" href="InfinitePigeon.K-Shift-MBR.html#694" class="Bound">m</a> <a id="734" class="Symbol">(λ</a> <a id="737" href="InfinitePigeon.K-Shift-MBR.html#737" class="Bound">x</a> <a id="739" class="Symbol">→</a> <a id="741" href="InfinitePigeon.K-Shift-MBR.html#634" class="Function">mbr</a><a id="744" class="Symbol">(</a><a id="745" href="InfinitePigeon.Finite.html#3540" class="Function">append</a> <a id="752" class="Symbol">{</a><a id="753" href="InfinitePigeon.K-Shift-MBR.html#593" class="Bound">A</a><a id="754" class="Symbol">}</a> <a id="756" href="InfinitePigeon.K-Shift-MBR.html#697" class="Bound">s</a> <a id="758" href="InfinitePigeon.K-Shift-MBR.html#737" class="Bound">x</a><a id="759" class="Symbol">)))))</a>
</pre></body></html>