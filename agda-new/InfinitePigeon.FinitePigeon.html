<!DOCTYPE HTML>
<html><head><meta charset="utf-8"><title>InfinitePigeon.FinitePigeon</title><link rel="stylesheet" href="Agda.css"><script type="text/javascript" src="highlight-hover.js"></script></head><body><pre class="Agda"><a id="1" class="Comment">-- Martin Escardo and Paulo Oliva 2011</a>

<a id="41" class="Symbol">{-#</a> <a id="45" class="Keyword">OPTIONS</a> <a id="53" class="Pragma">--without-K</a> <a id="65" class="Symbol">#-}</a>

<a id="70" class="Keyword">module</a> <a id="77" href="InfinitePigeon.FinitePigeon.html" class="Module">InfinitePigeon.FinitePigeon</a> <a id="105" class="Keyword">where</a>

<a id="112" class="Keyword">open</a> <a id="117" class="Keyword">import</a> <a id="124" href="InfinitePigeon.Addition.html" class="Module">InfinitePigeon.Addition</a>
<a id="148" class="Keyword">open</a> <a id="153" class="Keyword">import</a> <a id="160" href="InfinitePigeon.Cantor.html" class="Module">InfinitePigeon.Cantor</a>
<a id="182" class="Keyword">open</a> <a id="187" class="Keyword">import</a> <a id="194" href="InfinitePigeon.Equality.html" class="Module">InfinitePigeon.Equality</a>
<a id="218" class="Keyword">open</a> <a id="223" class="Keyword">import</a> <a id="230" href="InfinitePigeon.Finite.html" class="Module">InfinitePigeon.Finite</a>
<a id="252" class="Keyword">open</a> <a id="257" class="Keyword">import</a> <a id="264" href="InfinitePigeon.InfinitePigeon.html" class="Module">InfinitePigeon.InfinitePigeon</a>
<a id="294" class="Keyword">open</a> <a id="299" class="Keyword">import</a> <a id="306" href="InfinitePigeon.JK-LogicalFacts.html" class="Module">InfinitePigeon.JK-LogicalFacts</a>
<a id="337" class="Keyword">open</a> <a id="342" class="Keyword">import</a> <a id="349" href="InfinitePigeon.JK-Monads.html" class="Module">InfinitePigeon.JK-Monads</a>
<a id="374" class="Keyword">open</a> <a id="379" class="Keyword">import</a> <a id="386" href="InfinitePigeon.Logic.html" class="Module">InfinitePigeon.Logic</a>
<a id="407" class="Keyword">open</a> <a id="412" class="Keyword">import</a> <a id="419" href="InfinitePigeon.LogicalFacts.html" class="Module">InfinitePigeon.LogicalFacts</a>
<a id="447" class="Keyword">open</a> <a id="452" class="Keyword">import</a> <a id="459" href="InfinitePigeon.Naturals.html" class="Module">InfinitePigeon.Naturals</a>
<a id="483" class="Keyword">open</a> <a id="488" class="Keyword">import</a> <a id="495" href="InfinitePigeon.Order.html" class="Module">InfinitePigeon.Order</a>
<a id="516" class="Keyword">open</a> <a id="521" class="Keyword">import</a> <a id="528" href="InfinitePigeon.Two.html" class="Module">InfinitePigeon.Two</a>


<a id="549" class="Comment">-- We use the classical, infinite pigeonhole principle (in another</a>
<a id="616" class="Comment">-- module) to derive a finite one:</a>


<a id="Finite-Pigeonhole"></a><a id="653" href="InfinitePigeon.FinitePigeon.html#653" class="Function">Finite-Pigeonhole</a> <a id="671" class="Symbol">:</a> <a id="673" href="InfinitePigeon.Cantor.html#181" class="Function">₂ℕ</a> <a id="676" class="Symbol">→</a> <a id="678" href="MLTT.Natural-Numbers-Type.html#96" class="Datatype">ℕ</a> <a id="680" class="Symbol">→</a> <a id="682" href="InfinitePigeon.Logic.html#168" class="Function">Ω</a>
<a id="684" href="InfinitePigeon.FinitePigeon.html#653" class="Function">Finite-Pigeonhole</a> <a id="702" href="InfinitePigeon.FinitePigeon.html#702" class="Bound">α</a> <a id="704" href="InfinitePigeon.FinitePigeon.html#704" class="Bound">m</a> <a id="706" class="Symbol">=</a>
    <a id="712" href="InfinitePigeon.Logic.html#1148" class="Datatype">∃</a> <a id="714" class="Symbol">\(</a><a id="716" href="InfinitePigeon.FinitePigeon.html#716" class="Bound">b</a> <a id="718" class="Symbol">:</a> <a id="720" href="InfinitePigeon.Two.html#115" class="Datatype">₂</a><a id="721" class="Symbol">)</a> <a id="723" class="Symbol">→</a> <a id="725" href="InfinitePigeon.Logic.html#1148" class="Datatype">∃</a> <a id="727" class="Symbol">\(</a><a id="729" href="InfinitePigeon.FinitePigeon.html#729" class="Bound">s</a> <a id="731" class="Symbol">:</a> <a id="733" href="InfinitePigeon.Finite.html#346" class="Datatype">smaller</a><a id="740" class="Symbol">(</a><a id="741" href="InfinitePigeon.FinitePigeon.html#704" class="Bound">m</a> <a id="743" href="InfinitePigeon.Addition.html#578" class="Function Operator">+</a> <a id="745" class="Number">1</a><a id="746" class="Symbol">)</a> <a id="748" class="Symbol">→</a> <a id="750" href="MLTT.Natural-Numbers-Type.html#96" class="Datatype">ℕ</a><a id="751" class="Symbol">)</a> <a id="753" class="Symbol">→</a>
                    <a id="775" class="Symbol">(∀(</a><a id="778" href="InfinitePigeon.FinitePigeon.html#778" class="Bound">n</a> <a id="780" class="Symbol">:</a> <a id="782" href="InfinitePigeon.Finite.html#346" class="Datatype">smaller</a> <a id="790" href="InfinitePigeon.FinitePigeon.html#704" class="Bound">m</a><a id="791" class="Symbol">)</a> <a id="793" class="Symbol">→</a> <a id="795" href="InfinitePigeon.FinitePigeon.html#729" class="Bound">s</a><a id="796" class="Symbol">(</a><a id="797" href="InfinitePigeon.Finite.html#655" class="Function">coerce</a> <a id="804" href="InfinitePigeon.FinitePigeon.html#778" class="Bound">n</a><a id="805" class="Symbol">)</a> <a id="807" href="InfinitePigeon.Order.html#302" class="Function Operator">&lt;</a> <a id="809" href="InfinitePigeon.FinitePigeon.html#729" class="Bound">s</a><a id="810" class="Symbol">(</a><a id="811" href="InfinitePigeon.Finite.html#408" class="InductiveConstructor">fsucc</a> <a id="817" href="InfinitePigeon.FinitePigeon.html#778" class="Bound">n</a><a id="818" class="Symbol">))</a>
                  <a id="839" href="InfinitePigeon.Logic.html#373" class="Datatype Operator">∧</a> <a id="841" class="Symbol">(∀(</a><a id="844" href="InfinitePigeon.FinitePigeon.html#844" class="Bound">n</a> <a id="846" class="Symbol">:</a> <a id="848" href="InfinitePigeon.Finite.html#346" class="Datatype">smaller</a><a id="855" class="Symbol">(</a><a id="856" href="InfinitePigeon.FinitePigeon.html#704" class="Bound">m</a> <a id="858" href="InfinitePigeon.Addition.html#578" class="Function Operator">+</a> <a id="860" class="Number">1</a><a id="861" class="Symbol">))</a> <a id="864" class="Symbol">→</a> <a id="866" href="InfinitePigeon.FinitePigeon.html#702" class="Bound">α</a><a id="867" class="Symbol">(</a><a id="868" href="InfinitePigeon.FinitePigeon.html#729" class="Bound">s</a> <a id="870" href="InfinitePigeon.FinitePigeon.html#844" class="Bound">n</a><a id="871" class="Symbol">)</a> <a id="873" href="InfinitePigeon.Equality.html#154" class="Datatype Operator">≡</a> <a id="875" href="InfinitePigeon.FinitePigeon.html#716" class="Bound">b</a><a id="876" class="Symbol">)</a>


<a id="880" class="Comment">-- Before proving this in the theorem below, we prove it prefixed by K</a>
<a id="951" class="Comment">-- in the following lemma, where some sublemmas have K deep inside,</a>
<a id="1019" class="Comment">-- prefixing the equation:</a>


<a id="Finite-Pigeonhole-K"></a><a id="1048" href="InfinitePigeon.FinitePigeon.html#1048" class="Function">Finite-Pigeonhole-K</a> <a id="1068" class="Symbol">:</a> <a id="1070" class="Symbol">{</a><a id="1071" href="InfinitePigeon.FinitePigeon.html#1071" class="Bound">R</a> <a id="1073" class="Symbol">:</a> <a id="1075" href="InfinitePigeon.Logic.html#168" class="Function">Ω</a><a id="1076" class="Symbol">}</a> <a id="1078" class="Symbol">→</a> <a id="1080" href="InfinitePigeon.Cantor.html#181" class="Function">₂ℕ</a> <a id="1083" class="Symbol">→</a> <a id="1085" href="MLTT.Natural-Numbers-Type.html#96" class="Datatype">ℕ</a> <a id="1087" class="Symbol">→</a> <a id="1089" href="InfinitePigeon.Logic.html#168" class="Function">Ω</a>
<a id="1091" href="InfinitePigeon.FinitePigeon.html#1048" class="Function">Finite-Pigeonhole-K</a> <a id="1111" class="Symbol">{</a><a id="1112" href="InfinitePigeon.FinitePigeon.html#1112" class="Bound">R</a><a id="1113" class="Symbol">}</a> <a id="1115" href="InfinitePigeon.FinitePigeon.html#1115" class="Bound">α</a> <a id="1117" href="InfinitePigeon.FinitePigeon.html#1117" class="Bound">m</a> <a id="1119" class="Symbol">=</a>
    <a id="1125" href="InfinitePigeon.Logic.html#1148" class="Datatype">∃</a> <a id="1127" class="Symbol">\(</a><a id="1129" href="InfinitePigeon.FinitePigeon.html#1129" class="Bound">b</a> <a id="1131" class="Symbol">:</a> <a id="1133" href="InfinitePigeon.Two.html#115" class="Datatype">₂</a><a id="1134" class="Symbol">)</a> <a id="1136" class="Symbol">→</a> <a id="1138" href="InfinitePigeon.Logic.html#1148" class="Datatype">∃</a> <a id="1140" class="Symbol">\(</a><a id="1142" href="InfinitePigeon.FinitePigeon.html#1142" class="Bound">s</a> <a id="1144" class="Symbol">:</a> <a id="1146" href="InfinitePigeon.Finite.html#346" class="Datatype">smaller</a><a id="1153" class="Symbol">(</a><a id="1154" href="InfinitePigeon.FinitePigeon.html#1117" class="Bound">m</a> <a id="1156" href="InfinitePigeon.Addition.html#578" class="Function Operator">+</a> <a id="1158" class="Number">1</a><a id="1159" class="Symbol">)</a> <a id="1161" class="Symbol">→</a> <a id="1163" href="MLTT.Natural-Numbers-Type.html#96" class="Datatype">ℕ</a><a id="1164" class="Symbol">)</a> <a id="1166" class="Symbol">→</a>
                    <a id="1188" class="Symbol">(∀(</a><a id="1191" href="InfinitePigeon.FinitePigeon.html#1191" class="Bound">n</a> <a id="1193" class="Symbol">:</a> <a id="1195" href="InfinitePigeon.Finite.html#346" class="Datatype">smaller</a> <a id="1203" href="InfinitePigeon.FinitePigeon.html#1117" class="Bound">m</a><a id="1204" class="Symbol">)</a> <a id="1206" class="Symbol">→</a> <a id="1208" href="InfinitePigeon.FinitePigeon.html#1142" class="Bound">s</a><a id="1209" class="Symbol">(</a><a id="1210" href="InfinitePigeon.Finite.html#655" class="Function">coerce</a> <a id="1217" href="InfinitePigeon.FinitePigeon.html#1191" class="Bound">n</a><a id="1218" class="Symbol">)</a> <a id="1220" href="InfinitePigeon.Order.html#302" class="Function Operator">&lt;</a> <a id="1222" href="InfinitePigeon.FinitePigeon.html#1142" class="Bound">s</a><a id="1223" class="Symbol">(</a><a id="1224" href="InfinitePigeon.Finite.html#408" class="InductiveConstructor">fsucc</a> <a id="1230" href="InfinitePigeon.FinitePigeon.html#1191" class="Bound">n</a><a id="1231" class="Symbol">))</a>
                  <a id="1252" href="InfinitePigeon.Logic.html#373" class="Datatype Operator">∧</a> <a id="1254" class="Symbol">(∀(</a><a id="1257" href="InfinitePigeon.FinitePigeon.html#1257" class="Bound">n</a> <a id="1259" class="Symbol">:</a> <a id="1261" href="InfinitePigeon.Finite.html#346" class="Datatype">smaller</a><a id="1268" class="Symbol">(</a><a id="1269" href="InfinitePigeon.FinitePigeon.html#1117" class="Bound">m</a> <a id="1271" href="InfinitePigeon.Addition.html#578" class="Function Operator">+</a> <a id="1273" class="Number">1</a><a id="1274" class="Symbol">))</a> <a id="1277" class="Symbol">→</a> <a id="1279" href="InfinitePigeon.JK-Monads.html#511" class="Function">K</a><a id="1280" class="Symbol">{</a><a id="1281" href="InfinitePigeon.FinitePigeon.html#1112" class="Bound">R</a><a id="1282" class="Symbol">}(</a><a id="1284" href="InfinitePigeon.FinitePigeon.html#1115" class="Bound">α</a><a id="1285" class="Symbol">(</a><a id="1286" href="InfinitePigeon.FinitePigeon.html#1142" class="Bound">s</a> <a id="1288" href="InfinitePigeon.FinitePigeon.html#1257" class="Bound">n</a><a id="1289" class="Symbol">)</a> <a id="1291" href="InfinitePigeon.Equality.html#154" class="Datatype Operator">≡</a> <a id="1293" href="InfinitePigeon.FinitePigeon.html#1129" class="Bound">b</a><a id="1294" class="Symbol">))</a>


<a id="finite-pigeonhole-lemma"></a><a id="1299" href="InfinitePigeon.FinitePigeon.html#1299" class="Function">finite-pigeonhole-lemma</a> <a id="1323" class="Symbol">:</a> <a id="1325" class="Symbol">{</a><a id="1326" href="InfinitePigeon.FinitePigeon.html#1326" class="Bound">R</a> <a id="1328" class="Symbol">:</a> <a id="1330" href="InfinitePigeon.Logic.html#168" class="Function">Ω</a><a id="1331" class="Symbol">}</a> <a id="1333" class="Symbol">→</a>
<a id="1335" class="Comment">-----------------------</a>

 <a id="1361" class="Symbol">∀(</a><a id="1363" href="InfinitePigeon.FinitePigeon.html#1363" class="Bound">α</a> <a id="1365" class="Symbol">:</a> <a id="1367" href="InfinitePigeon.Cantor.html#181" class="Function">₂ℕ</a><a id="1369" class="Symbol">)</a> <a id="1371" class="Symbol">→</a> <a id="1373" class="Symbol">∀(</a><a id="1375" href="InfinitePigeon.FinitePigeon.html#1375" class="Bound">m</a> <a id="1377" class="Symbol">:</a> <a id="1379" href="MLTT.Natural-Numbers-Type.html#96" class="Datatype">ℕ</a><a id="1380" class="Symbol">)</a> <a id="1382" class="Symbol">→</a> <a id="1384" href="InfinitePigeon.JK-Monads.html#511" class="Function">K</a><a id="1385" class="Symbol">(</a><a id="1386" href="InfinitePigeon.FinitePigeon.html#653" class="Function">Finite-Pigeonhole</a> <a id="1404" href="InfinitePigeon.FinitePigeon.html#1363" class="Bound">α</a> <a id="1406" href="InfinitePigeon.FinitePigeon.html#1375" class="Bound">m</a><a id="1407" class="Symbol">)</a>


<a id="1411" href="InfinitePigeon.FinitePigeon.html#1299" class="Function">finite-pigeonhole-lemma</a> <a id="1435" class="Symbol">{</a><a id="1436" href="InfinitePigeon.FinitePigeon.html#1436" class="Bound">R</a><a id="1437" class="Symbol">}</a> <a id="1439" href="InfinitePigeon.FinitePigeon.html#1439" class="Bound">α</a> <a id="1441" href="InfinitePigeon.FinitePigeon.html#1441" class="Bound">m</a> <a id="1443" class="Symbol">=</a>  <a id="1446" href="InfinitePigeon.JK-Monads.html#4446" class="Function">K-extend</a> <a id="1455" href="InfinitePigeon.FinitePigeon.html#2314" class="Function">lemma₂</a> <a id="1462" href="InfinitePigeon.FinitePigeon.html#2232" class="Function">lemma₁</a>
 <a id="1470" class="Keyword">where</a>
  <a id="1478" href="InfinitePigeon.FinitePigeon.html#1478" class="Function">lemma₀</a> <a id="1485" class="Symbol">:</a> <a id="1487" href="InfinitePigeon.InfinitePigeon.html#4156" class="Function">Pigeonhole</a> <a id="1498" href="InfinitePigeon.FinitePigeon.html#1439" class="Bound">α</a> <a id="1500" class="Symbol">→</a> <a id="1502" href="InfinitePigeon.FinitePigeon.html#1048" class="Function">Finite-Pigeonhole-K</a> <a id="1522" class="Symbol">{</a><a id="1523" href="InfinitePigeon.FinitePigeon.html#1436" class="Bound">R</a><a id="1524" class="Symbol">}</a> <a id="1526" href="InfinitePigeon.FinitePigeon.html#1439" class="Bound">α</a> <a id="1528" href="InfinitePigeon.FinitePigeon.html#1441" class="Bound">m</a>
  <a id="1532" href="InfinitePigeon.FinitePigeon.html#1478" class="Function">lemma₀</a> <a id="1539" class="Symbol">(</a><a id="1540" href="InfinitePigeon.Logic.html#1187" class="InductiveConstructor">∃-intro</a> <a id="1548" href="InfinitePigeon.FinitePigeon.html#1548" class="Bound">b</a> <a id="1550" class="Symbol">(</a><a id="1551" href="InfinitePigeon.Logic.html#1187" class="InductiveConstructor">∃-intro</a> <a id="1559" href="InfinitePigeon.FinitePigeon.html#1559" class="Bound">g</a> <a id="1561" href="InfinitePigeon.FinitePigeon.html#1561" class="Bound">h</a><a id="1562" class="Symbol">))</a> <a id="1565" class="Symbol">=</a>
          <a id="1577" href="InfinitePigeon.Logic.html#1187" class="InductiveConstructor">∃-intro</a> <a id="1585" href="InfinitePigeon.FinitePigeon.html#1548" class="Bound">b</a> <a id="1587" class="Symbol">(</a><a id="1588" href="InfinitePigeon.Logic.html#1187" class="InductiveConstructor">∃-intro</a> <a id="1596" href="InfinitePigeon.FinitePigeon.html#1637" class="Function">s</a> <a id="1598" class="Symbol">(</a><a id="1599" href="InfinitePigeon.Logic.html#401" class="InductiveConstructor">∧-intro</a> <a id="1607" href="InfinitePigeon.FinitePigeon.html#1804" class="Function">fact₁</a> <a id="1613" href="InfinitePigeon.FinitePigeon.html#2125" class="Function">fact₃</a><a id="1618" class="Symbol">))</a>
    <a id="1625" class="Keyword">where</a>
      <a id="1637" href="InfinitePigeon.FinitePigeon.html#1637" class="Function">s</a> <a id="1639" class="Symbol">:</a> <a id="1641" href="InfinitePigeon.Finite.html#346" class="Datatype">smaller</a><a id="1648" class="Symbol">(</a><a id="1649" href="InfinitePigeon.FinitePigeon.html#1441" class="Bound">m</a> <a id="1651" href="InfinitePigeon.Addition.html#578" class="Function Operator">+</a> <a id="1653" class="Number">1</a><a id="1654" class="Symbol">)</a> <a id="1656" class="Symbol">→</a> <a id="1658" href="MLTT.Natural-Numbers-Type.html#96" class="Datatype">ℕ</a>
      <a id="1666" href="InfinitePigeon.FinitePigeon.html#1637" class="Function">s</a> <a id="1668" class="Symbol">=</a> <a id="1670" href="InfinitePigeon.Finite.html#569" class="Function">restriction</a> <a id="1682" href="InfinitePigeon.FinitePigeon.html#1559" class="Bound">g</a>

      <a id="1691" href="InfinitePigeon.FinitePigeon.html#1691" class="Function">fact₀</a> <a id="1697" class="Symbol">:</a> <a id="1699" class="Symbol">∀(</a><a id="1701" href="InfinitePigeon.FinitePigeon.html#1701" class="Bound">n</a> <a id="1703" class="Symbol">:</a> <a id="1705" href="InfinitePigeon.Finite.html#346" class="Datatype">smaller</a> <a id="1713" href="InfinitePigeon.FinitePigeon.html#1441" class="Bound">m</a><a id="1714" class="Symbol">)</a> <a id="1716" class="Symbol">→</a> <a id="1718" href="InfinitePigeon.FinitePigeon.html#1559" class="Bound">g</a><a id="1719" class="Symbol">(</a><a id="1720" href="InfinitePigeon.Finite.html#456" class="Function">embed</a> <a id="1726" href="InfinitePigeon.FinitePigeon.html#1701" class="Bound">n</a><a id="1727" class="Symbol">)</a> <a id="1729" href="InfinitePigeon.Equality.html#154" class="Datatype Operator">≡</a> <a id="1731" href="InfinitePigeon.FinitePigeon.html#1637" class="Function">s</a><a id="1732" class="Symbol">(</a><a id="1733" href="InfinitePigeon.Finite.html#655" class="Function">coerce</a> <a id="1740" href="InfinitePigeon.FinitePigeon.html#1701" class="Bound">n</a><a id="1741" class="Symbol">)</a>
      <a id="1749" href="InfinitePigeon.FinitePigeon.html#1691" class="Function">fact₀</a> <a id="1755" href="InfinitePigeon.FinitePigeon.html#1755" class="Bound">n</a> <a id="1757" class="Symbol">=</a> <a id="1759" href="InfinitePigeon.Equality.html#622" class="Function">compositionality</a> <a id="1776" href="InfinitePigeon.FinitePigeon.html#1559" class="Bound">g</a> <a id="1778" href="InfinitePigeon.Finite.html#838" class="Function">embed-coerce-lemma</a>

      <a id="1804" href="InfinitePigeon.FinitePigeon.html#1804" class="Function">fact₁</a> <a id="1810" class="Symbol">:</a> <a id="1812" class="Symbol">∀(</a><a id="1814" href="InfinitePigeon.FinitePigeon.html#1814" class="Bound">n</a> <a id="1816" class="Symbol">:</a> <a id="1818" href="InfinitePigeon.Finite.html#346" class="Datatype">smaller</a> <a id="1826" href="InfinitePigeon.FinitePigeon.html#1441" class="Bound">m</a><a id="1827" class="Symbol">)</a> <a id="1829" class="Symbol">→</a> <a id="1831" href="InfinitePigeon.FinitePigeon.html#1637" class="Function">s</a><a id="1832" class="Symbol">(</a><a id="1833" href="InfinitePigeon.Finite.html#655" class="Function">coerce</a> <a id="1840" href="InfinitePigeon.FinitePigeon.html#1814" class="Bound">n</a><a id="1841" class="Symbol">)</a> <a id="1843" href="InfinitePigeon.Order.html#302" class="Function Operator">&lt;</a> <a id="1845" href="InfinitePigeon.FinitePigeon.html#1637" class="Function">s</a><a id="1846" class="Symbol">(</a><a id="1847" href="InfinitePigeon.Finite.html#408" class="InductiveConstructor">fsucc</a> <a id="1853" href="InfinitePigeon.FinitePigeon.html#1814" class="Bound">n</a><a id="1854" class="Symbol">)</a>
      <a id="1862" href="InfinitePigeon.FinitePigeon.html#1804" class="Function">fact₁</a> <a id="1868" href="InfinitePigeon.FinitePigeon.html#1868" class="Bound">n</a> <a id="1870" class="Symbol">=</a> <a id="1872" href="InfinitePigeon.Equality.html#892" class="Function">binary-predicate-compositionality</a> <a id="1906" class="Symbol">{</a><a id="1907" href="MLTT.Natural-Numbers-Type.html#96" class="Datatype">ℕ</a><a id="1908" class="Symbol">}</a> <a id="1910" class="Symbol">{</a><a id="1911" href="MLTT.Natural-Numbers-Type.html#96" class="Datatype">ℕ</a><a id="1912" class="Symbol">}</a> <a id="1914" class="Symbol">{</a><a id="1915" href="InfinitePigeon.Order.html#302" class="Function Operator">_&lt;_</a><a id="1918" class="Symbol">}</a>
                  <a id="1938" class="Symbol">(</a><a id="1939" href="InfinitePigeon.FinitePigeon.html#1691" class="Function">fact₀</a> <a id="1945" href="InfinitePigeon.FinitePigeon.html#1868" class="Bound">n</a><a id="1946" class="Symbol">)</a> <a id="1948" href="InfinitePigeon.Equality.html#188" class="InductiveConstructor">reflexivity</a> <a id="1960" class="Symbol">(</a><a id="1961" href="InfinitePigeon.Logic.html#446" class="Function">∧-elim₀</a><a id="1968" class="Symbol">(</a><a id="1969" href="InfinitePigeon.FinitePigeon.html#1561" class="Bound">h</a><a id="1970" class="Symbol">(</a><a id="1971" href="InfinitePigeon.Finite.html#456" class="Function">embed</a> <a id="1977" href="InfinitePigeon.FinitePigeon.html#1868" class="Bound">n</a><a id="1978" class="Symbol">)))</a>

      <a id="1989" href="InfinitePigeon.FinitePigeon.html#1989" class="Function">fact₂</a> <a id="1995" class="Symbol">:</a> <a id="1997" class="Symbol">∀(</a><a id="1999" href="InfinitePigeon.FinitePigeon.html#1999" class="Bound">n</a> <a id="2001" class="Symbol">:</a> <a id="2003" href="InfinitePigeon.Finite.html#346" class="Datatype">smaller</a><a id="2010" class="Symbol">(</a><a id="2011" href="InfinitePigeon.FinitePigeon.html#1441" class="Bound">m</a> <a id="2013" href="InfinitePigeon.Addition.html#578" class="Function Operator">+</a> <a id="2015" class="Number">1</a><a id="2016" class="Symbol">))</a> <a id="2019" class="Symbol">→</a> <a id="2021" href="InfinitePigeon.FinitePigeon.html#1439" class="Bound">α</a><a id="2022" class="Symbol">(</a><a id="2023" href="InfinitePigeon.FinitePigeon.html#1559" class="Bound">g</a><a id="2024" class="Symbol">(</a><a id="2025" href="InfinitePigeon.Finite.html#456" class="Function">embed</a> <a id="2031" href="InfinitePigeon.FinitePigeon.html#1999" class="Bound">n</a><a id="2032" class="Symbol">))</a> <a id="2035" href="InfinitePigeon.Equality.html#154" class="Datatype Operator">≡</a> <a id="2037" href="InfinitePigeon.FinitePigeon.html#1548" class="Bound">b</a> <a id="2039" class="Symbol">→</a> <a id="2041" href="InfinitePigeon.FinitePigeon.html#1439" class="Bound">α</a><a id="2042" class="Symbol">(</a><a id="2043" href="InfinitePigeon.FinitePigeon.html#1637" class="Function">s</a> <a id="2045" href="InfinitePigeon.FinitePigeon.html#1999" class="Bound">n</a><a id="2046" class="Symbol">)</a> <a id="2048" href="InfinitePigeon.Equality.html#154" class="Datatype Operator">≡</a> <a id="2050" href="InfinitePigeon.FinitePigeon.html#1548" class="Bound">b</a>
      <a id="2058" href="InfinitePigeon.FinitePigeon.html#1989" class="Function">fact₂</a> <a id="2064" href="InfinitePigeon.FinitePigeon.html#2064" class="Bound">n</a> <a id="2066" class="Symbol">=</a> <a id="2068" href="InfinitePigeon.Equality.html#234" class="Function">two-things-equal-to-a-third-are-equal</a> <a id="2106" href="InfinitePigeon.Equality.html#188" class="InductiveConstructor">reflexivity</a>

      <a id="2125" href="InfinitePigeon.FinitePigeon.html#2125" class="Function">fact₃</a> <a id="2131" class="Symbol">:</a> <a id="2133" class="Symbol">∀(</a><a id="2135" href="InfinitePigeon.FinitePigeon.html#2135" class="Bound">n</a> <a id="2137" class="Symbol">:</a> <a id="2139" href="InfinitePigeon.Finite.html#346" class="Datatype">smaller</a><a id="2146" class="Symbol">(</a><a id="2147" href="InfinitePigeon.FinitePigeon.html#1441" class="Bound">m</a> <a id="2149" href="InfinitePigeon.Addition.html#578" class="Function Operator">+</a> <a id="2151" class="Number">1</a><a id="2152" class="Symbol">))</a> <a id="2155" class="Symbol">→</a> <a id="2157" href="InfinitePigeon.JK-Monads.html#511" class="Function">K</a><a id="2158" class="Symbol">(</a><a id="2159" href="InfinitePigeon.FinitePigeon.html#1439" class="Bound">α</a><a id="2160" class="Symbol">(</a><a id="2161" href="InfinitePigeon.FinitePigeon.html#1637" class="Function">s</a> <a id="2163" href="InfinitePigeon.FinitePigeon.html#2135" class="Bound">n</a><a id="2164" class="Symbol">)</a> <a id="2166" href="InfinitePigeon.Equality.html#154" class="Datatype Operator">≡</a> <a id="2168" href="InfinitePigeon.FinitePigeon.html#1548" class="Bound">b</a><a id="2169" class="Symbol">)</a>
      <a id="2177" href="InfinitePigeon.FinitePigeon.html#2125" class="Function">fact₃</a> <a id="2183" href="InfinitePigeon.FinitePigeon.html#2183" class="Bound">n</a> <a id="2185" class="Symbol">=</a> <a id="2187" href="InfinitePigeon.JK-Monads.html#1583" class="Function">K-functor</a> <a id="2197" class="Symbol">(</a><a id="2198" href="InfinitePigeon.FinitePigeon.html#1989" class="Function">fact₂</a> <a id="2204" href="InfinitePigeon.FinitePigeon.html#2183" class="Bound">n</a><a id="2205" class="Symbol">)</a> <a id="2207" class="Symbol">(</a><a id="2208" href="InfinitePigeon.Logic.html#514" class="Function">∧-elim₁</a><a id="2215" class="Symbol">(</a><a id="2216" href="InfinitePigeon.FinitePigeon.html#1561" class="Bound">h</a><a id="2217" class="Symbol">(</a><a id="2218" href="InfinitePigeon.Finite.html#456" class="Function">embed</a> <a id="2224" href="InfinitePigeon.FinitePigeon.html#2183" class="Bound">n</a><a id="2225" class="Symbol">)))</a>

  <a id="2232" href="InfinitePigeon.FinitePigeon.html#2232" class="Function">lemma₁</a> <a id="2239" class="Symbol">:</a> <a id="2241" href="InfinitePigeon.JK-Monads.html#511" class="Function">K</a><a id="2242" class="Symbol">(</a><a id="2243" href="InfinitePigeon.FinitePigeon.html#1048" class="Function">Finite-Pigeonhole-K</a> <a id="2263" href="InfinitePigeon.FinitePigeon.html#1439" class="Bound">α</a> <a id="2265" href="InfinitePigeon.FinitePigeon.html#1441" class="Bound">m</a><a id="2266" class="Symbol">)</a>
  <a id="2270" href="InfinitePigeon.FinitePigeon.html#2232" class="Function">lemma₁</a> <a id="2277" class="Symbol">=</a> <a id="2279" href="InfinitePigeon.JK-Monads.html#1583" class="Function">K-functor</a> <a id="2289" href="InfinitePigeon.FinitePigeon.html#1478" class="Function">lemma₀</a> <a id="2296" class="Symbol">(</a><a id="2297" href="InfinitePigeon.InfinitePigeon.html#4290" class="Function">pigeonhole</a> <a id="2308" href="InfinitePigeon.FinitePigeon.html#1439" class="Bound">α</a><a id="2309" class="Symbol">)</a>

  <a id="2314" href="InfinitePigeon.FinitePigeon.html#2314" class="Function">lemma₂</a> <a id="2321" class="Symbol">:</a> <a id="2323" href="InfinitePigeon.FinitePigeon.html#1048" class="Function">Finite-Pigeonhole-K</a> <a id="2343" href="InfinitePigeon.FinitePigeon.html#1439" class="Bound">α</a> <a id="2345" href="InfinitePigeon.FinitePigeon.html#1441" class="Bound">m</a> <a id="2347" class="Symbol">→</a> <a id="2349" href="InfinitePigeon.JK-Monads.html#511" class="Function">K</a><a id="2350" class="Symbol">(</a><a id="2351" href="InfinitePigeon.FinitePigeon.html#653" class="Function">Finite-Pigeonhole</a> <a id="2369" href="InfinitePigeon.FinitePigeon.html#1439" class="Bound">α</a> <a id="2371" href="InfinitePigeon.FinitePigeon.html#1441" class="Bound">m</a><a id="2372" class="Symbol">)</a>

  <a id="2377" href="InfinitePigeon.FinitePigeon.html#2314" class="Function">lemma₂</a> <a id="2384" class="Symbol">(</a><a id="2385" href="InfinitePigeon.Logic.html#1187" class="InductiveConstructor">∃-intro</a> <a id="2393" href="InfinitePigeon.FinitePigeon.html#2393" class="Bound">b</a> <a id="2395" class="Symbol">(</a><a id="2396" href="InfinitePigeon.Logic.html#1187" class="InductiveConstructor">∃-intro</a> <a id="2404" href="InfinitePigeon.FinitePigeon.html#2404" class="Bound">s</a> <a id="2406" class="Symbol">(</a><a id="2407" href="InfinitePigeon.Logic.html#401" class="InductiveConstructor">∧-intro</a> <a id="2415" href="InfinitePigeon.FinitePigeon.html#2415" class="Bound">h</a> <a id="2417" href="InfinitePigeon.FinitePigeon.html#2417" class="Bound">k</a><a id="2418" class="Symbol">)))</a> <a id="2422" class="Symbol">=</a>
         <a id="2433" href="InfinitePigeon.JK-LogicalFacts.html#1191" class="Function">K-∃-shift</a><a id="2442" class="Symbol">(</a><a id="2443" href="InfinitePigeon.Logic.html#1187" class="InductiveConstructor">∃-intro</a> <a id="2451" href="InfinitePigeon.FinitePigeon.html#2393" class="Bound">b</a> <a id="2453" class="Symbol">(</a><a id="2454" href="InfinitePigeon.JK-LogicalFacts.html#1191" class="Function">K-∃-shift</a><a id="2463" class="Symbol">(</a><a id="2464" href="InfinitePigeon.Logic.html#1187" class="InductiveConstructor">∃-intro</a> <a id="2472" href="InfinitePigeon.FinitePigeon.html#2404" class="Bound">s</a>
           <a id="2485" class="Symbol">(</a><a id="2486" href="InfinitePigeon.JK-Monads.html#5544" class="Function">K-strength</a><a id="2496" class="Symbol">(</a><a id="2497" href="InfinitePigeon.Logic.html#401" class="InductiveConstructor">∧-intro</a> <a id="2505" href="InfinitePigeon.FinitePigeon.html#2415" class="Bound">h</a> <a id="2507" class="Symbol">(</a><a id="2508" href="InfinitePigeon.Finite.html#2798" class="Function">fK-∀-shift</a> <a id="2519" href="InfinitePigeon.FinitePigeon.html#2417" class="Bound">k</a><a id="2520" class="Symbol">))))))</a>


<a id="2529" class="Comment">-- We now apply Friedman&#39;s trick. For given α and m, we let R be the</a>
<a id="2598" class="Comment">-- proposition we want to prove, namely Finite-Pigeonhole α m. But we</a>
<a id="2668" class="Comment">-- have proved K{R}R in the above lemma. Because this is (R→R)→R, we</a>
<a id="2737" class="Comment">-- get R if we apply it to the proof id: R→R.</a>


<a id="Theorem"></a><a id="2785" href="InfinitePigeon.FinitePigeon.html#2785" class="Function">Theorem</a> <a id="2793" class="Symbol">:</a>
<a id="2795" class="Comment">-------</a>

 <a id="2805" class="Symbol">∀(</a><a id="2807" href="InfinitePigeon.FinitePigeon.html#2807" class="Bound">α</a> <a id="2809" class="Symbol">:</a> <a id="2811" href="InfinitePigeon.Cantor.html#181" class="Function">₂ℕ</a><a id="2813" class="Symbol">)</a> <a id="2815" class="Symbol">→</a> <a id="2817" class="Symbol">∀(</a><a id="2819" href="InfinitePigeon.FinitePigeon.html#2819" class="Bound">m</a> <a id="2821" class="Symbol">:</a> <a id="2823" href="MLTT.Natural-Numbers-Type.html#96" class="Datatype">ℕ</a><a id="2824" class="Symbol">)</a> <a id="2826" class="Symbol">→</a> <a id="2828" href="InfinitePigeon.FinitePigeon.html#653" class="Function">Finite-Pigeonhole</a> <a id="2846" href="InfinitePigeon.FinitePigeon.html#2807" class="Bound">α</a> <a id="2848" href="InfinitePigeon.FinitePigeon.html#2819" class="Bound">m</a>

<a id="2851" href="InfinitePigeon.FinitePigeon.html#2785" class="Function">Theorem</a> <a id="2859" href="InfinitePigeon.FinitePigeon.html#2859" class="Bound">α</a> <a id="2861" href="InfinitePigeon.FinitePigeon.html#2861" class="Bound">m</a> <a id="2863" class="Symbol">=</a> <a id="2865" href="InfinitePigeon.FinitePigeon.html#1299" class="Function">finite-pigeonhole-lemma</a> <a id="2889" class="Symbol">{</a><a id="2890" href="InfinitePigeon.FinitePigeon.html#653" class="Function">Finite-Pigeonhole</a> <a id="2908" href="InfinitePigeon.FinitePigeon.html#2859" class="Bound">α</a> <a id="2910" href="InfinitePigeon.FinitePigeon.html#2861" class="Bound">m</a><a id="2911" class="Symbol">}</a> <a id="2913" href="InfinitePigeon.FinitePigeon.html#2859" class="Bound">α</a> <a id="2915" href="InfinitePigeon.FinitePigeon.html#2861" class="Bound">m</a> <a id="2917" href="InfinitePigeon.LogicalFacts.html#280" class="Function">id</a>


<a id="2922" class="Comment">-- NB. If we remove the implicit parameter in this call to</a>
<a id="2981" class="Comment">-- finite-pigeonhole-lemma, Agda infers the required R.</a>
</pre></body></html>