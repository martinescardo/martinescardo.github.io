<!DOCTYPE HTML>
<html><head><meta charset="utf-8"><title>PathSequences.Type</title><link rel="stylesheet" href="Agda.css"><script type="text/javascript" src="highlight-hover.js"></script></head><body><pre class="Agda"><a id="1" class="Background">--------------------------------------------------------------------------------
Ettore Aldrovandi, ealdrovandi@fsu.edu

Started: November 2022
Revision: June 2023
--------------------------------------------------------------------------------

Port of [HoTT-Agda](https://github.com/HoTT/HoTT-Agda) `PathSeq`
library to TypeTopology.

</a><a id="338" class="Markup">\begin{code}</a>

<a id="352" class="Symbol">{-#</a> <a id="356" class="Keyword">OPTIONS</a> <a id="364" class="Pragma">--without-K</a> <a id="376" class="Pragma">--safe</a> <a id="383" class="Symbol">#-}</a>

<a id="388" class="Keyword">module</a> <a id="395" href="PathSequences.Type.html" class="Module">PathSequences.Type</a> <a id="414" class="Keyword">where</a>

<a id="421" class="Keyword">open</a> <a id="426" class="Keyword">import</a> <a id="433" href="MLTT.Spartan.html" class="Module">MLTT.Spartan</a>

<a id="447" class="Markup">\end{code}</a><a id="457" class="Background">

The development at [HoTT-Agda](https://github.com/HoTT/HoTT-Agda) has
a `PathSeq` library with the goal of facilitating path
(i.e. concatenations of terms in identity types) manipulations. These
include: stripping, replacing, and normalizing concatenations. This
way we can abstract away the mindless passing around of associativity,
identity morphisms, etc. to just reshuffle parentheses.

Example. With the usual identity type reasoning

    l : x ï¼ u
    l = x ï¼âŸ¨ p âŸ©
        y ï¼âŸ¨ q âŸ©
        z ï¼âŸ¨ r âŸ©
        t ï¼âŸ¨ s âŸ©
        u âˆ

if, for example

    Î± : q âˆ™ r ï¼ qr
    Î± = {!!}

and

    l&#39; : x ï¼ y
    l&#39; = x ï¼âŸ¨ p âŸ©
         y ï¼âŸ¨ qr âŸ©
         t ï¼âŸ¨ s âŸ©
         u âˆ

then we would prove that `l ï¼ l&#39;` as follows

    Î² : l ï¼ l&#39;
    Î² = l                 ï¼âŸ¨reflâŸ©
        p âˆ™ (q âˆ™ (r âˆ™ s)) ï¼âŸ¨ ap (p âˆ™_) (âˆ™assoc q r s) â»Â¹ âŸ©
        p âˆ™ ((q âˆ™ r) âˆ™ s) ï¼âŸ¨ ap (p âˆ™_) (ap (_âˆ™ s) Î±) âŸ©
        p âˆ™ (qr âˆ™ s)      ï¼âŸ¨reflâŸ©
        l&#39; âˆ

It gets worse with more complex concatenations. The aim of `PathSeq`
is to abstract path concatenation so that these &quot;trivial&quot;
manipulations are no longer necessary.


</a><a id="1558" class="Markup">\begin{code}</a>

<a id="1572" class="Keyword">data</a> <a id="PathSeq"></a><a id="1577" href="PathSequences.Type.html#1577" class="Datatype">PathSeq</a> <a id="1585" class="Symbol">{</a><a id="1586" href="PathSequences.Type.html#1586" class="Bound">X</a> <a id="1588" class="Symbol">:</a> <a id="1590" href="MLTT.Universes.html#3833" class="Generalizable">ğ“¤</a> <a id="1592" href="MLTT.Universes.html#3976" class="Function Operator">Ì‡</a> <a id="1594" class="Symbol">}</a> <a id="1596" class="Symbol">:</a> <a id="1598" href="PathSequences.Type.html#1586" class="Bound">X</a> <a id="1600" class="Symbol">â†’</a> <a id="1602" href="PathSequences.Type.html#1586" class="Bound">X</a> <a id="1604" class="Symbol">â†’</a> <a id="1606" href="PathSequences.Type.html#1590" class="Bound">ğ“¤</a> <a id="1608" href="MLTT.Universes.html#3976" class="Function Operator">Ì‡</a> <a id="1610" class="Keyword">where</a>
  <a id="PathSeq.[]"></a><a id="1618" href="PathSequences.Type.html#1618" class="InductiveConstructor">[]</a> <a id="1621" class="Symbol">:</a> <a id="1623" class="Symbol">{</a><a id="1624" href="PathSequences.Type.html#1624" class="Bound">x</a> <a id="1626" class="Symbol">:</a> <a id="1628" href="PathSequences.Type.html#1586" class="Bound">X</a><a id="1629" class="Symbol">}</a> <a id="1631" class="Symbol">â†’</a> <a id="1633" href="PathSequences.Type.html#1577" class="Datatype">PathSeq</a> <a id="1641" href="PathSequences.Type.html#1624" class="Bound">x</a> <a id="1643" href="PathSequences.Type.html#1624" class="Bound">x</a>
  <a id="PathSeq._â—ƒâˆ™_"></a><a id="1647" href="PathSequences.Type.html#1647" class="InductiveConstructor Operator">_â—ƒâˆ™_</a> <a id="1652" class="Symbol">:</a> <a id="1654" class="Symbol">{</a><a id="1655" href="PathSequences.Type.html#1655" class="Bound">x</a> <a id="1657" href="PathSequences.Type.html#1657" class="Bound">y</a> <a id="1659" href="PathSequences.Type.html#1659" class="Bound">z</a> <a id="1661" class="Symbol">:</a> <a id="1663" href="PathSequences.Type.html#1586" class="Bound">X</a><a id="1664" class="Symbol">}</a> <a id="1666" class="Symbol">(</a><a id="1667" href="PathSequences.Type.html#1667" class="Bound">p</a> <a id="1669" class="Symbol">:</a> <a id="1671" href="PathSequences.Type.html#1655" class="Bound">x</a> <a id="1673" href="MLTT.Id.html#193" class="Datatype Operator">ï¼</a> <a id="1675" href="PathSequences.Type.html#1657" class="Bound">y</a><a id="1676" class="Symbol">)</a> <a id="1678" class="Symbol">(</a><a id="1679" href="PathSequences.Type.html#1679" class="Bound">s</a> <a id="1681" class="Symbol">:</a> <a id="1683" href="PathSequences.Type.html#1577" class="Datatype">PathSeq</a> <a id="1691" href="PathSequences.Type.html#1657" class="Bound">y</a> <a id="1693" href="PathSequences.Type.html#1659" class="Bound">z</a><a id="1694" class="Symbol">)</a> <a id="1696" class="Symbol">â†’</a> <a id="1698" href="PathSequences.Type.html#1577" class="Datatype">PathSeq</a> <a id="1706" href="PathSequences.Type.html#1655" class="Bound">x</a> <a id="1708" href="PathSequences.Type.html#1659" class="Bound">z</a>

<a id="_â‰¡_"></a><a id="1711" href="PathSequences.Type.html#1711" class="Function Operator">_â‰¡_</a> <a id="1715" class="Symbol">=</a> <a id="1717" href="PathSequences.Type.html#1577" class="Datatype">PathSeq</a>

<a id="1726" class="Markup">\end{code}</a><a id="1736" class="Background">

Convenience: to have a more practical and visible Path Sequence
termination

</a><a id="1815" class="Markup">\begin{code}</a>

<a id="_â—ƒâˆ"></a><a id="1829" href="PathSequences.Type.html#1829" class="Function Operator">_â—ƒâˆ</a> <a id="1833" class="Symbol">:</a> <a id="1835" class="Symbol">{</a><a id="1836" href="PathSequences.Type.html#1836" class="Bound">X</a> <a id="1838" class="Symbol">:</a> <a id="1840" href="MLTT.Universes.html#3833" class="Generalizable">ğ“¤</a> <a id="1842" href="MLTT.Universes.html#3976" class="Function Operator">Ì‡</a> <a id="1844" class="Symbol">}</a> <a id="1846" class="Symbol">{</a><a id="1847" href="PathSequences.Type.html#1847" class="Bound">x</a> <a id="1849" href="PathSequences.Type.html#1849" class="Bound">y</a> <a id="1851" class="Symbol">:</a> <a id="1853" href="PathSequences.Type.html#1836" class="Bound">X</a><a id="1854" class="Symbol">}</a> <a id="1856" class="Symbol">â†’</a> <a id="1858" href="PathSequences.Type.html#1847" class="Bound">x</a> <a id="1860" href="MLTT.Id.html#193" class="Datatype Operator">ï¼</a> <a id="1862" href="PathSequences.Type.html#1849" class="Bound">y</a> <a id="1864" class="Symbol">â†’</a> <a id="1866" href="PathSequences.Type.html#1847" class="Bound">x</a> <a id="1868" href="PathSequences.Type.html#1711" class="Function Operator">â‰¡</a> <a id="1870" href="PathSequences.Type.html#1849" class="Bound">y</a>
<a id="1872" href="PathSequences.Type.html#1872" class="Bound">p</a> <a id="1874" href="PathSequences.Type.html#1829" class="Function Operator">â—ƒâˆ</a> <a id="1877" class="Symbol">=</a> <a id="1879" href="PathSequences.Type.html#1872" class="Bound">p</a> <a id="1881" href="PathSequences.Type.html#1647" class="InductiveConstructor Operator">â—ƒâˆ™</a> <a id="1884" href="PathSequences.Type.html#1618" class="InductiveConstructor">[]</a>

<a id="1888" class="Markup">\end{code}</a><a id="1898" class="Background">

Convert to identity type and normalize.  The resulting concatenation
of identity types is normalized. See the module PathSequences.Concat

</a><a id="2039" class="Markup">\begin{code}</a>

<a id="â‰¡-to-ï¼"></a><a id="2053" href="PathSequences.Type.html#2053" class="Function">â‰¡-to-ï¼</a> <a id="2060" class="Symbol">:</a> <a id="2062" class="Symbol">{</a><a id="2063" href="PathSequences.Type.html#2063" class="Bound">X</a> <a id="2065" class="Symbol">:</a> <a id="2067" href="MLTT.Universes.html#3833" class="Generalizable">ğ“¤</a> <a id="2069" href="MLTT.Universes.html#3976" class="Function Operator">Ì‡</a> <a id="2071" class="Symbol">}</a> <a id="2073" class="Symbol">{</a><a id="2074" href="PathSequences.Type.html#2074" class="Bound">x</a> <a id="2076" href="PathSequences.Type.html#2076" class="Bound">y</a> <a id="2078" class="Symbol">:</a> <a id="2080" href="PathSequences.Type.html#2063" class="Bound">X</a><a id="2081" class="Symbol">}</a>
        <a id="2091" class="Symbol">â†’</a> <a id="2093" href="PathSequences.Type.html#2074" class="Bound">x</a> <a id="2095" href="PathSequences.Type.html#1711" class="Function Operator">â‰¡</a> <a id="2097" href="PathSequences.Type.html#2076" class="Bound">y</a> <a id="2099" class="Symbol">â†’</a> <a id="2101" href="PathSequences.Type.html#2074" class="Bound">x</a> <a id="2103" href="MLTT.Id.html#193" class="Datatype Operator">ï¼</a> <a id="2105" href="PathSequences.Type.html#2076" class="Bound">y</a>
<a id="2107" href="PathSequences.Type.html#2053" class="Function">â‰¡-to-ï¼</a> <a id="2114" href="PathSequences.Type.html#1618" class="InductiveConstructor">[]</a> <a id="2117" class="Symbol">=</a> <a id="2119" href="MLTT.Identity-Type.html#157" class="InductiveConstructor">refl</a>
<a id="2124" href="PathSequences.Type.html#2053" class="Function">â‰¡-to-ï¼</a> <a id="2131" class="Symbol">(</a><a id="2132" href="PathSequences.Type.html#2132" class="Bound">p</a> <a id="2134" href="PathSequences.Type.html#1647" class="InductiveConstructor Operator">â—ƒâˆ™</a> <a id="2137" href="PathSequences.Type.html#2137" class="Bound">s</a><a id="2138" class="Symbol">)</a> <a id="2140" class="Symbol">=</a> <a id="2142" href="PathSequences.Type.html#2132" class="Bound">p</a> <a id="2144" href="MLTT.Id.html#968" class="Function Operator">âˆ™</a> <a id="2146" href="PathSequences.Type.html#2053" class="Function">â‰¡-to-ï¼</a> <a id="2153" href="PathSequences.Type.html#2137" class="Bound">s</a>

<a id="2156" class="Keyword">infix</a> <a id="2162" class="Number">30</a> <a id="2165" href="PathSequences.Type.html#2053" class="Function">â‰¡-to-ï¼</a>
<a id="2172" class="Keyword">syntax</a> <a id="2179" href="PathSequences.Type.html#2053" class="Function">â‰¡-to-ï¼</a> <a id="2186" class="Bound">s</a> <a id="2188" class="Symbol">=</a> <a id="2190" class="Function">[</a> <a id="2192" class="Bound">s</a> <a id="2194" class="Function">â†“]</a>

<a id="2198" class="Markup">\end{code}</a><a id="2208" class="Background">

Equality for path sequences.

</a><a id="2240" class="Markup">\begin{code}</a>

<a id="2254" class="Keyword">record</a> <a id="_ï¼â‚›_"></a><a id="2261" href="PathSequences.Type.html#2261" class="Record Operator">_ï¼â‚›_</a> <a id="2266" class="Symbol">{</a><a id="2267" href="PathSequences.Type.html#2267" class="Bound">X</a> <a id="2269" class="Symbol">:</a> <a id="2271" href="MLTT.Universes.html#3833" class="Generalizable">ğ“¤</a> <a id="2273" href="MLTT.Universes.html#3976" class="Function Operator">Ì‡</a> <a id="2275" class="Symbol">}{</a><a id="2277" href="PathSequences.Type.html#2277" class="Bound">x</a> <a id="2279" href="PathSequences.Type.html#2279" class="Bound">y</a> <a id="2281" class="Symbol">:</a> <a id="2283" href="PathSequences.Type.html#2267" class="Bound">X</a><a id="2284" class="Symbol">}</a> <a id="2286" class="Symbol">(</a><a id="2287" href="PathSequences.Type.html#2287" class="Bound">s</a> <a id="2289" href="PathSequences.Type.html#2289" class="Bound">t</a> <a id="2291" class="Symbol">:</a> <a id="2293" href="PathSequences.Type.html#2277" class="Bound">x</a> <a id="2295" href="PathSequences.Type.html#1711" class="Function Operator">â‰¡</a> <a id="2297" href="PathSequences.Type.html#2279" class="Bound">y</a><a id="2298" class="Symbol">)</a> <a id="2300" class="Symbol">:</a> <a id="2302" href="PathSequences.Type.html#2271" class="Bound">ğ“¤</a> <a id="2304" href="MLTT.Universes.html#3976" class="Function Operator">Ì‡</a> <a id="2306" class="Keyword">where</a>
  <a id="2314" class="Keyword">constructor</a> <a id="ï¼â‚›-in"></a><a id="2326" href="PathSequences.Type.html#2326" class="InductiveConstructor">ï¼â‚›-in</a>
  <a id="2334" class="Keyword">field</a>
    <a id="_ï¼â‚›_.ï¼â‚›-out"></a><a id="2344" href="PathSequences.Type.html#2344" class="Field">ï¼â‚›-out</a> <a id="2351" class="Symbol">:</a> <a id="2353" href="PathSequences.Type.html#2053" class="Function">[</a> <a id="2355" href="PathSequences.Type.html#2287" class="Bound">s</a> <a id="2357" href="PathSequences.Type.html#2053" class="Function">â†“]</a> <a id="2360" href="MLTT.Id.html#193" class="Datatype Operator">ï¼</a> <a id="2362" href="PathSequences.Type.html#2053" class="Function">[</a> <a id="2364" href="PathSequences.Type.html#2289" class="Bound">t</a> <a id="2366" href="PathSequences.Type.html#2053" class="Function">â†“]</a>
<a id="2369" class="Keyword">open</a> <a id="2374" href="PathSequences.Type.html#2261" class="Module Operator">_ï¼â‚›_</a> <a id="2379" class="Keyword">public</a>

<a id="2387" class="Markup">\end{code}</a><a id="2397" class="Background">

NOTE: The constructor and field names in the record below are the same
as the originals, but maybe we want to find better names.

Elementary reasoning with path sequences.  More of it is in
PathSequences.Concat.

</a><a id="2612" class="Markup">\begin{code}</a>

<a id="_â‰¡âŸ¨_âŸ©_"></a><a id="2626" href="PathSequences.Type.html#2626" class="Function Operator">_â‰¡âŸ¨_âŸ©_</a> <a id="2633" class="Symbol">:</a> <a id="2635" class="Symbol">{</a><a id="2636" href="PathSequences.Type.html#2636" class="Bound">X</a> <a id="2638" class="Symbol">:</a> <a id="2640" href="MLTT.Universes.html#3833" class="Generalizable">ğ“¤</a> <a id="2642" href="MLTT.Universes.html#3976" class="Function Operator">Ì‡</a> <a id="2644" class="Symbol">}</a> <a id="2646" class="Symbol">(</a><a id="2647" href="PathSequences.Type.html#2647" class="Bound">x</a> <a id="2649" class="Symbol">:</a> <a id="2651" href="PathSequences.Type.html#2636" class="Bound">X</a><a id="2652" class="Symbol">)</a> <a id="2654" class="Symbol">{</a><a id="2655" href="PathSequences.Type.html#2655" class="Bound">y</a> <a id="2657" href="PathSequences.Type.html#2657" class="Bound">z</a> <a id="2659" class="Symbol">:</a> <a id="2661" href="PathSequences.Type.html#2636" class="Bound">X</a><a id="2662" class="Symbol">}</a> <a id="2664" class="Symbol">â†’</a> <a id="2666" href="PathSequences.Type.html#2647" class="Bound">x</a> <a id="2668" href="MLTT.Id.html#193" class="Datatype Operator">ï¼</a> <a id="2670" href="PathSequences.Type.html#2655" class="Bound">y</a> <a id="2672" class="Symbol">â†’</a> <a id="2674" href="PathSequences.Type.html#2655" class="Bound">y</a> <a id="2676" href="PathSequences.Type.html#1711" class="Function Operator">â‰¡</a> <a id="2678" href="PathSequences.Type.html#2657" class="Bound">z</a> <a id="2680" class="Symbol">â†’</a> <a id="2682" href="PathSequences.Type.html#2647" class="Bound">x</a> <a id="2684" href="PathSequences.Type.html#1711" class="Function Operator">â‰¡</a> <a id="2686" href="PathSequences.Type.html#2657" class="Bound">z</a>
<a id="2688" class="Symbol">_</a> <a id="2690" href="PathSequences.Type.html#2626" class="Function Operator">â‰¡âŸ¨</a> <a id="2693" href="PathSequences.Type.html#2693" class="Bound">p</a> <a id="2695" href="PathSequences.Type.html#2626" class="Function Operator">âŸ©</a> <a id="2697" href="PathSequences.Type.html#2697" class="Bound">s</a> <a id="2699" class="Symbol">=</a> <a id="2701" href="PathSequences.Type.html#2693" class="Bound">p</a> <a id="2703" href="PathSequences.Type.html#1647" class="InductiveConstructor Operator">â—ƒâˆ™</a> <a id="2706" href="PathSequences.Type.html#2697" class="Bound">s</a>

<a id="_â‰¡âŸ¨âŸ©_"></a><a id="2709" href="PathSequences.Type.html#2709" class="Function Operator">_â‰¡âŸ¨âŸ©_</a> <a id="2715" class="Symbol">:</a> <a id="2717" class="Symbol">{</a><a id="2718" href="PathSequences.Type.html#2718" class="Bound">X</a> <a id="2720" class="Symbol">:</a> <a id="2722" href="MLTT.Universes.html#3833" class="Generalizable">ğ“¤</a> <a id="2724" href="MLTT.Universes.html#3976" class="Function Operator">Ì‡</a> <a id="2726" class="Symbol">}</a> <a id="2728" class="Symbol">(</a><a id="2729" href="PathSequences.Type.html#2729" class="Bound">x</a> <a id="2731" class="Symbol">:</a> <a id="2733" href="PathSequences.Type.html#2718" class="Bound">X</a><a id="2734" class="Symbol">)</a> <a id="2736" class="Symbol">{</a><a id="2737" href="PathSequences.Type.html#2737" class="Bound">y</a> <a id="2739" class="Symbol">:</a> <a id="2741" href="PathSequences.Type.html#2718" class="Bound">X</a><a id="2742" class="Symbol">}</a> <a id="2744" class="Symbol">â†’</a> <a id="2746" href="PathSequences.Type.html#2729" class="Bound">x</a> <a id="2748" href="PathSequences.Type.html#1711" class="Function Operator">â‰¡</a> <a id="2750" href="PathSequences.Type.html#2737" class="Bound">y</a> <a id="2752" class="Symbol">â†’</a> <a id="2754" href="PathSequences.Type.html#2729" class="Bound">x</a> <a id="2756" href="PathSequences.Type.html#1711" class="Function Operator">â‰¡</a> <a id="2758" href="PathSequences.Type.html#2737" class="Bound">y</a>
<a id="2760" href="PathSequences.Type.html#2760" class="Bound">x</a> <a id="2762" href="PathSequences.Type.html#2709" class="Function Operator">â‰¡âŸ¨âŸ©</a> <a id="2766" href="PathSequences.Type.html#2766" class="Bound">s</a> <a id="2768" class="Symbol">=</a> <a id="2770" href="PathSequences.Type.html#2766" class="Bound">s</a>

<a id="_âˆâˆ"></a><a id="2773" href="PathSequences.Type.html#2773" class="Function Operator">_âˆâˆ</a> <a id="2777" class="Symbol">:</a> <a id="2779" class="Symbol">{</a><a id="2780" href="PathSequences.Type.html#2780" class="Bound">X</a> <a id="2782" class="Symbol">:</a> <a id="2784" href="MLTT.Universes.html#3833" class="Generalizable">ğ“¤</a> <a id="2786" href="MLTT.Universes.html#3976" class="Function Operator">Ì‡</a> <a id="2788" class="Symbol">}</a> <a id="2790" class="Symbol">(</a><a id="2791" href="PathSequences.Type.html#2791" class="Bound">x</a> <a id="2793" class="Symbol">:</a> <a id="2795" href="PathSequences.Type.html#2780" class="Bound">X</a><a id="2796" class="Symbol">)</a> <a id="2798" class="Symbol">â†’</a> <a id="2800" href="PathSequences.Type.html#2791" class="Bound">x</a> <a id="2802" href="PathSequences.Type.html#1711" class="Function Operator">â‰¡</a> <a id="2804" href="PathSequences.Type.html#2791" class="Bound">x</a>
<a id="2806" class="Symbol">_</a> <a id="2808" href="PathSequences.Type.html#2773" class="Function Operator">âˆâˆ</a> <a id="2811" class="Symbol">=</a> <a id="2813" href="PathSequences.Type.html#1618" class="InductiveConstructor">[]</a>

<a id="2817" class="Markup">\end{code}</a><a id="2827" class="Background">

Fixities

</a><a id="2839" class="Markup">\begin{code}</a>

<a id="2853" class="Keyword">infix</a>  <a id="2860" class="Number">90</a> <a id="2863" href="PathSequences.Type.html#1829" class="Function Operator">_â—ƒâˆ</a>
<a id="2867" class="Keyword">infixr</a> <a id="2874" class="Number">80</a> <a id="2877" href="PathSequences.Type.html#1647" class="InductiveConstructor Operator">_â—ƒâˆ™_</a>
<a id="2882" class="Keyword">infix</a>  <a id="2889" class="Number">30</a> <a id="2892" href="PathSequences.Type.html#1711" class="Function Operator">_â‰¡_</a>
<a id="2896" class="Keyword">infixr</a> <a id="2903" class="Number">10</a> <a id="2906" href="PathSequences.Type.html#2626" class="Function Operator">_â‰¡âŸ¨_âŸ©_</a>
<a id="2913" class="Keyword">infixr</a> <a id="2920" class="Number">10</a> <a id="2923" href="PathSequences.Type.html#2709" class="Function Operator">_â‰¡âŸ¨âŸ©_</a>
<a id="2929" class="Keyword">infix</a>  <a id="2936" class="Number">15</a> <a id="2939" href="PathSequences.Type.html#2773" class="Function Operator">_âˆâˆ</a>

<a id="2944" class="Markup">\end{code}</a><a id="2954" class="Background">
</a></pre></body></html>