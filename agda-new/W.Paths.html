<!DOCTYPE HTML>
<html><head><meta charset="utf-8"><title>W.Paths</title><link rel="stylesheet" href="Agda.css"><script type="text/javascript" src="highlight-hover.js"></script></head><body><pre class="Agda"><a id="1" class="Background">Martin Escardo, June 2023.

Paths in W-types.

</a><a id="48" class="Markup">\begin{code}</a>

<a id="62" class="Symbol">{-#</a> <a id="66" class="Keyword">OPTIONS</a> <a id="74" class="Pragma">--safe</a> <a id="81" class="Pragma">--without-K</a> <a id="93" class="Symbol">#-}</a>

<a id="98" class="Keyword">open</a> <a id="103" class="Keyword">import</a> <a id="110" href="MLTT.Spartan.html" class="Module">MLTT.Spartan</a>

<a id="124" class="Keyword">module</a> <a id="131" href="W.Paths.html" class="Module">W.Paths</a> <a id="139" class="Keyword">where</a>

<a id="146" class="Keyword">open</a> <a id="151" class="Keyword">import</a> <a id="158" href="UF.Logic.html" class="Module">UF.Logic</a>
<a id="167" class="Keyword">open</a> <a id="172" class="Keyword">import</a> <a id="179" href="UF.PropTrunc.html" class="Module">UF.PropTrunc</a>
<a id="192" class="Keyword">open</a> <a id="197" class="Keyword">import</a> <a id="204" href="UF.Subsingletons.html" class="Module">UF.Subsingletons</a>
<a id="221" class="Keyword">open</a> <a id="226" class="Keyword">import</a> <a id="233" href="W.Type.html" class="Module">W.Type</a>
<a id="240" class="Keyword">open</a> <a id="245" class="Keyword">import</a> <a id="252" href="W.Numbers.html" class="Module">W.Numbers</a>

<a id="263" class="Keyword">module</a> <a id="270" href="W.Paths.html#270" class="Module">_</a> <a id="272" class="Symbol">(</a><a id="273" href="W.Paths.html#273" class="Bound">X</a> <a id="275" class="Symbol">:</a> <a id="277" href="MLTT.Universes.html#3834" class="Generalizable">𝓤</a> <a id="279" href="MLTT.Universes.html#3977" class="Function Operator">̇</a> <a id="281" class="Symbol">)</a> <a id="283" class="Symbol">(</a><a id="284" href="W.Paths.html#284" class="Bound">A</a> <a id="286" class="Symbol">:</a> <a id="288" href="W.Paths.html#273" class="Bound">X</a> <a id="290" class="Symbol">→</a> <a id="292" href="MLTT.Universes.html#3836" class="Generalizable">𝓥</a> <a id="294" href="MLTT.Universes.html#3977" class="Function Operator">̇</a> <a id="296" class="Symbol">)</a> <a id="298" class="Keyword">where</a>

 <a id="306" class="Keyword">private</a>
  <a id="316" href="W.Paths.html#316" class="Function">𝕎</a> <a id="318" class="Symbol">=</a> <a id="320" href="W.Type.html#130" class="Datatype">W</a> <a id="322" href="W.Paths.html#273" class="Bound">X</a> <a id="324" href="W.Paths.html#284" class="Bound">A</a>

<a id="327" class="Markup">\end{code}</a><a id="337" class="Background">

Paths whose lengths can be measured with natural numbers.

</a><a id="398" class="Markup">\begin{code}</a>

 <a id="413" href="W.Paths.html#413" class="Function">Path₀</a> <a id="419" class="Symbol">:</a> <a id="421" href="W.Paths.html#316" class="Function">𝕎</a> <a id="423" class="Symbol">→</a> <a id="425" href="W.Paths.html#277" class="Bound">𝓤</a> <a id="427" href="Agda.Primitive.html#961" class="Primitive Operator">⊔</a> <a id="429" href="W.Paths.html#292" class="Bound">𝓥</a> <a id="431" href="MLTT.Universes.html#3977" class="Function Operator">̇</a>
 <a id="434" href="W.Paths.html#413" class="Function">Path₀</a> <a id="440" class="Symbol">(</a><a id="441" href="W.Type.html#192" class="InductiveConstructor">ssup</a> <a id="446" href="W.Paths.html#446" class="Bound">x</a> <a id="448" href="W.Paths.html#448" class="Bound">φ</a><a id="449" class="Symbol">)</a> <a id="451" class="Symbol">=</a> <a id="453" href="MLTT.Negation.html#1004" class="Function">is-empty</a> <a id="462" class="Symbol">(</a><a id="463" href="W.Paths.html#284" class="Bound">A</a> <a id="465" href="W.Paths.html#446" class="Bound">x</a><a id="466" class="Symbol">)</a> <a id="468" href="MLTT.Plus-Type.html#120" class="Datatype Operator">+</a> <a id="470" class="Symbol">(</a><a id="471" href="MLTT.Sigma.html#423" class="Function">Σ</a> <a id="473" href="W.Paths.html#473" class="Bound">a</a> <a id="475" href="MLTT.Sigma.html#423" class="Function">꞉</a> <a id="477" href="W.Paths.html#284" class="Bound">A</a> <a id="479" href="W.Paths.html#446" class="Bound">x</a> <a id="481" href="MLTT.Sigma.html#423" class="Function">,</a> <a id="483" href="W.Paths.html#413" class="Function">Path₀</a> <a id="489" class="Symbol">(</a><a id="490" href="W.Paths.html#448" class="Bound">φ</a> <a id="492" href="W.Paths.html#473" class="Bound">a</a><a id="493" class="Symbol">))</a>

 <a id="498" href="W.Paths.html#498" class="Function">Path₀-length</a> <a id="511" class="Symbol">:</a> <a id="513" class="Symbol">(</a><a id="514" href="W.Paths.html#514" class="Bound">w</a> <a id="516" class="Symbol">:</a> <a id="518" href="W.Paths.html#316" class="Function">𝕎</a><a id="519" class="Symbol">)</a> <a id="521" class="Symbol">→</a> <a id="523" href="W.Paths.html#413" class="Function">Path₀</a> <a id="529" href="W.Paths.html#514" class="Bound">w</a> <a id="531" class="Symbol">→</a> <a id="533" href="MLTT.Natural-Numbers-Type.html#96" class="Datatype">ℕ</a>
 <a id="536" href="W.Paths.html#498" class="Function">Path₀-length</a> <a id="549" class="Symbol">(</a><a id="550" href="W.Type.html#192" class="InductiveConstructor">ssup</a> <a id="555" href="W.Paths.html#555" class="Bound">x</a> <a id="557" href="W.Paths.html#557" class="Bound">φ</a><a id="558" class="Symbol">)</a> <a id="560" class="Symbol">(</a><a id="561" href="MLTT.Plus-Type.html#169" class="InductiveConstructor">inl</a> <a id="565" class="Symbol">_)</a>        <a id="575" class="Symbol">=</a> <a id="577" class="Number">0</a>
 <a id="580" href="W.Paths.html#498" class="Function">Path₀-length</a> <a id="593" class="Symbol">(</a><a id="594" href="W.Type.html#192" class="InductiveConstructor">ssup</a> <a id="599" href="W.Paths.html#599" class="Bound">x</a> <a id="601" href="W.Paths.html#601" class="Bound">φ</a><a id="602" class="Symbol">)</a> <a id="604" class="Symbol">(</a><a id="605" href="MLTT.Plus-Type.html#186" class="InductiveConstructor">inr</a> <a id="609" class="Symbol">(</a><a id="610" href="W.Paths.html#610" class="Bound">a</a> <a id="612" href="MLTT.Sigma.html#395" class="InductiveConstructor Operator">,</a> <a id="614" href="W.Paths.html#614" class="Bound">as</a><a id="616" class="Symbol">))</a> <a id="619" class="Symbol">=</a> <a id="621" href="MLTT.Natural-Numbers-Type.html#123" class="InductiveConstructor">succ</a> <a id="626" class="Symbol">(</a><a id="627" href="W.Paths.html#498" class="Function">Path₀-length</a> <a id="640" class="Symbol">(</a><a id="641" href="W.Paths.html#601" class="Bound">φ</a> <a id="643" href="W.Paths.html#610" class="Bound">a</a><a id="644" class="Symbol">)</a> <a id="646" href="W.Paths.html#614" class="Bound">as</a><a id="648" class="Symbol">)</a>

<a id="651" class="Markup">\end{code}</a><a id="661" class="Background">

To construct such paths, we need to be able to decide pointedness. A
weaker notion that doesn&#39;t require this is the following.

</a><a id="791" class="Markup">\begin{code}</a>

 <a id="806" class="Keyword">module</a> <a id="813" href="W.Paths.html#813" class="Module">weaker-notion-of-path</a>
         <a id="844" class="Symbol">(</a><a id="845" href="W.Paths.html#845" class="Bound">pt</a> <a id="848" class="Symbol">:</a> <a id="850" href="UF.PropTrunc.html#486" class="Record">propositional-truncations-exist</a><a id="881" class="Symbol">)</a>
        <a id="891" class="Keyword">where</a>

  <a id="900" class="Keyword">open</a> <a id="905" href="UF.PropTrunc.html#792" class="Module">PropositionalTruncation</a> <a id="929" href="W.Paths.html#845" class="Bound">pt</a>
  <a id="934" class="Keyword">open</a> <a id="939" href="UF.Logic.html#5799" class="Module">Truncation</a> <a id="950" href="W.Paths.html#845" class="Bound">pt</a> <a id="953" class="Keyword">renaming</a> <a id="962" class="Symbol">(</a><a id="963" href="UF.Logic.html#5893" class="Function Operator">∥_∥Ω</a> <a id="968" class="Symbol">to</a> <a id="971" class="Function Operator">⟦_⟧</a><a id="974" class="Symbol">)</a>

  <a id="979" href="W.Paths.html#979" class="Function">Path</a> <a id="984" class="Symbol">:</a> <a id="986" href="W.Paths.html#316" class="Function">𝕎</a> <a id="988" class="Symbol">→</a> <a id="990" href="W.Paths.html#277" class="Bound">𝓤</a> <a id="992" href="Agda.Primitive.html#961" class="Primitive Operator">⊔</a> <a id="994" href="W.Paths.html#292" class="Bound">𝓥</a> <a id="996" href="MLTT.Universes.html#3977" class="Function Operator">̇</a>
  <a id="1000" href="W.Paths.html#979" class="Function">Path</a> <a id="1005" class="Symbol">(</a><a id="1006" href="W.Type.html#192" class="InductiveConstructor">ssup</a> <a id="1011" href="W.Paths.html#1011" class="Bound">x</a> <a id="1013" href="W.Paths.html#1013" class="Bound">φ</a><a id="1014" class="Symbol">)</a> <a id="1016" class="Symbol">=</a> <a id="1018" href="UF.PropTrunc.html#538" class="Field Operator">∥</a> <a id="1020" href="W.Paths.html#284" class="Bound">A</a> <a id="1022" href="W.Paths.html#1011" class="Bound">x</a> <a id="1024" href="UF.PropTrunc.html#538" class="Field Operator">∥</a> <a id="1026" class="Symbol">→</a> <a id="1028" href="MLTT.Sigma.html#423" class="Function">Σ</a> <a id="1030" href="W.Paths.html#1030" class="Bound">a</a> <a id="1032" href="MLTT.Sigma.html#423" class="Function">꞉</a> <a id="1034" href="W.Paths.html#284" class="Bound">A</a> <a id="1036" href="W.Paths.html#1011" class="Bound">x</a> <a id="1038" href="MLTT.Sigma.html#423" class="Function">,</a> <a id="1040" href="W.Paths.html#979" class="Function">Path</a> <a id="1045" class="Symbol">(</a><a id="1046" href="W.Paths.html#1013" class="Bound">φ</a> <a id="1048" href="W.Paths.html#1030" class="Bound">a</a><a id="1049" class="Symbol">)</a>

  <a id="1054" href="W.Paths.html#1054" class="Function">head</a> <a id="1059" class="Symbol">:</a> <a id="1061" class="Symbol">{</a><a id="1062" href="W.Paths.html#1062" class="Bound">w</a> <a id="1064" class="Symbol">:</a> <a id="1066" href="W.Paths.html#316" class="Function">𝕎</a><a id="1067" class="Symbol">}</a> <a id="1069" class="Symbol">→</a> <a id="1071" href="UF.PropTrunc.html#538" class="Field Operator">∥</a> <a id="1073" href="W.Paths.html#284" class="Bound">A</a> <a id="1075" class="Symbol">(</a><a id="1076" href="W.Type.html#299" class="Function">W-root</a> <a id="1083" href="W.Paths.html#1062" class="Bound">w</a><a id="1084" class="Symbol">)</a> <a id="1086" href="UF.PropTrunc.html#538" class="Field Operator">∥</a> <a id="1088" class="Symbol">→</a> <a id="1090" href="W.Paths.html#979" class="Function">Path</a> <a id="1095" href="W.Paths.html#1062" class="Bound">w</a> <a id="1097" class="Symbol">→</a> <a id="1099" href="W.Paths.html#284" class="Bound">A</a> <a id="1101" class="Symbol">(</a><a id="1102" href="W.Type.html#299" class="Function">W-root</a> <a id="1109" href="W.Paths.html#1062" class="Bound">w</a><a id="1110" class="Symbol">)</a>
  <a id="1114" href="W.Paths.html#1054" class="Function">head</a> <a id="1119" class="Symbol">{</a><a id="1120" href="W.Type.html#192" class="InductiveConstructor">ssup</a> <a id="1125" href="W.Paths.html#1125" class="Bound">x</a> <a id="1127" href="W.Paths.html#1127" class="Bound">φ</a><a id="1128" class="Symbol">}</a> <a id="1130" href="W.Paths.html#1130" class="Bound">s</a> <a id="1132" href="W.Paths.html#1132" class="Bound">as</a> <a id="1135" class="Symbol">=</a> <a id="1137" href="MLTT.Sigma-Type.html#198" class="Field">pr₁</a> <a id="1141" class="Symbol">(</a><a id="1142" href="W.Paths.html#1132" class="Bound">as</a> <a id="1145" href="W.Paths.html#1130" class="Bound">s</a><a id="1146" class="Symbol">)</a>

  <a id="1151" href="W.Paths.html#1151" class="Function">tail</a> <a id="1156" class="Symbol">:</a> <a id="1158" class="Symbol">{</a><a id="1159" href="W.Paths.html#1159" class="Bound">w</a> <a id="1161" class="Symbol">:</a> <a id="1163" href="W.Paths.html#316" class="Function">𝕎</a><a id="1164" class="Symbol">}</a> <a id="1166" class="Symbol">(</a><a id="1167" href="W.Paths.html#1167" class="Bound">s</a> <a id="1169" class="Symbol">:</a> <a id="1171" href="UF.PropTrunc.html#538" class="Field Operator">∥</a> <a id="1173" href="W.Paths.html#284" class="Bound">A</a> <a id="1175" class="Symbol">(</a><a id="1176" href="W.Type.html#299" class="Function">W-root</a> <a id="1183" href="W.Paths.html#1159" class="Bound">w</a><a id="1184" class="Symbol">)</a> <a id="1186" href="UF.PropTrunc.html#538" class="Field Operator">∥</a><a id="1187" class="Symbol">)</a> <a id="1189" class="Symbol">(</a><a id="1190" href="W.Paths.html#1190" class="Bound">as</a> <a id="1193" class="Symbol">:</a> <a id="1195" href="W.Paths.html#979" class="Function">Path</a> <a id="1200" href="W.Paths.html#1159" class="Bound">w</a><a id="1201" class="Symbol">)</a> <a id="1203" class="Symbol">→</a> <a id="1205" href="W.Paths.html#979" class="Function">Path</a> <a id="1210" class="Symbol">(</a><a id="1211" href="W.Type.html#339" class="Function">W-forest</a> <a id="1220" href="W.Paths.html#1159" class="Bound">w</a> <a id="1222" class="Symbol">(</a><a id="1223" href="W.Paths.html#1054" class="Function">head</a> <a id="1228" href="W.Paths.html#1167" class="Bound">s</a> <a id="1230" href="W.Paths.html#1190" class="Bound">as</a><a id="1232" class="Symbol">))</a>
  <a id="1237" href="W.Paths.html#1151" class="Function">tail</a> <a id="1242" class="Symbol">{</a><a id="1243" href="W.Type.html#192" class="InductiveConstructor">ssup</a> <a id="1248" href="W.Paths.html#1248" class="Bound">x</a> <a id="1250" href="W.Paths.html#1250" class="Bound">φ</a><a id="1251" class="Symbol">}</a> <a id="1253" href="W.Paths.html#1253" class="Bound">s</a> <a id="1255" href="W.Paths.html#1255" class="Bound">as</a> <a id="1258" class="Symbol">=</a> <a id="1260" href="MLTT.Sigma-Type.html#209" class="Field">pr₂</a> <a id="1264" class="Symbol">(</a><a id="1265" href="W.Paths.html#1255" class="Bound">as</a> <a id="1268" href="W.Paths.html#1253" class="Bound">s</a><a id="1269" class="Symbol">)</a>

  <a id="1274" href="W.Paths.html#1274" class="Function">Path₀-gives-Path</a> <a id="1291" class="Symbol">:</a> <a id="1293" class="Symbol">(</a><a id="1294" href="W.Paths.html#1294" class="Bound">w</a> <a id="1296" class="Symbol">:</a> <a id="1298" href="W.Paths.html#316" class="Function">𝕎</a><a id="1299" class="Symbol">)</a> <a id="1301" class="Symbol">→</a> <a id="1303" href="W.Paths.html#413" class="Function">Path₀</a> <a id="1309" href="W.Paths.html#1294" class="Bound">w</a> <a id="1311" class="Symbol">→</a> <a id="1313" href="W.Paths.html#979" class="Function">Path</a> <a id="1318" href="W.Paths.html#1294" class="Bound">w</a>
  <a id="1322" href="W.Paths.html#1274" class="Function">Path₀-gives-Path</a> <a id="1339" class="Symbol">(</a><a id="1340" href="W.Type.html#192" class="InductiveConstructor">ssup</a> <a id="1345" href="W.Paths.html#1345" class="Bound">x</a> <a id="1347" href="W.Paths.html#1347" class="Bound">φ</a><a id="1348" class="Symbol">)</a> <a id="1350" class="Symbol">(</a><a id="1351" href="MLTT.Plus-Type.html#169" class="InductiveConstructor">inl</a> <a id="1355" href="W.Paths.html#1355" class="Bound">e</a><a id="1356" class="Symbol">)</a>         <a id="1366" href="W.Paths.html#1366" class="Bound">a₀</a> <a id="1369" class="Symbol">=</a> <a id="1371" href="MLTT.Empty.html#356" class="Function">𝟘-elim</a> <a id="1378" class="Symbol">(</a><a id="1379" href="UF.PropTrunc.html#676" class="Field">∥∥-rec</a> <a id="1386" href="UF.Subsingletons.html#2785" class="Function">𝟘-is-prop</a> <a id="1396" href="W.Paths.html#1355" class="Bound">e</a> <a id="1398" href="W.Paths.html#1366" class="Bound">a₀</a><a id="1400" class="Symbol">)</a>
  <a id="1404" href="W.Paths.html#1274" class="Function">Path₀-gives-Path</a> <a id="1421" class="Symbol">(</a><a id="1422" href="W.Type.html#192" class="InductiveConstructor">ssup</a> <a id="1427" href="W.Paths.html#1427" class="Bound">x</a> <a id="1429" href="W.Paths.html#1429" class="Bound">φ</a><a id="1430" class="Symbol">)</a> <a id="1432" class="Symbol">(</a><a id="1433" href="MLTT.Plus-Type.html#186" class="InductiveConstructor">inr</a> <a id="1437" class="Symbol">(</a><a id="1438" href="W.Paths.html#1438" class="Bound">a</a> <a id="1440" href="MLTT.Sigma.html#395" class="InductiveConstructor Operator">,</a> <a id="1442" href="W.Paths.html#1442" class="Bound">as</a><a id="1444" class="Symbol">))</a>  <a id="1448" href="W.Paths.html#1448" class="Bound">a₀</a> <a id="1451" class="Symbol">=</a> <a id="1453" href="W.Paths.html#1438" class="Bound">a</a> <a id="1455" href="MLTT.Sigma.html#395" class="InductiveConstructor Operator">,</a> <a id="1457" href="W.Paths.html#1274" class="Function">Path₀-gives-Path</a> <a id="1474" class="Symbol">(</a><a id="1475" href="W.Paths.html#1429" class="Bound">φ</a> <a id="1477" href="W.Paths.html#1438" class="Bound">a</a><a id="1478" class="Symbol">)</a> <a id="1480" href="W.Paths.html#1442" class="Bound">as</a>

<a id="1484" class="Markup">\end{code}</a><a id="1494" class="Background">

To measure the length of a path in the weaker sense, we need
generalized natural numbers.

</a><a id="1587" class="Markup">\begin{code}</a>

  <a id="1603" href="W.Paths.html#1603" class="Function">Path-length</a> <a id="1615" class="Symbol">:</a> <a id="1617" class="Symbol">(</a><a id="1618" href="W.Paths.html#1618" class="Bound">w</a> <a id="1620" class="Symbol">:</a> <a id="1622" href="W.Paths.html#316" class="Function">𝕎</a><a id="1623" class="Symbol">)</a> <a id="1625" class="Symbol">→</a> <a id="1627" href="W.Paths.html#979" class="Function">Path</a> <a id="1632" href="W.Paths.html#1618" class="Bound">w</a> <a id="1634" class="Symbol">→</a> <a id="1636" href="W.Numbers.html#1020" class="Function">𝓝</a>
  <a id="1640" href="W.Paths.html#1603" class="Function">Path-length</a> <a id="1652" class="Symbol">(</a><a id="1653" href="W.Type.html#192" class="InductiveConstructor">ssup</a> <a id="1658" href="W.Paths.html#1658" class="Bound">x</a> <a id="1660" href="W.Paths.html#1660" class="Bound">φ</a><a id="1661" class="Symbol">)</a> <a id="1663" href="W.Paths.html#1663" class="Bound">as</a> <a id="1666" class="Symbol">=</a> <a id="1668" href="W.Numbers.html#1556" class="Function">Suc</a> <a id="1672" href="W.Paths.html#971" class="Function Operator">⟦</a> <a id="1674" href="W.Paths.html#284" class="Bound">A</a> <a id="1676" href="W.Paths.html#1658" class="Bound">x</a> <a id="1678" href="W.Paths.html#971" class="Function Operator">⟧</a>
                               <a id="1711" class="Symbol">(λ</a> <a id="1714" class="Symbol">(</a><a id="1715" href="W.Paths.html#1715" class="Bound">s</a> <a id="1717" class="Symbol">:</a> <a id="1719" href="UF.PropTrunc.html#538" class="Field Operator">∥</a> <a id="1721" href="W.Paths.html#284" class="Bound">A</a> <a id="1723" href="W.Paths.html#1658" class="Bound">x</a> <a id="1725" href="UF.PropTrunc.html#538" class="Field Operator">∥</a><a id="1726" class="Symbol">)</a> <a id="1728" class="Symbol">→</a> <a id="1730" href="W.Paths.html#1603" class="Function">Path-length</a> <a id="1742" class="Symbol">(</a><a id="1743" href="W.Paths.html#1660" class="Bound">φ</a> <a id="1745" class="Symbol">(</a><a id="1746" href="W.Paths.html#1054" class="Function">head</a> <a id="1751" href="W.Paths.html#1715" class="Bound">s</a> <a id="1753" href="W.Paths.html#1663" class="Bound">as</a><a id="1755" class="Symbol">))</a> <a id="1758" class="Symbol">(</a><a id="1759" href="W.Paths.html#1151" class="Function">tail</a> <a id="1764" href="W.Paths.html#1715" class="Bound">s</a> <a id="1766" href="W.Paths.html#1663" class="Bound">as</a><a id="1768" class="Symbol">))</a>
<a id="1771" class="Markup">\end{code}</a><a id="1781" class="Background">

For example, descending chains in ordinals can be seen as paths in a
W-type of ordinals. See Iterative.index.
</a></pre></body></html>