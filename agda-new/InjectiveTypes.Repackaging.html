<!DOCTYPE HTML>
<html><head><meta charset="utf-8"><title>InjectiveTypes.Repackaging</title><link rel="stylesheet" href="Agda.css"><script type="text/javascript" src="highlight-hover.js"></script></head><body><pre class="Agda"><a id="1" class="Background">Martin Escardo, 13th June 2025

We repackage the definitions of algebraic injective and flabby
structure in a more convenient way for some purposes.

</a><a id="151" class="Markup">\begin{code}</a>

<a id="165" class="Symbol">{-#</a> <a id="169" class="Keyword">OPTIONS</a> <a id="177" class="Pragma">--safe</a> <a id="184" class="Pragma">--without-K</a> <a id="196" class="Pragma">--lossy-unification</a> <a id="216" class="Symbol">#-}</a>

<a id="221" class="Keyword">open</a> <a id="226" class="Keyword">import</a> <a id="233" href="MLTT.Spartan.html" class="Module">MLTT.Spartan</a>

<a id="247" class="Keyword">module</a> <a id="254" href="InjectiveTypes.Repackaging.html" class="Module">InjectiveTypes.Repackaging</a>
        <a id="289" class="Symbol">{</a><a id="290" href="InjectiveTypes.Repackaging.html#290" class="Bound">𝓦</a> <a id="292" class="Symbol">:</a> <a id="294" href="Agda.Primitive.html#742" class="Postulate">Universe</a><a id="302" class="Symbol">}</a>
        <a id="312" class="Symbol">(</a><a id="313" href="InjectiveTypes.Repackaging.html#313" class="Bound">D</a> <a id="315" class="Symbol">:</a> <a id="317" href="InjectiveTypes.Repackaging.html#290" class="Bound">𝓦</a> <a id="319" href="MLTT.Universes.html#3977" class="Function Operator">̇</a> <a id="321" class="Symbol">)</a>
       <a id="330" class="Keyword">where</a>

<a id="337" class="Keyword">open</a> <a id="342" class="Keyword">import</a> <a id="349" href="UF.Embeddings.html" class="Module">UF.Embeddings</a>
<a id="363" class="Keyword">open</a> <a id="368" class="Keyword">import</a> <a id="375" href="UF.SubtypeClassifier.html" class="Module">UF.SubtypeClassifier</a>

<a id="flabby-structure"></a><a id="397" href="InjectiveTypes.Repackaging.html#397" class="Function">flabby-structure</a> <a id="414" class="Symbol">:</a> <a id="416" class="Symbol">(</a><a id="417" href="InjectiveTypes.Repackaging.html#417" class="Bound">𝓤</a> <a id="419" class="Symbol">:</a> <a id="421" href="Agda.Primitive.html#742" class="Postulate">Universe</a><a id="429" class="Symbol">)</a> <a id="431" class="Symbol">→</a> <a id="433" href="InjectiveTypes.Repackaging.html#417" class="Bound">𝓤</a> <a id="435" href="Agda.Primitive.html#931" class="Primitive Operator">⁺</a> <a id="437" href="Agda.Primitive.html#961" class="Primitive Operator">⊔</a> <a id="439" href="InjectiveTypes.Repackaging.html#290" class="Bound">𝓦</a> <a id="441" href="MLTT.Universes.html#3977" class="Function Operator">̇</a>
<a id="443" href="InjectiveTypes.Repackaging.html#397" class="Function">flabby-structure</a> <a id="460" href="InjectiveTypes.Repackaging.html#460" class="Bound">𝓤</a>
 <a id="463" class="Symbol">=</a> <a id="465" href="MLTT.Sigma.html#423" class="Function">Σ</a> <a id="467" href="InjectiveTypes.Repackaging.html#467" class="Bound">⨆</a> <a id="469" href="MLTT.Sigma.html#423" class="Function">꞉</a> <a id="471" class="Symbol">((</a><a id="473" href="InjectiveTypes.Repackaging.html#473" class="Bound">P</a> <a id="475" class="Symbol">:</a> <a id="477" href="UF.SubtypeClassifier.html#422" class="Function">Ω</a> <a id="479" href="InjectiveTypes.Repackaging.html#460" class="Bound">𝓤</a><a id="480" class="Symbol">)</a> <a id="482" class="Symbol">→</a> <a id="484" class="Symbol">(</a><a id="485" href="InjectiveTypes.Repackaging.html#473" class="Bound">P</a> <a id="487" href="UF.SubtypeClassifier.html#478" class="Function Operator">holds</a> <a id="493" class="Symbol">→</a> <a id="495" href="InjectiveTypes.Repackaging.html#313" class="Bound">D</a><a id="496" class="Symbol">)</a> <a id="498" class="Symbol">→</a> <a id="500" href="InjectiveTypes.Repackaging.html#313" class="Bound">D</a><a id="501" class="Symbol">)</a>
       <a id="510" href="MLTT.Sigma.html#423" class="Function">,</a> <a id="512" class="Symbol">((</a><a id="514" href="InjectiveTypes.Repackaging.html#514" class="Bound">P</a> <a id="516" class="Symbol">:</a> <a id="518" href="UF.SubtypeClassifier.html#422" class="Function">Ω</a> <a id="520" href="InjectiveTypes.Repackaging.html#460" class="Bound">𝓤</a><a id="521" class="Symbol">)</a> <a id="523" class="Symbol">(</a><a id="524" href="InjectiveTypes.Repackaging.html#524" class="Bound">f</a> <a id="526" class="Symbol">:</a> <a id="528" href="InjectiveTypes.Repackaging.html#514" class="Bound">P</a> <a id="530" href="UF.SubtypeClassifier.html#478" class="Function Operator">holds</a> <a id="536" class="Symbol">→</a> <a id="538" href="InjectiveTypes.Repackaging.html#313" class="Bound">D</a><a id="539" class="Symbol">)</a> <a id="541" class="Symbol">(</a><a id="542" href="InjectiveTypes.Repackaging.html#542" class="Bound">p</a> <a id="544" class="Symbol">:</a> <a id="546" href="InjectiveTypes.Repackaging.html#514" class="Bound">P</a> <a id="548" href="UF.SubtypeClassifier.html#478" class="Function Operator">holds</a><a id="553" class="Symbol">)</a> <a id="555" class="Symbol">→</a> <a id="557" href="InjectiveTypes.Repackaging.html#467" class="Bound">⨆</a> <a id="559" href="InjectiveTypes.Repackaging.html#514" class="Bound">P</a> <a id="561" href="InjectiveTypes.Repackaging.html#524" class="Bound">f</a> <a id="563" href="MLTT.Id.html#193" class="Datatype Operator">＝</a> <a id="565" href="InjectiveTypes.Repackaging.html#524" class="Bound">f</a> <a id="567" href="InjectiveTypes.Repackaging.html#542" class="Bound">p</a><a id="568" class="Symbol">)</a>

<a id="injective-structure"></a><a id="571" href="InjectiveTypes.Repackaging.html#571" class="Function">injective-structure</a> <a id="591" class="Symbol">:</a> <a id="593" class="Symbol">(</a><a id="594" href="InjectiveTypes.Repackaging.html#594" class="Bound">𝓤</a> <a id="596" href="InjectiveTypes.Repackaging.html#596" class="Bound">𝓥</a> <a id="598" class="Symbol">:</a> <a id="600" href="Agda.Primitive.html#742" class="Postulate">Universe</a><a id="608" class="Symbol">)</a> <a id="610" class="Symbol">→</a> <a id="612" href="InjectiveTypes.Repackaging.html#594" class="Bound">𝓤</a> <a id="614" href="Agda.Primitive.html#931" class="Primitive Operator">⁺</a> <a id="616" href="Agda.Primitive.html#961" class="Primitive Operator">⊔</a> <a id="618" href="InjectiveTypes.Repackaging.html#596" class="Bound">𝓥</a> <a id="620" href="Agda.Primitive.html#931" class="Primitive Operator">⁺</a> <a id="622" href="Agda.Primitive.html#961" class="Primitive Operator">⊔</a> <a id="624" href="InjectiveTypes.Repackaging.html#290" class="Bound">𝓦</a> <a id="626" href="MLTT.Universes.html#3977" class="Function Operator">̇</a>
<a id="628" href="InjectiveTypes.Repackaging.html#571" class="Function">injective-structure</a> <a id="648" href="InjectiveTypes.Repackaging.html#648" class="Bound">𝓤</a> <a id="650" href="InjectiveTypes.Repackaging.html#650" class="Bound">𝓥</a>
 <a id="653" class="Symbol">=</a> <a id="655" href="MLTT.Sigma.html#423" class="Function">Σ</a> <a id="657" href="InjectiveTypes.Repackaging.html#657" class="Bound Operator">_∣_</a> <a id="661" href="MLTT.Sigma.html#423" class="Function">꞉</a> <a id="663" class="Symbol">({</a><a id="665" href="InjectiveTypes.Repackaging.html#665" class="Bound">X</a> <a id="667" class="Symbol">:</a> <a id="669" href="InjectiveTypes.Repackaging.html#648" class="Bound">𝓤</a> <a id="671" href="MLTT.Universes.html#3977" class="Function Operator">̇</a> <a id="673" class="Symbol">}</a> <a id="675" class="Symbol">{</a><a id="676" href="InjectiveTypes.Repackaging.html#676" class="Bound">Y</a> <a id="678" class="Symbol">:</a> <a id="680" href="InjectiveTypes.Repackaging.html#650" class="Bound">𝓥</a> <a id="682" href="MLTT.Universes.html#3977" class="Function Operator">̇</a> <a id="684" class="Symbol">}</a> <a id="686" class="Symbol">→</a> <a id="688" class="Symbol">(</a><a id="689" href="InjectiveTypes.Repackaging.html#665" class="Bound">X</a> <a id="691" class="Symbol">→</a> <a id="693" href="InjectiveTypes.Repackaging.html#313" class="Bound">D</a><a id="694" class="Symbol">)</a> <a id="696" class="Symbol">→</a> <a id="698" class="Symbol">(</a><a id="699" href="InjectiveTypes.Repackaging.html#665" class="Bound">X</a> <a id="701" href="UF.Embeddings.html#2053" class="Function Operator">↪</a> <a id="703" href="InjectiveTypes.Repackaging.html#676" class="Bound">Y</a><a id="704" class="Symbol">)</a> <a id="706" class="Symbol">→</a> <a id="708" class="Symbol">(</a><a id="709" href="InjectiveTypes.Repackaging.html#676" class="Bound">Y</a> <a id="711" class="Symbol">→</a> <a id="713" href="InjectiveTypes.Repackaging.html#313" class="Bound">D</a><a id="714" class="Symbol">))</a>
         <a id="726" href="MLTT.Sigma.html#423" class="Function">,</a> <a id="728" class="Symbol">({</a><a id="730" href="InjectiveTypes.Repackaging.html#730" class="Bound">X</a> <a id="732" class="Symbol">:</a> <a id="734" href="InjectiveTypes.Repackaging.html#648" class="Bound">𝓤</a> <a id="736" href="MLTT.Universes.html#3977" class="Function Operator">̇</a> <a id="738" class="Symbol">}</a> <a id="740" class="Symbol">{</a><a id="741" href="InjectiveTypes.Repackaging.html#741" class="Bound">Y</a> <a id="743" class="Symbol">:</a> <a id="745" href="InjectiveTypes.Repackaging.html#650" class="Bound">𝓥</a> <a id="747" href="MLTT.Universes.html#3977" class="Function Operator">̇</a> <a id="749" class="Symbol">}</a> <a id="751" class="Symbol">(</a><a id="752" href="InjectiveTypes.Repackaging.html#752" class="Bound">f</a> <a id="754" class="Symbol">:</a> <a id="756" href="InjectiveTypes.Repackaging.html#730" class="Bound">X</a> <a id="758" class="Symbol">→</a> <a id="760" href="InjectiveTypes.Repackaging.html#313" class="Bound">D</a><a id="761" class="Symbol">)</a> <a id="763" class="Symbol">(</a><a id="764" href="InjectiveTypes.Repackaging.html#764" class="Bound">𝕛</a> <a id="766" class="Symbol">:</a> <a id="768" href="InjectiveTypes.Repackaging.html#730" class="Bound">X</a> <a id="770" href="UF.Embeddings.html#2053" class="Function Operator">↪</a> <a id="772" href="InjectiveTypes.Repackaging.html#741" class="Bound">Y</a><a id="773" class="Symbol">)</a> <a id="775" class="Symbol">→</a> <a id="777" class="Symbol">(</a><a id="778" href="InjectiveTypes.Repackaging.html#752" class="Bound">f</a> <a id="780" href="InjectiveTypes.Repackaging.html#657" class="Bound Operator">∣</a> <a id="782" href="InjectiveTypes.Repackaging.html#764" class="Bound">𝕛</a><a id="783" class="Symbol">)</a> <a id="785" href="MLTT.Pi.html#513" class="Function Operator">∘</a> <a id="787" href="UF.Embeddings.html#2308" class="Function Operator">⌊</a> <a id="789" href="InjectiveTypes.Repackaging.html#764" class="Bound">𝕛</a> <a id="791" href="UF.Embeddings.html#2308" class="Function Operator">⌋</a> <a id="793" href="MLTT.Id.html#1891" class="Function Operator">∼</a> <a id="795" href="InjectiveTypes.Repackaging.html#752" class="Bound">f</a><a id="796" class="Symbol">)</a>

<a id="flabby-structure-gives-injective-structure"></a><a id="799" href="InjectiveTypes.Repackaging.html#799" class="Function">flabby-structure-gives-injective-structure</a>
 <a id="843" class="Symbol">:</a> <a id="845" href="InjectiveTypes.Repackaging.html#397" class="Function">flabby-structure</a> <a id="862" class="Symbol">(</a><a id="863" href="MLTT.Universes.html#3834" class="Generalizable">𝓤</a> <a id="865" href="Agda.Primitive.html#961" class="Primitive Operator">⊔</a> <a id="867" href="MLTT.Universes.html#3836" class="Generalizable">𝓥</a><a id="868" class="Symbol">)</a> <a id="870" class="Symbol">→</a> <a id="872" href="InjectiveTypes.Repackaging.html#571" class="Function">injective-structure</a> <a id="892" href="MLTT.Universes.html#3834" class="Generalizable">𝓤</a> <a id="894" href="MLTT.Universes.html#3836" class="Generalizable">𝓥</a>
<a id="896" href="InjectiveTypes.Repackaging.html#799" class="Function">flabby-structure-gives-injective-structure</a> <a id="939" class="Symbol">{</a><a id="940" href="InjectiveTypes.Repackaging.html#940" class="Bound">𝓤</a><a id="941" class="Symbol">}</a> <a id="943" class="Symbol">{</a><a id="944" href="InjectiveTypes.Repackaging.html#944" class="Bound">𝓥</a><a id="945" class="Symbol">}</a> <a id="947" class="Symbol">(</a><a id="948" href="InjectiveTypes.Repackaging.html#948" class="Bound">⨆</a> <a id="950" href="MLTT.Sigma.html#395" class="InductiveConstructor Operator">,</a> <a id="952" href="InjectiveTypes.Repackaging.html#952" class="Bound">e</a><a id="953" class="Symbol">)</a>
 <a id="956" class="Symbol">=</a> <a id="958" href="InjectiveTypes.Repackaging.html#976" class="Function Operator">_∣_</a> <a id="962" href="MLTT.Sigma.html#395" class="InductiveConstructor Operator">,</a> <a id="964" href="InjectiveTypes.Repackaging.html#1077" class="Function">e&#39;</a>
 <a id="968" class="Keyword">where</a>
  <a id="976" href="InjectiveTypes.Repackaging.html#976" class="Function Operator">_∣_</a> <a id="980" class="Symbol">:</a> <a id="982" class="Symbol">{</a><a id="983" href="InjectiveTypes.Repackaging.html#983" class="Bound">X</a> <a id="985" class="Symbol">:</a> <a id="987" href="InjectiveTypes.Repackaging.html#940" class="Bound">𝓤</a> <a id="989" href="MLTT.Universes.html#3977" class="Function Operator">̇</a> <a id="991" class="Symbol">}</a> <a id="993" class="Symbol">{</a><a id="994" href="InjectiveTypes.Repackaging.html#994" class="Bound">Y</a> <a id="996" class="Symbol">:</a> <a id="998" href="InjectiveTypes.Repackaging.html#944" class="Bound">𝓥</a> <a id="1000" href="MLTT.Universes.html#3977" class="Function Operator">̇</a> <a id="1002" class="Symbol">}</a> <a id="1004" class="Symbol">→</a> <a id="1006" class="Symbol">(</a><a id="1007" href="InjectiveTypes.Repackaging.html#983" class="Bound">X</a> <a id="1009" class="Symbol">→</a> <a id="1011" href="InjectiveTypes.Repackaging.html#313" class="Bound">D</a><a id="1012" class="Symbol">)</a> <a id="1014" class="Symbol">→</a> <a id="1016" class="Symbol">(</a><a id="1017" href="InjectiveTypes.Repackaging.html#983" class="Bound">X</a> <a id="1019" href="UF.Embeddings.html#2053" class="Function Operator">↪</a> <a id="1021" href="InjectiveTypes.Repackaging.html#994" class="Bound">Y</a><a id="1022" class="Symbol">)</a> <a id="1024" class="Symbol">→</a> <a id="1026" class="Symbol">(</a><a id="1027" href="InjectiveTypes.Repackaging.html#994" class="Bound">Y</a> <a id="1029" class="Symbol">→</a> <a id="1031" href="InjectiveTypes.Repackaging.html#313" class="Bound">D</a><a id="1032" class="Symbol">)</a>
  <a id="1036" class="Symbol">(</a><a id="1037" href="InjectiveTypes.Repackaging.html#1037" class="Bound">f</a> <a id="1039" href="InjectiveTypes.Repackaging.html#976" class="Function Operator">∣</a> <a id="1041" href="InjectiveTypes.Repackaging.html#1041" class="Bound">𝕛</a><a id="1042" class="Symbol">)</a> <a id="1044" href="InjectiveTypes.Repackaging.html#1044" class="Bound">y</a> <a id="1046" class="Symbol">=</a> <a id="1048" href="InjectiveTypes.Repackaging.html#948" class="Bound">⨆</a> <a id="1050" class="Symbol">((</a><a id="1052" href="UF.Embeddings.html#21551" class="Function">Fiber</a> <a id="1058" href="InjectiveTypes.Repackaging.html#1041" class="Bound">𝕛</a> <a id="1060" href="InjectiveTypes.Repackaging.html#1044" class="Bound">y</a><a id="1061" class="Symbol">))</a> <a id="1064" class="Symbol">(</a><a id="1065" href="InjectiveTypes.Repackaging.html#1037" class="Bound">f</a> <a id="1067" href="MLTT.Pi.html#513" class="Function Operator">∘</a> <a id="1069" href="MLTT.Sigma-Type.html#198" class="Field">pr₁</a><a id="1072" class="Symbol">)</a>

  <a id="1077" href="InjectiveTypes.Repackaging.html#1077" class="Function">e&#39;</a> <a id="1080" class="Symbol">:</a> <a id="1082" class="Symbol">{</a><a id="1083" href="InjectiveTypes.Repackaging.html#1083" class="Bound">X</a> <a id="1085" class="Symbol">:</a> <a id="1087" href="InjectiveTypes.Repackaging.html#940" class="Bound">𝓤</a> <a id="1089" href="MLTT.Universes.html#3977" class="Function Operator">̇</a> <a id="1091" class="Symbol">}</a> <a id="1093" class="Symbol">{</a><a id="1094" href="InjectiveTypes.Repackaging.html#1094" class="Bound">Y</a> <a id="1096" class="Symbol">:</a> <a id="1098" href="InjectiveTypes.Repackaging.html#944" class="Bound">𝓥</a> <a id="1100" href="MLTT.Universes.html#3977" class="Function Operator">̇</a> <a id="1102" class="Symbol">}</a> <a id="1104" class="Symbol">(</a><a id="1105" href="InjectiveTypes.Repackaging.html#1105" class="Bound">f</a> <a id="1107" class="Symbol">:</a> <a id="1109" href="InjectiveTypes.Repackaging.html#1083" class="Bound">X</a> <a id="1111" class="Symbol">→</a> <a id="1113" href="InjectiveTypes.Repackaging.html#313" class="Bound">D</a><a id="1114" class="Symbol">)</a> <a id="1116" class="Symbol">(</a><a id="1117" href="InjectiveTypes.Repackaging.html#1117" class="Bound">𝕛</a> <a id="1119" class="Symbol">:</a> <a id="1121" href="InjectiveTypes.Repackaging.html#1083" class="Bound">X</a> <a id="1123" href="UF.Embeddings.html#2053" class="Function Operator">↪</a> <a id="1125" href="InjectiveTypes.Repackaging.html#1094" class="Bound">Y</a><a id="1126" class="Symbol">)</a> <a id="1128" class="Symbol">→</a> <a id="1130" class="Symbol">(</a><a id="1131" href="InjectiveTypes.Repackaging.html#1105" class="Bound">f</a> <a id="1133" href="InjectiveTypes.Repackaging.html#976" class="Function Operator">∣</a> <a id="1135" href="InjectiveTypes.Repackaging.html#1117" class="Bound">𝕛</a><a id="1136" class="Symbol">)</a> <a id="1138" href="MLTT.Pi.html#513" class="Function Operator">∘</a> <a id="1140" href="UF.Embeddings.html#2308" class="Function Operator">⌊</a> <a id="1142" href="InjectiveTypes.Repackaging.html#1117" class="Bound">𝕛</a> <a id="1144" href="UF.Embeddings.html#2308" class="Function Operator">⌋</a> <a id="1146" href="MLTT.Id.html#1891" class="Function Operator">∼</a> <a id="1148" href="InjectiveTypes.Repackaging.html#1105" class="Bound">f</a>
  <a id="1152" href="InjectiveTypes.Repackaging.html#1077" class="Function">e&#39;</a> <a id="1155" href="InjectiveTypes.Repackaging.html#1155" class="Bound">f</a> <a id="1157" href="InjectiveTypes.Repackaging.html#1157" class="Bound">𝕛</a> <a id="1159" href="InjectiveTypes.Repackaging.html#1159" class="Bound">x</a> <a id="1161" class="Symbol">=</a> <a id="1163" href="InjectiveTypes.Repackaging.html#952" class="Bound">e</a> <a id="1165" class="Symbol">(</a><a id="1166" href="UF.Embeddings.html#21551" class="Function">Fiber</a> <a id="1172" href="InjectiveTypes.Repackaging.html#1157" class="Bound">𝕛</a> <a id="1174" class="Symbol">(</a><a id="1175" href="UF.Embeddings.html#2308" class="Function Operator">⌊</a> <a id="1177" href="InjectiveTypes.Repackaging.html#1157" class="Bound">𝕛</a> <a id="1179" href="UF.Embeddings.html#2308" class="Function Operator">⌋</a> <a id="1181" href="InjectiveTypes.Repackaging.html#1159" class="Bound">x</a><a id="1182" class="Symbol">))</a> <a id="1185" class="Symbol">(</a><a id="1186" href="InjectiveTypes.Repackaging.html#1155" class="Bound">f</a> <a id="1188" href="MLTT.Pi.html#513" class="Function Operator">∘</a> <a id="1190" href="MLTT.Sigma-Type.html#198" class="Field">pr₁</a><a id="1193" class="Symbol">)</a> <a id="1195" class="Symbol">(</a><a id="1196" href="InjectiveTypes.Repackaging.html#1159" class="Bound">x</a> <a id="1198" href="MLTT.Sigma.html#395" class="InductiveConstructor Operator">,</a> <a id="1200" href="MLTT.Identity-Type.html#157" class="InductiveConstructor">refl</a><a id="1204" class="Symbol">)</a>

<a id="injective-structure-gives-flabby-structure"></a><a id="1207" href="InjectiveTypes.Repackaging.html#1207" class="Function">injective-structure-gives-flabby-structure</a>
 <a id="1251" class="Symbol">:</a> <a id="1253" href="InjectiveTypes.Repackaging.html#571" class="Function">injective-structure</a> <a id="1273" href="MLTT.Universes.html#3834" class="Generalizable">𝓤</a> <a id="1275" href="MLTT.Universes.html#3836" class="Generalizable">𝓥</a> <a id="1277" class="Symbol">→</a> <a id="1279" href="InjectiveTypes.Repackaging.html#397" class="Function">flabby-structure</a> <a id="1296" href="MLTT.Universes.html#3834" class="Generalizable">𝓤</a>
<a id="1298" href="InjectiveTypes.Repackaging.html#1207" class="Function">injective-structure-gives-flabby-structure</a> <a id="1341" class="Symbol">{</a><a id="1342" href="InjectiveTypes.Repackaging.html#1342" class="Bound">𝓤</a><a id="1343" class="Symbol">}</a> <a id="1345" class="Symbol">{</a><a id="1346" href="InjectiveTypes.Repackaging.html#1346" class="Bound">𝓥</a><a id="1347" class="Symbol">}</a> <a id="1349" class="Symbol">(</a><a id="1350" href="InjectiveTypes.Repackaging.html#1350" class="Bound Operator">_∣_</a> <a id="1354" href="MLTT.Sigma.html#395" class="InductiveConstructor Operator">,</a> <a id="1356" href="InjectiveTypes.Repackaging.html#1356" class="Bound">e</a><a id="1357" class="Symbol">)</a> <a id="1359" class="Symbol">=</a> <a id="1361" href="InjectiveTypes.Repackaging.html#1377" class="Function">⨆</a> <a id="1363" href="MLTT.Sigma.html#395" class="InductiveConstructor Operator">,</a> <a id="1365" href="InjectiveTypes.Repackaging.html#1447" class="Function">e&#39;</a>
 <a id="1369" class="Keyword">where</a>
  <a id="1377" href="InjectiveTypes.Repackaging.html#1377" class="Function">⨆</a> <a id="1379" class="Symbol">:</a> <a id="1381" class="Symbol">(</a><a id="1382" href="InjectiveTypes.Repackaging.html#1382" class="Bound">P</a> <a id="1384" class="Symbol">:</a> <a id="1386" href="UF.SubtypeClassifier.html#422" class="Function">Ω</a> <a id="1388" href="InjectiveTypes.Repackaging.html#1342" class="Bound">𝓤</a><a id="1389" class="Symbol">)</a> <a id="1391" class="Symbol">→</a> <a id="1393" class="Symbol">(</a><a id="1394" href="InjectiveTypes.Repackaging.html#1382" class="Bound">P</a> <a id="1396" href="UF.SubtypeClassifier.html#478" class="Function Operator">holds</a> <a id="1402" class="Symbol">→</a> <a id="1404" href="InjectiveTypes.Repackaging.html#313" class="Bound">D</a><a id="1405" class="Symbol">)</a> <a id="1407" class="Symbol">→</a> <a id="1409" href="InjectiveTypes.Repackaging.html#313" class="Bound">D</a>
  <a id="1413" href="InjectiveTypes.Repackaging.html#1377" class="Function">⨆</a> <a id="1415" href="InjectiveTypes.Repackaging.html#1415" class="Bound">P</a> <a id="1417" href="InjectiveTypes.Repackaging.html#1417" class="Bound">f</a> <a id="1419" class="Symbol">=</a> <a id="1421" class="Symbol">(</a><a id="1422" href="InjectiveTypes.Repackaging.html#1417" class="Bound">f</a> <a id="1424" href="InjectiveTypes.Repackaging.html#1350" class="Bound Operator">∣</a> <a id="1426" href="UF.Embeddings.html#21657" class="Function">embedding-to-𝟙</a><a id="1440" class="Symbol">)</a> <a id="1442" href="MLTT.Unit.html#162" class="InductiveConstructor">⋆</a>

  <a id="1447" href="InjectiveTypes.Repackaging.html#1447" class="Function">e&#39;</a> <a id="1450" class="Symbol">:</a> <a id="1452" class="Symbol">(</a><a id="1453" href="InjectiveTypes.Repackaging.html#1453" class="Bound">P</a> <a id="1455" class="Symbol">:</a> <a id="1457" href="UF.SubtypeClassifier.html#422" class="Function">Ω</a> <a id="1459" href="InjectiveTypes.Repackaging.html#1342" class="Bound">𝓤</a><a id="1460" class="Symbol">)</a> <a id="1462" class="Symbol">(</a><a id="1463" href="InjectiveTypes.Repackaging.html#1463" class="Bound">f</a> <a id="1465" class="Symbol">:</a> <a id="1467" href="InjectiveTypes.Repackaging.html#1453" class="Bound">P</a> <a id="1469" href="UF.SubtypeClassifier.html#478" class="Function Operator">holds</a> <a id="1475" class="Symbol">→</a> <a id="1477" href="InjectiveTypes.Repackaging.html#313" class="Bound">D</a><a id="1478" class="Symbol">)</a> <a id="1480" class="Symbol">(</a><a id="1481" href="InjectiveTypes.Repackaging.html#1481" class="Bound">p</a> <a id="1483" class="Symbol">:</a> <a id="1485" href="InjectiveTypes.Repackaging.html#1453" class="Bound">P</a> <a id="1487" href="UF.SubtypeClassifier.html#478" class="Function Operator">holds</a><a id="1492" class="Symbol">)</a> <a id="1494" class="Symbol">→</a> <a id="1496" href="InjectiveTypes.Repackaging.html#1377" class="Function">⨆</a> <a id="1498" href="InjectiveTypes.Repackaging.html#1453" class="Bound">P</a> <a id="1500" href="InjectiveTypes.Repackaging.html#1463" class="Bound">f</a> <a id="1502" href="MLTT.Id.html#193" class="Datatype Operator">＝</a> <a id="1504" href="InjectiveTypes.Repackaging.html#1463" class="Bound">f</a> <a id="1506" href="InjectiveTypes.Repackaging.html#1481" class="Bound">p</a>
  <a id="1510" href="InjectiveTypes.Repackaging.html#1447" class="Function">e&#39;</a> <a id="1513" href="InjectiveTypes.Repackaging.html#1513" class="Bound">P</a> <a id="1515" href="InjectiveTypes.Repackaging.html#1515" class="Bound">f</a> <a id="1517" class="Symbol">=</a> <a id="1519" href="InjectiveTypes.Repackaging.html#1356" class="Bound">e</a> <a id="1521" href="InjectiveTypes.Repackaging.html#1515" class="Bound">f</a> <a id="1523" href="UF.Embeddings.html#21657" class="Function">embedding-to-𝟙</a>

<a id="1539" class="Markup">\end{code}</a><a id="1549" class="Background">

We had already given (in InjectiveTypes.BlackBoard) conversions
between ainjective types and a flabby types. We now record that the
ones we gave here agree definitionally with those there, via the
&quot;repackaging&quot; equivalences gives below.

Unfortunately, InjectiveTypes has a global assumption of function
extensionality, which is not used for the definitions of algebraic
injective and flabby structure. Fortunately, we don&#39;t need to use the
proofs below (particularly because they are proved with refl), which
are here only for the purpose of emphasizing that we are working with
the same definitions repackaged in a different way.

</a><a id="2184" class="Markup">\begin{code}</a>

<a id="2198" class="Keyword">open</a> <a id="2203" class="Keyword">import</a> <a id="2210" href="UF.FunExt.html" class="Module">UF.FunExt</a>
<a id="2220" class="Keyword">open</a> <a id="2225" class="Keyword">import</a> <a id="2232" href="UF.Equiv.html" class="Module">UF.Equiv</a>

<a id="2242" class="Keyword">module</a> <a id="2249" href="InjectiveTypes.Repackaging.html#2249" class="Module">_</a> <a id="2251" class="Symbol">(</a><a id="2252" href="InjectiveTypes.Repackaging.html#2252" class="Bound">fe</a> <a id="2255" class="Symbol">:</a> <a id="2257" href="UF.FunExt.html#995" class="Function">FunExt</a><a id="2263" class="Symbol">)</a> <a id="2265" class="Keyword">where</a>

 <a id="2273" class="Keyword">open</a> <a id="2278" class="Keyword">import</a> <a id="2285" href="InjectiveTypes.Blackboard.html" class="Module">InjectiveTypes.Blackboard</a> <a id="2311" href="InjectiveTypes.Repackaging.html#2252" class="Bound">fe</a>

 <a id="2316" href="InjectiveTypes.Repackaging.html#2316" class="Function">ainjective-type-repackaging</a> <a id="2344" class="Symbol">:</a> <a id="2346" href="InjectiveTypes.Repackaging.html#571" class="Function">injective-structure</a> <a id="2366" href="MLTT.Universes.html#3834" class="Generalizable">𝓤</a> <a id="2368" href="MLTT.Universes.html#3836" class="Generalizable">𝓥</a> <a id="2370" href="UF.Equiv.html#1318" class="Function Operator">≃</a> <a id="2372" href="InjectiveTypes.Blackboard.html#15851" class="Function">ainjective-type</a> <a id="2388" href="InjectiveTypes.Repackaging.html#313" class="Bound">D</a> <a id="2390" href="MLTT.Universes.html#3834" class="Generalizable">𝓤</a> <a id="2392" href="MLTT.Universes.html#3836" class="Generalizable">𝓥</a>
 <a id="2395" href="InjectiveTypes.Repackaging.html#2316" class="Function">ainjective-type-repackaging</a> <a id="2423" class="Symbol">=</a>
  <a id="2427" href="UF.Equiv.html#7224" class="Function">qinveq</a>
   <a id="2437" class="Symbol">(λ</a> <a id="2440" class="Symbol">(</a><a id="2441" href="InjectiveTypes.Repackaging.html#2441" class="Bound Operator">_∣_</a> <a id="2445" href="MLTT.Sigma.html#395" class="InductiveConstructor Operator">,</a> <a id="2447" href="InjectiveTypes.Repackaging.html#2447" class="Bound">e</a><a id="2448" class="Symbol">)</a> <a id="2450" class="Symbol">→</a> <a id="2452" class="Symbol">λ</a> <a id="2454" class="Symbol">{</a><a id="2455" href="InjectiveTypes.Repackaging.html#2455" class="Bound">X</a><a id="2456" class="Symbol">}</a> <a id="2458" class="Symbol">{</a><a id="2459" href="InjectiveTypes.Repackaging.html#2459" class="Bound">Y</a><a id="2460" class="Symbol">}</a> <a id="2462" href="InjectiveTypes.Repackaging.html#2462" class="Bound">j</a> <a id="2464" href="InjectiveTypes.Repackaging.html#2464" class="Bound">i</a> <a id="2466" href="InjectiveTypes.Repackaging.html#2466" class="Bound">f</a> <a id="2468" class="Symbol">→</a> <a id="2470" class="Symbol">(</a><a id="2471" href="InjectiveTypes.Repackaging.html#2466" class="Bound">f</a> <a id="2473" href="InjectiveTypes.Repackaging.html#2441" class="Bound Operator">∣</a> <a id="2475" class="Symbol">(</a><a id="2476" href="InjectiveTypes.Repackaging.html#2462" class="Bound">j</a> <a id="2478" href="MLTT.Sigma.html#395" class="InductiveConstructor Operator">,</a> <a id="2480" href="InjectiveTypes.Repackaging.html#2464" class="Bound">i</a><a id="2481" class="Symbol">))</a> <a id="2484" href="MLTT.Sigma.html#395" class="InductiveConstructor Operator">,</a> <a id="2486" href="InjectiveTypes.Repackaging.html#2447" class="Bound">e</a> <a id="2488" href="InjectiveTypes.Repackaging.html#2466" class="Bound">f</a> <a id="2490" class="Symbol">(</a><a id="2491" href="InjectiveTypes.Repackaging.html#2462" class="Bound">j</a> <a id="2493" href="MLTT.Sigma.html#395" class="InductiveConstructor Operator">,</a> <a id="2495" href="InjectiveTypes.Repackaging.html#2464" class="Bound">i</a><a id="2496" class="Symbol">))</a>
   <a id="2502" class="Symbol">((λ</a> <a id="2506" href="InjectiveTypes.Repackaging.html#2506" class="Bound">ainj</a> <a id="2511" class="Symbol">→</a>
       <a id="2520" class="Symbol">(λ</a> <a id="2523" class="Symbol">{</a><a id="2524" href="InjectiveTypes.Repackaging.html#2524" class="Bound">X</a><a id="2525" class="Symbol">}</a> <a id="2527" class="Symbol">{</a><a id="2528" href="InjectiveTypes.Repackaging.html#2528" class="Bound">Y</a><a id="2529" class="Symbol">}</a> <a id="2531" href="InjectiveTypes.Repackaging.html#2531" class="Bound">f</a> <a id="2533" href="InjectiveTypes.Repackaging.html#2533" class="Bound">𝕛</a> <a id="2535" class="Symbol">→</a> <a id="2537" href="MLTT.Sigma-Type.html#198" class="Field">pr₁</a> <a id="2541" class="Symbol">(</a><a id="2542" href="InjectiveTypes.Repackaging.html#2506" class="Bound">ainj</a> <a id="2547" href="UF.Embeddings.html#2308" class="Function Operator">⌊</a> <a id="2549" href="InjectiveTypes.Repackaging.html#2533" class="Bound">𝕛</a> <a id="2551" href="UF.Embeddings.html#2308" class="Function Operator">⌋</a> <a id="2553" href="UF.Embeddings.html#2371" class="Function Operator">⌊</a> <a id="2555" href="InjectiveTypes.Repackaging.html#2533" class="Bound">𝕛</a> <a id="2557" href="UF.Embeddings.html#2371" class="Function Operator">⌋-is-embedding</a> <a id="2572" href="InjectiveTypes.Repackaging.html#2531" class="Bound">f</a><a id="2573" class="Symbol">))</a> <a id="2576" href="MLTT.Sigma.html#395" class="InductiveConstructor Operator">,</a>
       <a id="2585" class="Symbol">(λ</a> <a id="2588" class="Symbol">{</a><a id="2589" href="InjectiveTypes.Repackaging.html#2589" class="Bound">X</a><a id="2590" class="Symbol">}</a> <a id="2592" class="Symbol">{</a><a id="2593" href="InjectiveTypes.Repackaging.html#2593" class="Bound">Y</a><a id="2594" class="Symbol">}</a> <a id="2596" href="InjectiveTypes.Repackaging.html#2596" class="Bound">f</a> <a id="2598" href="InjectiveTypes.Repackaging.html#2598" class="Bound">𝕛</a> <a id="2600" class="Symbol">→</a> <a id="2602" href="MLTT.Sigma-Type.html#209" class="Field">pr₂</a> <a id="2606" class="Symbol">(</a><a id="2607" href="InjectiveTypes.Repackaging.html#2506" class="Bound">ainj</a> <a id="2612" href="UF.Embeddings.html#2308" class="Function Operator">⌊</a> <a id="2614" href="InjectiveTypes.Repackaging.html#2598" class="Bound">𝕛</a> <a id="2616" href="UF.Embeddings.html#2308" class="Function Operator">⌋</a> <a id="2618" href="UF.Embeddings.html#2371" class="Function Operator">⌊</a> <a id="2620" href="InjectiveTypes.Repackaging.html#2598" class="Bound">𝕛</a> <a id="2622" href="UF.Embeddings.html#2371" class="Function Operator">⌋-is-embedding</a> <a id="2637" href="InjectiveTypes.Repackaging.html#2596" class="Bound">f</a><a id="2638" class="Symbol">)))</a> <a id="2642" href="MLTT.Sigma.html#395" class="InductiveConstructor Operator">,</a>
    <a id="2648" class="Symbol">(λ</a> <a id="2651" href="InjectiveTypes.Repackaging.html#2651" class="Bound">_</a> <a id="2653" class="Symbol">→</a> <a id="2655" href="MLTT.Identity-Type.html#157" class="InductiveConstructor">refl</a><a id="2659" class="Symbol">)</a> <a id="2661" href="MLTT.Sigma.html#395" class="InductiveConstructor Operator">,</a>
    <a id="2667" class="Symbol">(λ</a> <a id="2670" href="InjectiveTypes.Repackaging.html#2670" class="Bound">_</a> <a id="2672" class="Symbol">→</a> <a id="2674" href="MLTT.Identity-Type.html#157" class="InductiveConstructor">refl</a><a id="2678" class="Symbol">))</a>

 <a id="2683" href="InjectiveTypes.Repackaging.html#2683" class="Function">aflabby-repackaging</a> <a id="2703" class="Symbol">:</a> <a id="2705" href="InjectiveTypes.Repackaging.html#397" class="Function">flabby-structure</a> <a id="2722" href="MLTT.Universes.html#3834" class="Generalizable">𝓤</a> <a id="2724" href="UF.Equiv.html#1318" class="Function Operator">≃</a> <a id="2726" href="InjectiveTypes.Blackboard.html#31602" class="Function">aflabby</a> <a id="2734" href="InjectiveTypes.Repackaging.html#313" class="Bound">D</a> <a id="2736" href="MLTT.Universes.html#3834" class="Generalizable">𝓤</a>
 <a id="2739" href="InjectiveTypes.Repackaging.html#2683" class="Function">aflabby-repackaging</a>
  <a id="2761" class="Symbol">=</a> <a id="2763" href="UF.Equiv.html#7224" class="Function">qinveq</a>
     <a id="2775" class="Symbol">(λ</a> <a id="2778" class="Symbol">(</a><a id="2779" href="InjectiveTypes.Repackaging.html#2779" class="Bound">⨆</a> <a id="2781" href="MLTT.Sigma.html#395" class="InductiveConstructor Operator">,</a> <a id="2783" href="InjectiveTypes.Repackaging.html#2783" class="Bound">e</a><a id="2784" class="Symbol">)</a> <a id="2786" href="InjectiveTypes.Repackaging.html#2786" class="Bound">P</a> <a id="2788" href="InjectiveTypes.Repackaging.html#2788" class="Bound">i</a> <a id="2790" href="InjectiveTypes.Repackaging.html#2790" class="Bound">f</a> <a id="2792" class="Symbol">→</a> <a id="2794" href="InjectiveTypes.Repackaging.html#2779" class="Bound">⨆</a> <a id="2796" class="Symbol">(</a><a id="2797" href="InjectiveTypes.Repackaging.html#2786" class="Bound">P</a> <a id="2799" href="MLTT.Sigma.html#395" class="InductiveConstructor Operator">,</a> <a id="2801" href="InjectiveTypes.Repackaging.html#2788" class="Bound">i</a><a id="2802" class="Symbol">)</a> <a id="2804" href="InjectiveTypes.Repackaging.html#2790" class="Bound">f</a> <a id="2806" href="MLTT.Sigma.html#395" class="InductiveConstructor Operator">,</a> <a id="2808" href="InjectiveTypes.Repackaging.html#2783" class="Bound">e</a> <a id="2810" class="Symbol">(</a><a id="2811" href="InjectiveTypes.Repackaging.html#2786" class="Bound">P</a> <a id="2813" href="MLTT.Sigma.html#395" class="InductiveConstructor Operator">,</a> <a id="2815" href="InjectiveTypes.Repackaging.html#2788" class="Bound">i</a><a id="2816" class="Symbol">)</a> <a id="2818" href="InjectiveTypes.Repackaging.html#2790" class="Bound">f</a><a id="2819" class="Symbol">)</a>
     <a id="2826" class="Symbol">((λ</a> <a id="2830" href="InjectiveTypes.Repackaging.html#2830" class="Bound">aflab</a> <a id="2836" class="Symbol">→</a>
        <a id="2846" class="Symbol">(λ</a> <a id="2849" href="InjectiveTypes.Repackaging.html#2849" class="Bound">P</a> <a id="2851" href="InjectiveTypes.Repackaging.html#2851" class="Bound">f</a> <a id="2853" class="Symbol">→</a> <a id="2855" href="MLTT.Sigma-Type.html#198" class="Field">pr₁</a> <a id="2859" class="Symbol">(</a><a id="2860" href="InjectiveTypes.Repackaging.html#2830" class="Bound">aflab</a> <a id="2866" class="Symbol">(</a><a id="2867" href="InjectiveTypes.Repackaging.html#2849" class="Bound">P</a> <a id="2869" href="UF.SubtypeClassifier.html#478" class="Function Operator">holds</a><a id="2874" class="Symbol">)</a> <a id="2876" class="Symbol">(</a><a id="2877" href="UF.SubtypeClassifier.html#641" class="Function">holds-is-prop</a> <a id="2891" href="InjectiveTypes.Repackaging.html#2849" class="Bound">P</a><a id="2892" class="Symbol">)</a> <a id="2894" href="InjectiveTypes.Repackaging.html#2851" class="Bound">f</a><a id="2895" class="Symbol">))</a> <a id="2898" href="MLTT.Sigma.html#395" class="InductiveConstructor Operator">,</a>
        <a id="2908" class="Symbol">(λ</a> <a id="2911" href="InjectiveTypes.Repackaging.html#2911" class="Bound">P</a> <a id="2913" href="InjectiveTypes.Repackaging.html#2913" class="Bound">f</a> <a id="2915" class="Symbol">→</a> <a id="2917" href="MLTT.Sigma-Type.html#209" class="Field">pr₂</a> <a id="2921" class="Symbol">(</a><a id="2922" href="InjectiveTypes.Repackaging.html#2830" class="Bound">aflab</a> <a id="2928" class="Symbol">(</a><a id="2929" href="InjectiveTypes.Repackaging.html#2911" class="Bound">P</a> <a id="2931" href="UF.SubtypeClassifier.html#478" class="Function Operator">holds</a><a id="2936" class="Symbol">)</a> <a id="2938" class="Symbol">(</a><a id="2939" href="UF.SubtypeClassifier.html#641" class="Function">holds-is-prop</a> <a id="2953" href="InjectiveTypes.Repackaging.html#2911" class="Bound">P</a><a id="2954" class="Symbol">)</a> <a id="2956" href="InjectiveTypes.Repackaging.html#2913" class="Bound">f</a><a id="2957" class="Symbol">)))</a> <a id="2961" href="MLTT.Sigma.html#395" class="InductiveConstructor Operator">,</a>
      <a id="2969" class="Symbol">(λ</a> <a id="2972" href="InjectiveTypes.Repackaging.html#2972" class="Bound">_</a> <a id="2974" class="Symbol">→</a> <a id="2976" href="MLTT.Identity-Type.html#157" class="InductiveConstructor">refl</a><a id="2980" class="Symbol">)</a> <a id="2982" href="MLTT.Sigma.html#395" class="InductiveConstructor Operator">,</a>
      <a id="2990" class="Symbol">(λ</a> <a id="2993" href="InjectiveTypes.Repackaging.html#2993" class="Bound">_</a> <a id="2995" class="Symbol">→</a> <a id="2997" href="MLTT.Identity-Type.html#157" class="InductiveConstructor">refl</a><a id="3001" class="Symbol">))</a>

<a id="3005" class="Markup">\end{code}</a><a id="3015" class="Background">

TODO. Write the commutative squares corresponding to the following two
proofs as a comment.

</a><a id="3110" class="Markup">\begin{code}</a>

 <a id="3125" href="InjectiveTypes.Repackaging.html#3125" class="Function">injective-structure-gives-flabby-structure-agreement</a>
  <a id="3180" class="Symbol">:</a> <a id="3182" class="Symbol">(</a><a id="3183" href="InjectiveTypes.Repackaging.html#3183" class="Bound">s</a> <a id="3185" class="Symbol">:</a> <a id="3187" href="InjectiveTypes.Repackaging.html#571" class="Function">injective-structure</a> <a id="3207" href="MLTT.Universes.html#3834" class="Generalizable">𝓤</a> <a id="3209" href="MLTT.Universes.html#3836" class="Generalizable">𝓥</a><a id="3210" class="Symbol">)</a>
  <a id="3214" class="Symbol">→</a> <a id="3216" href="UF.Equiv.html#2933" class="Function Operator">⌜</a> <a id="3218" href="InjectiveTypes.Repackaging.html#2683" class="Function">aflabby-repackaging</a> <a id="3238" href="UF.Equiv.html#2933" class="Function Operator">⌝</a>
      <a id="3246" class="Symbol">(</a><a id="3247" href="InjectiveTypes.Repackaging.html#1207" class="Function">injective-structure-gives-flabby-structure</a> <a id="3290" href="InjectiveTypes.Repackaging.html#3183" class="Bound">s</a><a id="3291" class="Symbol">)</a>
  <a id="3295" href="MLTT.Id.html#193" class="Datatype Operator">＝</a> <a id="3297" href="InjectiveTypes.Blackboard.html#32273" class="Function">ainjective-types-are-aflabby</a> <a id="3326" href="InjectiveTypes.Repackaging.html#313" class="Bound">D</a>
      <a id="3334" class="Symbol">(</a><a id="3335" href="UF.Equiv.html#2933" class="Function Operator">⌜</a> <a id="3337" href="InjectiveTypes.Repackaging.html#2316" class="Function">ainjective-type-repackaging</a> <a id="3365" href="UF.Equiv.html#2933" class="Function Operator">⌝</a> <a id="3367" href="InjectiveTypes.Repackaging.html#3183" class="Bound">s</a><a id="3368" class="Symbol">)</a>
 <a id="3371" href="InjectiveTypes.Repackaging.html#3125" class="Function">injective-structure-gives-flabby-structure-agreement</a> <a id="3424" href="InjectiveTypes.Repackaging.html#3424" class="Bound">s</a> <a id="3426" class="Symbol">=</a> <a id="3428" href="MLTT.Identity-Type.html#157" class="InductiveConstructor">refl</a>

 <a id="3435" class="Markup">\end{code}</a><a id="3445" class="Background">

 For the second one we need to do a manual eta expasion to deal with
 the way Agda works with implicit arguments, which gives unsolved
 constraints otherwise (this is a well known design issue).

 </a><a id="3644" class="Markup">\begin{code}</a>

 <a id="3659" href="InjectiveTypes.Repackaging.html#3659" class="Function">flabby-structure-gives-injective-structure-agreement</a>
  <a id="3714" class="Symbol">:</a> <a id="3716" class="Symbol">(</a><a id="3717" href="InjectiveTypes.Repackaging.html#3717" class="Bound">s</a> <a id="3719" class="Symbol">:</a> <a id="3721" href="InjectiveTypes.Repackaging.html#397" class="Function">flabby-structure</a> <a id="3738" href="MLTT.Universes.html#3834" class="Generalizable">𝓤</a><a id="3739" class="Symbol">)</a>
  <a id="3743" class="Symbol">→</a> <a id="3745" class="Symbol">(λ</a> <a id="3748" class="Symbol">{</a><a id="3749" href="InjectiveTypes.Repackaging.html#3749" class="Bound">X</a> <a id="3751" href="InjectiveTypes.Repackaging.html#3751" class="Bound">Y</a> <a id="3753" class="Symbol">:</a> <a id="3755" href="MLTT.Universes.html#3834" class="Generalizable">𝓤</a> <a id="3757" href="MLTT.Universes.html#3977" class="Function Operator">̇</a><a id="3758" class="Symbol">}</a> <a id="3760" class="Symbol">(</a><a id="3761" href="InjectiveTypes.Repackaging.html#3761" class="Bound">j</a> <a id="3763" class="Symbol">:</a> <a id="3765" href="InjectiveTypes.Repackaging.html#3749" class="Bound">X</a> <a id="3767" class="Symbol">→</a> <a id="3769" href="InjectiveTypes.Repackaging.html#3751" class="Bound">Y</a><a id="3770" class="Symbol">)</a>
     <a id="3777" class="Symbol">→</a> <a id="3779" href="UF.Equiv.html#2933" class="Function Operator">⌜</a> <a id="3781" href="InjectiveTypes.Repackaging.html#2316" class="Function">ainjective-type-repackaging</a> <a id="3809" href="UF.Equiv.html#2933" class="Function Operator">⌝</a>
         <a id="3820" class="Symbol">(</a><a id="3821" href="InjectiveTypes.Repackaging.html#799" class="Function">flabby-structure-gives-injective-structure</a> <a id="3864" href="InjectiveTypes.Repackaging.html#3717" class="Bound">s</a><a id="3865" class="Symbol">)</a> <a id="3867" class="Symbol">{</a><a id="3868" href="InjectiveTypes.Repackaging.html#3749" class="Bound">X</a><a id="3869" class="Symbol">}</a> <a id="3871" class="Symbol">{</a><a id="3872" href="InjectiveTypes.Repackaging.html#3751" class="Bound">Y</a><a id="3873" class="Symbol">}</a> <a id="3875" href="InjectiveTypes.Repackaging.html#3761" class="Bound">j</a><a id="3876" class="Symbol">)</a>
  <a id="3880" href="MLTT.Id.html#193" class="Datatype Operator">＝</a> <a id="3882" href="InjectiveTypes.Blackboard.html#32591" class="Function">aflabby-types-are-ainjective</a> <a id="3911" href="InjectiveTypes.Repackaging.html#313" class="Bound">D</a>
      <a id="3919" class="Symbol">(</a><a id="3920" href="UF.Equiv.html#2933" class="Function Operator">⌜</a> <a id="3922" href="InjectiveTypes.Repackaging.html#2683" class="Function">aflabby-repackaging</a> <a id="3942" href="UF.Equiv.html#2933" class="Function Operator">⌝</a> <a id="3944" href="InjectiveTypes.Repackaging.html#3717" class="Bound">s</a><a id="3945" class="Symbol">)</a>
 <a id="3948" href="InjectiveTypes.Repackaging.html#3659" class="Function">flabby-structure-gives-injective-structure-agreement</a> <a id="4001" href="InjectiveTypes.Repackaging.html#4001" class="Bound">s</a> <a id="4003" class="Symbol">=</a> <a id="4005" href="MLTT.Identity-Type.html#157" class="InductiveConstructor">refl</a>

<a id="4011" class="Markup">\end{code}</a><a id="4021" class="Background">

We can change variables in ⨆ in the following sense. Notice that there
is a similar fact proved with the stronger assumption of univalence in
the development of the lifting monad.

</a><a id="4204" class="Markup">\begin{code}</a>

<a id="4218" class="Keyword">open</a> <a id="4223" class="Keyword">import</a> <a id="4230" href="UF.Subsingletons.html" class="Module">UF.Subsingletons</a>

<a id="⨆-change-of-variable"></a><a id="4248" href="InjectiveTypes.Repackaging.html#4248" class="Function">⨆-change-of-variable</a> <a id="4269" class="Symbol">:</a> <a id="4271" href="UF.Subsingletons.html#7674" class="Function">propext</a> <a id="4279" href="MLTT.Universes.html#3834" class="Generalizable">𝓤</a>
                     <a id="4302" class="Symbol">→</a> <a id="4304" href="UF.FunExt.html#850" class="Function">funext</a> <a id="4311" href="MLTT.Universes.html#3834" class="Generalizable">𝓤</a> <a id="4313" href="MLTT.Universes.html#3834" class="Generalizable">𝓤</a>
                     <a id="4336" class="Symbol">→</a> <a id="4338" class="Symbol">(</a><a id="4339" href="InjectiveTypes.Repackaging.html#4339" class="Bound">⨆</a> <a id="4341" class="Symbol">:</a> <a id="4343" class="Symbol">(</a><a id="4344" href="InjectiveTypes.Repackaging.html#4344" class="Bound">P</a> <a id="4346" class="Symbol">:</a> <a id="4348" href="UF.SubtypeClassifier.html#422" class="Function">Ω</a> <a id="4350" href="MLTT.Universes.html#3834" class="Generalizable">𝓤</a><a id="4351" class="Symbol">)</a> <a id="4353" class="Symbol">→</a> <a id="4355" class="Symbol">(</a><a id="4356" href="InjectiveTypes.Repackaging.html#4344" class="Bound">P</a> <a id="4358" href="UF.SubtypeClassifier.html#478" class="Function Operator">holds</a> <a id="4364" class="Symbol">→</a> <a id="4366" href="InjectiveTypes.Repackaging.html#313" class="Bound">D</a><a id="4367" class="Symbol">)</a> <a id="4369" class="Symbol">→</a> <a id="4371" href="InjectiveTypes.Repackaging.html#313" class="Bound">D</a><a id="4372" class="Symbol">)</a>
                     <a id="4395" class="Symbol">→</a> <a id="4397" class="Symbol">(</a><a id="4398" href="InjectiveTypes.Repackaging.html#4398" class="Bound">P</a> <a id="4400" href="InjectiveTypes.Repackaging.html#4400" class="Bound">Q</a> <a id="4402" class="Symbol">:</a> <a id="4404" href="UF.SubtypeClassifier.html#422" class="Function">Ω</a> <a id="4406" href="MLTT.Universes.html#3834" class="Generalizable">𝓤</a><a id="4407" class="Symbol">)</a>
                       <a id="4432" class="Symbol">(</a><a id="4433" href="InjectiveTypes.Repackaging.html#4433" class="Bound">f</a> <a id="4435" class="Symbol">:</a> <a id="4437" href="InjectiveTypes.Repackaging.html#4398" class="Bound">P</a> <a id="4439" href="UF.SubtypeClassifier.html#478" class="Function Operator">holds</a> <a id="4445" class="Symbol">→</a> <a id="4447" href="InjectiveTypes.Repackaging.html#313" class="Bound">D</a><a id="4448" class="Symbol">)</a>
                       <a id="4473" class="Symbol">(</a><a id="4474" href="InjectiveTypes.Repackaging.html#4474" class="Bound">(</a><a id="4475" href="InjectiveTypes.Repackaging.html#4475" class="Bound">g</a> <a id="4477" href="MLTT.Sigma.html#395" class="InductiveConstructor Operator">,</a> <a id="4479" href="InjectiveTypes.Repackaging.html#4479" class="Bound">h</a><a id="4480" href="InjectiveTypes.Repackaging.html#4474" class="Bound">)</a> <a id="4482" class="Symbol">:</a> <a id="4484" class="Symbol">(</a><a id="4485" href="InjectiveTypes.Repackaging.html#4398" class="Bound">P</a> <a id="4487" href="UF.SubtypeClassifier.html#478" class="Function Operator">holds</a><a id="4492" class="Symbol">)</a> <a id="4494" href="Notation.General.html#2587" class="Function Operator">↔</a> <a id="4496" href="InjectiveTypes.Repackaging.html#4400" class="Bound">Q</a> <a id="4498" href="UF.SubtypeClassifier.html#478" class="Function Operator">holds</a><a id="4503" class="Symbol">)</a>
                     <a id="4526" class="Symbol">→</a> <a id="4528" href="InjectiveTypes.Repackaging.html#4339" class="Bound">⨆</a> <a id="4530" href="InjectiveTypes.Repackaging.html#4398" class="Bound">P</a> <a id="4532" href="InjectiveTypes.Repackaging.html#4433" class="Bound">f</a> <a id="4534" href="MLTT.Id.html#193" class="Datatype Operator">＝</a> <a id="4536" href="InjectiveTypes.Repackaging.html#4339" class="Bound">⨆</a> <a id="4538" href="InjectiveTypes.Repackaging.html#4400" class="Bound">Q</a> <a id="4540" class="Symbol">(</a><a id="4541" href="InjectiveTypes.Repackaging.html#4433" class="Bound">f</a> <a id="4543" href="MLTT.Pi.html#513" class="Function Operator">∘</a> <a id="4545" href="InjectiveTypes.Repackaging.html#4479" class="Bound">h</a><a id="4546" class="Symbol">)</a>
<a id="4548" href="InjectiveTypes.Repackaging.html#4248" class="Function">⨆-change-of-variable</a> <a id="4569" href="InjectiveTypes.Repackaging.html#4569" class="Bound">pe</a> <a id="4572" href="InjectiveTypes.Repackaging.html#4572" class="Bound">fe</a> <a id="4575" href="InjectiveTypes.Repackaging.html#4575" class="Bound">⨆</a> <a id="4577" href="InjectiveTypes.Repackaging.html#4577" class="Bound">P</a> <a id="4579" href="InjectiveTypes.Repackaging.html#4579" class="Bound">Q</a> <a id="4581" href="InjectiveTypes.Repackaging.html#4581" class="Bound">f</a> <a id="4583" class="Symbol">(</a><a id="4584" href="InjectiveTypes.Repackaging.html#4584" class="Bound">g</a> <a id="4586" href="MLTT.Sigma.html#395" class="InductiveConstructor Operator">,</a> <a id="4588" href="InjectiveTypes.Repackaging.html#4588" class="Bound">h</a><a id="4589" class="Symbol">)</a> <a id="4591" class="Symbol">=</a> <a id="4593" href="InjectiveTypes.Repackaging.html#4926" class="Function">IV</a>
 <a id="4597" class="Keyword">where</a>
  <a id="4605" href="InjectiveTypes.Repackaging.html#4605" class="Function">h&#39;</a> <a id="4608" class="Symbol">:</a> <a id="4610" class="Symbol">(</a><a id="4611" href="InjectiveTypes.Repackaging.html#4611" class="Bound">e</a> <a id="4613" class="Symbol">:</a> <a id="4615" href="InjectiveTypes.Repackaging.html#4577" class="Bound">P</a> <a id="4617" href="MLTT.Id.html#193" class="Datatype Operator">＝</a> <a id="4619" href="InjectiveTypes.Repackaging.html#4579" class="Bound">Q</a><a id="4620" class="Symbol">)</a> <a id="4622" class="Symbol">→</a> <a id="4624" href="InjectiveTypes.Repackaging.html#4579" class="Bound">Q</a> <a id="4626" href="UF.SubtypeClassifier.html#478" class="Function Operator">holds</a> <a id="4632" class="Symbol">→</a> <a id="4634" href="InjectiveTypes.Repackaging.html#4577" class="Bound">P</a> <a id="4636" href="UF.SubtypeClassifier.html#478" class="Function Operator">holds</a>
  <a id="4644" href="InjectiveTypes.Repackaging.html#4605" class="Function">h&#39;</a> <a id="4647" href="InjectiveTypes.Repackaging.html#4647" class="Bound">e</a> <a id="4649" class="Symbol">=</a> <a id="4651" href="UF.Equiv.html#3224" class="Function Operator">⌜</a> <a id="4653" href="UF.Equiv.html#3374" class="Function">idtoeq</a> <a id="4660" class="Symbol">_</a> <a id="4662" class="Symbol">_</a> <a id="4664" class="Symbol">(</a><a id="4665" href="MLTT.Id.html#1136" class="Function">ap</a> <a id="4668" href="UF.SubtypeClassifier.html#478" class="Function Operator">_holds</a> <a id="4675" href="InjectiveTypes.Repackaging.html#4647" class="Bound">e</a><a id="4676" class="Symbol">)</a> <a id="4678" href="UF.Equiv.html#3224" class="Function Operator">⌝⁻¹</a>

  <a id="4685" href="InjectiveTypes.Repackaging.html#4685" class="Function">I</a> <a id="4687" class="Symbol">:</a> <a id="4689" class="Symbol">(</a><a id="4690" href="InjectiveTypes.Repackaging.html#4690" class="Bound">e</a> <a id="4692" class="Symbol">:</a> <a id="4694" href="InjectiveTypes.Repackaging.html#4577" class="Bound">P</a> <a id="4696" href="MLTT.Id.html#193" class="Datatype Operator">＝</a> <a id="4698" href="InjectiveTypes.Repackaging.html#4579" class="Bound">Q</a><a id="4699" class="Symbol">)</a> <a id="4701" class="Symbol">→</a> <a id="4703" href="InjectiveTypes.Repackaging.html#4605" class="Function">h&#39;</a> <a id="4706" href="InjectiveTypes.Repackaging.html#4690" class="Bound">e</a> <a id="4708" href="MLTT.Id.html#193" class="Datatype Operator">＝</a> <a id="4710" href="InjectiveTypes.Repackaging.html#4588" class="Bound">h</a>
  <a id="4714" href="InjectiveTypes.Repackaging.html#4685" class="Function">I</a> <a id="4716" href="InjectiveTypes.Repackaging.html#4716" class="Bound">e</a> <a id="4718" class="Symbol">=</a> <a id="4720" href="UF.FunExt.html#1242" class="Function">dfunext</a> <a id="4728" href="InjectiveTypes.Repackaging.html#4572" class="Bound">fe</a> <a id="4731" class="Symbol">(λ</a> <a id="4734" href="InjectiveTypes.Repackaging.html#4734" class="Bound">p</a> <a id="4736" class="Symbol">→</a> <a id="4738" href="UF.SubtypeClassifier.html#641" class="Function">holds-is-prop</a> <a id="4752" href="InjectiveTypes.Repackaging.html#4577" class="Bound">P</a> <a id="4754" class="Symbol">(</a><a id="4755" href="InjectiveTypes.Repackaging.html#4605" class="Function">h&#39;</a> <a id="4758" href="InjectiveTypes.Repackaging.html#4716" class="Bound">e</a> <a id="4760" href="InjectiveTypes.Repackaging.html#4734" class="Bound">p</a><a id="4761" class="Symbol">)</a> <a id="4763" class="Symbol">(</a><a id="4764" href="InjectiveTypes.Repackaging.html#4588" class="Bound">h</a> <a id="4766" href="InjectiveTypes.Repackaging.html#4734" class="Bound">p</a><a id="4767" class="Symbol">))</a>

  <a id="4773" href="InjectiveTypes.Repackaging.html#4773" class="Function">II</a> <a id="4776" class="Symbol">:</a> <a id="4778" class="Symbol">(</a><a id="4779" href="InjectiveTypes.Repackaging.html#4779" class="Bound">e</a> <a id="4781" class="Symbol">:</a> <a id="4783" href="InjectiveTypes.Repackaging.html#4577" class="Bound">P</a> <a id="4785" href="MLTT.Id.html#193" class="Datatype Operator">＝</a> <a id="4787" href="InjectiveTypes.Repackaging.html#4579" class="Bound">Q</a><a id="4788" class="Symbol">)</a> <a id="4790" class="Symbol">→</a> <a id="4792" href="InjectiveTypes.Repackaging.html#4575" class="Bound">⨆</a> <a id="4794" href="InjectiveTypes.Repackaging.html#4577" class="Bound">P</a> <a id="4796" href="InjectiveTypes.Repackaging.html#4581" class="Bound">f</a> <a id="4798" href="MLTT.Id.html#193" class="Datatype Operator">＝</a> <a id="4800" href="InjectiveTypes.Repackaging.html#4575" class="Bound">⨆</a> <a id="4802" href="InjectiveTypes.Repackaging.html#4579" class="Bound">Q</a> <a id="4804" class="Symbol">(</a><a id="4805" href="InjectiveTypes.Repackaging.html#4581" class="Bound">f</a> <a id="4807" href="MLTT.Pi.html#513" class="Function Operator">∘</a> <a id="4809" href="InjectiveTypes.Repackaging.html#4605" class="Function">h&#39;</a> <a id="4812" href="InjectiveTypes.Repackaging.html#4779" class="Bound">e</a><a id="4813" class="Symbol">)</a>
  <a id="4817" href="InjectiveTypes.Repackaging.html#4773" class="Function">II</a> <a id="4820" href="MLTT.Identity-Type.html#157" class="InductiveConstructor">refl</a> <a id="4825" class="Symbol">=</a> <a id="4827" href="MLTT.Identity-Type.html#157" class="InductiveConstructor">refl</a>

  <a id="4835" href="InjectiveTypes.Repackaging.html#4835" class="Function">e</a> <a id="4837" class="Symbol">:</a> <a id="4839" href="InjectiveTypes.Repackaging.html#4577" class="Bound">P</a> <a id="4841" href="MLTT.Id.html#193" class="Datatype Operator">＝</a> <a id="4843" href="InjectiveTypes.Repackaging.html#4579" class="Bound">Q</a>
  <a id="4847" href="InjectiveTypes.Repackaging.html#4835" class="Function">e</a> <a id="4849" class="Symbol">=</a> <a id="4851" href="UF.SubtypeClassifier.html#5020" class="Function">Ω-extensionality</a> <a id="4868" href="InjectiveTypes.Repackaging.html#4569" class="Bound">pe</a> <a id="4871" href="InjectiveTypes.Repackaging.html#4572" class="Bound">fe</a> <a id="4874" href="InjectiveTypes.Repackaging.html#4584" class="Bound">g</a> <a id="4876" href="InjectiveTypes.Repackaging.html#4588" class="Bound">h</a>

  <a id="4881" href="InjectiveTypes.Repackaging.html#4881" class="Function">III</a> <a id="4885" class="Symbol">:</a> <a id="4887" href="InjectiveTypes.Repackaging.html#4575" class="Bound">⨆</a> <a id="4889" href="InjectiveTypes.Repackaging.html#4577" class="Bound">P</a> <a id="4891" href="InjectiveTypes.Repackaging.html#4581" class="Bound">f</a> <a id="4893" href="MLTT.Id.html#193" class="Datatype Operator">＝</a> <a id="4895" href="InjectiveTypes.Repackaging.html#4575" class="Bound">⨆</a> <a id="4897" href="InjectiveTypes.Repackaging.html#4579" class="Bound">Q</a> <a id="4899" class="Symbol">(</a><a id="4900" href="InjectiveTypes.Repackaging.html#4581" class="Bound">f</a> <a id="4902" href="MLTT.Pi.html#513" class="Function Operator">∘</a> <a id="4904" href="InjectiveTypes.Repackaging.html#4605" class="Function">h&#39;</a> <a id="4907" href="InjectiveTypes.Repackaging.html#4835" class="Function">e</a><a id="4908" class="Symbol">)</a>
  <a id="4912" href="InjectiveTypes.Repackaging.html#4881" class="Function">III</a> <a id="4916" class="Symbol">=</a> <a id="4918" href="InjectiveTypes.Repackaging.html#4773" class="Function">II</a> <a id="4921" href="InjectiveTypes.Repackaging.html#4835" class="Function">e</a>

  <a id="4926" href="InjectiveTypes.Repackaging.html#4926" class="Function">IV</a> <a id="4929" class="Symbol">:</a> <a id="4931" href="InjectiveTypes.Repackaging.html#4575" class="Bound">⨆</a> <a id="4933" href="InjectiveTypes.Repackaging.html#4577" class="Bound">P</a> <a id="4935" href="InjectiveTypes.Repackaging.html#4581" class="Bound">f</a> <a id="4937" href="MLTT.Id.html#193" class="Datatype Operator">＝</a> <a id="4939" href="InjectiveTypes.Repackaging.html#4575" class="Bound">⨆</a> <a id="4941" href="InjectiveTypes.Repackaging.html#4579" class="Bound">Q</a> <a id="4943" class="Symbol">(</a><a id="4944" href="InjectiveTypes.Repackaging.html#4581" class="Bound">f</a> <a id="4946" href="MLTT.Pi.html#513" class="Function Operator">∘</a> <a id="4948" href="InjectiveTypes.Repackaging.html#4588" class="Bound">h</a><a id="4949" class="Symbol">)</a>
  <a id="4953" href="InjectiveTypes.Repackaging.html#4926" class="Function">IV</a> <a id="4956" class="Symbol">=</a> <a id="4958" href="MLTT.Id.html#735" class="Function">transport</a> <a id="4968" class="Symbol">(λ</a> <a id="4971" href="InjectiveTypes.Repackaging.html#4971" class="Bound">-</a> <a id="4973" class="Symbol">→</a> <a id="4975" href="InjectiveTypes.Repackaging.html#4575" class="Bound">⨆</a> <a id="4977" href="InjectiveTypes.Repackaging.html#4577" class="Bound">P</a> <a id="4979" href="InjectiveTypes.Repackaging.html#4581" class="Bound">f</a> <a id="4981" href="MLTT.Id.html#193" class="Datatype Operator">＝</a> <a id="4983" href="InjectiveTypes.Repackaging.html#4575" class="Bound">⨆</a> <a id="4985" href="InjectiveTypes.Repackaging.html#4579" class="Bound">Q</a> <a id="4987" class="Symbol">(</a><a id="4988" href="InjectiveTypes.Repackaging.html#4581" class="Bound">f</a> <a id="4990" href="MLTT.Pi.html#513" class="Function Operator">∘</a> <a id="4992" href="InjectiveTypes.Repackaging.html#4971" class="Bound">-</a><a id="4993" class="Symbol">))</a> <a id="4996" class="Symbol">(</a><a id="4997" href="InjectiveTypes.Repackaging.html#4685" class="Function">I</a> <a id="4999" href="InjectiveTypes.Repackaging.html#4835" class="Function">e</a><a id="5000" class="Symbol">)</a> <a id="5002" href="InjectiveTypes.Repackaging.html#4881" class="Function">III</a>

<a id="5007" class="Markup">\end{code}</a><a id="5017" class="Background">
</a></pre></body></html>