<!DOCTYPE HTML>
<html><head><meta charset="utf-8"><title>Games.Monad</title><link rel="stylesheet" href="Agda.css"><script type="text/javascript" src="highlight-hover.js"></script></head><body><pre class="Agda"><a id="1" class="Background">Martin Escardo, Paulo Oliva, 2023

(Strong, wild) monads on types.

TODO. We should also use this in FiniteHistoryDependentMonadic.

</a><a id="134" class="Markup">\begin{code}</a>

<a id="148" class="Symbol">{-#</a> <a id="152" class="Keyword">OPTIONS</a> <a id="160" class="Pragma">--safe</a> <a id="167" class="Pragma">--without-K</a> <a id="179" class="Symbol">#-}</a>

<a id="184" class="Keyword">open</a> <a id="189" class="Keyword">import</a> <a id="196" href="MLTT.Spartan.html" class="Module">MLTT.Spartan</a>
<a id="209" class="Keyword">open</a> <a id="214" class="Keyword">import</a> <a id="221" href="UF.Equiv.html" class="Module">UF.Equiv</a>
<a id="230" class="Keyword">open</a> <a id="235" class="Keyword">import</a> <a id="242" href="UF.FunExt.html" class="Module">UF.FunExt</a>

<a id="253" class="Keyword">module</a> <a id="260" href="Games.Monad.html" class="Module">Games.Monad</a> <a id="272" class="Keyword">where</a>

<a id="279" class="Keyword">record</a> <a id="Monad"></a><a id="286" href="Games.Monad.html#286" class="Record">Monad</a> <a id="292" class="Symbol">:</a> <a id="294" href="Notation.General.html#384" class="Function">Typeâ‚</a> <a id="300" class="Keyword">where</a>
 <a id="307" class="Keyword">constructor</a>
  <a id="monad"></a><a id="321" href="Games.Monad.html#321" class="InductiveConstructor">monad</a>
 <a id="328" class="Keyword">field</a>
  <a id="Monad.functor"></a><a id="336" href="Games.Monad.html#336" class="Field">functor</a> <a id="344" class="Symbol">:</a> <a id="346" href="Notation.General.html#372" class="Function">Type</a> <a id="351" class="Symbol">â†’</a> <a id="353" href="Notation.General.html#372" class="Function">Type</a>
  <a id="Monad.Î·"></a><a id="360" href="Games.Monad.html#360" class="Field">Î·</a>       <a id="368" class="Symbol">:</a> <a id="370" class="Symbol">{</a><a id="371" href="Games.Monad.html#371" class="Bound">X</a> <a id="373" class="Symbol">:</a> <a id="375" href="Notation.General.html#372" class="Function">Type</a><a id="379" class="Symbol">}</a> <a id="381" class="Symbol">â†’</a> <a id="383" href="Games.Monad.html#371" class="Bound">X</a> <a id="385" class="Symbol">â†’</a> <a id="387" href="Games.Monad.html#336" class="Field">functor</a> <a id="395" href="Games.Monad.html#371" class="Bound">X</a>
  <a id="Monad.ext"></a><a id="399" href="Games.Monad.html#399" class="Field">ext</a>     <a id="407" class="Symbol">:</a> <a id="409" class="Symbol">{</a><a id="410" href="Games.Monad.html#410" class="Bound">X</a> <a id="412" href="Games.Monad.html#412" class="Bound">Y</a> <a id="414" class="Symbol">:</a> <a id="416" href="Notation.General.html#372" class="Function">Type</a><a id="420" class="Symbol">}</a> <a id="422" class="Symbol">â†’</a> <a id="424" class="Symbol">(</a><a id="425" href="Games.Monad.html#410" class="Bound">X</a> <a id="427" class="Symbol">â†’</a> <a id="429" href="Games.Monad.html#336" class="Field">functor</a> <a id="437" href="Games.Monad.html#412" class="Bound">Y</a><a id="438" class="Symbol">)</a> <a id="440" class="Symbol">â†’</a> <a id="442" href="Games.Monad.html#336" class="Field">functor</a> <a id="450" href="Games.Monad.html#410" class="Bound">X</a> <a id="452" class="Symbol">â†’</a> <a id="454" href="Games.Monad.html#336" class="Field">functor</a> <a id="462" href="Games.Monad.html#412" class="Bound">Y</a>
  <a id="Monad.ext-Î·"></a><a id="466" href="Games.Monad.html#466" class="Field">ext-Î·</a>   <a id="474" class="Symbol">:</a> <a id="476" class="Symbol">{</a><a id="477" href="Games.Monad.html#477" class="Bound">X</a> <a id="479" class="Symbol">:</a> <a id="481" href="Notation.General.html#372" class="Function">Type</a><a id="485" class="Symbol">}</a> <a id="487" class="Symbol">â†’</a> <a id="489" href="Games.Monad.html#399" class="Field">ext</a> <a id="493" class="Symbol">(</a><a id="494" href="Games.Monad.html#360" class="Field">Î·</a> <a id="496" class="Symbol">{</a><a id="497" href="Games.Monad.html#477" class="Bound">X</a><a id="498" class="Symbol">})</a> <a id="501" href="MLTT.Id.html#1425" class="Function Operator">âˆ¼</a> <a id="503" href="MLTT.Pi.html#478" class="Function">ğ‘–ğ‘‘</a> <a id="506" class="Symbol">(</a><a id="507" href="Games.Monad.html#336" class="Field">functor</a> <a id="515" href="Games.Monad.html#477" class="Bound">X</a><a id="516" class="Symbol">)</a>
  <a id="Monad.unit"></a><a id="520" href="Games.Monad.html#520" class="Field">unit</a>    <a id="528" class="Symbol">:</a> <a id="530" class="Symbol">{</a><a id="531" href="Games.Monad.html#531" class="Bound">X</a> <a id="533" href="Games.Monad.html#533" class="Bound">Y</a> <a id="535" class="Symbol">:</a> <a id="537" href="Notation.General.html#372" class="Function">Type</a><a id="541" class="Symbol">}</a> <a id="543" class="Symbol">(</a><a id="544" href="Games.Monad.html#544" class="Bound">f</a> <a id="546" class="Symbol">:</a> <a id="548" href="Games.Monad.html#531" class="Bound">X</a> <a id="550" class="Symbol">â†’</a> <a id="552" href="Games.Monad.html#336" class="Field">functor</a> <a id="560" href="Games.Monad.html#533" class="Bound">Y</a><a id="561" class="Symbol">)</a> <a id="563" class="Symbol">(</a><a id="564" href="Games.Monad.html#564" class="Bound">x</a> <a id="566" class="Symbol">:</a> <a id="568" href="Games.Monad.html#531" class="Bound">X</a><a id="569" class="Symbol">)</a> <a id="571" class="Symbol">â†’</a> <a id="573" href="Games.Monad.html#399" class="Field">ext</a> <a id="577" href="Games.Monad.html#544" class="Bound">f</a> <a id="579" class="Symbol">(</a><a id="580" href="Games.Monad.html#360" class="Field">Î·</a> <a id="582" href="Games.Monad.html#564" class="Bound">x</a><a id="583" class="Symbol">)</a> <a id="585" href="MLTT.Id.html#193" class="Datatype Operator">ï¼</a> <a id="587" href="Games.Monad.html#544" class="Bound">f</a> <a id="589" href="Games.Monad.html#564" class="Bound">x</a>
  <a id="Monad.assoc"></a><a id="593" href="Games.Monad.html#593" class="Field">assoc</a>   <a id="601" class="Symbol">:</a> <a id="603" class="Symbol">{</a><a id="604" href="Games.Monad.html#604" class="Bound">X</a> <a id="606" href="Games.Monad.html#606" class="Bound">Y</a> <a id="608" href="Games.Monad.html#608" class="Bound">Z</a> <a id="610" class="Symbol">:</a> <a id="612" href="Notation.General.html#372" class="Function">Type</a><a id="616" class="Symbol">}</a> <a id="618" class="Symbol">(</a><a id="619" href="Games.Monad.html#619" class="Bound">g</a> <a id="621" class="Symbol">:</a> <a id="623" href="Games.Monad.html#606" class="Bound">Y</a> <a id="625" class="Symbol">â†’</a> <a id="627" href="Games.Monad.html#336" class="Field">functor</a> <a id="635" href="Games.Monad.html#608" class="Bound">Z</a><a id="636" class="Symbol">)</a> <a id="638" class="Symbol">(</a><a id="639" href="Games.Monad.html#639" class="Bound">f</a> <a id="641" class="Symbol">:</a> <a id="643" href="Games.Monad.html#604" class="Bound">X</a> <a id="645" class="Symbol">â†’</a> <a id="647" href="Games.Monad.html#336" class="Field">functor</a> <a id="655" href="Games.Monad.html#606" class="Bound">Y</a><a id="656" class="Symbol">)</a> <a id="658" class="Symbol">(</a><a id="659" href="Games.Monad.html#659" class="Bound">t</a> <a id="661" class="Symbol">:</a> <a id="663" href="Games.Monad.html#336" class="Field">functor</a> <a id="671" href="Games.Monad.html#604" class="Bound">X</a><a id="672" class="Symbol">)</a>
          <a id="684" class="Symbol">â†’</a> <a id="686" href="Games.Monad.html#399" class="Field">ext</a> <a id="690" class="Symbol">(Î»</a> <a id="693" href="Games.Monad.html#693" class="Bound">x</a> <a id="695" class="Symbol">â†’</a> <a id="697" href="Games.Monad.html#399" class="Field">ext</a> <a id="701" href="Games.Monad.html#619" class="Bound">g</a> <a id="703" class="Symbol">(</a><a id="704" href="Games.Monad.html#639" class="Bound">f</a> <a id="706" href="Games.Monad.html#693" class="Bound">x</a><a id="707" class="Symbol">))</a> <a id="710" href="Games.Monad.html#659" class="Bound">t</a> <a id="712" href="MLTT.Id.html#193" class="Datatype Operator">ï¼</a> <a id="714" href="Games.Monad.html#399" class="Field">ext</a> <a id="718" href="Games.Monad.html#619" class="Bound">g</a> <a id="720" class="Symbol">(</a><a id="721" href="Games.Monad.html#399" class="Field">ext</a> <a id="725" href="Games.Monad.html#639" class="Bound">f</a> <a id="727" href="Games.Monad.html#659" class="Bound">t</a><a id="728" class="Symbol">)</a>

 <a id="Monad.map"></a><a id="732" href="Games.Monad.html#732" class="Function">map</a> <a id="736" class="Symbol">:</a> <a id="738" class="Symbol">{</a><a id="739" href="Games.Monad.html#739" class="Bound">X</a> <a id="741" href="Games.Monad.html#741" class="Bound">Y</a> <a id="743" class="Symbol">:</a> <a id="745" href="Notation.General.html#372" class="Function">Type</a><a id="749" class="Symbol">}</a> <a id="751" class="Symbol">â†’</a> <a id="753" class="Symbol">(</a><a id="754" href="Games.Monad.html#739" class="Bound">X</a> <a id="756" class="Symbol">â†’</a> <a id="758" href="Games.Monad.html#741" class="Bound">Y</a><a id="759" class="Symbol">)</a> <a id="761" class="Symbol">â†’</a> <a id="763" href="Games.Monad.html#336" class="Field">functor</a> <a id="771" href="Games.Monad.html#739" class="Bound">X</a> <a id="773" class="Symbol">â†’</a> <a id="775" href="Games.Monad.html#336" class="Field">functor</a> <a id="783" href="Games.Monad.html#741" class="Bound">Y</a>
 <a id="786" href="Games.Monad.html#732" class="Function">map</a> <a id="790" href="Games.Monad.html#790" class="Bound">f</a> <a id="792" class="Symbol">=</a> <a id="794" href="Games.Monad.html#399" class="Field">ext</a> <a id="798" class="Symbol">(</a><a id="799" href="Games.Monad.html#360" class="Field">Î·</a> <a id="801" href="MLTT.Pi.html#513" class="Function Operator">âˆ˜</a> <a id="803" href="Games.Monad.html#790" class="Bound">f</a><a id="804" class="Symbol">)</a>

 <a id="Monad.Î¼"></a><a id="808" href="Games.Monad.html#808" class="Function">Î¼</a> <a id="810" class="Symbol">:</a> <a id="812" class="Symbol">{</a><a id="813" href="Games.Monad.html#813" class="Bound">X</a> <a id="815" class="Symbol">:</a> <a id="817" href="Notation.General.html#372" class="Function">Type</a><a id="821" class="Symbol">}</a> <a id="823" class="Symbol">â†’</a> <a id="825" href="Games.Monad.html#336" class="Field">functor</a> <a id="833" class="Symbol">(</a><a id="834" href="Games.Monad.html#336" class="Field">functor</a> <a id="842" href="Games.Monad.html#813" class="Bound">X</a><a id="843" class="Symbol">)</a> <a id="845" class="Symbol">â†’</a> <a id="847" href="Games.Monad.html#336" class="Field">functor</a> <a id="855" href="Games.Monad.html#813" class="Bound">X</a>
 <a id="858" href="Games.Monad.html#808" class="Function">Î¼</a> <a id="860" class="Symbol">=</a> <a id="862" href="Games.Monad.html#399" class="Field">ext</a> <a id="866" href="MLTT.Pi.html#444" class="Function">id</a>

 <a id="Monad._âŠ—_"></a><a id="871" href="Games.Monad.html#871" class="Function Operator">_âŠ—_</a> <a id="875" class="Symbol">:</a> <a id="877" class="Symbol">{</a><a id="878" href="Games.Monad.html#878" class="Bound">X</a> <a id="880" class="Symbol">:</a> <a id="882" href="Notation.General.html#372" class="Function">Type</a><a id="886" class="Symbol">}</a> <a id="888" class="Symbol">{</a><a id="889" href="Games.Monad.html#889" class="Bound">Y</a> <a id="891" class="Symbol">:</a> <a id="893" href="Games.Monad.html#878" class="Bound">X</a> <a id="895" class="Symbol">â†’</a> <a id="897" href="Notation.General.html#372" class="Function">Type</a><a id="901" class="Symbol">}</a>
     <a id="908" class="Symbol">â†’</a> <a id="910" href="Games.Monad.html#336" class="Field">functor</a> <a id="918" href="Games.Monad.html#878" class="Bound">X</a>
     <a id="925" class="Symbol">â†’</a> <a id="927" class="Symbol">((</a><a id="929" href="Games.Monad.html#929" class="Bound">x</a> <a id="931" class="Symbol">:</a> <a id="933" href="Games.Monad.html#878" class="Bound">X</a><a id="934" class="Symbol">)</a> <a id="936" class="Symbol">â†’</a> <a id="938" href="Games.Monad.html#336" class="Field">functor</a> <a id="946" class="Symbol">(</a><a id="947" href="Games.Monad.html#889" class="Bound">Y</a> <a id="949" href="Games.Monad.html#929" class="Bound">x</a><a id="950" class="Symbol">))</a>
     <a id="958" class="Symbol">â†’</a> <a id="960" href="Games.Monad.html#336" class="Field">functor</a> <a id="968" class="Symbol">(</a><a id="969" href="MLTT.Sigma.html#423" class="Function">Î£</a> <a id="971" href="Games.Monad.html#971" class="Bound">x</a> <a id="973" href="MLTT.Sigma.html#423" class="Function">ê‰</a> <a id="975" href="Games.Monad.html#878" class="Bound">X</a> <a id="977" href="MLTT.Sigma.html#423" class="Function">,</a> <a id="979" href="Games.Monad.html#889" class="Bound">Y</a> <a id="981" href="Games.Monad.html#971" class="Bound">x</a><a id="982" class="Symbol">)</a>
 <a id="985" href="Games.Monad.html#985" class="Bound">t</a> <a id="987" href="Games.Monad.html#871" class="Function Operator">âŠ—</a> <a id="989" href="Games.Monad.html#989" class="Bound">f</a> <a id="991" class="Symbol">=</a> <a id="993" href="Games.Monad.html#399" class="Field">ext</a> <a id="997" class="Symbol">(Î»</a> <a id="1000" href="Games.Monad.html#1000" class="Bound">x</a> <a id="1002" class="Symbol">â†’</a> <a id="1004" href="Games.Monad.html#732" class="Function">map</a> <a id="1008" class="Symbol">(Î»</a> <a id="1011" href="Games.Monad.html#1011" class="Bound">y</a> <a id="1013" class="Symbol">â†’</a> <a id="1015" href="Games.Monad.html#1000" class="Bound">x</a> <a id="1017" href="MLTT.Sigma.html#395" class="InductiveConstructor Operator">,</a> <a id="1019" href="Games.Monad.html#1011" class="Bound">y</a><a id="1020" class="Symbol">)</a> <a id="1022" class="Symbol">(</a><a id="1023" href="Games.Monad.html#989" class="Bound">f</a> <a id="1025" href="Games.Monad.html#1000" class="Bound">x</a><a id="1026" class="Symbol">))</a> <a id="1029" href="Games.Monad.html#985" class="Bound">t</a>

<a id="1032" class="Keyword">open</a> <a id="1037" href="Games.Monad.html#286" class="Module">Monad</a> <a id="1043" class="Keyword">public</a>

<a id="tensor"></a><a id="1051" href="Games.Monad.html#1051" class="Function">tensor</a> <a id="1058" class="Symbol">:</a> <a id="1060" class="Symbol">(</a><a id="1061" href="Games.Monad.html#1061" class="Bound">ğ•‹</a> <a id="1063" class="Symbol">:</a> <a id="1065" href="Games.Monad.html#286" class="Record">Monad</a><a id="1070" class="Symbol">)</a> <a id="1072" class="Symbol">â†’</a> <a id="1074" class="Symbol">{</a><a id="1075" href="Games.Monad.html#1075" class="Bound">X</a> <a id="1077" class="Symbol">:</a> <a id="1079" href="Notation.General.html#372" class="Function">Type</a><a id="1083" class="Symbol">}</a> <a id="1085" class="Symbol">{</a><a id="1086" href="Games.Monad.html#1086" class="Bound">Y</a> <a id="1088" class="Symbol">:</a> <a id="1090" href="Games.Monad.html#1075" class="Bound">X</a> <a id="1092" class="Symbol">â†’</a> <a id="1094" href="Notation.General.html#372" class="Function">Type</a><a id="1098" class="Symbol">}</a>
       <a id="1107" class="Symbol">â†’</a> <a id="1109" href="Games.Monad.html#336" class="Field">functor</a> <a id="1117" href="Games.Monad.html#1061" class="Bound">ğ•‹</a> <a id="1119" href="Games.Monad.html#1075" class="Bound">X</a>
       <a id="1128" class="Symbol">â†’</a> <a id="1130" class="Symbol">((</a><a id="1132" href="Games.Monad.html#1132" class="Bound">x</a> <a id="1134" class="Symbol">:</a> <a id="1136" href="Games.Monad.html#1075" class="Bound">X</a><a id="1137" class="Symbol">)</a> <a id="1139" class="Symbol">â†’</a> <a id="1141" href="Games.Monad.html#336" class="Field">functor</a> <a id="1149" href="Games.Monad.html#1061" class="Bound">ğ•‹</a> <a id="1151" class="Symbol">(</a><a id="1152" href="Games.Monad.html#1086" class="Bound">Y</a> <a id="1154" href="Games.Monad.html#1132" class="Bound">x</a><a id="1155" class="Symbol">))</a>
       <a id="1165" class="Symbol">â†’</a> <a id="1167" href="Games.Monad.html#336" class="Field">functor</a> <a id="1175" href="Games.Monad.html#1061" class="Bound">ğ•‹</a> <a id="1177" class="Symbol">(</a><a id="1178" href="MLTT.Sigma.html#423" class="Function">Î£</a> <a id="1180" href="Games.Monad.html#1180" class="Bound">x</a> <a id="1182" href="MLTT.Sigma.html#423" class="Function">ê‰</a> <a id="1184" href="Games.Monad.html#1075" class="Bound">X</a> <a id="1186" href="MLTT.Sigma.html#423" class="Function">,</a> <a id="1188" href="Games.Monad.html#1086" class="Bound">Y</a> <a id="1190" href="Games.Monad.html#1180" class="Bound">x</a><a id="1191" class="Symbol">)</a>
<a id="1193" href="Games.Monad.html#1051" class="Function">tensor</a> <a id="1200" href="Games.Monad.html#1200" class="Bound">ğ•‹</a> <a id="1202" class="Symbol">=</a> <a id="1204" href="Games.Monad.html#871" class="Function Operator">_âŠ—_</a> <a id="1208" href="Games.Monad.html#1200" class="Bound">ğ•‹</a>

<a id="1211" class="Keyword">syntax</a> <a id="1218" href="Games.Monad.html#1051" class="Function">tensor</a> <a id="1225" class="Bound">ğ•‹</a> <a id="1227" class="Bound">t</a> <a id="1229" class="Bound">f</a> <a id="1231" class="Symbol">=</a> <a id="1233" class="Bound">t</a> <a id="1235" class="Function">âŠ—[</a> <a id="1238" class="Bound">ğ•‹</a> <a id="1240" class="Function">]</a> <a id="1242" class="Bound">f</a>

<a id="ğ•€ğ••"></a><a id="1245" href="Games.Monad.html#1245" class="Function">ğ•€ğ••</a> <a id="1248" class="Symbol">:</a> <a id="1250" href="Games.Monad.html#286" class="Record">Monad</a>
<a id="1256" href="Games.Monad.html#1245" class="Function">ğ•€ğ••</a> <a id="1259" class="Symbol">=</a> <a id="1261" class="Keyword">record</a> <a id="1268" class="Symbol">{</a>
      <a id="1276" href="Games.Monad.html#336" class="Field">functor</a> <a id="1284" class="Symbol">=</a> <a id="1286" href="MLTT.Pi.html#444" class="Function">id</a> <a id="1289" class="Symbol">;</a>
      <a id="1297" href="Games.Monad.html#360" class="Field">Î·</a>       <a id="1305" class="Symbol">=</a> <a id="1307" href="MLTT.Pi.html#444" class="Function">id</a> <a id="1310" class="Symbol">;</a>
      <a id="1318" href="Games.Monad.html#399" class="Field">ext</a>     <a id="1326" class="Symbol">=</a> <a id="1328" href="MLTT.Pi.html#444" class="Function">id</a> <a id="1331" class="Symbol">;</a>
      <a id="1339" href="Games.Monad.html#466" class="Field">ext-Î·</a>   <a id="1347" class="Symbol">=</a> <a id="1349" class="Symbol">Î»</a> <a id="1351" href="Games.Monad.html#1351" class="Bound">x</a> <a id="1353" class="Symbol">â†’</a> <a id="1355" href="MLTT.Identity-Type.html#157" class="InductiveConstructor">refl</a> <a id="1360" class="Symbol">;</a>
      <a id="1368" href="Games.Monad.html#520" class="Field">unit</a>    <a id="1376" class="Symbol">=</a> <a id="1378" class="Symbol">Î»</a> <a id="1380" href="Games.Monad.html#1380" class="Bound">f</a> <a id="1382" href="Games.Monad.html#1382" class="Bound">x</a> <a id="1384" class="Symbol">â†’</a> <a id="1386" href="MLTT.Identity-Type.html#157" class="InductiveConstructor">refl</a> <a id="1391" class="Symbol">;</a>
      <a id="1399" href="Games.Monad.html#593" class="Field">assoc</a>   <a id="1407" class="Symbol">=</a> <a id="1409" class="Symbol">Î»</a> <a id="1411" href="Games.Monad.html#1411" class="Bound">g</a> <a id="1413" href="Games.Monad.html#1413" class="Bound">f</a> <a id="1415" href="Games.Monad.html#1415" class="Bound">x</a> <a id="1417" class="Symbol">â†’</a> <a id="1419" href="MLTT.Identity-Type.html#157" class="InductiveConstructor">refl</a>
     <a id="1429" class="Symbol">}</a>

<a id="ğ•€ğ••âŠ—"></a><a id="1432" href="Games.Monad.html#1432" class="Function">ğ•€ğ••âŠ—</a> <a id="1436" class="Symbol">:</a> <a id="1438" class="Symbol">{</a><a id="1439" href="Games.Monad.html#1439" class="Bound">X</a> <a id="1441" class="Symbol">:</a> <a id="1443" href="Notation.General.html#372" class="Function">Type</a><a id="1447" class="Symbol">}</a> <a id="1449" class="Symbol">{</a><a id="1450" href="Games.Monad.html#1450" class="Bound">Y</a> <a id="1452" class="Symbol">:</a> <a id="1454" href="Games.Monad.html#1439" class="Bound">X</a> <a id="1456" class="Symbol">â†’</a> <a id="1458" href="Notation.General.html#372" class="Function">Type</a><a id="1462" class="Symbol">}</a>
      <a id="1470" class="Symbol">(</a><a id="1471" href="Games.Monad.html#1471" class="Bound">x</a> <a id="1473" class="Symbol">:</a> <a id="1475" href="Games.Monad.html#1439" class="Bound">X</a><a id="1476" class="Symbol">)</a>
      <a id="1484" class="Symbol">(</a><a id="1485" href="Games.Monad.html#1485" class="Bound">f</a> <a id="1487" class="Symbol">:</a> <a id="1489" class="Symbol">(</a><a id="1490" href="Games.Monad.html#1490" class="Bound">x</a> <a id="1492" class="Symbol">:</a> <a id="1494" href="Games.Monad.html#1439" class="Bound">X</a><a id="1495" class="Symbol">)</a> <a id="1497" class="Symbol">â†’</a> <a id="1499" class="Symbol">(</a><a id="1500" href="Games.Monad.html#1450" class="Bound">Y</a> <a id="1502" href="Games.Monad.html#1490" class="Bound">x</a><a id="1503" class="Symbol">))</a>
    <a id="1510" class="Symbol">â†’</a> <a id="1512" href="Games.Monad.html#1471" class="Bound">x</a> <a id="1514" href="Games.Monad.html#1051" class="Function">âŠ—[</a> <a id="1517" href="Games.Monad.html#1245" class="Function">ğ•€ğ••</a> <a id="1520" href="Games.Monad.html#1051" class="Function">]</a> <a id="1522" href="Games.Monad.html#1485" class="Bound">f</a> <a id="1524" href="MLTT.Id.html#193" class="Datatype Operator">ï¼</a> <a id="1526" href="Games.Monad.html#1471" class="Bound">x</a> <a id="1528" href="MLTT.Sigma.html#395" class="InductiveConstructor Operator">,</a> <a id="1530" href="Games.Monad.html#1485" class="Bound">f</a> <a id="1532" href="Games.Monad.html#1471" class="Bound">x</a>
<a id="1534" href="Games.Monad.html#1432" class="Function">ğ•€ğ••âŠ—</a> <a id="1538" href="Games.Monad.html#1538" class="Bound">x</a> <a id="1540" href="Games.Monad.html#1540" class="Bound">f</a> <a id="1542" class="Symbol">=</a> <a id="1544" href="MLTT.Identity-Type.html#157" class="InductiveConstructor">refl</a>

<a id="1550" class="Markup">\end{code}</a><a id="1560" class="Background">

If we want to call a monad T, then we can use the following module:

</a><a id="1631" class="Markup">\begin{code}</a>

<a id="1645" class="Keyword">module</a> <a id="T-definitions"></a><a id="1652" href="Games.Monad.html#1652" class="Module">T-definitions</a> <a id="1666" class="Symbol">(</a><a id="1667" href="Games.Monad.html#1667" class="Bound">ğ•‹</a> <a id="1669" class="Symbol">:</a> <a id="1671" href="Games.Monad.html#286" class="Record">Monad</a><a id="1676" class="Symbol">)</a> <a id="1678" class="Keyword">where</a>

 <a id="T-definitions.T"></a><a id="1686" href="Games.Monad.html#1686" class="Function">T</a> <a id="1688" class="Symbol">:</a> <a id="1690" href="Notation.General.html#372" class="Function">Type</a> <a id="1695" class="Symbol">â†’</a> <a id="1697" href="Notation.General.html#372" class="Function">Type</a>
 <a id="1703" href="Games.Monad.html#1686" class="Function">T</a> <a id="1705" class="Symbol">=</a> <a id="1707" href="Games.Monad.html#336" class="Field">functor</a> <a id="1715" href="Games.Monad.html#1667" class="Bound">ğ•‹</a>

 <a id="T-definitions.Î·áµ€"></a><a id="1719" href="Games.Monad.html#1719" class="Function">Î·áµ€</a> <a id="1722" class="Symbol">:</a> <a id="1724" class="Symbol">{</a><a id="1725" href="Games.Monad.html#1725" class="Bound">X</a> <a id="1727" class="Symbol">:</a> <a id="1729" href="Notation.General.html#372" class="Function">Type</a><a id="1733" class="Symbol">}</a> <a id="1735" class="Symbol">â†’</a> <a id="1737" href="Games.Monad.html#1725" class="Bound">X</a> <a id="1739" class="Symbol">â†’</a> <a id="1741" href="Games.Monad.html#1686" class="Function">T</a> <a id="1743" href="Games.Monad.html#1725" class="Bound">X</a>
 <a id="1746" href="Games.Monad.html#1719" class="Function">Î·áµ€</a> <a id="1749" class="Symbol">=</a> <a id="1751" href="Games.Monad.html#360" class="Field">Î·</a> <a id="1753" href="Games.Monad.html#1667" class="Bound">ğ•‹</a>

 <a id="T-definitions.extáµ€"></a><a id="1757" href="Games.Monad.html#1757" class="Function">extáµ€</a> <a id="1762" class="Symbol">:</a> <a id="1764" class="Symbol">{</a><a id="1765" href="Games.Monad.html#1765" class="Bound">X</a> <a id="1767" href="Games.Monad.html#1767" class="Bound">Y</a> <a id="1769" class="Symbol">:</a> <a id="1771" href="Notation.General.html#372" class="Function">Type</a><a id="1775" class="Symbol">}</a> <a id="1777" class="Symbol">â†’</a> <a id="1779" class="Symbol">(</a><a id="1780" href="Games.Monad.html#1765" class="Bound">X</a> <a id="1782" class="Symbol">â†’</a> <a id="1784" href="Games.Monad.html#1686" class="Function">T</a> <a id="1786" href="Games.Monad.html#1767" class="Bound">Y</a><a id="1787" class="Symbol">)</a> <a id="1789" class="Symbol">â†’</a> <a id="1791" href="Games.Monad.html#1686" class="Function">T</a> <a id="1793" href="Games.Monad.html#1765" class="Bound">X</a> <a id="1795" class="Symbol">â†’</a> <a id="1797" href="Games.Monad.html#1686" class="Function">T</a> <a id="1799" href="Games.Monad.html#1767" class="Bound">Y</a>
 <a id="1802" href="Games.Monad.html#1757" class="Function">extáµ€</a> <a id="1807" class="Symbol">=</a> <a id="1809" href="Games.Monad.html#399" class="Field">ext</a> <a id="1813" href="Games.Monad.html#1667" class="Bound">ğ•‹</a>

 <a id="T-definitions.extáµ€-Î·"></a><a id="1817" href="Games.Monad.html#1817" class="Function">extáµ€-Î·</a> <a id="1824" class="Symbol">:</a> <a id="1826" class="Symbol">{</a><a id="1827" href="Games.Monad.html#1827" class="Bound">X</a> <a id="1829" class="Symbol">:</a> <a id="1831" href="Notation.General.html#372" class="Function">Type</a><a id="1835" class="Symbol">}</a> <a id="1837" class="Symbol">â†’</a> <a id="1839" href="Games.Monad.html#1757" class="Function">extáµ€</a> <a id="1844" class="Symbol">(</a><a id="1845" href="Games.Monad.html#1719" class="Function">Î·áµ€</a> <a id="1848" class="Symbol">{</a><a id="1849" href="Games.Monad.html#1827" class="Bound">X</a><a id="1850" class="Symbol">})</a> <a id="1853" href="MLTT.Id.html#1425" class="Function Operator">âˆ¼</a> <a id="1855" href="MLTT.Pi.html#478" class="Function">ğ‘–ğ‘‘</a> <a id="1858" class="Symbol">(</a><a id="1859" href="Games.Monad.html#1686" class="Function">T</a> <a id="1861" href="Games.Monad.html#1827" class="Bound">X</a><a id="1862" class="Symbol">)</a>
 <a id="1865" href="Games.Monad.html#1817" class="Function">extáµ€-Î·</a> <a id="1872" class="Symbol">=</a> <a id="1874" href="Games.Monad.html#466" class="Field">ext-Î·</a> <a id="1880" href="Games.Monad.html#1667" class="Bound">ğ•‹</a>

 <a id="T-definitions.unitáµ€"></a><a id="1884" href="Games.Monad.html#1884" class="Function">unitáµ€</a> <a id="1890" class="Symbol">:</a> <a id="1892" class="Symbol">{</a><a id="1893" href="Games.Monad.html#1893" class="Bound">X</a> <a id="1895" href="Games.Monad.html#1895" class="Bound">Y</a> <a id="1897" class="Symbol">:</a> <a id="1899" href="Notation.General.html#372" class="Function">Type</a><a id="1903" class="Symbol">}</a> <a id="1905" class="Symbol">(</a><a id="1906" href="Games.Monad.html#1906" class="Bound">f</a> <a id="1908" class="Symbol">:</a> <a id="1910" href="Games.Monad.html#1893" class="Bound">X</a> <a id="1912" class="Symbol">â†’</a> <a id="1914" href="Games.Monad.html#1686" class="Function">T</a> <a id="1916" href="Games.Monad.html#1895" class="Bound">Y</a><a id="1917" class="Symbol">)</a> <a id="1919" class="Symbol">â†’</a> <a id="1921" href="Games.Monad.html#1757" class="Function">extáµ€</a> <a id="1926" href="Games.Monad.html#1906" class="Bound">f</a> <a id="1928" href="MLTT.Pi.html#513" class="Function Operator">âˆ˜</a> <a id="1930" href="Games.Monad.html#1719" class="Function">Î·áµ€</a> <a id="1933" href="MLTT.Id.html#1425" class="Function Operator">âˆ¼</a> <a id="1935" href="Games.Monad.html#1906" class="Bound">f</a>
 <a id="1938" href="Games.Monad.html#1884" class="Function">unitáµ€</a> <a id="1944" class="Symbol">=</a> <a id="1946" href="Games.Monad.html#520" class="Field">unit</a> <a id="1951" href="Games.Monad.html#1667" class="Bound">ğ•‹</a>

 <a id="T-definitions.assocáµ€"></a><a id="1955" href="Games.Monad.html#1955" class="Function">assocáµ€</a> <a id="1962" class="Symbol">:</a> <a id="1964" class="Symbol">{</a><a id="1965" href="Games.Monad.html#1965" class="Bound">X</a> <a id="1967" href="Games.Monad.html#1967" class="Bound">Y</a> <a id="1969" href="Games.Monad.html#1969" class="Bound">Z</a> <a id="1971" class="Symbol">:</a> <a id="1973" href="Notation.General.html#372" class="Function">Type</a><a id="1977" class="Symbol">}</a> <a id="1979" class="Symbol">(</a><a id="1980" href="Games.Monad.html#1980" class="Bound">g</a> <a id="1982" class="Symbol">:</a> <a id="1984" href="Games.Monad.html#1967" class="Bound">Y</a> <a id="1986" class="Symbol">â†’</a> <a id="1988" href="Games.Monad.html#1686" class="Function">T</a> <a id="1990" href="Games.Monad.html#1969" class="Bound">Z</a><a id="1991" class="Symbol">)</a> <a id="1993" class="Symbol">(</a><a id="1994" href="Games.Monad.html#1994" class="Bound">f</a> <a id="1996" class="Symbol">:</a> <a id="1998" href="Games.Monad.html#1965" class="Bound">X</a> <a id="2000" class="Symbol">â†’</a> <a id="2002" href="Games.Monad.html#1686" class="Function">T</a> <a id="2004" href="Games.Monad.html#1967" class="Bound">Y</a><a id="2005" class="Symbol">)</a>
        <a id="2015" class="Symbol">â†’</a> <a id="2017" href="Games.Monad.html#1757" class="Function">extáµ€</a> <a id="2022" class="Symbol">(</a><a id="2023" href="Games.Monad.html#1757" class="Function">extáµ€</a> <a id="2028" href="Games.Monad.html#1980" class="Bound">g</a> <a id="2030" href="MLTT.Pi.html#513" class="Function Operator">âˆ˜</a> <a id="2032" href="Games.Monad.html#1994" class="Bound">f</a><a id="2033" class="Symbol">)</a> <a id="2035" href="MLTT.Id.html#1425" class="Function Operator">âˆ¼</a> <a id="2037" href="Games.Monad.html#1757" class="Function">extáµ€</a> <a id="2042" href="Games.Monad.html#1980" class="Bound">g</a> <a id="2044" href="MLTT.Pi.html#513" class="Function Operator">âˆ˜</a> <a id="2046" href="Games.Monad.html#1757" class="Function">extáµ€</a> <a id="2051" href="Games.Monad.html#1994" class="Bound">f</a>
 <a id="2054" href="Games.Monad.html#1955" class="Function">assocáµ€</a> <a id="2061" class="Symbol">=</a> <a id="2063" href="Games.Monad.html#593" class="Field">assoc</a> <a id="2069" href="Games.Monad.html#1667" class="Bound">ğ•‹</a>

 <a id="T-definitions.mapáµ€"></a><a id="2073" href="Games.Monad.html#2073" class="Function">mapáµ€</a> <a id="2078" class="Symbol">:</a> <a id="2080" class="Symbol">{</a><a id="2081" href="Games.Monad.html#2081" class="Bound">X</a> <a id="2083" href="Games.Monad.html#2083" class="Bound">Y</a> <a id="2085" class="Symbol">:</a> <a id="2087" href="Notation.General.html#372" class="Function">Type</a><a id="2091" class="Symbol">}</a> <a id="2093" class="Symbol">â†’</a> <a id="2095" class="Symbol">(</a><a id="2096" href="Games.Monad.html#2081" class="Bound">X</a> <a id="2098" class="Symbol">â†’</a> <a id="2100" href="Games.Monad.html#2083" class="Bound">Y</a><a id="2101" class="Symbol">)</a> <a id="2103" class="Symbol">â†’</a> <a id="2105" href="Games.Monad.html#1686" class="Function">T</a> <a id="2107" href="Games.Monad.html#2081" class="Bound">X</a> <a id="2109" class="Symbol">â†’</a> <a id="2111" href="Games.Monad.html#1686" class="Function">T</a> <a id="2113" href="Games.Monad.html#2083" class="Bound">Y</a>
 <a id="2116" href="Games.Monad.html#2073" class="Function">mapáµ€</a> <a id="2121" class="Symbol">=</a> <a id="2123" href="Games.Monad.html#732" class="Function">map</a> <a id="2127" href="Games.Monad.html#1667" class="Bound">ğ•‹</a>

 <a id="T-definitions.Î¼áµ€"></a><a id="2131" href="Games.Monad.html#2131" class="Function">Î¼áµ€</a> <a id="2134" class="Symbol">:</a> <a id="2136" class="Symbol">{</a><a id="2137" href="Games.Monad.html#2137" class="Bound">X</a> <a id="2139" class="Symbol">:</a> <a id="2141" href="Notation.General.html#372" class="Function">Type</a><a id="2145" class="Symbol">}</a> <a id="2147" class="Symbol">â†’</a> <a id="2149" href="Games.Monad.html#1686" class="Function">T</a> <a id="2151" class="Symbol">(</a><a id="2152" href="Games.Monad.html#1686" class="Function">T</a> <a id="2154" href="Games.Monad.html#2137" class="Bound">X</a><a id="2155" class="Symbol">)</a> <a id="2157" class="Symbol">â†’</a> <a id="2159" href="Games.Monad.html#1686" class="Function">T</a> <a id="2161" href="Games.Monad.html#2137" class="Bound">X</a>
 <a id="2164" href="Games.Monad.html#2131" class="Function">Î¼áµ€</a> <a id="2167" class="Symbol">=</a> <a id="2169" href="Games.Monad.html#808" class="Function">Î¼</a> <a id="2171" href="Games.Monad.html#1667" class="Bound">ğ•‹</a>

 <a id="T-definitions._âŠ—áµ€_"></a><a id="2175" href="Games.Monad.html#2175" class="Function Operator">_âŠ—áµ€_</a> <a id="2180" class="Symbol">:</a> <a id="2182" class="Symbol">{</a><a id="2183" href="Games.Monad.html#2183" class="Bound">X</a> <a id="2185" class="Symbol">:</a> <a id="2187" href="Notation.General.html#372" class="Function">Type</a><a id="2191" class="Symbol">}</a> <a id="2193" class="Symbol">{</a><a id="2194" href="Games.Monad.html#2194" class="Bound">Y</a> <a id="2196" class="Symbol">:</a> <a id="2198" href="Games.Monad.html#2183" class="Bound">X</a> <a id="2200" class="Symbol">â†’</a> <a id="2202" href="Notation.General.html#372" class="Function">Type</a><a id="2206" class="Symbol">}</a>
      <a id="2214" class="Symbol">â†’</a> <a id="2216" href="Games.Monad.html#1686" class="Function">T</a> <a id="2218" href="Games.Monad.html#2183" class="Bound">X</a>
      <a id="2226" class="Symbol">â†’</a> <a id="2228" class="Symbol">((</a><a id="2230" href="Games.Monad.html#2230" class="Bound">x</a> <a id="2232" class="Symbol">:</a> <a id="2234" href="Games.Monad.html#2183" class="Bound">X</a><a id="2235" class="Symbol">)</a> <a id="2237" class="Symbol">â†’</a> <a id="2239" href="Games.Monad.html#1686" class="Function">T</a> <a id="2241" class="Symbol">(</a><a id="2242" href="Games.Monad.html#2194" class="Bound">Y</a> <a id="2244" href="Games.Monad.html#2230" class="Bound">x</a><a id="2245" class="Symbol">))</a>
      <a id="2254" class="Symbol">â†’</a> <a id="2256" href="Games.Monad.html#1686" class="Function">T</a> <a id="2258" class="Symbol">(</a><a id="2259" href="MLTT.Sigma.html#423" class="Function">Î£</a> <a id="2261" href="Games.Monad.html#2261" class="Bound">x</a> <a id="2263" href="MLTT.Sigma.html#423" class="Function">ê‰</a> <a id="2265" href="Games.Monad.html#2183" class="Bound">X</a> <a id="2267" href="MLTT.Sigma.html#423" class="Function">,</a> <a id="2269" href="Games.Monad.html#2194" class="Bound">Y</a> <a id="2271" href="Games.Monad.html#2261" class="Bound">x</a><a id="2272" class="Symbol">)</a>
 <a id="2275" href="Games.Monad.html#2175" class="Function Operator">_âŠ—áµ€_</a> <a id="2280" class="Symbol">=</a> <a id="2282" href="Games.Monad.html#871" class="Function Operator">_âŠ—_</a> <a id="2286" href="Games.Monad.html#1667" class="Bound">ğ•‹</a>

<a id="2289" class="Markup">\end{code}</a><a id="2299" class="Background">

For some results, we need our monad to satisfy the condition
extáµ€-const defined below. Ohad Kammar pointed out to us that this
condition is equivalent to the monad being affine. We include his
proof here.

References given by Ohad Kammar and Alex Simpson:

[1] Anders Kock, Bilinearity and Cartesian closed monads,
Math. Stand. 29 (1971) 161-174.
https://users-math.au.dk/kock/BCCM.pdf

[2]
https://www.denotational.co.uk/publications/kammar-plotkin-algebraic-foundations-for-effect-dependent-optimisations.pdf

[3] https://www.denotational.co.uk/publications/kammar-ohad-thesis.pdf

[4] Gavin Wraith mentions affine theories in his lecture notes form
1969 (Prop. 3.5 here:
https://www.denotational.co.uk/scans/wraith-algebraic-theories.pdf)

[5] Bart Jacobs&#39; &quot;Semantics of weakening and contraction&quot;.
https://doi.org/10.1016/0168-0072(94)90020-5

</a><a id="3149" class="Markup">\begin{code}</a>

<a id="3163" class="Keyword">module</a> <a id="3170" href="Games.Monad.html#3170" class="Module">_</a> <a id="3172" class="Symbol">(</a><a id="3173" href="Games.Monad.html#3173" class="Bound">ğ•‹</a> <a id="3175" class="Symbol">:</a> <a id="3177" href="Games.Monad.html#286" class="Record">Monad</a><a id="3182" class="Symbol">)</a> <a id="3184" class="Keyword">where</a>

 <a id="3192" class="Keyword">open</a> <a id="3197" href="Games.Monad.html#1652" class="Module">T-definitions</a> <a id="3211" href="Games.Monad.html#3173" class="Bound">ğ•‹</a>

 <a id="3215" href="Games.Monad.html#3215" class="Function">is-affine</a> <a id="3225" class="Symbol">:</a> <a id="3227" href="Notation.General.html#372" class="Function">Type</a>
 <a id="3233" href="Games.Monad.html#3215" class="Function">is-affine</a> <a id="3243" class="Symbol">=</a> <a id="3245" href="UF.Equiv.html#402" class="Function">is-equiv</a> <a id="3254" class="Symbol">(</a><a id="3255" href="Games.Monad.html#1719" class="Function">Î·áµ€</a> <a id="3258" class="Symbol">{</a><a id="3259" href="MLTT.Unit.html#129" class="Record">ğŸ™</a><a id="3260" class="Symbol">})</a>

 <a id="3265" href="Games.Monad.html#3265" class="Function">ext-const&#39;</a> <a id="3276" class="Symbol">:</a> <a id="3278" href="Notation.General.html#372" class="Function">Type</a> <a id="3283" class="Symbol">â†’</a> <a id="3285" href="Notation.General.html#384" class="Function">Typeâ‚</a>
 <a id="3292" href="Games.Monad.html#3265" class="Function">ext-const&#39;</a> <a id="3303" href="Games.Monad.html#3303" class="Bound">X</a> <a id="3305" class="Symbol">=</a> <a id="3307" class="Symbol">{</a><a id="3308" href="Games.Monad.html#3308" class="Bound">Y</a> <a id="3310" class="Symbol">:</a> <a id="3312" href="Notation.General.html#372" class="Function">Type</a><a id="3316" class="Symbol">}</a> <a id="3318" class="Symbol">(</a><a id="3319" href="Games.Monad.html#3319" class="Bound">u</a> <a id="3321" class="Symbol">:</a> <a id="3323" href="Games.Monad.html#1686" class="Function">T</a> <a id="3325" href="Games.Monad.html#3308" class="Bound">Y</a><a id="3326" class="Symbol">)</a>
              <a id="3342" class="Symbol">â†’</a> <a id="3344" href="Games.Monad.html#1757" class="Function">extáµ€</a> <a id="3349" class="Symbol">(Î»</a> <a id="3352" class="Symbol">(</a><a id="3353" href="Games.Monad.html#3353" class="Bound">x</a> <a id="3355" class="Symbol">:</a> <a id="3357" href="Games.Monad.html#3303" class="Bound">X</a><a id="3358" class="Symbol">)</a> <a id="3360" class="Symbol">â†’</a> <a id="3362" href="Games.Monad.html#3319" class="Bound">u</a><a id="3363" class="Symbol">)</a> <a id="3365" href="MLTT.Id.html#1425" class="Function Operator">âˆ¼</a> <a id="3367" class="Symbol">Î»</a> <a id="3369" class="Symbol">(</a><a id="3370" href="Games.Monad.html#3370" class="Bound">t</a> <a id="3372" class="Symbol">:</a> <a id="3374" href="Games.Monad.html#1686" class="Function">T</a> <a id="3376" href="Games.Monad.html#3303" class="Bound">X</a><a id="3377" class="Symbol">)</a> <a id="3379" class="Symbol">â†’</a> <a id="3381" href="Games.Monad.html#3319" class="Bound">u</a>

 <a id="3385" href="Games.Monad.html#3385" class="Function">ext-const</a> <a id="3395" class="Symbol">:</a> <a id="3397" href="Notation.General.html#384" class="Function">Typeâ‚</a>
 <a id="3404" href="Games.Monad.html#3385" class="Function">ext-const</a> <a id="3414" class="Symbol">=</a> <a id="3416" class="Symbol">{</a><a id="3417" href="Games.Monad.html#3417" class="Bound">X</a> <a id="3419" class="Symbol">:</a> <a id="3421" href="Notation.General.html#372" class="Function">Type</a><a id="3425" class="Symbol">}</a> <a id="3427" class="Symbol">â†’</a> <a id="3429" href="Games.Monad.html#3265" class="Function">ext-const&#39;</a> <a id="3440" href="Games.Monad.html#3417" class="Bound">X</a>

 <a id="3444" href="Games.Monad.html#3444" class="Function">affine-gives-ext-const&#39;</a> <a id="3468" class="Symbol">:</a> <a id="3470" href="UF.FunExt.html#1047" class="Function">Fun-Ext</a> <a id="3478" class="Symbol">â†’</a> <a id="3480" href="Games.Monad.html#3215" class="Function">is-affine</a> <a id="3490" class="Symbol">â†’</a> <a id="3492" href="Games.Monad.html#3265" class="Function">ext-const&#39;</a> <a id="3503" href="MLTT.Unit.html#129" class="Record">ğŸ™</a>
 <a id="3506" href="Games.Monad.html#3444" class="Function">affine-gives-ext-const&#39;</a> <a id="3530" href="Games.Monad.html#3530" class="Bound">fe</a> <a id="3533" href="Games.Monad.html#3533" class="Bound">a</a> <a id="3535" class="Symbol">{</a><a id="3536" href="Games.Monad.html#3536" class="Bound">Y</a><a id="3537" class="Symbol">}</a> <a id="3539" href="Games.Monad.html#3539" class="Bound">u</a> <a id="3541" href="Games.Monad.html#3541" class="Bound">t</a> <a id="3543" class="Symbol">=</a> <a id="3545" href="Games.Monad.html#3854" class="Function">Î³</a>
  <a id="3549" class="Keyword">where</a>
   <a id="3558" href="Games.Monad.html#3558" class="Function">f</a> <a id="3560" class="Symbol">=</a> <a id="3562" class="Symbol">Î»</a> <a id="3564" class="Symbol">(</a><a id="3565" href="Games.Monad.html#3565" class="Bound">x</a> <a id="3567" class="Symbol">:</a> <a id="3569" href="MLTT.Unit.html#129" class="Record">ğŸ™</a><a id="3570" class="Symbol">)</a> <a id="3572" class="Symbol">â†’</a> <a id="3574" href="Games.Monad.html#3539" class="Bound">u</a>

   <a id="3580" href="Games.Monad.html#3580" class="Function">I</a> <a id="3582" class="Symbol">:</a> <a id="3584" href="Games.Monad.html#3558" class="Function">f</a> <a id="3586" href="MLTT.Pi.html#513" class="Function Operator">âˆ˜</a> <a id="3588" href="UF.Equiv.html#498" class="Function">inverse</a> <a id="3596" class="Symbol">(</a><a id="3597" href="Games.Monad.html#1719" class="Function">Î·áµ€</a> <a id="3600" class="Symbol">{</a><a id="3601" href="MLTT.Unit.html#129" class="Record">ğŸ™</a><a id="3602" class="Symbol">})</a> <a id="3605" href="Games.Monad.html#3533" class="Bound">a</a> <a id="3607" href="MLTT.Id.html#1425" class="Function Operator">âˆ¼</a> <a id="3609" href="Games.Monad.html#1757" class="Function">extáµ€</a> <a id="3614" href="Games.Monad.html#3558" class="Function">f</a>
   <a id="3619" href="Games.Monad.html#3580" class="Function">I</a> <a id="3621" href="Games.Monad.html#3621" class="Bound">s</a> <a id="3623" class="Symbol">=</a> <a id="3625" class="Symbol">(</a><a id="3626" href="Games.Monad.html#3558" class="Function">f</a> <a id="3628" href="MLTT.Pi.html#513" class="Function Operator">âˆ˜</a> <a id="3630" href="UF.Equiv.html#498" class="Function">inverse</a> <a id="3638" href="Games.Monad.html#1719" class="Function">Î·áµ€</a> <a id="3641" href="Games.Monad.html#3533" class="Bound">a</a><a id="3642" class="Symbol">)</a> <a id="3644" href="Games.Monad.html#3621" class="Bound">s</a>         <a id="3654" href="MLTT.Id.html#2239" class="Function Operator">ï¼âŸ¨</a> <a id="3657" href="Games.Monad.html#3763" class="Function">Iâ‚€</a> <a id="3660" href="MLTT.Id.html#2239" class="Function Operator">âŸ©</a>
         <a id="3671" href="Games.Monad.html#1757" class="Function">extáµ€</a> <a id="3676" href="Games.Monad.html#3558" class="Function">f</a> <a id="3678" class="Symbol">(</a><a id="3679" href="Games.Monad.html#1719" class="Function">Î·áµ€</a> <a id="3682" class="Symbol">(</a><a id="3683" href="UF.Equiv.html#498" class="Function">inverse</a> <a id="3691" href="Games.Monad.html#1719" class="Function">Î·áµ€</a> <a id="3694" href="Games.Monad.html#3533" class="Bound">a</a> <a id="3696" href="Games.Monad.html#3621" class="Bound">s</a><a id="3697" class="Symbol">))</a> <a id="3700" href="MLTT.Id.html#2239" class="Function Operator">ï¼âŸ¨</a> <a id="3703" href="Games.Monad.html#3802" class="Function">Iâ‚</a> <a id="3706" href="MLTT.Id.html#2239" class="Function Operator">âŸ©</a>
         <a id="3717" href="Games.Monad.html#1757" class="Function">extáµ€</a> <a id="3722" href="Games.Monad.html#3558" class="Function">f</a> <a id="3724" href="Games.Monad.html#3621" class="Bound">s</a>                     <a id="3746" href="MLTT.Id.html#2321" class="Function Operator">âˆ</a>
    <a id="3752" class="Keyword">where</a>
     <a id="3763" href="Games.Monad.html#3763" class="Function">Iâ‚€</a> <a id="3766" class="Symbol">=</a> <a id="3768" class="Symbol">(</a><a id="3769" href="Games.Monad.html#1884" class="Function">unitáµ€</a> <a id="3775" href="Games.Monad.html#3558" class="Function">f</a> <a id="3777" class="Symbol">(</a><a id="3778" href="UF.Equiv.html#498" class="Function">inverse</a> <a id="3786" href="Games.Monad.html#1719" class="Function">Î·áµ€</a> <a id="3789" href="Games.Monad.html#3533" class="Bound">a</a> <a id="3791" href="Games.Monad.html#3621" class="Bound">s</a><a id="3792" class="Symbol">))</a><a id="3794" href="MLTT.Id.html#1055" class="Function Operator">â»Â¹</a>
     <a id="3802" href="Games.Monad.html#3802" class="Function">Iâ‚</a> <a id="3805" class="Symbol">=</a> <a id="3807" href="MLTT.Id.html#1136" class="Function">ap</a> <a id="3810" class="Symbol">(</a><a id="3811" href="Games.Monad.html#1757" class="Function">extáµ€</a> <a id="3816" href="Games.Monad.html#3558" class="Function">f</a><a id="3817" class="Symbol">)</a> <a id="3819" class="Symbol">(</a><a id="3820" href="UF.Equiv.html#5785" class="Function">inverses-are-sections</a> <a id="3842" href="Games.Monad.html#1719" class="Function">Î·áµ€</a> <a id="3845" href="Games.Monad.html#3533" class="Bound">a</a> <a id="3847" href="Games.Monad.html#3621" class="Bound">s</a><a id="3848" class="Symbol">)</a>

   <a id="3854" href="Games.Monad.html#3854" class="Function">Î³</a> <a id="3856" class="Symbol">:</a> <a id="3858" href="Games.Monad.html#1757" class="Function">extáµ€</a> <a id="3863" href="Games.Monad.html#3558" class="Function">f</a> <a id="3865" href="Games.Monad.html#3541" class="Bound">t</a> <a id="3867" href="MLTT.Id.html#193" class="Datatype Operator">ï¼</a> <a id="3869" href="Games.Monad.html#3539" class="Bound">u</a>
   <a id="3874" href="Games.Monad.html#3854" class="Function">Î³</a> <a id="3876" class="Symbol">=</a> <a id="3878" href="Games.Monad.html#1757" class="Function">extáµ€</a> <a id="3883" href="Games.Monad.html#3558" class="Function">f</a> <a id="3885" href="Games.Monad.html#3541" class="Bound">t</a>                   <a id="3905" href="MLTT.Id.html#2239" class="Function Operator">ï¼âŸ¨</a> <a id="3908" class="Symbol">(</a><a id="3909" href="MLTT.Id.html#1136" class="Function">ap</a> <a id="3912" class="Symbol">(Î»</a> <a id="3915" href="Games.Monad.html#3915" class="Bound">-</a> <a id="3917" class="Symbol">â†’</a> <a id="3919" href="Games.Monad.html#3915" class="Bound">-</a> <a id="3921" href="Games.Monad.html#3541" class="Bound">t</a><a id="3922" class="Symbol">)</a> <a id="3924" class="Symbol">(</a><a id="3925" href="UF.FunExt.html#1242" class="Function">dfunext</a> <a id="3933" href="Games.Monad.html#3530" class="Bound">fe</a> <a id="3936" href="Games.Monad.html#3580" class="Function">I</a><a id="3937" class="Symbol">))</a><a id="3939" href="MLTT.Id.html#1055" class="Function Operator">â»Â¹</a> <a id="3942" href="MLTT.Id.html#2239" class="Function Operator">âŸ©</a>
       <a id="3951" class="Symbol">(</a><a id="3952" href="Games.Monad.html#3558" class="Function">f</a> <a id="3954" href="MLTT.Pi.html#513" class="Function Operator">âˆ˜</a> <a id="3956" href="UF.Equiv.html#498" class="Function">inverse</a> <a id="3964" class="Symbol">(</a><a id="3965" href="Games.Monad.html#1719" class="Function">Î·áµ€</a> <a id="3968" class="Symbol">{</a><a id="3969" href="MLTT.Unit.html#129" class="Record">ğŸ™</a><a id="3970" class="Symbol">})</a> <a id="3973" href="Games.Monad.html#3533" class="Bound">a</a><a id="3974" class="Symbol">)</a> <a id="3976" href="Games.Monad.html#3541" class="Bound">t</a> <a id="3978" href="MLTT.Id.html#2239" class="Function Operator">ï¼âŸ¨</a> <a id="3981" href="MLTT.Identity-Type.html#157" class="InductiveConstructor">refl</a> <a id="3986" href="MLTT.Id.html#2239" class="Function Operator">âŸ©</a>
       <a id="3995" href="Games.Monad.html#3539" class="Bound">u</a>                          <a id="4022" href="MLTT.Id.html#2321" class="Function Operator">âˆ</a>

 <a id="4026" href="Games.Monad.html#4026" class="Function">affine-gives-ext-const</a> <a id="4049" class="Symbol">:</a> <a id="4051" href="UF.FunExt.html#1047" class="Function">Fun-Ext</a> <a id="4059" class="Symbol">â†’</a> <a id="4061" href="Games.Monad.html#3215" class="Function">is-affine</a> <a id="4071" class="Symbol">â†’</a> <a id="4073" href="Games.Monad.html#3385" class="Function">ext-const</a>
 <a id="4084" href="Games.Monad.html#4026" class="Function">affine-gives-ext-const</a> <a id="4107" href="Games.Monad.html#4107" class="Bound">fe</a> <a id="4110" href="Games.Monad.html#4110" class="Bound">a</a> <a id="4112" class="Symbol">{</a><a id="4113" href="Games.Monad.html#4113" class="Bound">X</a><a id="4114" class="Symbol">}</a> <a id="4116" class="Symbol">{</a><a id="4117" href="Games.Monad.html#4117" class="Bound">Y</a><a id="4118" class="Symbol">}</a> <a id="4120" href="Games.Monad.html#4120" class="Bound">u</a> <a id="4122" href="Games.Monad.html#4122" class="Bound">t</a> <a id="4124" class="Symbol">=</a> <a id="4126" href="Games.Monad.html#4336" class="Function">Î³</a>
  <a id="4130" class="Keyword">where</a>
   <a id="4139" href="Games.Monad.html#4139" class="Function">g</a> <a id="4141" class="Symbol">:</a> <a id="4143" href="Games.Monad.html#4113" class="Bound">X</a> <a id="4145" class="Symbol">â†’</a> <a id="4147" href="Games.Monad.html#1686" class="Function">T</a> <a id="4149" href="Games.Monad.html#4117" class="Bound">Y</a>
   <a id="4154" href="Games.Monad.html#4139" class="Function">g</a> <a id="4156" class="Symbol">_</a> <a id="4158" class="Symbol">=</a> <a id="4160" href="Games.Monad.html#4120" class="Bound">u</a>

   <a id="4166" href="Games.Monad.html#4166" class="Function">f</a> <a id="4168" class="Symbol">:</a> <a id="4170" href="Games.Monad.html#1686" class="Function">T</a> <a id="4172" href="MLTT.Unit.html#129" class="Record">ğŸ™</a> <a id="4174" class="Symbol">â†’</a> <a id="4176" href="Games.Monad.html#1686" class="Function">T</a> <a id="4178" href="Games.Monad.html#4117" class="Bound">Y</a>
   <a id="4183" href="Games.Monad.html#4166" class="Function">f</a> <a id="4185" class="Symbol">_</a> <a id="4187" class="Symbol">=</a> <a id="4189" href="Games.Monad.html#4120" class="Bound">u</a>

   <a id="4195" href="Games.Monad.html#4195" class="Function">h</a> <a id="4197" class="Symbol">:</a> <a id="4199" href="MLTT.Unit.html#129" class="Record">ğŸ™</a> <a id="4201" class="Symbol">â†’</a> <a id="4203" href="Games.Monad.html#1686" class="Function">T</a> <a id="4205" href="Games.Monad.html#4117" class="Bound">Y</a>
   <a id="4210" href="Games.Monad.html#4195" class="Function">h</a> <a id="4212" class="Symbol">_</a> <a id="4214" class="Symbol">=</a> <a id="4216" href="Games.Monad.html#4120" class="Bound">u</a>

   <a id="4222" href="Games.Monad.html#4222" class="Function">k</a> <a id="4224" class="Symbol">:</a> <a id="4226" href="Games.Monad.html#4113" class="Bound">X</a> <a id="4228" class="Symbol">â†’</a> <a id="4230" href="Games.Monad.html#1686" class="Function">T</a> <a id="4232" href="MLTT.Unit.html#129" class="Record">ğŸ™</a>
   <a id="4237" href="Games.Monad.html#4222" class="Function">k</a> <a id="4239" class="Symbol">=</a> <a id="4241" href="Games.Monad.html#1719" class="Function">Î·áµ€</a> <a id="4244" class="Symbol">{</a><a id="4245" href="MLTT.Unit.html#129" class="Record">ğŸ™</a><a id="4246" class="Symbol">}</a> <a id="4248" href="MLTT.Pi.html#513" class="Function Operator">âˆ˜</a> <a id="4250" href="MLTT.Unit.html#180" class="Function">unique-to-ğŸ™</a>

   <a id="4266" href="Games.Monad.html#4266" class="Function">I</a> <a id="4268" class="Symbol">:</a> <a id="4270" href="Games.Monad.html#1757" class="Function">extáµ€</a> <a id="4275" href="Games.Monad.html#4195" class="Function">h</a> <a id="4277" href="MLTT.Id.html#193" class="Datatype Operator">ï¼</a> <a id="4279" href="Games.Monad.html#4166" class="Function">f</a>
   <a id="4284" href="Games.Monad.html#4266" class="Function">I</a> <a id="4286" class="Symbol">=</a> <a id="4288" href="UF.FunExt.html#1242" class="Function">dfunext</a> <a id="4296" href="Games.Monad.html#4107" class="Bound">fe</a> <a id="4299" class="Symbol">(</a><a id="4300" href="Games.Monad.html#3444" class="Function">affine-gives-ext-const&#39;</a> <a id="4324" href="Games.Monad.html#4107" class="Bound">fe</a> <a id="4327" href="Games.Monad.html#4110" class="Bound">a</a> <a id="4329" href="Games.Monad.html#4120" class="Bound">u</a><a id="4330" class="Symbol">)</a>

   <a id="4336" href="Games.Monad.html#4336" class="Function">Î³</a> <a id="4338" class="Symbol">=</a> <a id="4340" href="Games.Monad.html#1757" class="Function">extáµ€</a> <a id="4345" href="Games.Monad.html#4139" class="Function">g</a> <a id="4347" href="Games.Monad.html#4122" class="Bound">t</a>             <a id="4361" href="MLTT.Id.html#2239" class="Function Operator">ï¼âŸ¨</a> <a id="4364" href="MLTT.Identity-Type.html#157" class="InductiveConstructor">refl</a> <a id="4369" href="MLTT.Id.html#2239" class="Function Operator">âŸ©</a>
       <a id="4378" href="Games.Monad.html#1757" class="Function">extáµ€</a> <a id="4383" class="Symbol">(</a><a id="4384" href="Games.Monad.html#4166" class="Function">f</a> <a id="4386" href="MLTT.Pi.html#513" class="Function Operator">âˆ˜</a> <a id="4388" href="Games.Monad.html#4222" class="Function">k</a><a id="4389" class="Symbol">)</a> <a id="4391" href="Games.Monad.html#4122" class="Bound">t</a>       <a id="4399" href="MLTT.Id.html#2239" class="Function Operator">ï¼âŸ¨</a> <a id="4402" href="MLTT.Id.html#1136" class="Function">ap</a> <a id="4405" class="Symbol">(Î»</a> <a id="4408" href="Games.Monad.html#4408" class="Bound">-</a> <a id="4410" class="Symbol">â†’</a> <a id="4412" href="Games.Monad.html#1757" class="Function">extáµ€</a> <a id="4417" class="Symbol">(</a><a id="4418" href="Games.Monad.html#4408" class="Bound">-</a> <a id="4420" href="MLTT.Pi.html#513" class="Function Operator">âˆ˜</a> <a id="4422" href="Games.Monad.html#4222" class="Function">k</a><a id="4423" class="Symbol">)</a> <a id="4425" href="Games.Monad.html#4122" class="Bound">t</a><a id="4426" class="Symbol">)</a> <a id="4428" class="Symbol">(</a><a id="4429" href="Games.Monad.html#4266" class="Function">I</a> <a id="4431" href="MLTT.Id.html#1055" class="Function Operator">â»Â¹</a><a id="4433" class="Symbol">)</a> <a id="4435" href="MLTT.Id.html#2239" class="Function Operator">âŸ©</a>
       <a id="4444" href="Games.Monad.html#1757" class="Function">extáµ€</a> <a id="4449" class="Symbol">(</a><a id="4450" href="Games.Monad.html#1757" class="Function">extáµ€</a> <a id="4455" href="Games.Monad.html#4195" class="Function">h</a> <a id="4457" href="MLTT.Pi.html#513" class="Function Operator">âˆ˜</a> <a id="4459" href="Games.Monad.html#4222" class="Function">k</a><a id="4460" class="Symbol">)</a> <a id="4462" href="Games.Monad.html#4122" class="Bound">t</a>  <a id="4465" href="MLTT.Id.html#2239" class="Function Operator">ï¼âŸ¨</a> <a id="4468" href="Games.Monad.html#1955" class="Function">assocáµ€</a> <a id="4475" href="Games.Monad.html#4195" class="Function">h</a> <a id="4477" href="Games.Monad.html#4222" class="Function">k</a> <a id="4479" href="Games.Monad.html#4122" class="Bound">t</a> <a id="4481" href="MLTT.Id.html#2239" class="Function Operator">âŸ©</a>
       <a id="4490" href="Games.Monad.html#1757" class="Function">extáµ€</a> <a id="4495" href="Games.Monad.html#4195" class="Function">h</a> <a id="4497" class="Symbol">(</a><a id="4498" href="Games.Monad.html#1757" class="Function">extáµ€</a> <a id="4503" href="Games.Monad.html#4222" class="Function">k</a> <a id="4505" href="Games.Monad.html#4122" class="Bound">t</a><a id="4506" class="Symbol">)</a>    <a id="4511" href="MLTT.Id.html#2239" class="Function Operator">ï¼âŸ¨</a> <a id="4514" href="MLTT.Id.html#1136" class="Function">ap</a> <a id="4517" class="Symbol">(Î»</a> <a id="4520" href="Games.Monad.html#4520" class="Bound">-</a> <a id="4522" class="Symbol">â†’</a> <a id="4524" href="Games.Monad.html#4520" class="Bound">-</a> <a id="4526" class="Symbol">(</a><a id="4527" href="Games.Monad.html#1757" class="Function">extáµ€</a> <a id="4532" href="Games.Monad.html#4222" class="Function">k</a> <a id="4534" href="Games.Monad.html#4122" class="Bound">t</a><a id="4535" class="Symbol">))</a> <a id="4538" href="Games.Monad.html#4266" class="Function">I</a> <a id="4540" href="MLTT.Id.html#2239" class="Function Operator">âŸ©</a>
       <a id="4549" href="Games.Monad.html#4166" class="Function">f</a> <a id="4551" class="Symbol">(</a><a id="4552" href="Games.Monad.html#1757" class="Function">extáµ€</a> <a id="4557" href="Games.Monad.html#4222" class="Function">k</a> <a id="4559" href="Games.Monad.html#4122" class="Bound">t</a><a id="4560" class="Symbol">)</a>         <a id="4570" href="MLTT.Id.html#2239" class="Function Operator">ï¼âŸ¨</a> <a id="4573" href="MLTT.Identity-Type.html#157" class="InductiveConstructor">refl</a> <a id="4578" href="MLTT.Id.html#2239" class="Function Operator">âŸ©</a>
       <a id="4587" href="Games.Monad.html#4120" class="Bound">u</a>                    <a id="4608" href="MLTT.Id.html#2321" class="Function Operator">âˆ</a>

 <a id="4612" href="Games.Monad.html#4612" class="Function">ext-const-gives-affine</a> <a id="4635" class="Symbol">:</a> <a id="4637" href="Games.Monad.html#3385" class="Function">ext-const</a> <a id="4647" class="Symbol">â†’</a> <a id="4649" href="Games.Monad.html#3215" class="Function">is-affine</a>
 <a id="4660" href="Games.Monad.html#4612" class="Function">ext-const-gives-affine</a> <a id="4683" href="Games.Monad.html#4683" class="Bound">Ï•</a> <a id="4685" class="Symbol">=</a> <a id="4687" href="Games.Monad.html#5000" class="Function">Î³</a>
  <a id="4691" class="Keyword">where</a>
   <a id="4700" href="Games.Monad.html#4700" class="Function">Î·â»Â¹</a> <a id="4704" class="Symbol">:</a> <a id="4706" href="Games.Monad.html#1686" class="Function">T</a> <a id="4708" href="MLTT.Unit.html#129" class="Record">ğŸ™</a> <a id="4710" class="Symbol">â†’</a> <a id="4712" href="MLTT.Unit.html#129" class="Record">ğŸ™</a>
   <a id="4717" href="Games.Monad.html#4700" class="Function">Î·â»Â¹</a> <a id="4721" href="Games.Monad.html#4721" class="Bound">t</a> <a id="4723" class="Symbol">=</a> <a id="4725" href="MLTT.Unit.html#162" class="InductiveConstructor">â‹†</a>

   <a id="4731" href="Games.Monad.html#4731" class="Function">I</a> <a id="4733" class="Symbol">:</a> <a id="4735" href="Games.Monad.html#4700" class="Function">Î·â»Â¹</a> <a id="4739" href="MLTT.Pi.html#513" class="Function Operator">âˆ˜</a> <a id="4741" href="Games.Monad.html#1719" class="Function">Î·áµ€</a> <a id="4744" href="MLTT.Id.html#1425" class="Function Operator">âˆ¼</a> <a id="4746" href="MLTT.Pi.html#444" class="Function">id</a>
   <a id="4752" href="Games.Monad.html#4731" class="Function">I</a> <a id="4754" href="MLTT.Unit.html#162" class="InductiveConstructor">â‹†</a> <a id="4756" class="Symbol">=</a> <a id="4758" href="MLTT.Identity-Type.html#157" class="InductiveConstructor">refl</a>

   <a id="4767" href="Games.Monad.html#4767" class="Function">II</a> <a id="4770" class="Symbol">:</a> <a id="4772" href="Games.Monad.html#1719" class="Function">Î·áµ€</a> <a id="4775" href="MLTT.Pi.html#513" class="Function Operator">âˆ˜</a> <a id="4777" href="Games.Monad.html#4700" class="Function">Î·â»Â¹</a> <a id="4781" href="MLTT.Id.html#1425" class="Function Operator">âˆ¼</a> <a id="4783" href="MLTT.Pi.html#444" class="Function">id</a>
   <a id="4789" href="Games.Monad.html#4767" class="Function">II</a> <a id="4792" href="Games.Monad.html#4792" class="Bound">t</a> <a id="4794" class="Symbol">=</a> <a id="4796" class="Symbol">(</a><a id="4797" href="Games.Monad.html#1719" class="Function">Î·áµ€</a> <a id="4800" href="MLTT.Pi.html#513" class="Function Operator">âˆ˜</a> <a id="4802" href="Games.Monad.html#4700" class="Function">Î·â»Â¹</a><a id="4805" class="Symbol">)</a> <a id="4807" href="Games.Monad.html#4792" class="Bound">t</a>        <a id="4816" href="MLTT.Id.html#2239" class="Function Operator">ï¼âŸ¨</a> <a id="4819" href="MLTT.Identity-Type.html#157" class="InductiveConstructor">refl</a> <a id="4824" href="MLTT.Id.html#2239" class="Function Operator">âŸ©</a>
          <a id="4836" href="Games.Monad.html#1719" class="Function">Î·áµ€</a> <a id="4839" href="MLTT.Unit.html#162" class="InductiveConstructor">â‹†</a>                <a id="4856" href="MLTT.Id.html#2239" class="Function Operator">ï¼âŸ¨</a> <a id="4859" class="Symbol">(</a><a id="4860" href="Games.Monad.html#4683" class="Bound">Ï•</a> <a id="4862" class="Symbol">{</a><a id="4863" href="MLTT.Unit.html#129" class="Record">ğŸ™</a><a id="4864" class="Symbol">}</a> <a id="4866" class="Symbol">(</a><a id="4867" href="Games.Monad.html#1719" class="Function">Î·áµ€</a> <a id="4870" href="MLTT.Unit.html#162" class="InductiveConstructor">â‹†</a><a id="4871" class="Symbol">)</a> <a id="4873" href="Games.Monad.html#4792" class="Bound">t</a><a id="4874" class="Symbol">)</a><a id="4875" href="MLTT.Id.html#1055" class="Function Operator">â»Â¹</a> <a id="4878" href="MLTT.Id.html#2239" class="Function Operator">âŸ©</a>
          <a id="4890" href="Games.Monad.html#1757" class="Function">extáµ€</a> <a id="4895" class="Symbol">(Î»</a> <a id="4898" href="Games.Monad.html#4898" class="Bound">x</a> <a id="4900" class="Symbol">â†’</a> <a id="4902" href="Games.Monad.html#1719" class="Function">Î·áµ€</a> <a id="4905" href="MLTT.Unit.html#162" class="InductiveConstructor">â‹†</a><a id="4906" class="Symbol">)</a> <a id="4908" href="Games.Monad.html#4792" class="Bound">t</a> <a id="4910" href="MLTT.Id.html#2239" class="Function Operator">ï¼âŸ¨</a> <a id="4913" href="MLTT.Identity-Type.html#157" class="InductiveConstructor">refl</a> <a id="4918" href="MLTT.Id.html#2239" class="Function Operator">âŸ©</a>
          <a id="4930" href="Games.Monad.html#1757" class="Function">extáµ€</a> <a id="4935" href="Games.Monad.html#1719" class="Function">Î·áµ€</a> <a id="4938" href="Games.Monad.html#4792" class="Bound">t</a>           <a id="4950" href="MLTT.Id.html#2239" class="Function Operator">ï¼âŸ¨</a> <a id="4953" href="Games.Monad.html#1817" class="Function">extáµ€-Î·</a> <a id="4960" href="Games.Monad.html#4792" class="Bound">t</a> <a id="4962" href="MLTT.Id.html#2239" class="Function Operator">âŸ©</a>
          <a id="4974" href="Games.Monad.html#4792" class="Bound">t</a>                   <a id="4994" href="MLTT.Id.html#2321" class="Function Operator">âˆ</a>

   <a id="5000" href="Games.Monad.html#5000" class="Function">Î³</a> <a id="5002" class="Symbol">:</a> <a id="5004" href="UF.Equiv.html#402" class="Function">is-equiv</a> <a id="5013" class="Symbol">(</a><a id="5014" href="Games.Monad.html#1719" class="Function">Î·áµ€</a> <a id="5017" class="Symbol">{</a><a id="5018" href="MLTT.Unit.html#129" class="Record">ğŸ™</a><a id="5019" class="Symbol">})</a>
   <a id="5025" href="Games.Monad.html#5000" class="Function">Î³</a> <a id="5027" class="Symbol">=</a> <a id="5029" href="UF.Equiv.html#7091" class="Function">qinvs-are-equivs</a> <a id="5046" href="Games.Monad.html#1719" class="Function">Î·áµ€</a> <a id="5049" class="Symbol">(</a><a id="5050" href="Games.Monad.html#4700" class="Function">Î·â»Â¹</a> <a id="5054" href="MLTT.Sigma.html#395" class="InductiveConstructor Operator">,</a> <a id="5056" href="Games.Monad.html#4731" class="Function">I</a> <a id="5058" href="MLTT.Sigma.html#395" class="InductiveConstructor Operator">,</a> <a id="5060" href="Games.Monad.html#4767" class="Function">II</a><a id="5062" class="Symbol">)</a>

<a id="5065" class="Markup">\end{code}</a><a id="5075" class="Background">

Monad algebras.

</a><a id="5094" class="Markup">\begin{code}</a>

<a id="5108" class="Keyword">record</a> <a id="Algebra"></a><a id="5115" href="Games.Monad.html#5115" class="Record">Algebra</a> <a id="5123" class="Symbol">(</a><a id="5124" href="Games.Monad.html#5124" class="Bound">ğ•‹</a> <a id="5126" class="Symbol">:</a> <a id="5128" href="Games.Monad.html#286" class="Record">Monad</a><a id="5133" class="Symbol">)</a> <a id="5135" class="Symbol">(</a><a id="5136" href="Games.Monad.html#5136" class="Bound">A</a> <a id="5138" class="Symbol">:</a> <a id="5140" href="Notation.General.html#372" class="Function">Type</a><a id="5144" class="Symbol">)</a> <a id="5146" class="Symbol">:</a> <a id="5148" href="Notation.General.html#384" class="Function">Typeâ‚</a> <a id="5154" class="Keyword">where</a>
 <a id="5161" class="Keyword">field</a>
  <a id="Algebra.structure-map"></a><a id="5169" href="Games.Monad.html#5169" class="Field">structure-map</a> <a id="5183" class="Symbol">:</a> <a id="5185" href="Games.Monad.html#336" class="Field">functor</a> <a id="5193" href="Games.Monad.html#5124" class="Bound">ğ•‹</a> <a id="5195" href="Games.Monad.html#5136" class="Bound">A</a> <a id="5197" class="Symbol">â†’</a> <a id="5199" href="Games.Monad.html#5136" class="Bound">A</a>
  <a id="Algebra.unit"></a><a id="5203" href="Games.Monad.html#5203" class="Field">unit</a>          <a id="5217" class="Symbol">:</a> <a id="5219" href="Games.Monad.html#5169" class="Field">structure-map</a> <a id="5233" href="MLTT.Pi.html#513" class="Function Operator">âˆ˜</a> <a id="5235" href="Games.Monad.html#360" class="Field">Î·</a> <a id="5237" href="Games.Monad.html#5124" class="Bound">ğ•‹</a> <a id="5239" href="MLTT.Id.html#1425" class="Function Operator">âˆ¼</a> <a id="5241" href="MLTT.Pi.html#444" class="Function">id</a>
  <a id="Algebra.assoc"></a><a id="5246" href="Games.Monad.html#5246" class="Field">assoc</a>         <a id="5260" class="Symbol">:</a> <a id="5262" href="Games.Monad.html#5169" class="Field">structure-map</a> <a id="5276" href="MLTT.Pi.html#513" class="Function Operator">âˆ˜</a> <a id="5278" href="Games.Monad.html#399" class="Field">ext</a> <a id="5282" href="Games.Monad.html#5124" class="Bound">ğ•‹</a> <a id="5284" class="Symbol">(</a><a id="5285" href="Games.Monad.html#360" class="Field">Î·</a> <a id="5287" href="Games.Monad.html#5124" class="Bound">ğ•‹</a> <a id="5289" href="MLTT.Pi.html#513" class="Function Operator">âˆ˜</a> <a id="5291" href="Games.Monad.html#5169" class="Field">structure-map</a><a id="5304" class="Symbol">)</a> <a id="5306" href="MLTT.Id.html#1425" class="Function Operator">âˆ¼</a> <a id="5308" href="Games.Monad.html#5169" class="Field">structure-map</a> <a id="5322" href="MLTT.Pi.html#513" class="Function Operator">âˆ˜</a> <a id="5324" href="Games.Monad.html#399" class="Field">ext</a> <a id="5328" href="Games.Monad.html#5124" class="Bound">ğ•‹</a> <a id="5330" href="MLTT.Pi.html#444" class="Function">id</a>

<a id="5334" class="Keyword">open</a> <a id="5339" href="Games.Monad.html#5115" class="Module">Algebra</a> <a id="5347" class="Keyword">public</a>

<a id="5355" class="Markup">\end{code}</a><a id="5365" class="Background">

If we want to call an algebra (literally) Î±, we can used this module:

</a><a id="5438" class="Markup">\begin{code}</a>

<a id="5452" class="Keyword">module</a> <a id="Î±-definitions"></a><a id="5459" href="Games.Monad.html#5459" class="Module">Î±-definitions</a>
        <a id="5481" class="Symbol">(</a><a id="5482" href="Games.Monad.html#5482" class="Bound">ğ•‹</a> <a id="5484" class="Symbol">:</a> <a id="5486" href="Games.Monad.html#286" class="Record">Monad</a><a id="5491" class="Symbol">)</a>
        <a id="5501" class="Symbol">(</a><a id="5502" href="Games.Monad.html#5502" class="Bound">R</a> <a id="5504" class="Symbol">:</a> <a id="5506" href="Notation.General.html#372" class="Function">Type</a><a id="5510" class="Symbol">)</a>
        <a id="5520" class="Symbol">(</a><a id="5521" href="Games.Monad.html#5521" class="Bound">ğ“</a> <a id="5523" class="Symbol">:</a> <a id="5525" href="Games.Monad.html#5115" class="Record">Algebra</a> <a id="5533" href="Games.Monad.html#5482" class="Bound">ğ•‹</a> <a id="5535" href="Games.Monad.html#5502" class="Bound">R</a><a id="5536" class="Symbol">)</a>
       <a id="5545" class="Keyword">where</a>

 <a id="5553" class="Keyword">open</a> <a id="5558" href="Games.Monad.html#1652" class="Module">T-definitions</a> <a id="5572" href="Games.Monad.html#5482" class="Bound">ğ•‹</a>

 <a id="Î±-definitions.Î±"></a><a id="5576" href="Games.Monad.html#5576" class="Function">Î±</a> <a id="5578" class="Symbol">:</a> <a id="5580" href="Games.Monad.html#1686" class="Function">T</a> <a id="5582" href="Games.Monad.html#5502" class="Bound">R</a> <a id="5584" class="Symbol">â†’</a> <a id="5586" href="Games.Monad.html#5502" class="Bound">R</a>
 <a id="5589" href="Games.Monad.html#5576" class="Function">Î±</a> <a id="5591" class="Symbol">=</a> <a id="5593" href="Games.Monad.html#5169" class="Field">structure-map</a> <a id="5607" href="Games.Monad.html#5521" class="Bound">ğ“</a>

 <a id="Î±-definitions.Î±-unitáµ€"></a><a id="5611" href="Games.Monad.html#5611" class="Function">Î±-unitáµ€</a> <a id="5619" class="Symbol">:</a> <a id="5621" href="Games.Monad.html#5576" class="Function">Î±</a> <a id="5623" href="MLTT.Pi.html#513" class="Function Operator">âˆ˜</a> <a id="5625" href="Games.Monad.html#1719" class="Function">Î·áµ€</a> <a id="5628" href="MLTT.Id.html#1425" class="Function Operator">âˆ¼</a> <a id="5630" href="MLTT.Pi.html#444" class="Function">id</a>
 <a id="5634" href="Games.Monad.html#5611" class="Function">Î±-unitáµ€</a> <a id="5642" class="Symbol">=</a> <a id="5644" href="Games.Monad.html#5203" class="Field">unit</a> <a id="5649" href="Games.Monad.html#5521" class="Bound">ğ“</a>

 <a id="Î±-definitions.Î±-assocáµ€"></a><a id="5653" href="Games.Monad.html#5653" class="Function">Î±-assocáµ€</a> <a id="5662" class="Symbol">:</a> <a id="5664" href="Games.Monad.html#5576" class="Function">Î±</a> <a id="5666" href="MLTT.Pi.html#513" class="Function Operator">âˆ˜</a> <a id="5668" href="Games.Monad.html#1757" class="Function">extáµ€</a> <a id="5673" class="Symbol">(</a><a id="5674" href="Games.Monad.html#1719" class="Function">Î·áµ€</a> <a id="5677" href="MLTT.Pi.html#513" class="Function Operator">âˆ˜</a> <a id="5679" href="Games.Monad.html#5576" class="Function">Î±</a><a id="5680" class="Symbol">)</a> <a id="5682" href="MLTT.Id.html#1425" class="Function Operator">âˆ¼</a> <a id="5684" href="Games.Monad.html#5576" class="Function">Î±</a> <a id="5686" href="MLTT.Pi.html#513" class="Function Operator">âˆ˜</a> <a id="5688" href="Games.Monad.html#1757" class="Function">extáµ€</a> <a id="5693" href="MLTT.Pi.html#444" class="Function">id</a>
 <a id="5697" href="Games.Monad.html#5653" class="Function">Î±-assocáµ€</a> <a id="5706" class="Symbol">=</a> <a id="5708" href="Games.Monad.html#5246" class="Field">assoc</a> <a id="5714" href="Games.Monad.html#5521" class="Bound">ğ“</a>

 <a id="Î±-definitions.Î±-extáµ€"></a><a id="5718" href="Games.Monad.html#5718" class="Function">Î±-extáµ€</a> <a id="5725" class="Symbol">:</a> <a id="5727" class="Symbol">{</a><a id="5728" href="Games.Monad.html#5728" class="Bound">A</a> <a id="5730" class="Symbol">:</a> <a id="5732" href="Notation.General.html#372" class="Function">Type</a><a id="5736" class="Symbol">}</a> <a id="5738" class="Symbol">â†’</a> <a id="5740" class="Symbol">(</a><a id="5741" href="Games.Monad.html#5728" class="Bound">A</a> <a id="5743" class="Symbol">â†’</a> <a id="5745" href="Games.Monad.html#5502" class="Bound">R</a><a id="5746" class="Symbol">)</a> <a id="5748" class="Symbol">â†’</a> <a id="5750" href="Games.Monad.html#1686" class="Function">T</a> <a id="5752" href="Games.Monad.html#5728" class="Bound">A</a> <a id="5754" class="Symbol">â†’</a> <a id="5756" href="Games.Monad.html#5502" class="Bound">R</a>
 <a id="5759" href="Games.Monad.html#5718" class="Function">Î±-extáµ€</a> <a id="5766" href="Games.Monad.html#5766" class="Bound">q</a> <a id="5768" class="Symbol">=</a> <a id="5770" href="Games.Monad.html#5576" class="Function">Î±</a> <a id="5772" href="MLTT.Pi.html#513" class="Function Operator">âˆ˜</a> <a id="5774" href="Games.Monad.html#2073" class="Function">mapáµ€</a> <a id="5779" href="Games.Monad.html#5766" class="Bound">q</a>

 <a id="Î±-definitions.Î±-curryáµ€"></a><a id="5783" href="Games.Monad.html#5783" class="Function">Î±-curryáµ€</a> <a id="5792" class="Symbol">:</a> <a id="5794" class="Symbol">{</a><a id="5795" href="Games.Monad.html#5795" class="Bound">X</a> <a id="5797" class="Symbol">:</a> <a id="5799" href="Notation.General.html#372" class="Function">Type</a><a id="5803" class="Symbol">}</a> <a id="5805" class="Symbol">{</a><a id="5806" href="Games.Monad.html#5806" class="Bound">Y</a> <a id="5808" class="Symbol">:</a> <a id="5810" href="Games.Monad.html#5795" class="Bound">X</a> <a id="5812" class="Symbol">â†’</a> <a id="5814" href="Notation.General.html#372" class="Function">Type</a><a id="5818" class="Symbol">}</a>
          <a id="5830" class="Symbol">â†’</a> <a id="5832" class="Symbol">((</a><a id="5834" href="MLTT.Sigma.html#423" class="Function">Î£</a> <a id="5836" href="Games.Monad.html#5836" class="Bound">x</a> <a id="5838" href="MLTT.Sigma.html#423" class="Function">ê‰</a> <a id="5840" href="Games.Monad.html#5795" class="Bound">X</a> <a id="5842" href="MLTT.Sigma.html#423" class="Function">,</a> <a id="5844" href="Games.Monad.html#5806" class="Bound">Y</a> <a id="5846" href="Games.Monad.html#5836" class="Bound">x</a><a id="5847" class="Symbol">)</a> <a id="5849" class="Symbol">â†’</a> <a id="5851" href="Games.Monad.html#5502" class="Bound">R</a><a id="5852" class="Symbol">)</a>
          <a id="5864" class="Symbol">â†’</a> <a id="5866" class="Symbol">(</a><a id="5867" href="Games.Monad.html#5867" class="Bound">x</a> <a id="5869" class="Symbol">:</a> <a id="5871" href="Games.Monad.html#5795" class="Bound">X</a><a id="5872" class="Symbol">)</a> <a id="5874" class="Symbol">â†’</a> <a id="5876" href="Games.Monad.html#1686" class="Function">T</a> <a id="5878" class="Symbol">(</a><a id="5879" href="Games.Monad.html#5806" class="Bound">Y</a> <a id="5881" href="Games.Monad.html#5867" class="Bound">x</a><a id="5882" class="Symbol">)</a> <a id="5884" class="Symbol">â†’</a> <a id="5886" href="Games.Monad.html#5502" class="Bound">R</a>
 <a id="5889" href="Games.Monad.html#5783" class="Function">Î±-curryáµ€</a> <a id="5898" href="Games.Monad.html#5898" class="Bound">q</a> <a id="5900" href="Games.Monad.html#5900" class="Bound">x</a> <a id="5902" class="Symbol">=</a> <a id="5904" href="Games.Monad.html#5718" class="Function">Î±-extáµ€</a> <a id="5911" class="Symbol">(</a><a id="5912" href="MLTT.Sigma.html#719" class="Function">curry</a> <a id="5918" href="Games.Monad.html#5898" class="Bound">q</a> <a id="5920" href="Games.Monad.html#5900" class="Bound">x</a><a id="5921" class="Symbol">)</a>

<a id="5924" class="Markup">\end{code}</a><a id="5934" class="Background">

TODO. Define monad morphism (for example overline is a monad morphism
from J to K).
</a></pre></body></html>