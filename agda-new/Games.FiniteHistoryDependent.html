<!DOCTYPE HTML>
<html><head><meta charset="utf-8"><title>Games.FiniteHistoryDependent</title><link rel="stylesheet" href="Agda.css"><script type="text/javascript" src="highlight-hover.js"></script></head><body><pre class="Agda"><a id="1" class="Background">Martin Escardo, Paulo Oliva, 2-27 July 2021

The following paper is based on this file:

  [0] Martin Escardo and Paulo Oliva. Higher-order games with
      dependent types.  Theoretical Computer Science, Volume 974, 29
      September 2023, 114111.
      https://doi.org/10.48550/arXiv.2212.07735
      https://doi.org/10.1016/j.tcs.2023.114111

We study finite, history dependent games of perfect information using
selection functions and dependent-type trees.

This is based on our previous work.

  [1] M.H. Escardó and Paulo Oliva. Sequential Games and Optimal
      Strategies. Proceedings of the Royal Society A, 467:1519-1545,
      2011. https://doi.org/10.1098/rspa.2010.0471

We generalize [1] by considering the case that the type Xₖ of moves xₖ
at round k depends on the moves played at the previous rounds. So in a
sequence of moves x₀,x₁,x₂,…, we have that

  * the type X₀ of initial moves doesn&#39;t depend on anything,
  * the type X₁ depends on the first move x₀ : X₀,
  * the type X₂ depends on the first move x₀ : X₀ and the
    second move x₁ : X₁.
  …

In order to achieve this generalization, we work with game trees
whose nodes are labelled by types that collect the allowed moves at a
given round. Then a play x₀,x₁,x₂,…, is a path in such a tree.

This formulation of the notion of game naturally accounts for finite
games of *unbounded* length, which in [1] was achieved by continuous,
infinite games instead.

We assume a given type R of outcomes for games as a module parameter.

</a><a id="1508" class="Markup">\begin{code}</a>

<a id="1522" class="Symbol">{-#</a> <a id="1526" class="Keyword">OPTIONS</a> <a id="1534" class="Pragma">--safe</a> <a id="1541" class="Pragma">--without-K</a> <a id="1553" class="Symbol">#-}</a> <a id="1557" class="Comment">--</a>

<a id="1561" class="Keyword">open</a> <a id="1566" class="Keyword">import</a> <a id="1573" href="MLTT.Spartan.html" class="Module">MLTT.Spartan</a> <a id="1586" class="Keyword">hiding</a> <a id="1593" class="Symbol">(</a><a id="1594" href="MLTT.Id.html#438" class="Function">J</a><a id="1595" class="Symbol">)</a>

<a id="1598" class="Keyword">module</a> <a id="1605" href="Games.FiniteHistoryDependent.html" class="Module">Games.FiniteHistoryDependent</a> <a id="1634" class="Symbol">(</a><a id="1635" href="Games.FiniteHistoryDependent.html#1635" class="Bound">R</a> <a id="1637" class="Symbol">:</a> <a id="1639" href="Notation.General.html#372" class="Function">Type</a><a id="1643" class="Symbol">)</a> <a id="1645" class="Keyword">where</a>

<a id="1652" class="Keyword">open</a> <a id="1657" class="Keyword">import</a> <a id="1664" href="MonadOnTypes.Monad.html" class="Module">MonadOnTypes.Monad</a>
<a id="1683" class="Keyword">open</a> <a id="1688" class="Keyword">import</a> <a id="1695" href="MonadOnTypes.J.html" class="Module">MonadOnTypes.J</a>
<a id="1710" class="Keyword">open</a> <a id="1715" class="Keyword">import</a> <a id="1722" href="MonadOnTypes.K.html" class="Module">MonadOnTypes.K</a>
<a id="1737" class="Keyword">open</a> <a id="1742" class="Keyword">import</a> <a id="1749" href="MonadOnTypes.JK.html" class="Module">MonadOnTypes.JK</a>
<a id="1765" class="Keyword">open</a> <a id="1770" class="Keyword">import</a> <a id="1777" href="UF.Base.html" class="Module">UF.Base</a>
<a id="1785" class="Keyword">open</a> <a id="1790" class="Keyword">import</a> <a id="1797" href="UF.FunExt.html" class="Module">UF.FunExt</a>

<a id="1808" class="Keyword">open</a> <a id="1813" href="MonadOnTypes.K.html#438" class="Module">K-definitions</a> <a id="1827" href="Games.FiniteHistoryDependent.html#1635" class="Bound">R</a>
<a id="1829" class="Keyword">open</a> <a id="1834" href="MonadOnTypes.J.html#428" class="Module">J-definitions</a> <a id="1848" href="Games.FiniteHistoryDependent.html#1635" class="Bound">R</a>

<a id="1851" class="Markup">\end{code}</a><a id="1861" class="Background">

The following module defines the main data structure we use in order
to represent the above kind of game:

</a><a id="1970" class="Markup">\begin{code}</a>

<a id="1984" class="Keyword">open</a> <a id="1989" class="Keyword">import</a> <a id="1996" href="Games.TypeTrees.html" class="Module">Games.TypeTrees</a>

<a id="2013" class="Markup">\end{code}</a><a id="2023" class="Background">

We use quantifiers as in Section 1 of reference [1], defined in
another module.

In the same way as the type of moves at a given stage of the game
depends on the previously played moves, so do the quantifiers and
selection functions.

𝓚 decorates each internal node X of a type tree with the type K X of
quantifiers over X.

</a><a id="2350" class="Markup">\begin{code}</a>

<a id="𝓚"></a><a id="2364" href="Games.FiniteHistoryDependent.html#2364" class="Function">𝓚</a> <a id="2366" class="Symbol">:</a> <a id="2368" href="Games.TypeTrees.html#742" class="Datatype">𝑻</a> <a id="2370" class="Symbol">→</a> <a id="2372" href="Notation.General.html#372" class="Function">Type</a>
<a id="2377" href="Games.FiniteHistoryDependent.html#2364" class="Function">𝓚</a> <a id="2379" class="Symbol">=</a> <a id="2381" href="Games.TypeTrees.html#2143" class="Function">structure</a> <a id="2391" href="MonadOnTypes.K.html#471" class="Function">K</a>

<a id="remark-𝓚"></a><a id="2394" href="Games.FiniteHistoryDependent.html#2394" class="Function">remark-𝓚</a> <a id="2403" class="Symbol">:</a> <a id="2405" class="Symbol">{</a><a id="2406" href="Games.FiniteHistoryDependent.html#2406" class="Bound">X</a> <a id="2408" class="Symbol">:</a> <a id="2410" href="Notation.General.html#372" class="Function">Type</a><a id="2414" class="Symbol">}</a> <a id="2416" class="Symbol">{</a><a id="2417" href="Games.FiniteHistoryDependent.html#2417" class="Bound">Xf</a> <a id="2420" class="Symbol">:</a> <a id="2422" href="Games.FiniteHistoryDependent.html#2406" class="Bound">X</a> <a id="2424" class="Symbol">→</a> <a id="2426" href="Games.TypeTrees.html#742" class="Datatype">𝑻</a><a id="2427" class="Symbol">}</a>
         <a id="2438" class="Symbol">→</a> <a id="2440" class="Symbol">(</a><a id="2441" href="Games.FiniteHistoryDependent.html#2364" class="Function">𝓚</a> <a id="2443" class="InductiveConstructor">[]</a>       <a id="2452" href="MLTT.Id.html#193" class="Datatype Operator">＝</a> <a id="2454" href="MLTT.Unit.html#129" class="Record">𝟙</a><a id="2455" class="Symbol">)</a>
         <a id="2466" href="MLTT.Sigma.html#558" class="Function Operator">×</a> <a id="2468" class="Symbol">(</a><a id="2469" href="Games.FiniteHistoryDependent.html#2364" class="Function">𝓚</a> <a id="2471" class="Symbol">(</a><a id="2472" href="Games.FiniteHistoryDependent.html#2406" class="Bound">X</a> <a id="2474" class="InductiveConstructor Operator">∷</a> <a id="2476" href="Games.FiniteHistoryDependent.html#2417" class="Bound">Xf</a><a id="2478" class="Symbol">)</a> <a id="2480" href="MLTT.Id.html#193" class="Datatype Operator">＝</a> <a id="2482" href="MonadOnTypes.K.html#471" class="Function">K</a> <a id="2484" href="Games.FiniteHistoryDependent.html#2406" class="Bound">X</a> <a id="2486" href="MLTT.Sigma.html#558" class="Function Operator">×</a> <a id="2488" class="Symbol">((</a><a id="2490" href="Games.FiniteHistoryDependent.html#2490" class="Bound">x</a> <a id="2492" class="Symbol">:</a> <a id="2494" href="Games.FiniteHistoryDependent.html#2406" class="Bound">X</a><a id="2495" class="Symbol">)</a> <a id="2497" class="Symbol">→</a> <a id="2499" href="Games.FiniteHistoryDependent.html#2364" class="Function">𝓚</a> <a id="2501" class="Symbol">(</a><a id="2502" href="Games.FiniteHistoryDependent.html#2417" class="Bound">Xf</a> <a id="2505" href="Games.FiniteHistoryDependent.html#2490" class="Bound">x</a><a id="2506" class="Symbol">)))</a>
<a id="2510" href="Games.FiniteHistoryDependent.html#2394" class="Function">remark-𝓚</a> <a id="2519" class="Symbol">=</a> <a id="2521" href="MLTT.Identity-Type.html#157" class="InductiveConstructor">refl</a> <a id="2526" href="MLTT.Sigma.html#395" class="InductiveConstructor Operator">,</a> <a id="2528" href="MLTT.Identity-Type.html#157" class="InductiveConstructor">refl</a>

<a id="2534" class="Markup">\end{code}</a><a id="2544" class="Background">

 * ϕ  ranges over the type K X of quantifiers.
 * ϕt ranges over the type 𝓚 Xt of quantifier trees.
 * ϕf ranges over the type (x : X) → 𝓚 (Xf x) of quantifier forests.


Sequencing quantifiers, as constructed in Definition 2 of reference [1],
but using our tree representation of games instead:

</a><a id="2843" class="Markup">\begin{code}</a>

<a id="sequenceᴷ"></a><a id="2857" href="Games.FiniteHistoryDependent.html#2857" class="Function">sequenceᴷ</a> <a id="2867" class="Symbol">:</a> <a id="2869" class="Symbol">{</a><a id="2870" href="Games.FiniteHistoryDependent.html#2870" class="Bound">Xt</a> <a id="2873" class="Symbol">:</a> <a id="2875" href="Games.TypeTrees.html#742" class="Datatype">𝑻</a><a id="2876" class="Symbol">}</a> <a id="2878" class="Symbol">→</a> <a id="2880" href="Games.FiniteHistoryDependent.html#2364" class="Function">𝓚</a> <a id="2882" href="Games.FiniteHistoryDependent.html#2870" class="Bound">Xt</a> <a id="2885" class="Symbol">→</a> <a id="2887" href="MonadOnTypes.K.html#471" class="Function">K</a> <a id="2889" class="Symbol">(</a><a id="2890" href="Games.TypeTrees.html#929" class="Function">Path</a> <a id="2895" href="Games.FiniteHistoryDependent.html#2870" class="Bound">Xt</a><a id="2897" class="Symbol">)</a>
<a id="2899" href="Games.FiniteHistoryDependent.html#2857" class="Function">sequenceᴷ</a> <a id="2909" class="Symbol">=</a> <a id="2911" href="Games.TypeTrees.html#3812" class="Function">path-sequence</a> <a id="2925" class="Symbol">(</a><a id="2926" href="MonadOnTypes.K.html#184" class="Function">𝕂</a> <a id="2928" href="Games.FiniteHistoryDependent.html#1635" class="Bound">R</a><a id="2929" class="Symbol">)</a>

<a id="2932" class="Markup">\end{code}</a><a id="2942" class="Background">

The following is Definition 3 of the above reference [1].

A game is defined by a game tree Xt, a type R of outcomes, a
quantifier tree ϕt and an outcome function q:

</a><a id="3111" class="Markup">\begin{code}</a>

<a id="3125" class="Keyword">record</a> <a id="Game"></a><a id="3132" href="Games.FiniteHistoryDependent.html#3132" class="Record">Game</a> <a id="3137" class="Symbol">:</a> <a id="3139" href="Notation.General.html#384" class="Function">Type₁</a> <a id="3145" class="Keyword">where</a>
 <a id="3152" class="Keyword">constructor</a> <a id="game"></a><a id="3164" href="Games.FiniteHistoryDependent.html#3164" class="InductiveConstructor">game</a>
 <a id="3170" class="Keyword">field</a>
  <a id="Game.game-tree"></a><a id="3178" href="Games.FiniteHistoryDependent.html#3178" class="Field">game-tree</a> <a id="3188" class="Symbol">:</a> <a id="3190" href="Games.TypeTrees.html#742" class="Datatype">𝑻</a>
  <a id="Game.payoff-function"></a><a id="3194" href="Games.FiniteHistoryDependent.html#3194" class="Field">payoff-function</a>  <a id="3211" class="Symbol">:</a> <a id="3213" href="Games.TypeTrees.html#929" class="Function">Path</a> <a id="3218" href="Games.FiniteHistoryDependent.html#3178" class="Field">game-tree</a> <a id="3228" class="Symbol">→</a> <a id="3230" href="Games.FiniteHistoryDependent.html#1635" class="Bound">R</a>
  <a id="Game.quantifier-tree"></a><a id="3234" href="Games.FiniteHistoryDependent.html#3234" class="Field">quantifier-tree</a> <a id="3250" class="Symbol">:</a> <a id="3252" href="Games.FiniteHistoryDependent.html#2364" class="Function">𝓚</a> <a id="3254" href="Games.FiniteHistoryDependent.html#3178" class="Field">game-tree</a>

<a id="3265" class="Keyword">open</a> <a id="3270" href="Games.FiniteHistoryDependent.html#3132" class="Module">Game</a> <a id="3275" class="Keyword">public</a>

<a id="3283" class="Markup">\end{code}</a><a id="3293" class="Background">

We can think of Xt as the rules of the game, and R, ϕt and q as the
objective of the game.

We define the optimal outcome of a game to be the sequencing of its
quantifiers applied to the outcome function (Theorem 3.1 of [1]).

</a><a id="3522" class="Markup">\begin{code}</a>

<a id="optimal-outcome"></a><a id="3536" href="Games.FiniteHistoryDependent.html#3536" class="Function">optimal-outcome</a> <a id="3552" class="Symbol">:</a> <a id="3554" href="Games.FiniteHistoryDependent.html#3132" class="Record">Game</a> <a id="3559" class="Symbol">→</a> <a id="3561" href="Games.FiniteHistoryDependent.html#1635" class="Bound">R</a>
<a id="3563" href="Games.FiniteHistoryDependent.html#3536" class="Function">optimal-outcome</a> <a id="3579" class="Symbol">(</a><a id="3580" href="Games.FiniteHistoryDependent.html#3164" class="InductiveConstructor">game</a> <a id="3585" href="Games.FiniteHistoryDependent.html#3585" class="Bound">Xt</a> <a id="3588" href="Games.FiniteHistoryDependent.html#3588" class="Bound">q</a> <a id="3590" href="Games.FiniteHistoryDependent.html#3590" class="Bound">ϕt</a><a id="3592" class="Symbol">)</a> <a id="3594" class="Symbol">=</a> <a id="3596" href="Games.FiniteHistoryDependent.html#2857" class="Function">sequenceᴷ</a> <a id="3606" class="Symbol">{</a><a id="3607" href="Games.FiniteHistoryDependent.html#3585" class="Bound">Xt</a><a id="3609" class="Symbol">}</a> <a id="3611" href="Games.FiniteHistoryDependent.html#3590" class="Bound">ϕt</a> <a id="3614" href="Games.FiniteHistoryDependent.html#3588" class="Bound">q</a>

<a id="3617" class="Markup">\end{code}</a><a id="3627" class="Background">

A strategy assigns a move to each mode of a tree. This corresponds to
Definition 4 of [1]:

</a><a id="3721" class="Markup">\begin{code}</a>

<a id="Strategy"></a><a id="3735" href="Games.FiniteHistoryDependent.html#3735" class="Function">Strategy</a> <a id="3744" class="Symbol">:</a> <a id="3746" href="Games.TypeTrees.html#742" class="Datatype">𝑻</a> <a id="3748" class="Symbol">→</a> <a id="3750" href="Notation.General.html#372" class="Function">Type</a>
<a id="3755" href="Games.FiniteHistoryDependent.html#3735" class="Function">Strategy</a> <a id="3764" class="Symbol">=</a> <a id="3766" href="Games.TypeTrees.html#2143" class="Function">structure</a> <a id="3776" href="MLTT.Pi.html#444" class="Function">id</a>

<a id="remark-Strategy"></a><a id="3780" href="Games.FiniteHistoryDependent.html#3780" class="Function">remark-Strategy</a> <a id="3796" class="Symbol">:</a> <a id="3798" class="Symbol">{</a><a id="3799" href="Games.FiniteHistoryDependent.html#3799" class="Bound">X</a> <a id="3801" class="Symbol">:</a> <a id="3803" href="Notation.General.html#372" class="Function">Type</a><a id="3807" class="Symbol">}</a> <a id="3809" class="Symbol">{</a><a id="3810" href="Games.FiniteHistoryDependent.html#3810" class="Bound">Xf</a> <a id="3813" class="Symbol">:</a> <a id="3815" href="Games.FiniteHistoryDependent.html#3799" class="Bound">X</a> <a id="3817" class="Symbol">→</a> <a id="3819" href="Games.TypeTrees.html#742" class="Datatype">𝑻</a><a id="3820" class="Symbol">}</a>
                <a id="3838" class="Symbol">→</a> <a id="3840" class="Symbol">(</a><a id="3841" href="Games.FiniteHistoryDependent.html#3735" class="Function">Strategy</a> <a id="3850" class="InductiveConstructor">[]</a>       <a id="3859" href="MLTT.Id.html#193" class="Datatype Operator">＝</a> <a id="3861" href="MLTT.Unit.html#129" class="Record">𝟙</a><a id="3862" class="Symbol">)</a>
                <a id="3880" href="MLTT.Sigma.html#558" class="Function Operator">×</a> <a id="3882" class="Symbol">(</a><a id="3883" href="Games.FiniteHistoryDependent.html#3735" class="Function">Strategy</a> <a id="3892" class="Symbol">(</a><a id="3893" href="Games.FiniteHistoryDependent.html#3799" class="Bound">X</a> <a id="3895" class="InductiveConstructor Operator">∷</a> <a id="3897" href="Games.FiniteHistoryDependent.html#3810" class="Bound">Xf</a><a id="3899" class="Symbol">)</a> <a id="3901" href="MLTT.Id.html#193" class="Datatype Operator">＝</a> <a id="3903" href="Games.FiniteHistoryDependent.html#3799" class="Bound">X</a> <a id="3905" href="MLTT.Sigma.html#558" class="Function Operator">×</a> <a id="3907" class="Symbol">((</a><a id="3909" href="Games.FiniteHistoryDependent.html#3909" class="Bound">x</a> <a id="3911" class="Symbol">:</a> <a id="3913" href="Games.FiniteHistoryDependent.html#3799" class="Bound">X</a><a id="3914" class="Symbol">)</a> <a id="3916" class="Symbol">→</a> <a id="3918" href="Games.FiniteHistoryDependent.html#3735" class="Function">Strategy</a> <a id="3927" class="Symbol">(</a><a id="3928" href="Games.FiniteHistoryDependent.html#3810" class="Bound">Xf</a> <a id="3931" href="Games.FiniteHistoryDependent.html#3909" class="Bound">x</a><a id="3932" class="Symbol">)))</a>
<a id="3936" href="Games.FiniteHistoryDependent.html#3780" class="Function">remark-Strategy</a> <a id="3952" class="Symbol">=</a> <a id="3954" href="MLTT.Identity-Type.html#157" class="InductiveConstructor">refl</a> <a id="3959" href="MLTT.Sigma.html#395" class="InductiveConstructor Operator">,</a> <a id="3961" href="MLTT.Identity-Type.html#157" class="InductiveConstructor">refl</a>

<a id="3967" class="Markup">\end{code}</a><a id="3977" class="Background">

 * σ ranges over the type Strategy Xt of strategies for a
   dependent-type tree Xt.

 * σf ranges over the type (x : X) → Strategy (Xf x) of strategy
   forests for a dependent-type forest Xf.

We get a path in the tree by following any given strategy:

</a><a id="4234" class="Markup">\begin{code}</a>

<a id="strategic-path"></a><a id="4248" href="Games.FiniteHistoryDependent.html#4248" class="Function">strategic-path</a> <a id="4263" class="Symbol">:</a> <a id="4265" class="Symbol">{</a><a id="4266" href="Games.FiniteHistoryDependent.html#4266" class="Bound">Xt</a> <a id="4269" class="Symbol">:</a> <a id="4271" href="Games.TypeTrees.html#742" class="Datatype">𝑻</a><a id="4272" class="Symbol">}</a> <a id="4274" class="Symbol">→</a> <a id="4276" href="Games.FiniteHistoryDependent.html#3735" class="Function">Strategy</a> <a id="4285" href="Games.FiniteHistoryDependent.html#4266" class="Bound">Xt</a> <a id="4288" class="Symbol">→</a> <a id="4290" href="Games.TypeTrees.html#929" class="Function">Path</a> <a id="4295" href="Games.FiniteHistoryDependent.html#4266" class="Bound">Xt</a>
<a id="4298" href="Games.FiniteHistoryDependent.html#4248" class="Function">strategic-path</a> <a id="4313" class="Symbol">=</a> <a id="4315" href="Games.TypeTrees.html#3812" class="Function">path-sequence</a> <a id="4329" href="MonadOnTypes.Monad.html#4628" class="Function">𝕀𝕕</a>

<a id="remark-strategic-path"></a><a id="4333" href="Games.FiniteHistoryDependent.html#4333" class="Function">remark-strategic-path</a> <a id="4355" class="Symbol">:</a> <a id="4357" class="Symbol">{</a><a id="4358" href="Games.FiniteHistoryDependent.html#4358" class="Bound">X</a> <a id="4360" class="Symbol">:</a> <a id="4362" href="Notation.General.html#372" class="Function">Type</a><a id="4366" class="Symbol">}</a> <a id="4368" class="Symbol">{</a><a id="4369" href="Games.FiniteHistoryDependent.html#4369" class="Bound">Xf</a> <a id="4372" class="Symbol">:</a> <a id="4374" href="Games.FiniteHistoryDependent.html#4358" class="Bound">X</a> <a id="4376" class="Symbol">→</a> <a id="4378" href="Games.TypeTrees.html#742" class="Datatype">𝑻</a><a id="4379" class="Symbol">}</a> <a id="4381" class="Symbol">{</a><a id="4382" href="Games.FiniteHistoryDependent.html#4382" class="Bound">x</a> <a id="4384" class="Symbol">:</a> <a id="4386" href="Games.FiniteHistoryDependent.html#4358" class="Bound">X</a><a id="4387" class="Symbol">}</a>
                        <a id="4413" class="Symbol">{</a><a id="4414" href="Games.FiniteHistoryDependent.html#4414" class="Bound">σf</a> <a id="4417" class="Symbol">:</a> <a id="4419" class="Symbol">(</a><a id="4420" href="Games.FiniteHistoryDependent.html#4420" class="Bound">x</a> <a id="4422" class="Symbol">:</a> <a id="4424" href="Games.FiniteHistoryDependent.html#4358" class="Bound">X</a><a id="4425" class="Symbol">)</a> <a id="4427" class="Symbol">→</a> <a id="4429" href="Games.FiniteHistoryDependent.html#3735" class="Function">Strategy</a> <a id="4438" class="Symbol">(</a><a id="4439" href="Games.FiniteHistoryDependent.html#4369" class="Bound">Xf</a> <a id="4442" href="Games.FiniteHistoryDependent.html#4420" class="Bound">x</a><a id="4443" class="Symbol">)}</a>
                      <a id="4468" class="Symbol">→</a> <a id="4470" class="Symbol">(</a><a id="4471" href="Games.FiniteHistoryDependent.html#4248" class="Function">strategic-path</a> <a id="4486" class="Symbol">{</a><a id="4487" class="InductiveConstructor">[]</a><a id="4489" class="Symbol">}</a>     <a id="4495" href="Games.TypeTrees.html#1297" class="InductiveConstructor">⟨⟩</a>        <a id="4505" href="MLTT.Id.html#193" class="Datatype Operator">＝</a> <a id="4507" href="Games.TypeTrees.html#1297" class="InductiveConstructor">⟨⟩</a><a id="4509" class="Symbol">)</a>
                      <a id="4533" href="MLTT.Sigma.html#558" class="Function Operator">×</a> <a id="4535" class="Symbol">(</a><a id="4536" href="Games.FiniteHistoryDependent.html#4248" class="Function">strategic-path</a> <a id="4551" class="Symbol">{</a><a id="4552" href="Games.FiniteHistoryDependent.html#4358" class="Bound">X</a> <a id="4554" class="InductiveConstructor Operator">∷</a> <a id="4556" href="Games.FiniteHistoryDependent.html#4369" class="Bound">Xf</a><a id="4558" class="Symbol">}</a> <a id="4560" class="Symbol">(</a><a id="4561" href="Games.FiniteHistoryDependent.html#4382" class="Bound">x</a> <a id="4563" href="Games.TypeTrees.html#1319" class="InductiveConstructor Operator">::</a> <a id="4566" href="Games.FiniteHistoryDependent.html#4414" class="Bound">σf</a><a id="4568" class="Symbol">)</a> <a id="4570" href="MLTT.Id.html#193" class="Datatype Operator">＝</a> <a id="4572" href="Games.FiniteHistoryDependent.html#4382" class="Bound">x</a> <a id="4574" href="Games.TypeTrees.html#1319" class="InductiveConstructor Operator">::</a> <a id="4577" href="Games.FiniteHistoryDependent.html#4248" class="Function">strategic-path</a> <a id="4592" class="Symbol">(</a><a id="4593" href="Games.FiniteHistoryDependent.html#4414" class="Bound">σf</a> <a id="4596" href="Games.FiniteHistoryDependent.html#4382" class="Bound">x</a><a id="4597" class="Symbol">))</a>
<a id="4600" href="Games.FiniteHistoryDependent.html#4333" class="Function">remark-strategic-path</a> <a id="4622" class="Symbol">=</a> <a id="4624" href="MLTT.Identity-Type.html#157" class="InductiveConstructor">refl</a> <a id="4629" href="MLTT.Sigma.html#395" class="InductiveConstructor Operator">,</a> <a id="4631" href="MLTT.Identity-Type.html#157" class="InductiveConstructor">refl</a>

<a id="4637" class="Markup">\end{code}</a><a id="4647" class="Background">

In the notation of reference [1] above, Definition 5, a strategy σ
for a game (Xt,R,ϕt,q) is said to be optimal, or in subgame perfect
equilibrium (abbreviated sgpe), if for every partial play a₀,…,aₖ₋₁
of length k, we have

   q(a₀,…,aₖ₋₁,bₖ(a₀,…,aₖ₋₁),…,bₙ₋₁(a₀,…,aₖ₋₁))
 = ϕₖ(λxₖ.q(a₀,…,aₖ₋₁,xₖ,bₖ₊₁(a₀,…,aₖ₋₁,xₖ),…,bₙ₋₁(a₀,…,aₖ₋₁,xₖ)))

where the sequence b is inductively defined by

  bⱼ(a₀,…,aₖ₋₁) = σⱼ(a₀,…,aₖ₋₁,bₖ(a₀,…,aₖ₋₁),…,bⱼ₋₁(a₀,…,aₖ₋₁))

for k ≤ j &lt; n.

Intuitively, the strategy σ is optimal if the outcome

  q(a₀,…,aₖ₋₁,bₖ(a₀,…,aₖ₋₁),…,bₙ₋₁(a₀,…,aₖ₋₁))

obtained by following σ is the best possible outcome as described by
the quantifier ϕₖ for each round k, considering all possible
deviations xₖ from the strategy at that round.

For the purposes of our generalization of [1] to dependent games, it
is convenient to define this notion by induction on the game tree Xt:

</a><a id="5540" class="Markup">\begin{code}</a>

<a id="is-in-equilibrium"></a><a id="5554" href="Games.FiniteHistoryDependent.html#5554" class="Function">is-in-equilibrium</a> <a id="5572" class="Symbol">:</a> <a id="5574" class="Symbol">{</a><a id="5575" href="Games.FiniteHistoryDependent.html#5575" class="Bound">X</a> <a id="5577" class="Symbol">:</a> <a id="5579" href="Notation.General.html#372" class="Function">Type</a><a id="5583" class="Symbol">}</a> <a id="5585" class="Symbol">{</a><a id="5586" href="Games.FiniteHistoryDependent.html#5586" class="Bound">Xf</a> <a id="5589" class="Symbol">:</a> <a id="5591" href="Games.FiniteHistoryDependent.html#5575" class="Bound">X</a> <a id="5593" class="Symbol">→</a> <a id="5595" href="Games.TypeTrees.html#742" class="Datatype">𝑻</a><a id="5596" class="Symbol">}</a>
                    <a id="5618" class="Symbol">(</a><a id="5619" href="Games.FiniteHistoryDependent.html#5619" class="Bound">q</a> <a id="5621" class="Symbol">:</a> <a id="5623" class="Symbol">(</a><a id="5624" href="MLTT.Sigma.html#423" class="Function">Σ</a> <a id="5626" href="Games.FiniteHistoryDependent.html#5626" class="Bound">x</a> <a id="5628" href="MLTT.Sigma.html#423" class="Function">꞉</a> <a id="5630" href="Games.FiniteHistoryDependent.html#5575" class="Bound">X</a> <a id="5632" href="MLTT.Sigma.html#423" class="Function">,</a> <a id="5634" href="Games.TypeTrees.html#929" class="Function">Path</a> <a id="5639" class="Symbol">(</a><a id="5640" href="Games.FiniteHistoryDependent.html#5586" class="Bound">Xf</a> <a id="5643" href="Games.FiniteHistoryDependent.html#5626" class="Bound">x</a><a id="5644" class="Symbol">))</a> <a id="5647" class="Symbol">→</a> <a id="5649" href="Games.FiniteHistoryDependent.html#1635" class="Bound">R</a><a id="5650" class="Symbol">)</a>
                    <a id="5672" class="Symbol">(</a><a id="5673" href="Games.FiniteHistoryDependent.html#5673" class="Bound">ϕ</a> <a id="5675" class="Symbol">:</a> <a id="5677" href="MonadOnTypes.K.html#471" class="Function">K</a> <a id="5679" href="Games.FiniteHistoryDependent.html#5575" class="Bound">X</a><a id="5680" class="Symbol">)</a>
                  <a id="5700" class="Symbol">→</a> <a id="5702" href="Games.FiniteHistoryDependent.html#3735" class="Function">Strategy</a> <a id="5711" class="Symbol">(</a><a id="5712" href="Games.FiniteHistoryDependent.html#5575" class="Bound">X</a> <a id="5714" class="InductiveConstructor Operator">∷</a> <a id="5716" href="Games.FiniteHistoryDependent.html#5586" class="Bound">Xf</a><a id="5718" class="Symbol">)</a>
                  <a id="5738" class="Symbol">→</a> <a id="5740" href="Notation.General.html#372" class="Function">Type</a>
<a id="5745" href="Games.FiniteHistoryDependent.html#5554" class="Function">is-in-equilibrium</a> <a id="5763" class="Symbol">{</a><a id="5764" href="Games.FiniteHistoryDependent.html#5764" class="Bound">X</a><a id="5765" class="Symbol">}</a> <a id="5767" class="Symbol">{</a><a id="5768" href="Games.FiniteHistoryDependent.html#5768" class="Bound">Xf</a><a id="5770" class="Symbol">}</a> <a id="5772" href="Games.FiniteHistoryDependent.html#5772" class="Bound">q</a> <a id="5774" href="Games.FiniteHistoryDependent.html#5774" class="Bound">ϕ</a> <a id="5776" href="Games.FiniteHistoryDependent.html#5776" class="Bound">σt</a><a id="5778" class="Symbol">@(</a><a id="5780" href="Games.FiniteHistoryDependent.html#5780" class="Bound">x₀</a> <a id="5783" href="Games.TypeTrees.html#1319" class="InductiveConstructor Operator">::</a> <a id="5786" href="Games.FiniteHistoryDependent.html#5786" class="Bound">σf</a><a id="5788" class="Symbol">)</a>  <a id="5791" class="Symbol">=</a>
 <a id="5794" href="Games.TypeTrees.html#1645" class="Function">subpred</a> <a id="5802" href="Games.FiniteHistoryDependent.html#5772" class="Bound">q</a> <a id="5804" href="Games.FiniteHistoryDependent.html#5780" class="Bound">x₀</a> <a id="5807" class="Symbol">(</a><a id="5808" href="Games.FiniteHistoryDependent.html#4248" class="Function">strategic-path</a> <a id="5823" class="Symbol">(</a><a id="5824" href="Games.FiniteHistoryDependent.html#5786" class="Bound">σf</a> <a id="5827" href="Games.FiniteHistoryDependent.html#5780" class="Bound">x₀</a><a id="5829" class="Symbol">))</a> <a id="5832" href="MLTT.Id.html#193" class="Datatype Operator">＝</a> <a id="5834" href="Games.FiniteHistoryDependent.html#5774" class="Bound">ϕ</a> <a id="5836" class="Symbol">(λ</a> <a id="5839" href="Games.FiniteHistoryDependent.html#5839" class="Bound">x</a> <a id="5841" class="Symbol">→</a> <a id="5843" href="Games.TypeTrees.html#1645" class="Function">subpred</a> <a id="5851" href="Games.FiniteHistoryDependent.html#5772" class="Bound">q</a> <a id="5853" href="Games.FiniteHistoryDependent.html#5839" class="Bound">x</a> <a id="5855" class="Symbol">(</a><a id="5856" href="Games.FiniteHistoryDependent.html#4248" class="Function">strategic-path</a> <a id="5871" class="Symbol">(</a><a id="5872" href="Games.FiniteHistoryDependent.html#5786" class="Bound">σf</a> <a id="5875" href="Games.FiniteHistoryDependent.html#5839" class="Bound">x</a><a id="5876" class="Symbol">)))</a>

<a id="is-in-sgpe"></a><a id="5881" href="Games.FiniteHistoryDependent.html#5881" class="Function">is-in-sgpe</a> <a id="5892" class="Symbol">:</a> <a id="5894" class="Symbol">{</a><a id="5895" href="Games.FiniteHistoryDependent.html#5895" class="Bound">Xt</a> <a id="5898" class="Symbol">:</a> <a id="5900" href="Games.TypeTrees.html#742" class="Datatype">𝑻</a><a id="5901" class="Symbol">}</a> <a id="5903" class="Symbol">→</a> <a id="5905" href="Games.FiniteHistoryDependent.html#2364" class="Function">𝓚</a> <a id="5907" href="Games.FiniteHistoryDependent.html#5895" class="Bound">Xt</a> <a id="5910" class="Symbol">→</a> <a id="5912" class="Symbol">(</a><a id="5913" href="Games.TypeTrees.html#929" class="Function">Path</a> <a id="5918" href="Games.FiniteHistoryDependent.html#5895" class="Bound">Xt</a> <a id="5921" class="Symbol">→</a> <a id="5923" href="Games.FiniteHistoryDependent.html#1635" class="Bound">R</a><a id="5924" class="Symbol">)</a> <a id="5926" class="Symbol">→</a> <a id="5928" href="Games.FiniteHistoryDependent.html#3735" class="Function">Strategy</a> <a id="5937" href="Games.FiniteHistoryDependent.html#5895" class="Bound">Xt</a> <a id="5940" class="Symbol">→</a> <a id="5942" href="Notation.General.html#372" class="Function">Type</a>
<a id="5947" href="Games.FiniteHistoryDependent.html#5881" class="Function">is-in-sgpe</a> <a id="5958" class="Symbol">{</a><a id="5959" href="Games.TypeTrees.html#760" class="InductiveConstructor">[]</a><a id="5961" class="Symbol">}</a>     <a id="5967" href="Games.TypeTrees.html#1297" class="InductiveConstructor">⟨⟩</a>        <a id="5977" href="Games.FiniteHistoryDependent.html#5977" class="Bound">q</a> <a id="5979" href="Games.TypeTrees.html#1297" class="InductiveConstructor">⟨⟩</a>            <a id="5993" class="Symbol">=</a> <a id="5995" href="MLTT.Unit.html#129" class="Record">𝟙</a>
<a id="5997" href="Games.FiniteHistoryDependent.html#5881" class="Function">is-in-sgpe</a> <a id="6008" class="Symbol">{</a><a id="6009" href="Games.FiniteHistoryDependent.html#6009" class="Bound">X</a> <a id="6011" href="Games.TypeTrees.html#770" class="InductiveConstructor Operator">∷</a> <a id="6013" href="Games.FiniteHistoryDependent.html#6013" class="Bound">Xf</a><a id="6015" class="Symbol">}</a> <a id="6017" class="Symbol">(</a><a id="6018" href="Games.FiniteHistoryDependent.html#6018" class="Bound">ϕ</a> <a id="6020" href="Games.TypeTrees.html#1319" class="InductiveConstructor Operator">::</a> <a id="6023" href="Games.FiniteHistoryDependent.html#6023" class="Bound">ϕf</a><a id="6025" class="Symbol">)</a> <a id="6027" href="Games.FiniteHistoryDependent.html#6027" class="Bound">q</a> <a id="6029" href="Games.FiniteHistoryDependent.html#6029" class="Bound">σt</a><a id="6031" class="Symbol">@(</a><a id="6033" href="Games.FiniteHistoryDependent.html#6033" class="Bound">x₀</a> <a id="6036" href="Games.TypeTrees.html#1319" class="InductiveConstructor Operator">::</a> <a id="6039" href="Games.FiniteHistoryDependent.html#6039" class="Bound">σf</a><a id="6041" class="Symbol">)</a> <a id="6043" class="Symbol">=</a>
   <a id="6048" href="Games.FiniteHistoryDependent.html#5554" class="Function">is-in-equilibrium</a> <a id="6066" href="Games.FiniteHistoryDependent.html#6027" class="Bound">q</a> <a id="6068" href="Games.FiniteHistoryDependent.html#6018" class="Bound">ϕ</a> <a id="6070" href="Games.FiniteHistoryDependent.html#6029" class="Bound">σt</a>
 <a id="6074" href="MLTT.Sigma.html#558" class="Function Operator">×</a> <a id="6076" class="Symbol">((</a><a id="6078" href="Games.FiniteHistoryDependent.html#6078" class="Bound">x</a> <a id="6080" class="Symbol">:</a> <a id="6082" href="Games.FiniteHistoryDependent.html#6009" class="Bound">X</a><a id="6083" class="Symbol">)</a> <a id="6085" class="Symbol">→</a> <a id="6087" href="Games.FiniteHistoryDependent.html#5881" class="Function">is-in-sgpe</a> <a id="6098" class="Symbol">{</a><a id="6099" href="Games.FiniteHistoryDependent.html#6013" class="Bound">Xf</a> <a id="6102" href="Games.FiniteHistoryDependent.html#6078" class="Bound">x</a><a id="6103" class="Symbol">}</a> <a id="6105" class="Symbol">(</a><a id="6106" href="Games.FiniteHistoryDependent.html#6023" class="Bound">ϕf</a> <a id="6109" href="Games.FiniteHistoryDependent.html#6078" class="Bound">x</a><a id="6110" class="Symbol">)</a> <a id="6112" class="Symbol">(</a><a id="6113" href="Games.TypeTrees.html#1645" class="Function">subpred</a> <a id="6121" href="Games.FiniteHistoryDependent.html#6027" class="Bound">q</a> <a id="6123" href="Games.FiniteHistoryDependent.html#6078" class="Bound">x</a><a id="6124" class="Symbol">)</a> <a id="6126" class="Symbol">(</a><a id="6127" href="Games.FiniteHistoryDependent.html#6039" class="Bound">σf</a> <a id="6130" href="Games.FiniteHistoryDependent.html#6078" class="Bound">x</a><a id="6131" class="Symbol">))</a>

<a id="6135" class="Markup">\end{code}</a><a id="6145" class="Background">

In the above definition:

 * If the game tree is empty, then the strategy is empty, and we say
   that it is true that it is in sgpe, where &quot;true&quot; is represented by
   the unit type 𝟙 in propositions-as-types.

 * If the game tree has a root X followed by a forest Xf, then the
   strategy must be of the form x₀ :: σf, where x₀ is the first move
   according to the strategy, and where σf is a forest of strategies
   that depends on a deviation x.

   So the first part

     subpred q x₀ (strategic-path (σf x₀)) ＝ ϕ (λ x → subpred q x (strategic-path (σf x)))

   of the definition is as in the comment above, but with a partial
   play of length k=0, and the second (inductive) part, says that the
   substrategy σf x, for any deviation x, is in subgame perfect
   equilibrium in the subgame

     (Xf x , R , ϕf x , subpred q x).

As discussed above, we say that a strategy for a game is optimal if it
is in subgame perfect equilibrium.

</a><a id="7091" class="Markup">\begin{code}</a>

<a id="is-optimal"></a><a id="7105" href="Games.FiniteHistoryDependent.html#7105" class="Function">is-optimal</a> <a id="7116" class="Symbol">:</a> <a id="7118" class="Symbol">(</a><a id="7119" href="Games.FiniteHistoryDependent.html#7119" class="Bound">G</a> <a id="7121" class="Symbol">:</a> <a id="7123" href="Games.FiniteHistoryDependent.html#3132" class="Record">Game</a><a id="7127" class="Symbol">)</a> <a id="7129" class="Symbol">(</a><a id="7130" href="Games.FiniteHistoryDependent.html#7130" class="Bound">σ</a> <a id="7132" class="Symbol">:</a> <a id="7134" href="Games.FiniteHistoryDependent.html#3735" class="Function">Strategy</a> <a id="7143" class="Symbol">(</a><a id="7144" href="Games.FiniteHistoryDependent.html#3178" class="Field">game-tree</a> <a id="7154" href="Games.FiniteHistoryDependent.html#7119" class="Bound">G</a><a id="7155" class="Symbol">))</a> <a id="7158" class="Symbol">→</a> <a id="7160" href="Notation.General.html#372" class="Function">Type</a>
<a id="7165" href="Games.FiniteHistoryDependent.html#7105" class="Function">is-optimal</a> <a id="7176" class="Symbol">(</a><a id="7177" href="Games.FiniteHistoryDependent.html#3164" class="InductiveConstructor">game</a> <a id="7182" href="Games.FiniteHistoryDependent.html#7182" class="Bound">Xt</a> <a id="7185" href="Games.FiniteHistoryDependent.html#7185" class="Bound">ϕt</a> <a id="7188" href="Games.FiniteHistoryDependent.html#7188" class="Bound">q</a><a id="7189" class="Symbol">)</a> <a id="7191" href="Games.FiniteHistoryDependent.html#7191" class="Bound">σ</a> <a id="7193" class="Symbol">=</a> <a id="7195" href="Games.FiniteHistoryDependent.html#5881" class="Function">is-in-sgpe</a> <a id="7206" class="Symbol">{</a><a id="7207" href="Games.FiniteHistoryDependent.html#7182" class="Bound">Xt</a><a id="7209" class="Symbol">}</a> <a id="7211" href="Games.FiniteHistoryDependent.html#7188" class="Bound">q</a> <a id="7213" href="Games.FiniteHistoryDependent.html#7185" class="Bound">ϕt</a> <a id="7216" href="Games.FiniteHistoryDependent.html#7191" class="Bound">σ</a>

<a id="7219" class="Markup">\end{code}</a><a id="7229" class="Background">

The main lemma is that the optimal outcome is the same thing as the
application of the outcome function to the path induced by a strategy
in perfect subgame equilibrium.

Remark. In the published paper [0] above, we use the terminology
`is-optimal` as above, but perhaps we should stick to subgame perfect
equilibrium for the terminology.

The following is Theorem 3.1 of reference [1].

</a><a id="7619" class="Markup">\begin{code}</a>

<a id="sgpe-lemma"></a><a id="7633" href="Games.FiniteHistoryDependent.html#7633" class="Function">sgpe-lemma</a> <a id="7644" class="Symbol">:</a> <a id="7646" href="UF.FunExt.html#1047" class="Function">Fun-Ext</a>
           <a id="7665" class="Symbol">→</a> <a id="7667" class="Symbol">(</a><a id="7668" href="Games.FiniteHistoryDependent.html#7668" class="Bound">Xt</a> <a id="7671" class="Symbol">:</a> <a id="7673" href="Games.TypeTrees.html#742" class="Datatype">𝑻</a><a id="7674" class="Symbol">)</a> <a id="7676" class="Symbol">(</a><a id="7677" href="Games.FiniteHistoryDependent.html#7677" class="Bound">ϕt</a> <a id="7680" class="Symbol">:</a> <a id="7682" href="Games.FiniteHistoryDependent.html#2364" class="Function">𝓚</a> <a id="7684" href="Games.FiniteHistoryDependent.html#7668" class="Bound">Xt</a><a id="7686" class="Symbol">)</a> <a id="7688" class="Symbol">(</a><a id="7689" href="Games.FiniteHistoryDependent.html#7689" class="Bound">q</a> <a id="7691" class="Symbol">:</a> <a id="7693" href="Games.TypeTrees.html#929" class="Function">Path</a> <a id="7698" href="Games.FiniteHistoryDependent.html#7668" class="Bound">Xt</a> <a id="7701" class="Symbol">→</a> <a id="7703" href="Games.FiniteHistoryDependent.html#1635" class="Bound">R</a><a id="7704" class="Symbol">)</a> <a id="7706" class="Symbol">(</a><a id="7707" href="Games.FiniteHistoryDependent.html#7707" class="Bound">σ</a> <a id="7709" class="Symbol">:</a> <a id="7711" href="Games.FiniteHistoryDependent.html#3735" class="Function">Strategy</a> <a id="7720" href="Games.FiniteHistoryDependent.html#7668" class="Bound">Xt</a><a id="7722" class="Symbol">)</a>
           <a id="7735" class="Symbol">→</a> <a id="7737" href="Games.FiniteHistoryDependent.html#5881" class="Function">is-in-sgpe</a> <a id="7748" href="Games.FiniteHistoryDependent.html#7677" class="Bound">ϕt</a> <a id="7751" href="Games.FiniteHistoryDependent.html#7689" class="Bound">q</a> <a id="7753" href="Games.FiniteHistoryDependent.html#7707" class="Bound">σ</a>
           <a id="7766" class="Symbol">→</a> <a id="7768" href="Games.FiniteHistoryDependent.html#7689" class="Bound">q</a> <a id="7770" class="Symbol">(</a><a id="7771" href="Games.FiniteHistoryDependent.html#4248" class="Function">strategic-path</a> <a id="7786" href="Games.FiniteHistoryDependent.html#7707" class="Bound">σ</a><a id="7787" class="Symbol">)</a> <a id="7789" href="MLTT.Id.html#193" class="Datatype Operator">＝</a> <a id="7791" href="Games.FiniteHistoryDependent.html#2857" class="Function">sequenceᴷ</a> <a id="7801" href="Games.FiniteHistoryDependent.html#7677" class="Bound">ϕt</a> <a id="7804" href="Games.FiniteHistoryDependent.html#7689" class="Bound">q</a>
<a id="7806" href="Games.FiniteHistoryDependent.html#7633" class="Function">sgpe-lemma</a> <a id="7817" href="Games.FiniteHistoryDependent.html#7817" class="Bound">fe</a> <a id="7820" href="Games.TypeTrees.html#760" class="InductiveConstructor">[]</a>       <a id="7829" href="Games.TypeTrees.html#1297" class="InductiveConstructor">⟨⟩</a>        <a id="7839" href="Games.FiniteHistoryDependent.html#7839" class="Bound">q</a> <a id="7841" href="Games.TypeTrees.html#1297" class="InductiveConstructor">⟨⟩</a>        <a id="7851" href="Games.TypeTrees.html#1297" class="InductiveConstructor">⟨⟩</a>       <a id="7860" class="Symbol">=</a> <a id="7862" href="MLTT.Identity-Type.html#157" class="InductiveConstructor">refl</a>
<a id="7867" href="Games.FiniteHistoryDependent.html#7633" class="Function">sgpe-lemma</a> <a id="7878" href="Games.FiniteHistoryDependent.html#7878" class="Bound">fe</a> <a id="7881" class="Symbol">(</a><a id="7882" href="Games.FiniteHistoryDependent.html#7882" class="Bound">X</a> <a id="7884" href="Games.TypeTrees.html#770" class="InductiveConstructor Operator">∷</a> <a id="7886" href="Games.FiniteHistoryDependent.html#7886" class="Bound">Xf</a><a id="7888" class="Symbol">)</a> <a id="7890" class="Symbol">(</a><a id="7891" href="Games.FiniteHistoryDependent.html#7891" class="Bound">ϕ</a> <a id="7893" href="Games.TypeTrees.html#1319" class="InductiveConstructor Operator">::</a> <a id="7896" href="Games.FiniteHistoryDependent.html#7896" class="Bound">ϕt</a><a id="7898" class="Symbol">)</a> <a id="7900" href="Games.FiniteHistoryDependent.html#7900" class="Bound">q</a> <a id="7902" class="Symbol">(</a><a id="7903" href="Games.FiniteHistoryDependent.html#7903" class="Bound">a</a> <a id="7905" href="Games.TypeTrees.html#1319" class="InductiveConstructor Operator">::</a> <a id="7908" href="Games.FiniteHistoryDependent.html#7908" class="Bound">σf</a><a id="7910" class="Symbol">)</a> <a id="7912" class="Symbol">(</a><a id="7913" href="Games.FiniteHistoryDependent.html#7913" class="Bound">h</a> <a id="7915" href="Games.TypeTrees.html#1319" class="InductiveConstructor Operator">::</a> <a id="7918" href="Games.FiniteHistoryDependent.html#7918" class="Bound">t</a><a id="7919" class="Symbol">)</a> <a id="7921" class="Symbol">=</a> <a id="7923" href="Games.FiniteHistoryDependent.html#8190" class="Function">γ</a>
 <a id="7926" class="Keyword">where</a>
  <a id="7934" href="Games.FiniteHistoryDependent.html#7934" class="Function">observation-t</a> <a id="7948" class="Symbol">:</a> <a id="7950" href="Notation.General.html#3219" class="Function">type-of</a> <a id="7958" href="Games.FiniteHistoryDependent.html#7918" class="Bound">t</a> <a id="7960" href="MLTT.Id.html#193" class="Datatype Operator">＝</a> <a id="7962" class="Symbol">((</a><a id="7964" href="Games.FiniteHistoryDependent.html#7964" class="Bound">x</a> <a id="7966" class="Symbol">:</a> <a id="7968" href="Games.FiniteHistoryDependent.html#7882" class="Bound">X</a><a id="7969" class="Symbol">)</a> <a id="7971" class="Symbol">→</a> <a id="7973" href="Games.FiniteHistoryDependent.html#5881" class="Function">is-in-sgpe</a> <a id="7984" class="Symbol">(</a><a id="7985" href="Games.FiniteHistoryDependent.html#7896" class="Bound">ϕt</a> <a id="7988" href="Games.FiniteHistoryDependent.html#7964" class="Bound">x</a><a id="7989" class="Symbol">)</a> <a id="7991" class="Symbol">(</a><a id="7992" href="Games.TypeTrees.html#1645" class="Function">subpred</a> <a id="8000" href="Games.FiniteHistoryDependent.html#7900" class="Bound">q</a> <a id="8002" href="Games.FiniteHistoryDependent.html#7964" class="Bound">x</a><a id="8003" class="Symbol">)</a> <a id="8005" class="Symbol">(</a><a id="8006" href="Games.FiniteHistoryDependent.html#7908" class="Bound">σf</a> <a id="8009" href="Games.FiniteHistoryDependent.html#7964" class="Bound">x</a><a id="8010" class="Symbol">))</a>
  <a id="8015" href="Games.FiniteHistoryDependent.html#7934" class="Function">observation-t</a> <a id="8029" class="Symbol">=</a> <a id="8031" href="MLTT.Identity-Type.html#157" class="InductiveConstructor">refl</a>

  <a id="8039" href="Games.FiniteHistoryDependent.html#8039" class="Function">IH</a> <a id="8042" class="Symbol">:</a> <a id="8044" class="Symbol">(</a><a id="8045" href="Games.FiniteHistoryDependent.html#8045" class="Bound">x</a> <a id="8047" class="Symbol">:</a> <a id="8049" href="Games.FiniteHistoryDependent.html#7882" class="Bound">X</a><a id="8050" class="Symbol">)</a> <a id="8052" class="Symbol">→</a> <a id="8054" href="Games.TypeTrees.html#1645" class="Function">subpred</a> <a id="8062" href="Games.FiniteHistoryDependent.html#7900" class="Bound">q</a> <a id="8064" href="Games.FiniteHistoryDependent.html#8045" class="Bound">x</a> <a id="8066" class="Symbol">(</a><a id="8067" href="Games.FiniteHistoryDependent.html#4248" class="Function">strategic-path</a> <a id="8082" class="Symbol">(</a><a id="8083" href="Games.FiniteHistoryDependent.html#7908" class="Bound">σf</a> <a id="8086" href="Games.FiniteHistoryDependent.html#8045" class="Bound">x</a><a id="8087" class="Symbol">))</a> <a id="8090" href="MLTT.Id.html#193" class="Datatype Operator">＝</a> <a id="8092" href="Games.FiniteHistoryDependent.html#2857" class="Function">sequenceᴷ</a> <a id="8102" class="Symbol">(</a><a id="8103" href="Games.FiniteHistoryDependent.html#7896" class="Bound">ϕt</a> <a id="8106" href="Games.FiniteHistoryDependent.html#8045" class="Bound">x</a><a id="8107" class="Symbol">)</a> <a id="8109" class="Symbol">(</a><a id="8110" href="Games.TypeTrees.html#1645" class="Function">subpred</a> <a id="8118" href="Games.FiniteHistoryDependent.html#7900" class="Bound">q</a> <a id="8120" href="Games.FiniteHistoryDependent.html#8045" class="Bound">x</a><a id="8121" class="Symbol">)</a>
  <a id="8125" href="Games.FiniteHistoryDependent.html#8039" class="Function">IH</a> <a id="8128" href="Games.FiniteHistoryDependent.html#8128" class="Bound">x</a> <a id="8130" class="Symbol">=</a> <a id="8132" href="Games.FiniteHistoryDependent.html#7633" class="Function">sgpe-lemma</a> <a id="8143" href="Games.FiniteHistoryDependent.html#7878" class="Bound">fe</a> <a id="8146" class="Symbol">(</a><a id="8147" href="Games.FiniteHistoryDependent.html#7886" class="Bound">Xf</a> <a id="8150" href="Games.FiniteHistoryDependent.html#8128" class="Bound">x</a><a id="8151" class="Symbol">)</a> <a id="8153" class="Symbol">(</a><a id="8154" href="Games.FiniteHistoryDependent.html#7896" class="Bound">ϕt</a> <a id="8157" href="Games.FiniteHistoryDependent.html#8128" class="Bound">x</a><a id="8158" class="Symbol">)</a> <a id="8160" class="Symbol">(</a><a id="8161" href="Games.TypeTrees.html#1645" class="Function">subpred</a> <a id="8169" href="Games.FiniteHistoryDependent.html#7900" class="Bound">q</a> <a id="8171" href="Games.FiniteHistoryDependent.html#8128" class="Bound">x</a><a id="8172" class="Symbol">)</a> <a id="8174" class="Symbol">(</a><a id="8175" href="Games.FiniteHistoryDependent.html#7908" class="Bound">σf</a> <a id="8178" href="Games.FiniteHistoryDependent.html#8128" class="Bound">x</a><a id="8179" class="Symbol">)</a> <a id="8181" class="Symbol">(</a><a id="8182" href="Games.FiniteHistoryDependent.html#7918" class="Bound">t</a> <a id="8184" href="Games.FiniteHistoryDependent.html#8128" class="Bound">x</a><a id="8185" class="Symbol">)</a>

  <a id="8190" href="Games.FiniteHistoryDependent.html#8190" class="Function">γ</a> <a id="8192" class="Symbol">=</a> <a id="8194" href="Games.TypeTrees.html#1645" class="Function">subpred</a> <a id="8202" href="Games.FiniteHistoryDependent.html#7900" class="Bound">q</a> <a id="8204" href="Games.FiniteHistoryDependent.html#7903" class="Bound">a</a> <a id="8206" class="Symbol">(</a><a id="8207" href="Games.FiniteHistoryDependent.html#4248" class="Function">strategic-path</a> <a id="8222" class="Symbol">(</a><a id="8223" href="Games.FiniteHistoryDependent.html#7908" class="Bound">σf</a> <a id="8226" href="Games.FiniteHistoryDependent.html#7903" class="Bound">a</a><a id="8227" class="Symbol">))</a>           <a id="8240" href="MLTT.Id.html#2703" class="Function Operator">＝⟨</a> <a id="8243" href="Games.FiniteHistoryDependent.html#7913" class="Bound">h</a> <a id="8245" href="MLTT.Id.html#2703" class="Function Operator">⟩</a>
      <a id="8253" href="Games.FiniteHistoryDependent.html#7891" class="Bound">ϕ</a> <a id="8255" class="Symbol">(λ</a> <a id="8258" href="Games.FiniteHistoryDependent.html#8258" class="Bound">x</a> <a id="8260" class="Symbol">→</a> <a id="8262" href="Games.TypeTrees.html#1645" class="Function">subpred</a> <a id="8270" href="Games.FiniteHistoryDependent.html#7900" class="Bound">q</a> <a id="8272" href="Games.FiniteHistoryDependent.html#8258" class="Bound">x</a> <a id="8274" class="Symbol">(</a><a id="8275" href="Games.FiniteHistoryDependent.html#4248" class="Function">strategic-path</a> <a id="8290" class="Symbol">(</a><a id="8291" href="Games.FiniteHistoryDependent.html#7908" class="Bound">σf</a> <a id="8294" href="Games.FiniteHistoryDependent.html#8258" class="Bound">x</a><a id="8295" class="Symbol">)))</a> <a id="8299" href="MLTT.Id.html#2703" class="Function Operator">＝⟨</a> <a id="8302" href="MLTT.Id.html#1136" class="Function">ap</a> <a id="8305" href="Games.FiniteHistoryDependent.html#7891" class="Bound">ϕ</a> <a id="8307" class="Symbol">(</a><a id="8308" href="UF.FunExt.html#1242" class="Function">dfunext</a> <a id="8316" href="Games.FiniteHistoryDependent.html#7878" class="Bound">fe</a> <a id="8319" href="Games.FiniteHistoryDependent.html#8039" class="Function">IH</a><a id="8321" class="Symbol">)</a> <a id="8323" href="MLTT.Id.html#2703" class="Function Operator">⟩</a>
      <a id="8331" href="Games.FiniteHistoryDependent.html#7891" class="Bound">ϕ</a> <a id="8333" class="Symbol">(λ</a> <a id="8336" href="Games.FiniteHistoryDependent.html#8336" class="Bound">x</a> <a id="8338" class="Symbol">→</a> <a id="8340" href="Games.FiniteHistoryDependent.html#2857" class="Function">sequenceᴷ</a> <a id="8350" class="Symbol">(</a><a id="8351" href="Games.FiniteHistoryDependent.html#7896" class="Bound">ϕt</a> <a id="8354" href="Games.FiniteHistoryDependent.html#8336" class="Bound">x</a><a id="8355" class="Symbol">)</a> <a id="8357" class="Symbol">(</a><a id="8358" href="Games.TypeTrees.html#1645" class="Function">subpred</a> <a id="8366" href="Games.FiniteHistoryDependent.html#7900" class="Bound">q</a> <a id="8368" href="Games.FiniteHistoryDependent.html#8336" class="Bound">x</a><a id="8369" class="Symbol">))</a>      <a id="8377" href="MLTT.Id.html#2785" class="Function Operator">∎</a>

<a id="8380" class="Markup">\end{code}</a><a id="8390" class="Background">

This can be reformulated as follows in terms of the type of games:

</a><a id="8460" class="Markup">\begin{code}</a>

<a id="optimality-theorem"></a><a id="8474" href="Games.FiniteHistoryDependent.html#8474" class="Function">optimality-theorem</a> <a id="8493" class="Symbol">:</a> <a id="8495" href="UF.FunExt.html#1047" class="Function">Fun-Ext</a>
                   <a id="8522" class="Symbol">→</a> <a id="8524" class="Symbol">(</a><a id="8525" href="Games.FiniteHistoryDependent.html#8525" class="Bound">G</a><a id="8526" class="Symbol">@(</a><a id="8528" href="Games.FiniteHistoryDependent.html#3164" class="InductiveConstructor">game</a> <a id="8533" href="Games.FiniteHistoryDependent.html#8533" class="Bound">Xt</a> <a id="8536" href="Games.FiniteHistoryDependent.html#8536" class="Bound">q</a> <a id="8538" href="Games.FiniteHistoryDependent.html#8538" class="Bound">ϕt</a><a id="8540" class="Symbol">)</a> <a id="8542" class="Symbol">:</a> <a id="8544" href="Games.FiniteHistoryDependent.html#3132" class="Record">Game</a><a id="8548" class="Symbol">)</a> <a id="8550" class="Symbol">(</a><a id="8551" href="Games.FiniteHistoryDependent.html#8551" class="Bound">σ</a> <a id="8553" class="Symbol">:</a> <a id="8555" href="Games.FiniteHistoryDependent.html#3735" class="Function">Strategy</a> <a id="8564" href="Games.FiniteHistoryDependent.html#8533" class="Bound">Xt</a><a id="8566" class="Symbol">)</a>
                   <a id="8587" class="Symbol">→</a> <a id="8589" href="Games.FiniteHistoryDependent.html#7105" class="Function">is-optimal</a> <a id="8600" href="Games.FiniteHistoryDependent.html#8525" class="Bound">G</a> <a id="8602" href="Games.FiniteHistoryDependent.html#8551" class="Bound">σ</a>
                   <a id="8623" class="Symbol">→</a> <a id="8625" href="Games.FiniteHistoryDependent.html#8536" class="Bound">q</a> <a id="8627" class="Symbol">(</a><a id="8628" href="Games.FiniteHistoryDependent.html#4248" class="Function">strategic-path</a> <a id="8643" href="Games.FiniteHistoryDependent.html#8551" class="Bound">σ</a><a id="8644" class="Symbol">)</a> <a id="8646" href="MLTT.Id.html#193" class="Datatype Operator">＝</a> <a id="8648" href="Games.FiniteHistoryDependent.html#3536" class="Function">optimal-outcome</a> <a id="8664" href="Games.FiniteHistoryDependent.html#8525" class="Bound">G</a>
<a id="8666" href="Games.FiniteHistoryDependent.html#8474" class="Function">optimality-theorem</a> <a id="8685" href="Games.FiniteHistoryDependent.html#8685" class="Bound">fe</a> <a id="8688" class="Symbol">(</a><a id="8689" href="Games.FiniteHistoryDependent.html#3164" class="InductiveConstructor">game</a> <a id="8694" href="Games.FiniteHistoryDependent.html#8694" class="Bound">Xt</a> <a id="8697" href="Games.FiniteHistoryDependent.html#8697" class="Bound">ϕt</a> <a id="8700" href="Games.FiniteHistoryDependent.html#8700" class="Bound">q</a><a id="8701" class="Symbol">)</a> <a id="8703" class="Symbol">=</a> <a id="8705" href="Games.FiniteHistoryDependent.html#7633" class="Function">sgpe-lemma</a> <a id="8716" href="Games.FiniteHistoryDependent.html#8685" class="Bound">fe</a> <a id="8719" href="Games.FiniteHistoryDependent.html#8694" class="Bound">Xt</a> <a id="8722" href="Games.FiniteHistoryDependent.html#8700" class="Bound">q</a> <a id="8724" href="Games.FiniteHistoryDependent.html#8697" class="Bound">ϕt</a>

<a id="8728" class="Markup">\end{code}</a><a id="8738" class="Background">

We now show how to use selection functions to compute a sgpe strategy.

We use selection functions, as in Section 2 of reference [1], defined
in another module.

𝓙 assigns types of selection functions to the nodes.

</a><a id="8956" class="Markup">\begin{code}</a>

<a id="𝓙"></a><a id="8970" href="Games.FiniteHistoryDependent.html#8970" class="Function">𝓙</a> <a id="8972" class="Symbol">:</a> <a id="8974" href="Games.TypeTrees.html#742" class="Datatype">𝑻</a> <a id="8976" class="Symbol">→</a> <a id="8978" href="Notation.General.html#372" class="Function">Type</a>
<a id="8983" href="Games.FiniteHistoryDependent.html#8970" class="Function">𝓙</a> <a id="8985" class="Symbol">=</a> <a id="8987" href="Games.TypeTrees.html#2143" class="Function">structure</a> <a id="8997" href="MonadOnTypes.J.html#461" class="Function">J</a>

<a id="remark-𝓙"></a><a id="9000" href="Games.FiniteHistoryDependent.html#9000" class="Function">remark-𝓙</a> <a id="9009" class="Symbol">:</a> <a id="9011" class="Symbol">{</a><a id="9012" href="Games.FiniteHistoryDependent.html#9012" class="Bound">X</a> <a id="9014" class="Symbol">:</a> <a id="9016" href="Notation.General.html#372" class="Function">Type</a><a id="9020" class="Symbol">}</a> <a id="9022" class="Symbol">{</a><a id="9023" href="Games.FiniteHistoryDependent.html#9023" class="Bound">Xf</a> <a id="9026" class="Symbol">:</a> <a id="9028" href="Games.FiniteHistoryDependent.html#9012" class="Bound">X</a> <a id="9030" class="Symbol">→</a> <a id="9032" href="Games.TypeTrees.html#742" class="Datatype">𝑻</a><a id="9033" class="Symbol">}</a>
         <a id="9044" class="Symbol">→</a> <a id="9046" class="Symbol">(</a><a id="9047" href="Games.FiniteHistoryDependent.html#8970" class="Function">𝓙</a> <a id="9049" class="InductiveConstructor">[]</a> <a id="9052" href="MLTT.Id.html#193" class="Datatype Operator">＝</a> <a id="9054" href="MLTT.Unit.html#129" class="Record">𝟙</a><a id="9055" class="Symbol">)</a>
         <a id="9066" href="MLTT.Sigma.html#558" class="Function Operator">×</a> <a id="9068" class="Symbol">(</a><a id="9069" href="Games.FiniteHistoryDependent.html#8970" class="Function">𝓙</a> <a id="9071" class="Symbol">(</a><a id="9072" href="Games.FiniteHistoryDependent.html#9012" class="Bound">X</a> <a id="9074" class="InductiveConstructor Operator">∷</a> <a id="9076" href="Games.FiniteHistoryDependent.html#9023" class="Bound">Xf</a><a id="9078" class="Symbol">)</a> <a id="9080" href="MLTT.Id.html#193" class="Datatype Operator">＝</a> <a id="9082" href="MonadOnTypes.J.html#461" class="Function">J</a> <a id="9084" href="Games.FiniteHistoryDependent.html#9012" class="Bound">X</a> <a id="9086" href="MLTT.Sigma.html#558" class="Function Operator">×</a> <a id="9088" class="Symbol">((</a><a id="9090" href="Games.FiniteHistoryDependent.html#9090" class="Bound">x</a> <a id="9092" class="Symbol">:</a> <a id="9094" href="Games.FiniteHistoryDependent.html#9012" class="Bound">X</a><a id="9095" class="Symbol">)</a> <a id="9097" class="Symbol">→</a> <a id="9099" href="Games.FiniteHistoryDependent.html#8970" class="Function">𝓙</a> <a id="9101" class="Symbol">(</a><a id="9102" href="Games.FiniteHistoryDependent.html#9023" class="Bound">Xf</a> <a id="9105" href="Games.FiniteHistoryDependent.html#9090" class="Bound">x</a><a id="9106" class="Symbol">)))</a>
<a id="9110" href="Games.FiniteHistoryDependent.html#9000" class="Function">remark-𝓙</a> <a id="9119" class="Symbol">=</a> <a id="9121" href="MLTT.Identity-Type.html#157" class="InductiveConstructor">refl</a> <a id="9126" href="MLTT.Sigma.html#395" class="InductiveConstructor Operator">,</a> <a id="9128" href="MLTT.Identity-Type.html#157" class="InductiveConstructor">refl</a>

<a id="9134" class="Markup">\end{code}</a><a id="9144" class="Background">

 * ε ranges over the type J X of selection functions.
 * εt ranges over the type 𝓙 Xt of selection-function trees.
 * εf ranges over the type (x : X) → 𝓙 (Xf x) of selection-function forests.

Sequencing selection functions, as constructed in Definition 12 of
reference [1], but using our tree representation of games instead:

</a><a id="9474" class="Markup">\begin{code}</a>

<a id="sequenceᴶ"></a><a id="9488" href="Games.FiniteHistoryDependent.html#9488" class="Function">sequenceᴶ</a> <a id="9498" class="Symbol">:</a> <a id="9500" class="Symbol">{</a><a id="9501" href="Games.FiniteHistoryDependent.html#9501" class="Bound">Xt</a> <a id="9504" class="Symbol">:</a> <a id="9506" href="Games.TypeTrees.html#742" class="Datatype">𝑻</a><a id="9507" class="Symbol">}</a> <a id="9509" class="Symbol">→</a> <a id="9511" href="Games.FiniteHistoryDependent.html#8970" class="Function">𝓙</a> <a id="9513" href="Games.FiniteHistoryDependent.html#9501" class="Bound">Xt</a> <a id="9516" class="Symbol">→</a> <a id="9518" href="MonadOnTypes.J.html#461" class="Function">J</a> <a id="9520" class="Symbol">(</a><a id="9521" href="Games.TypeTrees.html#929" class="Function">Path</a> <a id="9526" href="Games.FiniteHistoryDependent.html#9501" class="Bound">Xt</a><a id="9528" class="Symbol">)</a>
<a id="9530" href="Games.FiniteHistoryDependent.html#9488" class="Function">sequenceᴶ</a> <a id="9540" class="Symbol">=</a> <a id="9542" href="Games.TypeTrees.html#3812" class="Function">path-sequence</a> <a id="9556" class="Symbol">(</a><a id="9557" href="MonadOnTypes.J.html#206" class="Function">𝕁</a> <a id="9559" href="Games.FiniteHistoryDependent.html#1635" class="Bound">R</a><a id="9560" class="Symbol">)</a>

<a id="9563" class="Markup">\end{code}</a><a id="9573" class="Background">

The following, which defines a strategy from given selection
functions, is defined in Theorem 5.4 of [1], with the difference that
here, for the moment, we consider only single-valued quantifiers.

</a><a id="9773" class="Markup">\begin{code}</a>

<a id="selection-strategy"></a><a id="9787" href="Games.FiniteHistoryDependent.html#9787" class="Function">selection-strategy</a> <a id="9806" class="Symbol">:</a> <a id="9808" class="Symbol">{</a><a id="9809" href="Games.FiniteHistoryDependent.html#9809" class="Bound">Xt</a> <a id="9812" class="Symbol">:</a> <a id="9814" href="Games.TypeTrees.html#742" class="Datatype">𝑻</a><a id="9815" class="Symbol">}</a> <a id="9817" class="Symbol">→</a> <a id="9819" href="Games.FiniteHistoryDependent.html#8970" class="Function">𝓙</a> <a id="9821" href="Games.FiniteHistoryDependent.html#9809" class="Bound">Xt</a> <a id="9824" class="Symbol">→</a> <a id="9826" class="Symbol">(</a><a id="9827" href="Games.TypeTrees.html#929" class="Function">Path</a> <a id="9832" href="Games.FiniteHistoryDependent.html#9809" class="Bound">Xt</a> <a id="9835" class="Symbol">→</a> <a id="9837" href="Games.FiniteHistoryDependent.html#1635" class="Bound">R</a><a id="9838" class="Symbol">)</a> <a id="9840" class="Symbol">→</a> <a id="9842" href="Games.FiniteHistoryDependent.html#3735" class="Function">Strategy</a> <a id="9851" href="Games.FiniteHistoryDependent.html#9809" class="Bound">Xt</a>
<a id="9854" href="Games.FiniteHistoryDependent.html#9787" class="Function">selection-strategy</a> <a id="9873" class="Symbol">{</a><a id="9874" href="Games.TypeTrees.html#760" class="InductiveConstructor">[]</a><a id="9876" class="Symbol">}</a>     <a id="9882" href="Games.TypeTrees.html#1297" class="InductiveConstructor">⟨⟩</a>           <a id="9895" href="Games.FiniteHistoryDependent.html#9895" class="Bound">q</a> <a id="9897" class="Symbol">=</a> <a id="9899" href="Games.TypeTrees.html#1297" class="InductiveConstructor">⟨⟩</a>
<a id="9902" href="Games.FiniteHistoryDependent.html#9787" class="Function">selection-strategy</a> <a id="9921" class="Symbol">{</a><a id="9922" href="Games.FiniteHistoryDependent.html#9922" class="Bound">X</a> <a id="9924" href="Games.TypeTrees.html#770" class="InductiveConstructor Operator">∷</a> <a id="9926" href="Games.FiniteHistoryDependent.html#9926" class="Bound">Xf</a><a id="9928" class="Symbol">}</a> <a id="9930" href="Games.FiniteHistoryDependent.html#9930" class="Bound">εt</a><a id="9932" class="Symbol">@(</a><a id="9934" href="Games.FiniteHistoryDependent.html#9934" class="Bound">ε</a> <a id="9936" href="Games.TypeTrees.html#1319" class="InductiveConstructor Operator">::</a> <a id="9939" href="Games.FiniteHistoryDependent.html#9939" class="Bound">εf</a><a id="9941" class="Symbol">)</a> <a id="9943" href="Games.FiniteHistoryDependent.html#9943" class="Bound">q</a> <a id="9945" class="Symbol">=</a> <a id="9947" href="Games.FiniteHistoryDependent.html#10009" class="Function">x₀</a> <a id="9950" href="Games.TypeTrees.html#1319" class="InductiveConstructor Operator">::</a> <a id="9953" href="Games.FiniteHistoryDependent.html#10039" class="Function">σf</a>
 <a id="9957" class="Keyword">where</a>
  <a id="9965" href="Games.FiniteHistoryDependent.html#9965" class="Function">xs</a> <a id="9968" class="Symbol">:</a> <a id="9970" href="Games.TypeTrees.html#929" class="Function">Path</a> <a id="9975" class="Symbol">(</a><a id="9976" href="Games.FiniteHistoryDependent.html#9922" class="Bound">X</a> <a id="9978" href="Games.TypeTrees.html#770" class="InductiveConstructor Operator">∷</a> <a id="9980" href="Games.FiniteHistoryDependent.html#9926" class="Bound">Xf</a><a id="9982" class="Symbol">)</a>
  <a id="9986" href="Games.FiniteHistoryDependent.html#9965" class="Function">xs</a> <a id="9989" class="Symbol">=</a> <a id="9991" href="Games.FiniteHistoryDependent.html#9488" class="Function">sequenceᴶ</a> <a id="10001" href="Games.FiniteHistoryDependent.html#9930" class="Bound">εt</a> <a id="10004" href="Games.FiniteHistoryDependent.html#9943" class="Bound">q</a>

  <a id="10009" href="Games.FiniteHistoryDependent.html#10009" class="Function">x₀</a> <a id="10012" class="Symbol">:</a> <a id="10014" href="Games.FiniteHistoryDependent.html#9922" class="Bound">X</a>
  <a id="10018" href="Games.FiniteHistoryDependent.html#10009" class="Function">x₀</a> <a id="10021" class="Symbol">=</a> <a id="10023" href="Games.TypeTrees.html#1341" class="Function">path-head</a> <a id="10033" href="Games.FiniteHistoryDependent.html#9965" class="Function">xs</a>

  <a id="10039" href="Games.FiniteHistoryDependent.html#10039" class="Function">σf</a> <a id="10042" class="Symbol">:</a> <a id="10044" class="Symbol">(</a><a id="10045" href="Games.FiniteHistoryDependent.html#10045" class="Bound">x</a> <a id="10047" class="Symbol">:</a> <a id="10049" href="Games.FiniteHistoryDependent.html#9922" class="Bound">X</a><a id="10050" class="Symbol">)</a> <a id="10052" class="Symbol">→</a> <a id="10054" href="Games.FiniteHistoryDependent.html#3735" class="Function">Strategy</a> <a id="10063" class="Symbol">(</a><a id="10064" href="Games.FiniteHistoryDependent.html#9926" class="Bound">Xf</a> <a id="10067" href="Games.FiniteHistoryDependent.html#10045" class="Bound">x</a><a id="10068" class="Symbol">)</a>
  <a id="10072" href="Games.FiniteHistoryDependent.html#10039" class="Function">σf</a> <a id="10075" href="Games.FiniteHistoryDependent.html#10075" class="Bound">x</a> <a id="10077" class="Symbol">=</a> <a id="10079" href="Games.FiniteHistoryDependent.html#9787" class="Function">selection-strategy</a> <a id="10098" class="Symbol">{</a><a id="10099" href="Games.FiniteHistoryDependent.html#9926" class="Bound">Xf</a> <a id="10102" href="Games.FiniteHistoryDependent.html#10075" class="Bound">x</a><a id="10103" class="Symbol">}</a> <a id="10105" class="Symbol">(</a><a id="10106" href="Games.FiniteHistoryDependent.html#9939" class="Bound">εf</a> <a id="10109" href="Games.FiniteHistoryDependent.html#10075" class="Bound">x</a><a id="10110" class="Symbol">)</a> <a id="10112" class="Symbol">(</a><a id="10113" href="Games.TypeTrees.html#1645" class="Function">subpred</a> <a id="10121" href="Games.FiniteHistoryDependent.html#9943" class="Bound">q</a> <a id="10123" href="Games.FiniteHistoryDependent.html#10075" class="Bound">x</a><a id="10124" class="Symbol">)</a>

<a id="10127" class="Markup">\end{code}</a><a id="10137" class="Background">

We convert a selection function into a quantifier as in Definition 10
of [1], using the function overline, defined in another module.

The work with the definition of a selection function being a selection
function for a quantifier as in Section 1 on [1], defined in another
module.

We generalize it to selection-function and quantifier trees in the
obvious way, by induction:

</a><a id="10518" class="Markup">\begin{code}</a>

<a id="10532" class="Keyword">open</a> <a id="10537" href="MonadOnTypes.JK.html#215" class="Module">JK</a> <a id="10540" href="Games.FiniteHistoryDependent.html#1635" class="Bound">R</a>

<a id="_Attains_"></a><a id="10543" href="Games.FiniteHistoryDependent.html#10543" class="Function Operator">_Attains_</a> <a id="10553" class="Symbol">:</a> <a id="10555" class="Symbol">{</a><a id="10556" href="Games.FiniteHistoryDependent.html#10556" class="Bound">Xt</a> <a id="10559" class="Symbol">:</a> <a id="10561" href="Games.TypeTrees.html#742" class="Datatype">𝑻</a><a id="10562" class="Symbol">}</a> <a id="10564" class="Symbol">→</a> <a id="10566" href="Games.FiniteHistoryDependent.html#8970" class="Function">𝓙</a> <a id="10568" href="Games.FiniteHistoryDependent.html#10556" class="Bound">Xt</a> <a id="10571" class="Symbol">→</a> <a id="10573" href="Games.FiniteHistoryDependent.html#2364" class="Function">𝓚</a> <a id="10575" href="Games.FiniteHistoryDependent.html#10556" class="Bound">Xt</a> <a id="10578" class="Symbol">→</a> <a id="10580" href="Notation.General.html#372" class="Function">Type</a>
<a id="10585" href="Games.FiniteHistoryDependent.html#10543" class="Function Operator">_Attains_</a> <a id="10595" class="Symbol">{</a><a id="10596" href="Games.TypeTrees.html#760" class="InductiveConstructor">[]</a><a id="10598" class="Symbol">}</a>     <a id="10604" href="Games.TypeTrees.html#1297" class="InductiveConstructor">⟨⟩</a>        <a id="10614" href="Games.TypeTrees.html#1297" class="InductiveConstructor">⟨⟩</a>        <a id="10624" class="Symbol">=</a> <a id="10626" href="MLTT.Unit.html#129" class="Record">𝟙</a>
<a id="10628" href="Games.FiniteHistoryDependent.html#10543" class="Function Operator">_Attains_</a> <a id="10638" class="Symbol">{</a><a id="10639" href="Games.FiniteHistoryDependent.html#10639" class="Bound">X</a> <a id="10641" href="Games.TypeTrees.html#770" class="InductiveConstructor Operator">∷</a> <a id="10643" href="Games.FiniteHistoryDependent.html#10643" class="Bound">Xf</a><a id="10645" class="Symbol">}</a> <a id="10647" class="Symbol">(</a><a id="10648" href="Games.FiniteHistoryDependent.html#10648" class="Bound">ε</a> <a id="10650" href="Games.TypeTrees.html#1319" class="InductiveConstructor Operator">::</a> <a id="10653" href="Games.FiniteHistoryDependent.html#10653" class="Bound">εf</a><a id="10655" class="Symbol">)</a> <a id="10657" class="Symbol">(</a><a id="10658" href="Games.FiniteHistoryDependent.html#10658" class="Bound">ϕ</a> <a id="10660" href="Games.TypeTrees.html#1319" class="InductiveConstructor Operator">::</a> <a id="10663" href="Games.FiniteHistoryDependent.html#10663" class="Bound">ϕf</a><a id="10665" class="Symbol">)</a> <a id="10667" class="Symbol">=</a> <a id="10669" class="Symbol">(</a><a id="10670" href="Games.FiniteHistoryDependent.html#10648" class="Bound">ε</a> <a id="10672" href="MonadOnTypes.JK.html#555" class="Function Operator">attains</a> <a id="10680" href="Games.FiniteHistoryDependent.html#10658" class="Bound">ϕ</a><a id="10681" class="Symbol">)</a>
                                       <a id="10722" href="MLTT.Sigma.html#558" class="Function Operator">×</a> <a id="10724" class="Symbol">((</a><a id="10726" href="Games.FiniteHistoryDependent.html#10726" class="Bound">x</a> <a id="10728" class="Symbol">:</a> <a id="10730" href="Games.FiniteHistoryDependent.html#10639" class="Bound">X</a><a id="10731" class="Symbol">)</a> <a id="10733" class="Symbol">→</a> <a id="10735" class="Symbol">(</a><a id="10736" href="Games.FiniteHistoryDependent.html#10653" class="Bound">εf</a> <a id="10739" href="Games.FiniteHistoryDependent.html#10726" class="Bound">x</a><a id="10740" class="Symbol">)</a> <a id="10742" href="Games.FiniteHistoryDependent.html#10543" class="Function Operator">Attains</a> <a id="10750" class="Symbol">(</a><a id="10751" href="Games.FiniteHistoryDependent.html#10663" class="Bound">ϕf</a> <a id="10754" href="Games.FiniteHistoryDependent.html#10726" class="Bound">x</a><a id="10755" class="Symbol">))</a>

<a id="10759" class="Markup">\end{code}</a><a id="10769" class="Background">

The following is the application of overline to each selection
function of a tree:

</a><a id="10855" class="Markup">\begin{code}</a>

<a id="Overline"></a><a id="10869" href="Games.FiniteHistoryDependent.html#10869" class="Function">Overline</a> <a id="10878" class="Symbol">:</a> <a id="10880" class="Symbol">{</a><a id="10881" href="Games.FiniteHistoryDependent.html#10881" class="Bound">Xt</a> <a id="10884" class="Symbol">:</a> <a id="10886" href="Games.TypeTrees.html#742" class="Datatype">𝑻</a><a id="10887" class="Symbol">}</a> <a id="10889" class="Symbol">→</a> <a id="10891" href="Games.FiniteHistoryDependent.html#8970" class="Function">𝓙</a> <a id="10893" href="Games.FiniteHistoryDependent.html#10881" class="Bound">Xt</a> <a id="10896" class="Symbol">→</a> <a id="10898" href="Games.FiniteHistoryDependent.html#2364" class="Function">𝓚</a> <a id="10900" href="Games.FiniteHistoryDependent.html#10881" class="Bound">Xt</a>
<a id="10903" href="Games.FiniteHistoryDependent.html#10869" class="Function">Overline</a> <a id="10912" class="Symbol">{</a><a id="10913" href="Games.TypeTrees.html#760" class="InductiveConstructor">[]</a><a id="10915" class="Symbol">}</a>     <a id="10921" href="Games.TypeTrees.html#1297" class="InductiveConstructor">⟨⟩</a>        <a id="10931" class="Symbol">=</a> <a id="10933" href="Games.TypeTrees.html#1297" class="InductiveConstructor">⟨⟩</a>
<a id="10936" href="Games.FiniteHistoryDependent.html#10869" class="Function">Overline</a> <a id="10945" class="Symbol">{</a><a id="10946" href="Games.FiniteHistoryDependent.html#10946" class="Bound">X</a> <a id="10948" href="Games.TypeTrees.html#770" class="InductiveConstructor Operator">∷</a> <a id="10950" href="Games.FiniteHistoryDependent.html#10950" class="Bound">Xf</a><a id="10952" class="Symbol">}</a> <a id="10954" class="Symbol">(</a><a id="10955" href="Games.FiniteHistoryDependent.html#10955" class="Bound">ε</a> <a id="10957" href="Games.TypeTrees.html#1319" class="InductiveConstructor Operator">::</a> <a id="10960" href="Games.FiniteHistoryDependent.html#10960" class="Bound">εf</a><a id="10962" class="Symbol">)</a> <a id="10964" class="Symbol">=</a> <a id="10966" href="MonadOnTypes.JK.html#282" class="Function">overline</a> <a id="10975" href="Games.FiniteHistoryDependent.html#10955" class="Bound">ε</a> <a id="10977" href="Games.TypeTrees.html#1319" class="InductiveConstructor Operator">::</a> <a id="10980" class="Symbol">(λ</a> <a id="10983" href="Games.FiniteHistoryDependent.html#10983" class="Bound">x</a> <a id="10985" class="Symbol">→</a> <a id="10987" href="Games.FiniteHistoryDependent.html#10869" class="Function">Overline</a> <a id="10996" class="Symbol">{</a><a id="10997" href="Games.FiniteHistoryDependent.html#10950" class="Bound">Xf</a> <a id="11000" href="Games.FiniteHistoryDependent.html#10983" class="Bound">x</a><a id="11001" class="Symbol">}</a> <a id="11003" class="Symbol">(</a><a id="11004" href="Games.FiniteHistoryDependent.html#10960" class="Bound">εf</a> <a id="11007" href="Games.FiniteHistoryDependent.html#10983" class="Bound">x</a><a id="11008" class="Symbol">))</a>

<a id="11012" class="Markup">\end{code}</a><a id="11022" class="Background">

The following is proved by straightforward induction on trees:

</a><a id="11088" class="Markup">\begin{code}</a>

<a id="observation"></a><a id="11102" href="Games.FiniteHistoryDependent.html#11102" class="Function">observation</a> <a id="11114" class="Symbol">:</a> <a id="11116" href="UF.FunExt.html#1047" class="Function">Fun-Ext</a>
            <a id="11136" class="Symbol">→</a> <a id="11138" class="Symbol">{</a><a id="11139" href="Games.FiniteHistoryDependent.html#11139" class="Bound">Xt</a> <a id="11142" class="Symbol">:</a> <a id="11144" href="Games.TypeTrees.html#742" class="Datatype">𝑻</a><a id="11145" class="Symbol">}</a> <a id="11147" class="Symbol">(</a><a id="11148" href="Games.FiniteHistoryDependent.html#11148" class="Bound">εt</a> <a id="11151" class="Symbol">:</a> <a id="11153" href="Games.FiniteHistoryDependent.html#8970" class="Function">𝓙</a> <a id="11155" href="Games.FiniteHistoryDependent.html#11139" class="Bound">Xt</a><a id="11157" class="Symbol">)</a> <a id="11159" class="Symbol">(</a><a id="11160" href="Games.FiniteHistoryDependent.html#11160" class="Bound">ϕt</a> <a id="11163" class="Symbol">:</a> <a id="11165" href="Games.FiniteHistoryDependent.html#2364" class="Function">𝓚</a> <a id="11167" href="Games.FiniteHistoryDependent.html#11139" class="Bound">Xt</a><a id="11169" class="Symbol">)</a>
            <a id="11183" class="Symbol">→</a> <a id="11185" href="Games.FiniteHistoryDependent.html#11148" class="Bound">εt</a> <a id="11188" href="Games.FiniteHistoryDependent.html#10543" class="Function Operator">Attains</a> <a id="11196" href="Games.FiniteHistoryDependent.html#11160" class="Bound">ϕt</a>
            <a id="11211" class="Symbol">→</a> <a id="11213" href="Games.FiniteHistoryDependent.html#10869" class="Function">Overline</a> <a id="11222" href="Games.FiniteHistoryDependent.html#11148" class="Bound">εt</a> <a id="11225" href="MLTT.Id.html#193" class="Datatype Operator">＝</a> <a id="11227" href="Games.FiniteHistoryDependent.html#11160" class="Bound">ϕt</a>
<a id="11230" href="Games.FiniteHistoryDependent.html#11102" class="Function">observation</a> <a id="11242" href="Games.FiniteHistoryDependent.html#11242" class="Bound">fe</a> <a id="11245" class="Symbol">{</a><a id="11246" href="Games.TypeTrees.html#760" class="InductiveConstructor">[]</a><a id="11248" class="Symbol">}</a>     <a id="11254" href="Games.TypeTrees.html#1297" class="InductiveConstructor">⟨⟩</a>        <a id="11264" href="Games.TypeTrees.html#1297" class="InductiveConstructor">⟨⟩</a>        <a id="11274" href="Games.TypeTrees.html#1297" class="InductiveConstructor">⟨⟩</a>        <a id="11284" class="Symbol">=</a> <a id="11286" href="MLTT.Identity-Type.html#157" class="InductiveConstructor">refl</a>
<a id="11291" href="Games.FiniteHistoryDependent.html#11102" class="Function">observation</a> <a id="11303" href="Games.FiniteHistoryDependent.html#11303" class="Bound">fe</a> <a id="11306" class="Symbol">{</a><a id="11307" href="Games.FiniteHistoryDependent.html#11307" class="Bound">X</a> <a id="11309" href="Games.TypeTrees.html#770" class="InductiveConstructor Operator">∷</a> <a id="11311" href="Games.FiniteHistoryDependent.html#11311" class="Bound">Xf</a><a id="11313" class="Symbol">}</a> <a id="11315" class="Symbol">(</a><a id="11316" href="Games.FiniteHistoryDependent.html#11316" class="Bound">ε</a> <a id="11318" href="Games.TypeTrees.html#1319" class="InductiveConstructor Operator">::</a> <a id="11321" href="Games.FiniteHistoryDependent.html#11321" class="Bound">εf</a><a id="11323" class="Symbol">)</a> <a id="11325" class="Symbol">(</a><a id="11326" href="Games.FiniteHistoryDependent.html#11326" class="Bound">ϕ</a> <a id="11328" href="Games.TypeTrees.html#1319" class="InductiveConstructor Operator">::</a> <a id="11331" href="Games.FiniteHistoryDependent.html#11331" class="Bound">ϕf</a><a id="11333" class="Symbol">)</a> <a id="11335" class="Symbol">(</a><a id="11336" href="Games.FiniteHistoryDependent.html#11336" class="Bound">a</a> <a id="11338" href="Games.TypeTrees.html#1319" class="InductiveConstructor Operator">::</a> <a id="11341" href="Games.FiniteHistoryDependent.html#11341" class="Bound">af</a><a id="11343" class="Symbol">)</a> <a id="11345" class="Symbol">=</a> <a id="11347" href="Games.FiniteHistoryDependent.html#11550" class="Function">γ</a>
 <a id="11350" class="Keyword">where</a>
  <a id="11358" href="Games.FiniteHistoryDependent.html#11358" class="Function">IH</a> <a id="11361" class="Symbol">:</a> <a id="11363" class="Symbol">(</a><a id="11364" href="Games.FiniteHistoryDependent.html#11364" class="Bound">x</a> <a id="11366" class="Symbol">:</a> <a id="11368" href="Games.FiniteHistoryDependent.html#11307" class="Bound">X</a><a id="11369" class="Symbol">)</a> <a id="11371" class="Symbol">→</a> <a id="11373" href="Games.FiniteHistoryDependent.html#10869" class="Function">Overline</a> <a id="11382" class="Symbol">(</a><a id="11383" href="Games.FiniteHistoryDependent.html#11321" class="Bound">εf</a> <a id="11386" href="Games.FiniteHistoryDependent.html#11364" class="Bound">x</a><a id="11387" class="Symbol">)</a> <a id="11389" href="MLTT.Id.html#193" class="Datatype Operator">＝</a> <a id="11391" href="Games.FiniteHistoryDependent.html#11331" class="Bound">ϕf</a> <a id="11394" href="Games.FiniteHistoryDependent.html#11364" class="Bound">x</a>
  <a id="11398" href="Games.FiniteHistoryDependent.html#11358" class="Function">IH</a> <a id="11401" href="Games.FiniteHistoryDependent.html#11401" class="Bound">x</a> <a id="11403" class="Symbol">=</a> <a id="11405" href="Games.FiniteHistoryDependent.html#11102" class="Function">observation</a> <a id="11417" href="Games.FiniteHistoryDependent.html#11303" class="Bound">fe</a> <a id="11420" class="Symbol">{</a><a id="11421" href="Games.FiniteHistoryDependent.html#11311" class="Bound">Xf</a> <a id="11424" href="Games.FiniteHistoryDependent.html#11401" class="Bound">x</a><a id="11425" class="Symbol">}</a> <a id="11427" class="Symbol">(</a><a id="11428" href="Games.FiniteHistoryDependent.html#11321" class="Bound">εf</a> <a id="11431" href="Games.FiniteHistoryDependent.html#11401" class="Bound">x</a><a id="11432" class="Symbol">)</a> <a id="11434" class="Symbol">(</a><a id="11435" href="Games.FiniteHistoryDependent.html#11331" class="Bound">ϕf</a> <a id="11438" href="Games.FiniteHistoryDependent.html#11401" class="Bound">x</a><a id="11439" class="Symbol">)</a> <a id="11441" class="Symbol">(</a><a id="11442" href="Games.FiniteHistoryDependent.html#11341" class="Bound">af</a> <a id="11445" href="Games.FiniteHistoryDependent.html#11401" class="Bound">x</a><a id="11446" class="Symbol">)</a>

  <a id="11451" href="Games.FiniteHistoryDependent.html#11451" class="Function">I</a> <a id="11453" class="Symbol">:</a> <a id="11455" href="MonadOnTypes.JK.html#282" class="Function">overline</a> <a id="11464" href="Games.FiniteHistoryDependent.html#11316" class="Bound">ε</a> <a id="11466" href="MLTT.Id.html#193" class="Datatype Operator">＝</a> <a id="11468" href="Games.FiniteHistoryDependent.html#11326" class="Bound">ϕ</a>
  <a id="11472" href="Games.FiniteHistoryDependent.html#11451" class="Function">I</a> <a id="11474" class="Symbol">=</a> <a id="11476" href="UF.FunExt.html#1242" class="Function">dfunext</a> <a id="11484" href="Games.FiniteHistoryDependent.html#11303" class="Bound">fe</a> <a id="11487" href="Games.FiniteHistoryDependent.html#11336" class="Bound">a</a>

  <a id="11492" href="Games.FiniteHistoryDependent.html#11492" class="Function">II</a> <a id="11495" class="Symbol">:</a> <a id="11497" class="Symbol">(λ</a> <a id="11500" href="Games.FiniteHistoryDependent.html#11500" class="Bound">x</a> <a id="11502" class="Symbol">→</a> <a id="11504" href="Games.FiniteHistoryDependent.html#10869" class="Function">Overline</a> <a id="11513" class="Symbol">(</a><a id="11514" href="Games.FiniteHistoryDependent.html#11321" class="Bound">εf</a> <a id="11517" href="Games.FiniteHistoryDependent.html#11500" class="Bound">x</a><a id="11518" class="Symbol">))</a> <a id="11521" href="MLTT.Id.html#193" class="Datatype Operator">＝</a> <a id="11523" href="Games.FiniteHistoryDependent.html#11331" class="Bound">ϕf</a>
  <a id="11528" href="Games.FiniteHistoryDependent.html#11492" class="Function">II</a> <a id="11531" class="Symbol">=</a> <a id="11533" href="UF.FunExt.html#1242" class="Function">dfunext</a> <a id="11541" href="Games.FiniteHistoryDependent.html#11303" class="Bound">fe</a> <a id="11544" href="Games.FiniteHistoryDependent.html#11358" class="Function">IH</a>

  <a id="11550" href="Games.FiniteHistoryDependent.html#11550" class="Function">γ</a> <a id="11552" class="Symbol">:</a> <a id="11554" href="MonadOnTypes.JK.html#282" class="Function">overline</a> <a id="11563" href="Games.FiniteHistoryDependent.html#11316" class="Bound">ε</a> <a id="11565" href="Games.TypeTrees.html#1319" class="InductiveConstructor Operator">::</a> <a id="11568" class="Symbol">(λ</a> <a id="11571" href="Games.FiniteHistoryDependent.html#11571" class="Bound">x</a> <a id="11573" class="Symbol">→</a> <a id="11575" href="Games.FiniteHistoryDependent.html#10869" class="Function">Overline</a> <a id="11584" class="Symbol">(</a><a id="11585" href="Games.FiniteHistoryDependent.html#11321" class="Bound">εf</a> <a id="11588" href="Games.FiniteHistoryDependent.html#11571" class="Bound">x</a><a id="11589" class="Symbol">))</a> <a id="11592" href="MLTT.Id.html#193" class="Datatype Operator">＝</a> <a id="11594" href="Games.FiniteHistoryDependent.html#11326" class="Bound">ϕ</a> <a id="11596" href="Games.TypeTrees.html#1319" class="InductiveConstructor Operator">::</a> <a id="11599" href="Games.FiniteHistoryDependent.html#11331" class="Bound">ϕf</a>
  <a id="11604" href="Games.FiniteHistoryDependent.html#11550" class="Function">γ</a> <a id="11606" class="Symbol">=</a> <a id="11608" href="UF.Base.html#8182" class="Function">ap₂</a> <a id="11612" href="Games.TypeTrees.html#1319" class="InductiveConstructor Operator">_::_</a> <a id="11617" href="Games.FiniteHistoryDependent.html#11451" class="Function">I</a> <a id="11619" href="Games.FiniteHistoryDependent.html#11492" class="Function">II</a>

<a id="observation-converse"></a><a id="11623" href="Games.FiniteHistoryDependent.html#11623" class="Function">observation-converse</a> <a id="11644" class="Symbol">:</a> <a id="11646" class="Symbol">{</a><a id="11647" href="Games.FiniteHistoryDependent.html#11647" class="Bound">Xt</a> <a id="11650" class="Symbol">:</a> <a id="11652" href="Games.TypeTrees.html#742" class="Datatype">𝑻</a><a id="11653" class="Symbol">}</a> <a id="11655" class="Symbol">(</a><a id="11656" href="Games.FiniteHistoryDependent.html#11656" class="Bound">εt</a> <a id="11659" class="Symbol">:</a> <a id="11661" href="Games.FiniteHistoryDependent.html#8970" class="Function">𝓙</a> <a id="11663" href="Games.FiniteHistoryDependent.html#11647" class="Bound">Xt</a><a id="11665" class="Symbol">)</a> <a id="11667" class="Symbol">(</a><a id="11668" href="Games.FiniteHistoryDependent.html#11668" class="Bound">ϕt</a> <a id="11671" class="Symbol">:</a> <a id="11673" href="Games.FiniteHistoryDependent.html#2364" class="Function">𝓚</a> <a id="11675" href="Games.FiniteHistoryDependent.html#11647" class="Bound">Xt</a><a id="11677" class="Symbol">)</a>
                     <a id="11700" class="Symbol">→</a> <a id="11702" href="Games.FiniteHistoryDependent.html#10869" class="Function">Overline</a> <a id="11711" href="Games.FiniteHistoryDependent.html#11656" class="Bound">εt</a> <a id="11714" href="MLTT.Id.html#193" class="Datatype Operator">＝</a> <a id="11716" href="Games.FiniteHistoryDependent.html#11668" class="Bound">ϕt</a>
                     <a id="11740" class="Symbol">→</a> <a id="11742" href="Games.FiniteHistoryDependent.html#11656" class="Bound">εt</a> <a id="11745" href="Games.FiniteHistoryDependent.html#10543" class="Function Operator">Attains</a> <a id="11753" href="Games.FiniteHistoryDependent.html#11668" class="Bound">ϕt</a>
<a id="11756" href="Games.FiniteHistoryDependent.html#11623" class="Function">observation-converse</a> <a id="11777" class="Symbol">{</a><a id="11778" href="Games.TypeTrees.html#760" class="InductiveConstructor">[]</a><a id="11780" class="Symbol">}</a>     <a id="11786" href="Games.FiniteHistoryDependent.html#11786" class="Bound">εt</a> <a id="11789" href="Games.FiniteHistoryDependent.html#11789" class="Bound">ϕt</a> <a id="11792" href="Games.FiniteHistoryDependent.html#11792" class="Bound">p</a> <a id="11794" class="Symbol">=</a> <a id="11796" href="Games.TypeTrees.html#1297" class="InductiveConstructor">⟨⟩</a>
<a id="11799" href="Games.FiniteHistoryDependent.html#11623" class="Function">observation-converse</a> <a id="11820" class="Symbol">{</a><a id="11821" href="Games.FiniteHistoryDependent.html#11821" class="Bound">X</a> <a id="11823" href="Games.TypeTrees.html#770" class="InductiveConstructor Operator">∷</a> <a id="11825" href="Games.FiniteHistoryDependent.html#11825" class="Bound">Xf</a><a id="11827" class="Symbol">}</a> <a id="11829" class="Symbol">(</a><a id="11830" href="Games.FiniteHistoryDependent.html#11830" class="Bound">ε</a> <a id="11832" href="Games.TypeTrees.html#1319" class="InductiveConstructor Operator">::</a> <a id="11835" href="Games.FiniteHistoryDependent.html#11835" class="Bound">εf</a><a id="11837" class="Symbol">)</a>
                     <a id="11860" class="Symbol">(</a><a id="11861" class="DottedPattern Symbol">.(λ</a> <a id="11865" href="Games.FiniteHistoryDependent.html#11865" class="DottedPattern Bound">p</a> <a id="11867" class="Symbol">→</a> <a id="11869" href="Games.FiniteHistoryDependent.html#11865" class="DottedPattern Bound">p</a> <a id="11871" class="DottedPattern Symbol">(</a><a id="11872" href="Games.FiniteHistoryDependent.html#11830" class="DottedPattern Bound">ε</a> <a id="11874" href="Games.FiniteHistoryDependent.html#11865" class="DottedPattern Bound">p</a><a id="11875" class="DottedPattern Symbol">))</a> <a id="11878" href="Games.TypeTrees.html#1319" class="InductiveConstructor Operator">::</a> <a id="11881" class="DottedPattern Symbol">.(λ</a> <a id="11885" href="Games.FiniteHistoryDependent.html#11885" class="DottedPattern Bound">x</a> <a id="11887" class="Symbol">→</a> <a id="11889" href="Games.FiniteHistoryDependent.html#10869" class="DottedPattern Function">Overline</a> <a id="11898" class="DottedPattern Symbol">(</a><a id="11899" href="Games.FiniteHistoryDependent.html#11835" class="DottedPattern Bound">εf</a> <a id="11902" href="Games.FiniteHistoryDependent.html#11885" class="DottedPattern Bound">x</a><a id="11903" class="DottedPattern Symbol">))</a><a id="11905" class="Symbol">)</a> <a id="11907" href="MLTT.Identity-Type.html#157" class="InductiveConstructor">refl</a> <a id="11912" class="Symbol">=</a>
 <a id="11915" class="Symbol">(λ</a> <a id="11918" href="Games.FiniteHistoryDependent.html#11918" class="Bound">x</a> <a id="11920" class="Symbol">→</a> <a id="11922" href="MLTT.Identity-Type.html#157" class="InductiveConstructor">refl</a><a id="11926" class="Symbol">)</a> <a id="11928" href="Games.TypeTrees.html#1319" class="InductiveConstructor Operator">::</a> <a id="11931" class="Symbol">(λ</a> <a id="11934" href="Games.FiniteHistoryDependent.html#11934" class="Bound">x</a> <a id="11936" class="Symbol">→</a> <a id="11938" href="Games.FiniteHistoryDependent.html#11623" class="Function">observation-converse</a> <a id="11959" class="Symbol">(</a><a id="11960" href="Games.FiniteHistoryDependent.html#11835" class="Bound">εf</a> <a id="11963" href="Games.FiniteHistoryDependent.html#11934" class="Bound">x</a><a id="11964" class="Symbol">)</a> <a id="11966" class="Symbol">(</a><a id="11967" href="Games.FiniteHistoryDependent.html#10869" class="Function">Overline</a> <a id="11976" class="Symbol">(</a><a id="11977" href="Games.FiniteHistoryDependent.html#11835" class="Bound">εf</a> <a id="11980" href="Games.FiniteHistoryDependent.html#11934" class="Bound">x</a><a id="11981" class="Symbol">))</a> <a id="11984" href="MLTT.Identity-Type.html#157" class="InductiveConstructor">refl</a><a id="11988" class="Symbol">)</a>

<a id="11991" class="Markup">\end{code}</a><a id="12001" class="Background">

Notice that the converse is also true, that is, if Overline εt ＝ ϕt
then εt are selections of ϕt, but we don&#39;t need this fact here.

</a><a id="12136" class="Markup">\begin{code}</a>

<a id="main-lemma"></a><a id="12150" href="Games.FiniteHistoryDependent.html#12150" class="Function">main-lemma</a> <a id="12161" class="Symbol">:</a> <a id="12163" class="Symbol">{</a><a id="12164" href="Games.FiniteHistoryDependent.html#12164" class="Bound">Xt</a> <a id="12167" class="Symbol">:</a> <a id="12169" href="Games.TypeTrees.html#742" class="Datatype">𝑻</a><a id="12170" class="Symbol">}</a> <a id="12172" class="Symbol">(</a><a id="12173" href="Games.FiniteHistoryDependent.html#12173" class="Bound">εt</a> <a id="12176" class="Symbol">:</a> <a id="12178" href="Games.FiniteHistoryDependent.html#8970" class="Function">𝓙</a> <a id="12180" href="Games.FiniteHistoryDependent.html#12164" class="Bound">Xt</a><a id="12182" class="Symbol">)</a> <a id="12184" class="Symbol">(</a><a id="12185" href="Games.FiniteHistoryDependent.html#12185" class="Bound">q</a> <a id="12187" class="Symbol">:</a> <a id="12189" href="Games.TypeTrees.html#929" class="Function">Path</a> <a id="12194" href="Games.FiniteHistoryDependent.html#12164" class="Bound">Xt</a> <a id="12197" class="Symbol">→</a> <a id="12199" href="Games.FiniteHistoryDependent.html#1635" class="Bound">R</a><a id="12200" class="Symbol">)</a>
           <a id="12213" class="Symbol">→</a> <a id="12215" href="Games.FiniteHistoryDependent.html#4248" class="Function">strategic-path</a> <a id="12230" class="Symbol">(</a><a id="12231" href="Games.FiniteHistoryDependent.html#9787" class="Function">selection-strategy</a> <a id="12250" href="Games.FiniteHistoryDependent.html#12173" class="Bound">εt</a> <a id="12253" href="Games.FiniteHistoryDependent.html#12185" class="Bound">q</a><a id="12254" class="Symbol">)</a>
           <a id="12267" href="MLTT.Id.html#193" class="Datatype Operator">＝</a> <a id="12269" href="Games.FiniteHistoryDependent.html#9488" class="Function">sequenceᴶ</a> <a id="12279" href="Games.FiniteHistoryDependent.html#12173" class="Bound">εt</a> <a id="12282" href="Games.FiniteHistoryDependent.html#12185" class="Bound">q</a>
<a id="12284" href="Games.FiniteHistoryDependent.html#12150" class="Function">main-lemma</a> <a id="12295" class="Symbol">{</a><a id="12296" href="Games.TypeTrees.html#760" class="InductiveConstructor">[]</a><a id="12298" class="Symbol">}</a>     <a id="12304" href="Games.TypeTrees.html#1297" class="InductiveConstructor">⟨⟩</a>           <a id="12317" href="Games.FiniteHistoryDependent.html#12317" class="Bound">q</a> <a id="12319" class="Symbol">=</a> <a id="12321" href="MLTT.Identity-Type.html#157" class="InductiveConstructor">refl</a>
<a id="12326" href="Games.FiniteHistoryDependent.html#12150" class="Function">main-lemma</a> <a id="12337" class="Symbol">{</a><a id="12338" href="Games.FiniteHistoryDependent.html#12338" class="Bound">X</a> <a id="12340" href="Games.TypeTrees.html#770" class="InductiveConstructor Operator">∷</a> <a id="12342" href="Games.FiniteHistoryDependent.html#12342" class="Bound">Xf</a><a id="12344" class="Symbol">}</a> <a id="12346" href="Games.FiniteHistoryDependent.html#12346" class="Bound">εt</a><a id="12348" class="Symbol">@(</a><a id="12350" href="Games.FiniteHistoryDependent.html#12350" class="Bound">ε</a> <a id="12352" href="Games.TypeTrees.html#1319" class="InductiveConstructor Operator">::</a> <a id="12355" href="Games.FiniteHistoryDependent.html#12355" class="Bound">εf</a><a id="12357" class="Symbol">)</a> <a id="12359" href="Games.FiniteHistoryDependent.html#12359" class="Bound">q</a> <a id="12361" class="Symbol">=</a>
 <a id="12364" href="Games.FiniteHistoryDependent.html#4248" class="Function">strategic-path</a> <a id="12379" class="Symbol">(</a><a id="12380" href="Games.FiniteHistoryDependent.html#9787" class="Function">selection-strategy</a> <a id="12399" class="Symbol">(</a><a id="12400" href="Games.FiniteHistoryDependent.html#12350" class="Bound">ε</a> <a id="12402" href="Games.TypeTrees.html#1319" class="InductiveConstructor Operator">::</a> <a id="12405" href="Games.FiniteHistoryDependent.html#12355" class="Bound">εf</a><a id="12407" class="Symbol">)</a> <a id="12409" href="Games.FiniteHistoryDependent.html#12359" class="Bound">q</a><a id="12410" class="Symbol">)</a> <a id="12412" href="MLTT.Id.html#2703" class="Function Operator">＝⟨</a> <a id="12415" href="MLTT.Identity-Type.html#157" class="InductiveConstructor">refl</a> <a id="12420" href="MLTT.Id.html#2703" class="Function Operator">⟩</a>
 <a id="12423" href="Games.FiniteHistoryDependent.html#12803" class="Function">x₀</a> <a id="12426" href="Games.TypeTrees.html#1319" class="InductiveConstructor Operator">::</a> <a id="12429" href="Games.FiniteHistoryDependent.html#4248" class="Function">strategic-path</a> <a id="12444" class="Symbol">(</a><a id="12445" href="Games.FiniteHistoryDependent.html#12848" class="Function">σf</a> <a id="12448" href="Games.FiniteHistoryDependent.html#12803" class="Function">x₀</a><a id="12450" class="Symbol">)</a>                    <a id="12471" href="MLTT.Id.html#2703" class="Function Operator">＝⟨</a> <a id="12474" href="MLTT.Id.html#1136" class="Function">ap</a> <a id="12477" class="Symbol">(</a><a id="12478" href="Games.FiniteHistoryDependent.html#12803" class="Function">x₀</a> <a id="12481" href="Games.TypeTrees.html#1319" class="InductiveConstructor Operator">::_</a><a id="12484" class="Symbol">)</a> <a id="12486" href="Games.FiniteHistoryDependent.html#12938" class="Function">IH</a> <a id="12489" href="MLTT.Id.html#2703" class="Function Operator">⟩</a>
 <a id="12492" href="Games.FiniteHistoryDependent.html#12803" class="Function">x₀</a> <a id="12495" href="Games.TypeTrees.html#1319" class="InductiveConstructor Operator">::</a> <a id="12498" href="Games.FiniteHistoryDependent.html#9488" class="Function">sequenceᴶ</a> <a id="12508" class="Symbol">{</a><a id="12509" href="Games.FiniteHistoryDependent.html#12342" class="Bound">Xf</a> <a id="12512" href="Games.FiniteHistoryDependent.html#12803" class="Function">x₀</a><a id="12514" class="Symbol">}</a> <a id="12516" class="Symbol">(</a><a id="12517" href="Games.FiniteHistoryDependent.html#12355" class="Bound">εf</a> <a id="12520" href="Games.FiniteHistoryDependent.html#12803" class="Function">x₀</a><a id="12522" class="Symbol">)</a> <a id="12524" class="Symbol">(</a><a id="12525" href="Games.TypeTrees.html#1645" class="Function">subpred</a> <a id="12533" href="Games.FiniteHistoryDependent.html#12359" class="Bound">q</a> <a id="12535" href="Games.FiniteHistoryDependent.html#12803" class="Function">x₀</a><a id="12537" class="Symbol">)</a>  <a id="12540" href="MLTT.Id.html#2703" class="Function Operator">＝⟨</a> <a id="12543" href="MLTT.Identity-Type.html#157" class="InductiveConstructor">refl</a> <a id="12548" href="MLTT.Id.html#2703" class="Function Operator">⟩</a>
 <a id="12551" href="Games.FiniteHistoryDependent.html#12803" class="Function">x₀</a> <a id="12554" href="Games.TypeTrees.html#1319" class="InductiveConstructor Operator">::</a> <a id="12557" href="Games.FiniteHistoryDependent.html#12728" class="Function">ν</a> <a id="12559" href="Games.FiniteHistoryDependent.html#12803" class="Function">x₀</a>                                      <a id="12599" href="MLTT.Id.html#2703" class="Function Operator">＝⟨</a> <a id="12602" href="MLTT.Identity-Type.html#157" class="InductiveConstructor">refl</a> <a id="12607" href="MLTT.Id.html#2703" class="Function Operator">⟩</a>
 <a id="12610" class="Symbol">(</a><a id="12611" href="Games.FiniteHistoryDependent.html#12350" class="Bound">ε</a> <a id="12613" href="MonadOnTypes.J.html#498" class="Function Operator">⊗ᴶ</a> <a id="12616" class="Symbol">(λ</a> <a id="12619" href="Games.FiniteHistoryDependent.html#12619" class="Bound">x</a> <a id="12621" class="Symbol">→</a> <a id="12623" href="Games.FiniteHistoryDependent.html#9488" class="Function">sequenceᴶ</a> <a id="12633" class="Symbol">{</a><a id="12634" href="Games.FiniteHistoryDependent.html#12342" class="Bound">Xf</a> <a id="12637" href="Games.FiniteHistoryDependent.html#12619" class="Bound">x</a><a id="12638" class="Symbol">}</a> <a id="12640" class="Symbol">(</a><a id="12641" href="Games.FiniteHistoryDependent.html#12355" class="Bound">εf</a> <a id="12644" href="Games.FiniteHistoryDependent.html#12619" class="Bound">x</a><a id="12645" class="Symbol">)))</a> <a id="12649" href="Games.FiniteHistoryDependent.html#12359" class="Bound">q</a>        <a id="12658" href="MLTT.Id.html#2703" class="Function Operator">＝⟨</a> <a id="12661" href="MLTT.Identity-Type.html#157" class="InductiveConstructor">refl</a> <a id="12666" href="MLTT.Id.html#2703" class="Function Operator">⟩</a>
 <a id="12669" href="Games.FiniteHistoryDependent.html#9488" class="Function">sequenceᴶ</a> <a id="12679" class="Symbol">(</a><a id="12680" href="Games.FiniteHistoryDependent.html#12350" class="Bound">ε</a> <a id="12682" href="Games.TypeTrees.html#1319" class="InductiveConstructor Operator">::</a> <a id="12685" href="Games.FiniteHistoryDependent.html#12355" class="Bound">εf</a><a id="12687" class="Symbol">)</a> <a id="12689" href="Games.FiniteHistoryDependent.html#12359" class="Bound">q</a>                           <a id="12717" href="MLTT.Id.html#2785" class="Function Operator">∎</a>
 <a id="12720" class="Keyword">where</a>
  <a id="12728" href="Games.FiniteHistoryDependent.html#12728" class="Function">ν</a> <a id="12730" class="Symbol">:</a> <a id="12732" class="Symbol">(</a><a id="12733" href="Games.FiniteHistoryDependent.html#12733" class="Bound">x</a> <a id="12735" class="Symbol">:</a> <a id="12737" href="Games.FiniteHistoryDependent.html#12338" class="Bound">X</a><a id="12738" class="Symbol">)</a> <a id="12740" class="Symbol">→</a> <a id="12742" href="Games.TypeTrees.html#929" class="Function">Path</a> <a id="12747" class="Symbol">(</a><a id="12748" href="Games.FiniteHistoryDependent.html#12342" class="Bound">Xf</a> <a id="12751" href="Games.FiniteHistoryDependent.html#12733" class="Bound">x</a><a id="12752" class="Symbol">)</a>
  <a id="12756" href="Games.FiniteHistoryDependent.html#12728" class="Function">ν</a> <a id="12758" href="Games.FiniteHistoryDependent.html#12758" class="Bound">x</a> <a id="12760" class="Symbol">=</a> <a id="12762" href="Games.FiniteHistoryDependent.html#9488" class="Function">sequenceᴶ</a> <a id="12772" class="Symbol">{</a><a id="12773" href="Games.FiniteHistoryDependent.html#12342" class="Bound">Xf</a> <a id="12776" href="Games.FiniteHistoryDependent.html#12758" class="Bound">x</a><a id="12777" class="Symbol">}</a> <a id="12779" class="Symbol">(</a><a id="12780" href="Games.FiniteHistoryDependent.html#12355" class="Bound">εf</a> <a id="12783" href="Games.FiniteHistoryDependent.html#12758" class="Bound">x</a><a id="12784" class="Symbol">)</a> <a id="12786" class="Symbol">(</a><a id="12787" href="Games.TypeTrees.html#1645" class="Function">subpred</a> <a id="12795" href="Games.FiniteHistoryDependent.html#12359" class="Bound">q</a> <a id="12797" href="Games.FiniteHistoryDependent.html#12758" class="Bound">x</a><a id="12798" class="Symbol">)</a>

  <a id="12803" href="Games.FiniteHistoryDependent.html#12803" class="Function">x₀</a> <a id="12806" class="Symbol">:</a> <a id="12808" href="Games.FiniteHistoryDependent.html#12338" class="Bound">X</a>
  <a id="12812" href="Games.FiniteHistoryDependent.html#12803" class="Function">x₀</a> <a id="12815" class="Symbol">=</a> <a id="12817" href="Games.FiniteHistoryDependent.html#12350" class="Bound">ε</a> <a id="12819" class="Symbol">(λ</a> <a id="12822" href="Games.FiniteHistoryDependent.html#12822" class="Bound">x</a> <a id="12824" class="Symbol">→</a> <a id="12826" href="Games.TypeTrees.html#1645" class="Function">subpred</a> <a id="12834" href="Games.FiniteHistoryDependent.html#12359" class="Bound">q</a> <a id="12836" href="Games.FiniteHistoryDependent.html#12822" class="Bound">x</a> <a id="12838" class="Symbol">(</a><a id="12839" href="Games.FiniteHistoryDependent.html#12728" class="Function">ν</a> <a id="12841" href="Games.FiniteHistoryDependent.html#12822" class="Bound">x</a><a id="12842" class="Symbol">))</a>

  <a id="12848" href="Games.FiniteHistoryDependent.html#12848" class="Function">σf</a> <a id="12851" class="Symbol">:</a> <a id="12853" class="Symbol">(</a><a id="12854" href="Games.FiniteHistoryDependent.html#12854" class="Bound">x</a> <a id="12856" class="Symbol">:</a> <a id="12858" href="Games.FiniteHistoryDependent.html#12338" class="Bound">X</a><a id="12859" class="Symbol">)</a> <a id="12861" class="Symbol">→</a> <a id="12863" href="Games.FiniteHistoryDependent.html#3735" class="Function">Strategy</a> <a id="12872" class="Symbol">(</a><a id="12873" href="Games.FiniteHistoryDependent.html#12342" class="Bound">Xf</a> <a id="12876" href="Games.FiniteHistoryDependent.html#12854" class="Bound">x</a><a id="12877" class="Symbol">)</a>
  <a id="12881" href="Games.FiniteHistoryDependent.html#12848" class="Function">σf</a> <a id="12884" href="Games.FiniteHistoryDependent.html#12884" class="Bound">x</a> <a id="12886" class="Symbol">=</a> <a id="12888" href="Games.FiniteHistoryDependent.html#9787" class="Function">selection-strategy</a> <a id="12907" class="Symbol">{</a><a id="12908" href="Games.FiniteHistoryDependent.html#12342" class="Bound">Xf</a> <a id="12911" href="Games.FiniteHistoryDependent.html#12884" class="Bound">x</a><a id="12912" class="Symbol">}</a> <a id="12914" class="Symbol">(</a><a id="12915" href="Games.FiniteHistoryDependent.html#12355" class="Bound">εf</a> <a id="12918" href="Games.FiniteHistoryDependent.html#12884" class="Bound">x</a><a id="12919" class="Symbol">)</a> <a id="12921" class="Symbol">(</a><a id="12922" href="Games.TypeTrees.html#1645" class="Function">subpred</a> <a id="12930" href="Games.FiniteHistoryDependent.html#12359" class="Bound">q</a> <a id="12932" href="Games.FiniteHistoryDependent.html#12884" class="Bound">x</a><a id="12933" class="Symbol">)</a>

  <a id="12938" href="Games.FiniteHistoryDependent.html#12938" class="Function">IH</a> <a id="12941" class="Symbol">:</a> <a id="12943" href="Games.FiniteHistoryDependent.html#4248" class="Function">strategic-path</a> <a id="12958" class="Symbol">(</a><a id="12959" href="Games.FiniteHistoryDependent.html#12848" class="Function">σf</a> <a id="12962" href="Games.FiniteHistoryDependent.html#12803" class="Function">x₀</a><a id="12964" class="Symbol">)</a> <a id="12966" href="MLTT.Id.html#193" class="Datatype Operator">＝</a> <a id="12968" href="Games.FiniteHistoryDependent.html#9488" class="Function">sequenceᴶ</a> <a id="12978" class="Symbol">{</a><a id="12979" href="Games.FiniteHistoryDependent.html#12342" class="Bound">Xf</a> <a id="12982" href="Games.FiniteHistoryDependent.html#12803" class="Function">x₀</a><a id="12984" class="Symbol">}</a> <a id="12986" class="Symbol">(</a><a id="12987" href="Games.FiniteHistoryDependent.html#12355" class="Bound">εf</a> <a id="12990" href="Games.FiniteHistoryDependent.html#12803" class="Function">x₀</a><a id="12992" class="Symbol">)</a> <a id="12994" class="Symbol">(</a><a id="12995" href="Games.TypeTrees.html#1645" class="Function">subpred</a> <a id="13003" href="Games.FiniteHistoryDependent.html#12359" class="Bound">q</a> <a id="13005" href="Games.FiniteHistoryDependent.html#12803" class="Function">x₀</a><a id="13007" class="Symbol">)</a>
  <a id="13011" href="Games.FiniteHistoryDependent.html#12938" class="Function">IH</a> <a id="13014" class="Symbol">=</a> <a id="13016" href="Games.FiniteHistoryDependent.html#12150" class="Function">main-lemma</a> <a id="13027" class="Symbol">(</a><a id="13028" href="Games.FiniteHistoryDependent.html#12355" class="Bound">εf</a> <a id="13031" href="Games.FiniteHistoryDependent.html#12803" class="Function">x₀</a><a id="13033" class="Symbol">)</a> <a id="13035" class="Symbol">(</a><a id="13036" href="Games.TypeTrees.html#1645" class="Function">subpred</a> <a id="13044" href="Games.FiniteHistoryDependent.html#12359" class="Bound">q</a> <a id="13046" href="Games.FiniteHistoryDependent.html#12803" class="Function">x₀</a><a id="13048" class="Symbol">)</a>

<a id="selection-strategy-lemma"></a><a id="13051" href="Games.FiniteHistoryDependent.html#13051" class="Function">selection-strategy-lemma</a> <a id="13076" class="Symbol">:</a> <a id="13078" href="UF.FunExt.html#1047" class="Function">Fun-Ext</a>
                         <a id="13111" class="Symbol">→</a> <a id="13113" class="Symbol">{</a><a id="13114" href="Games.FiniteHistoryDependent.html#13114" class="Bound">Xt</a> <a id="13117" class="Symbol">:</a> <a id="13119" href="Games.TypeTrees.html#742" class="Datatype">𝑻</a><a id="13120" class="Symbol">}</a> <a id="13122" class="Symbol">(</a><a id="13123" href="Games.FiniteHistoryDependent.html#13123" class="Bound">εt</a> <a id="13126" class="Symbol">:</a> <a id="13128" href="Games.FiniteHistoryDependent.html#8970" class="Function">𝓙</a> <a id="13130" href="Games.FiniteHistoryDependent.html#13114" class="Bound">Xt</a><a id="13132" class="Symbol">)</a> <a id="13134" class="Symbol">(</a><a id="13135" href="Games.FiniteHistoryDependent.html#13135" class="Bound">q</a> <a id="13137" class="Symbol">:</a> <a id="13139" href="Games.TypeTrees.html#929" class="Function">Path</a> <a id="13144" href="Games.FiniteHistoryDependent.html#13114" class="Bound">Xt</a> <a id="13147" class="Symbol">→</a> <a id="13149" href="Games.FiniteHistoryDependent.html#1635" class="Bound">R</a><a id="13150" class="Symbol">)</a>
                         <a id="13177" class="Symbol">→</a> <a id="13179" href="Games.FiniteHistoryDependent.html#5881" class="Function">is-in-sgpe</a> <a id="13190" class="Symbol">(</a><a id="13191" href="Games.FiniteHistoryDependent.html#10869" class="Function">Overline</a> <a id="13200" href="Games.FiniteHistoryDependent.html#13123" class="Bound">εt</a><a id="13202" class="Symbol">)</a> <a id="13204" href="Games.FiniteHistoryDependent.html#13135" class="Bound">q</a> <a id="13206" class="Symbol">(</a><a id="13207" href="Games.FiniteHistoryDependent.html#9787" class="Function">selection-strategy</a> <a id="13226" href="Games.FiniteHistoryDependent.html#13123" class="Bound">εt</a> <a id="13229" href="Games.FiniteHistoryDependent.html#13135" class="Bound">q</a><a id="13230" class="Symbol">)</a>
<a id="13232" href="Games.FiniteHistoryDependent.html#13051" class="Function">selection-strategy-lemma</a> <a id="13257" href="Games.FiniteHistoryDependent.html#13257" class="Bound">fe</a> <a id="13260" class="Symbol">{</a><a id="13261" href="Games.TypeTrees.html#760" class="InductiveConstructor">[]</a><a id="13263" class="Symbol">}</a>     <a id="13269" href="Games.TypeTrees.html#1297" class="InductiveConstructor">⟨⟩</a>           <a id="13282" href="Games.FiniteHistoryDependent.html#13282" class="Bound">q</a> <a id="13284" class="Symbol">=</a> <a id="13286" href="Games.TypeTrees.html#1297" class="InductiveConstructor">⟨⟩</a>
<a id="13289" href="Games.FiniteHistoryDependent.html#13051" class="Function">selection-strategy-lemma</a> <a id="13314" href="Games.FiniteHistoryDependent.html#13314" class="Bound">fe</a> <a id="13317" class="Symbol">{</a><a id="13318" href="Games.FiniteHistoryDependent.html#13318" class="Bound">X</a> <a id="13320" href="Games.TypeTrees.html#770" class="InductiveConstructor Operator">∷</a> <a id="13322" href="Games.FiniteHistoryDependent.html#13322" class="Bound">Xf</a><a id="13324" class="Symbol">}</a> <a id="13326" href="Games.FiniteHistoryDependent.html#13326" class="Bound">εt</a><a id="13328" class="Symbol">@(</a><a id="13330" href="Games.FiniteHistoryDependent.html#13330" class="Bound">ε</a> <a id="13332" href="Games.TypeTrees.html#1319" class="InductiveConstructor Operator">::</a> <a id="13335" href="Games.FiniteHistoryDependent.html#13335" class="Bound">εf</a><a id="13337" class="Symbol">)</a> <a id="13339" href="Games.FiniteHistoryDependent.html#13339" class="Bound">q</a> <a id="13341" class="Symbol">=</a> <a id="13343" href="Games.FiniteHistoryDependent.html#14251" class="Function">γ</a>
 <a id="13346" class="Keyword">where</a>
  <a id="13354" href="Games.FiniteHistoryDependent.html#13354" class="Function">σf</a> <a id="13357" class="Symbol">:</a> <a id="13359" class="Symbol">(</a><a id="13360" href="Games.FiniteHistoryDependent.html#13360" class="Bound">x</a> <a id="13362" class="Symbol">:</a> <a id="13364" href="Games.FiniteHistoryDependent.html#13318" class="Bound">X</a><a id="13365" class="Symbol">)</a> <a id="13367" class="Symbol">→</a> <a id="13369" href="Games.FiniteHistoryDependent.html#3735" class="Function">Strategy</a> <a id="13378" class="Symbol">(</a><a id="13379" href="Games.FiniteHistoryDependent.html#13322" class="Bound">Xf</a> <a id="13382" href="Games.FiniteHistoryDependent.html#13360" class="Bound">x</a><a id="13383" class="Symbol">)</a>
  <a id="13387" href="Games.FiniteHistoryDependent.html#13354" class="Function">σf</a> <a id="13390" href="Games.FiniteHistoryDependent.html#13390" class="Bound">x</a> <a id="13392" class="Symbol">=</a> <a id="13394" href="Games.FiniteHistoryDependent.html#9787" class="Function">selection-strategy</a> <a id="13413" class="Symbol">(</a><a id="13414" href="Games.FiniteHistoryDependent.html#13335" class="Bound">εf</a> <a id="13417" href="Games.FiniteHistoryDependent.html#13390" class="Bound">x</a><a id="13418" class="Symbol">)</a> <a id="13420" class="Symbol">(</a><a id="13421" href="Games.TypeTrees.html#1645" class="Function">subpred</a> <a id="13429" href="Games.FiniteHistoryDependent.html#13339" class="Bound">q</a> <a id="13431" href="Games.FiniteHistoryDependent.html#13390" class="Bound">x</a><a id="13432" class="Symbol">)</a>

  <a id="13437" href="Games.FiniteHistoryDependent.html#13437" class="Function">x₀</a> <a id="13440" href="Games.FiniteHistoryDependent.html#13440" class="Function">x₁</a> <a id="13443" class="Symbol">:</a> <a id="13445" href="Games.FiniteHistoryDependent.html#13318" class="Bound">X</a>
  <a id="13449" href="Games.FiniteHistoryDependent.html#13437" class="Function">x₀</a> <a id="13452" class="Symbol">=</a> <a id="13454" href="Games.FiniteHistoryDependent.html#13330" class="Bound">ε</a> <a id="13456" class="Symbol">(λ</a> <a id="13459" href="Games.FiniteHistoryDependent.html#13459" class="Bound">x</a> <a id="13461" class="Symbol">→</a> <a id="13463" href="Games.TypeTrees.html#1645" class="Function">subpred</a> <a id="13471" href="Games.FiniteHistoryDependent.html#13339" class="Bound">q</a> <a id="13473" href="Games.FiniteHistoryDependent.html#13459" class="Bound">x</a> <a id="13475" class="Symbol">(</a><a id="13476" href="Games.FiniteHistoryDependent.html#9488" class="Function">sequenceᴶ</a> <a id="13486" class="Symbol">(</a><a id="13487" href="Games.FiniteHistoryDependent.html#13335" class="Bound">εf</a> <a id="13490" href="Games.FiniteHistoryDependent.html#13459" class="Bound">x</a><a id="13491" class="Symbol">)</a> <a id="13493" class="Symbol">(</a><a id="13494" href="Games.TypeTrees.html#1645" class="Function">subpred</a> <a id="13502" href="Games.FiniteHistoryDependent.html#13339" class="Bound">q</a> <a id="13504" href="Games.FiniteHistoryDependent.html#13459" class="Bound">x</a><a id="13505" class="Symbol">)))</a>
  <a id="13511" href="Games.FiniteHistoryDependent.html#13440" class="Function">x₁</a> <a id="13514" class="Symbol">=</a> <a id="13516" href="Games.FiniteHistoryDependent.html#13330" class="Bound">ε</a> <a id="13518" class="Symbol">(λ</a> <a id="13521" href="Games.FiniteHistoryDependent.html#13521" class="Bound">x</a> <a id="13523" class="Symbol">→</a> <a id="13525" href="Games.TypeTrees.html#1645" class="Function">subpred</a> <a id="13533" href="Games.FiniteHistoryDependent.html#13339" class="Bound">q</a> <a id="13535" href="Games.FiniteHistoryDependent.html#13521" class="Bound">x</a> <a id="13537" class="Symbol">(</a><a id="13538" href="Games.FiniteHistoryDependent.html#4248" class="Function">strategic-path</a> <a id="13553" class="Symbol">(</a><a id="13554" href="Games.FiniteHistoryDependent.html#13354" class="Function">σf</a> <a id="13557" href="Games.FiniteHistoryDependent.html#13521" class="Bound">x</a><a id="13558" class="Symbol">)))</a>

  <a id="13565" href="Games.FiniteHistoryDependent.html#13565" class="Function">I</a> <a id="13567" class="Symbol">:</a> <a id="13569" class="Symbol">(</a><a id="13570" href="Games.FiniteHistoryDependent.html#13570" class="Bound">x</a> <a id="13572" class="Symbol">:</a> <a id="13574" href="Games.FiniteHistoryDependent.html#13318" class="Bound">X</a><a id="13575" class="Symbol">)</a> <a id="13577" class="Symbol">→</a> <a id="13579" href="Games.FiniteHistoryDependent.html#4248" class="Function">strategic-path</a> <a id="13594" class="Symbol">(</a><a id="13595" href="Games.FiniteHistoryDependent.html#13354" class="Function">σf</a> <a id="13598" href="Games.FiniteHistoryDependent.html#13570" class="Bound">x</a><a id="13599" class="Symbol">)</a> <a id="13601" href="MLTT.Id.html#193" class="Datatype Operator">＝</a> <a id="13603" href="Games.FiniteHistoryDependent.html#9488" class="Function">sequenceᴶ</a> <a id="13613" class="Symbol">(</a><a id="13614" href="Games.FiniteHistoryDependent.html#13335" class="Bound">εf</a> <a id="13617" href="Games.FiniteHistoryDependent.html#13570" class="Bound">x</a><a id="13618" class="Symbol">)</a> <a id="13620" class="Symbol">(</a><a id="13621" href="Games.TypeTrees.html#1645" class="Function">subpred</a> <a id="13629" href="Games.FiniteHistoryDependent.html#13339" class="Bound">q</a> <a id="13631" href="Games.FiniteHistoryDependent.html#13570" class="Bound">x</a><a id="13632" class="Symbol">)</a>
  <a id="13636" href="Games.FiniteHistoryDependent.html#13565" class="Function">I</a> <a id="13638" href="Games.FiniteHistoryDependent.html#13638" class="Bound">x</a> <a id="13640" class="Symbol">=</a> <a id="13642" href="Games.FiniteHistoryDependent.html#12150" class="Function">main-lemma</a> <a id="13653" class="Symbol">(</a><a id="13654" href="Games.FiniteHistoryDependent.html#13335" class="Bound">εf</a> <a id="13657" href="Games.FiniteHistoryDependent.html#13638" class="Bound">x</a><a id="13658" class="Symbol">)</a> <a id="13660" class="Symbol">(</a><a id="13661" href="Games.TypeTrees.html#1645" class="Function">subpred</a> <a id="13669" href="Games.FiniteHistoryDependent.html#13339" class="Bound">q</a> <a id="13671" href="Games.FiniteHistoryDependent.html#13638" class="Bound">x</a><a id="13672" class="Symbol">)</a>

  <a id="13677" href="Games.FiniteHistoryDependent.html#13677" class="Function">II</a> <a id="13680" class="Symbol">:</a> <a id="13682" href="Games.FiniteHistoryDependent.html#13440" class="Function">x₁</a> <a id="13685" href="MLTT.Id.html#193" class="Datatype Operator">＝</a> <a id="13687" href="Games.FiniteHistoryDependent.html#13437" class="Function">x₀</a>
  <a id="13692" href="Games.FiniteHistoryDependent.html#13677" class="Function">II</a> <a id="13695" class="Symbol">=</a> <a id="13697" href="MLTT.Id.html#1136" class="Function">ap</a> <a id="13700" class="Symbol">(λ</a> <a id="13703" href="Games.FiniteHistoryDependent.html#13703" class="Bound">-</a> <a id="13705" class="Symbol">→</a> <a id="13707" href="Games.FiniteHistoryDependent.html#13330" class="Bound">ε</a> <a id="13709" class="Symbol">(λ</a> <a id="13712" href="Games.FiniteHistoryDependent.html#13712" class="Bound">x</a> <a id="13714" class="Symbol">→</a> <a id="13716" href="Games.TypeTrees.html#1645" class="Function">subpred</a> <a id="13724" href="Games.FiniteHistoryDependent.html#13339" class="Bound">q</a> <a id="13726" href="Games.FiniteHistoryDependent.html#13712" class="Bound">x</a> <a id="13728" class="Symbol">(</a><a id="13729" href="Games.FiniteHistoryDependent.html#13703" class="Bound">-</a> <a id="13731" href="Games.FiniteHistoryDependent.html#13712" class="Bound">x</a><a id="13732" class="Symbol">)))</a> <a id="13736" class="Symbol">(</a><a id="13737" href="UF.FunExt.html#1242" class="Function">dfunext</a> <a id="13745" href="Games.FiniteHistoryDependent.html#13314" class="Bound">fe</a> <a id="13748" href="Games.FiniteHistoryDependent.html#13565" class="Function">I</a><a id="13749" class="Symbol">)</a>

  <a id="13754" href="Games.FiniteHistoryDependent.html#13754" class="Function">III</a> <a id="13758" class="Symbol">=</a> <a id="13760" href="MonadOnTypes.JK.html#282" class="Function">overline</a> <a id="13769" href="Games.FiniteHistoryDependent.html#13330" class="Bound">ε</a> <a id="13771" class="Symbol">(λ</a> <a id="13774" href="Games.FiniteHistoryDependent.html#13774" class="Bound">x</a> <a id="13776" class="Symbol">→</a> <a id="13778" href="Games.TypeTrees.html#1645" class="Function">subpred</a> <a id="13786" href="Games.FiniteHistoryDependent.html#13339" class="Bound">q</a> <a id="13788" href="Games.FiniteHistoryDependent.html#13774" class="Bound">x</a> <a id="13790" class="Symbol">(</a><a id="13791" href="Games.FiniteHistoryDependent.html#4248" class="Function">strategic-path</a> <a id="13806" class="Symbol">(</a><a id="13807" href="Games.FiniteHistoryDependent.html#13354" class="Function">σf</a> <a id="13810" href="Games.FiniteHistoryDependent.html#13774" class="Bound">x</a><a id="13811" class="Symbol">)))</a> <a id="13815" href="MLTT.Id.html#2703" class="Function Operator">＝⟨</a> <a id="13818" href="MLTT.Identity-Type.html#157" class="InductiveConstructor">refl</a> <a id="13823" href="MLTT.Id.html#2703" class="Function Operator">⟩</a>
        <a id="13833" href="Games.TypeTrees.html#1645" class="Function">subpred</a> <a id="13841" href="Games.FiniteHistoryDependent.html#13339" class="Bound">q</a> <a id="13843" href="Games.FiniteHistoryDependent.html#13440" class="Function">x₁</a> <a id="13846" class="Symbol">(</a><a id="13847" href="Games.FiniteHistoryDependent.html#4248" class="Function">strategic-path</a> <a id="13862" class="Symbol">(</a><a id="13863" href="Games.FiniteHistoryDependent.html#13354" class="Function">σf</a> <a id="13866" href="Games.FiniteHistoryDependent.html#13440" class="Function">x₁</a><a id="13868" class="Symbol">))</a>                  <a id="13888" href="MLTT.Id.html#2703" class="Function Operator">＝⟨</a> <a id="13891" href="Games.FiniteHistoryDependent.html#13975" class="Function">IV</a> <a id="13894" href="MLTT.Id.html#2703" class="Function Operator">⟩</a>
        <a id="13904" href="Games.TypeTrees.html#1645" class="Function">subpred</a> <a id="13912" href="Games.FiniteHistoryDependent.html#13339" class="Bound">q</a> <a id="13914" href="Games.FiniteHistoryDependent.html#13437" class="Function">x₀</a> <a id="13917" class="Symbol">(</a><a id="13918" href="Games.FiniteHistoryDependent.html#4248" class="Function">strategic-path</a> <a id="13933" class="Symbol">(</a><a id="13934" href="Games.FiniteHistoryDependent.html#13354" class="Function">σf</a> <a id="13937" href="Games.FiniteHistoryDependent.html#13437" class="Function">x₀</a><a id="13939" class="Symbol">))</a>                  <a id="13959" href="MLTT.Id.html#2785" class="Function Operator">∎</a>

   <a id="13965" class="Keyword">where</a>
    <a id="13975" href="Games.FiniteHistoryDependent.html#13975" class="Function">IV</a> <a id="13978" class="Symbol">=</a> <a id="13980" href="MLTT.Id.html#1136" class="Function">ap</a> <a id="13983" class="Symbol">(λ</a> <a id="13986" href="Games.FiniteHistoryDependent.html#13986" class="Bound">-</a> <a id="13988" class="Symbol">→</a> <a id="13990" href="Games.TypeTrees.html#1645" class="Function">subpred</a> <a id="13998" href="Games.FiniteHistoryDependent.html#13339" class="Bound">q</a> <a id="14000" href="Games.FiniteHistoryDependent.html#13986" class="Bound">-</a> <a id="14002" class="Symbol">(</a><a id="14003" href="Games.FiniteHistoryDependent.html#4248" class="Function">strategic-path</a> <a id="14018" class="Symbol">(</a><a id="14019" href="Games.FiniteHistoryDependent.html#13354" class="Function">σf</a> <a id="14022" href="Games.FiniteHistoryDependent.html#13986" class="Bound">-</a><a id="14023" class="Symbol">)))</a> <a id="14027" href="Games.FiniteHistoryDependent.html#13677" class="Function">II</a>

  <a id="14033" href="Games.FiniteHistoryDependent.html#14033" class="Function">IH</a> <a id="14036" class="Symbol">:</a> <a id="14038" class="Symbol">(</a><a id="14039" href="Games.FiniteHistoryDependent.html#14039" class="Bound">x</a> <a id="14041" class="Symbol">:</a> <a id="14043" href="Games.FiniteHistoryDependent.html#13318" class="Bound">X</a><a id="14044" class="Symbol">)</a> <a id="14046" class="Symbol">→</a> <a id="14048" href="Games.FiniteHistoryDependent.html#5881" class="Function">is-in-sgpe</a>
                   <a id="14078" class="Symbol">(</a><a id="14079" href="Games.FiniteHistoryDependent.html#10869" class="Function">Overline</a> <a id="14088" class="Symbol">(</a><a id="14089" href="Games.FiniteHistoryDependent.html#13335" class="Bound">εf</a> <a id="14092" href="Games.FiniteHistoryDependent.html#14039" class="Bound">x</a><a id="14093" class="Symbol">))</a>
                   <a id="14115" class="Symbol">(</a><a id="14116" href="Games.TypeTrees.html#1645" class="Function">subpred</a> <a id="14124" href="Games.FiniteHistoryDependent.html#13339" class="Bound">q</a> <a id="14126" href="Games.FiniteHistoryDependent.html#14039" class="Bound">x</a><a id="14127" class="Symbol">)</a>
                   <a id="14148" class="Symbol">(</a><a id="14149" href="Games.FiniteHistoryDependent.html#9787" class="Function">selection-strategy</a> <a id="14168" class="Symbol">(</a><a id="14169" href="Games.FiniteHistoryDependent.html#13335" class="Bound">εf</a> <a id="14172" href="Games.FiniteHistoryDependent.html#14039" class="Bound">x</a><a id="14173" class="Symbol">)</a> <a id="14175" class="Symbol">(</a><a id="14176" href="Games.TypeTrees.html#1645" class="Function">subpred</a> <a id="14184" href="Games.FiniteHistoryDependent.html#13339" class="Bound">q</a> <a id="14186" href="Games.FiniteHistoryDependent.html#14039" class="Bound">x</a><a id="14187" class="Symbol">))</a>
  <a id="14192" href="Games.FiniteHistoryDependent.html#14033" class="Function">IH</a> <a id="14195" href="Games.FiniteHistoryDependent.html#14195" class="Bound">x</a> <a id="14197" class="Symbol">=</a> <a id="14199" href="Games.FiniteHistoryDependent.html#13051" class="Function">selection-strategy-lemma</a> <a id="14224" href="Games.FiniteHistoryDependent.html#13314" class="Bound">fe</a> <a id="14227" class="Symbol">(</a><a id="14228" href="Games.FiniteHistoryDependent.html#13335" class="Bound">εf</a> <a id="14231" href="Games.FiniteHistoryDependent.html#14195" class="Bound">x</a><a id="14232" class="Symbol">)</a> <a id="14234" class="Symbol">(</a><a id="14235" href="Games.TypeTrees.html#1645" class="Function">subpred</a> <a id="14243" href="Games.FiniteHistoryDependent.html#13339" class="Bound">q</a> <a id="14245" href="Games.FiniteHistoryDependent.html#14195" class="Bound">x</a><a id="14246" class="Symbol">)</a>

  <a id="14251" href="Games.FiniteHistoryDependent.html#14251" class="Function">γ</a> <a id="14253" class="Symbol">:</a> <a id="14255" href="Games.FiniteHistoryDependent.html#5881" class="Function">is-in-sgpe</a> <a id="14266" class="Symbol">(</a><a id="14267" href="Games.FiniteHistoryDependent.html#10869" class="Function">Overline</a> <a id="14276" href="Games.FiniteHistoryDependent.html#13326" class="Bound">εt</a><a id="14278" class="Symbol">)</a> <a id="14280" href="Games.FiniteHistoryDependent.html#13339" class="Bound">q</a> <a id="14282" class="Symbol">(</a><a id="14283" href="Games.FiniteHistoryDependent.html#13437" class="Function">x₀</a> <a id="14286" href="Games.TypeTrees.html#1319" class="InductiveConstructor Operator">::</a> <a id="14289" href="Games.FiniteHistoryDependent.html#13354" class="Function">σf</a><a id="14291" class="Symbol">)</a>
  <a id="14295" href="Games.FiniteHistoryDependent.html#14251" class="Function">γ</a> <a id="14297" class="Symbol">=</a> <a id="14299" class="Symbol">(</a><a id="14300" href="Games.FiniteHistoryDependent.html#13754" class="Function">III</a> <a id="14304" href="MLTT.Id.html#1055" class="Function Operator">⁻¹</a><a id="14306" class="Symbol">)</a> <a id="14308" href="Games.TypeTrees.html#1319" class="InductiveConstructor Operator">::</a> <a id="14311" href="Games.FiniteHistoryDependent.html#14033" class="Function">IH</a>

<a id="14315" class="Markup">\end{code}</a><a id="14325" class="Background">

The following, which shows how to use selection functions to compute
optimal strategies, corresponds to Theorem 6.2 of [1].

</a><a id="14452" class="Markup">\begin{code}</a>

<a id="selection-strategy-theorem"></a><a id="14466" href="Games.FiniteHistoryDependent.html#14466" class="Function">selection-strategy-theorem</a> <a id="14493" class="Symbol">:</a> <a id="14495" href="UF.FunExt.html#1047" class="Function">Fun-Ext</a>
                           <a id="14530" class="Symbol">→</a> <a id="14532" class="Symbol">{</a><a id="14533" href="Games.FiniteHistoryDependent.html#14533" class="Bound">Xt</a> <a id="14536" class="Symbol">:</a> <a id="14538" href="Games.TypeTrees.html#742" class="Datatype">𝑻</a><a id="14539" class="Symbol">}</a> <a id="14541" class="Symbol">(</a><a id="14542" href="Games.FiniteHistoryDependent.html#14542" class="Bound">εt</a> <a id="14545" class="Symbol">:</a> <a id="14547" href="Games.FiniteHistoryDependent.html#8970" class="Function">𝓙</a> <a id="14549" href="Games.FiniteHistoryDependent.html#14533" class="Bound">Xt</a><a id="14551" class="Symbol">)</a>
                             <a id="14582" class="Symbol">(</a><a id="14583" href="Games.FiniteHistoryDependent.html#14583" class="Bound">ϕt</a> <a id="14586" class="Symbol">:</a> <a id="14588" href="Games.FiniteHistoryDependent.html#2364" class="Function">𝓚</a> <a id="14590" href="Games.FiniteHistoryDependent.html#14533" class="Bound">Xt</a><a id="14592" class="Symbol">)</a> <a id="14594" class="Symbol">(</a><a id="14595" href="Games.FiniteHistoryDependent.html#14595" class="Bound">q</a> <a id="14597" class="Symbol">:</a> <a id="14599" href="Games.TypeTrees.html#929" class="Function">Path</a> <a id="14604" href="Games.FiniteHistoryDependent.html#14533" class="Bound">Xt</a> <a id="14607" class="Symbol">→</a> <a id="14609" href="Games.FiniteHistoryDependent.html#1635" class="Bound">R</a><a id="14610" class="Symbol">)</a>
                           <a id="14639" class="Symbol">→</a> <a id="14641" href="Games.FiniteHistoryDependent.html#14542" class="Bound">εt</a> <a id="14644" href="Games.FiniteHistoryDependent.html#10543" class="Function Operator">Attains</a> <a id="14652" href="Games.FiniteHistoryDependent.html#14583" class="Bound">ϕt</a>
                           <a id="14682" class="Symbol">→</a> <a id="14684" href="Games.FiniteHistoryDependent.html#5881" class="Function">is-in-sgpe</a> <a id="14695" href="Games.FiniteHistoryDependent.html#14583" class="Bound">ϕt</a> <a id="14698" href="Games.FiniteHistoryDependent.html#14595" class="Bound">q</a> <a id="14700" class="Symbol">(</a><a id="14701" href="Games.FiniteHistoryDependent.html#9787" class="Function">selection-strategy</a> <a id="14720" href="Games.FiniteHistoryDependent.html#14542" class="Bound">εt</a> <a id="14723" href="Games.FiniteHistoryDependent.html#14595" class="Bound">q</a><a id="14724" class="Symbol">)</a>
<a id="14726" href="Games.FiniteHistoryDependent.html#14466" class="Function">selection-strategy-theorem</a> <a id="14753" href="Games.FiniteHistoryDependent.html#14753" class="Bound">fe</a> <a id="14756" href="Games.FiniteHistoryDependent.html#14756" class="Bound">εt</a> <a id="14759" href="Games.FiniteHistoryDependent.html#14759" class="Bound">ϕt</a> <a id="14762" href="Games.FiniteHistoryDependent.html#14762" class="Bound">q</a> <a id="14764" href="Games.FiniteHistoryDependent.html#14764" class="Bound">a</a> <a id="14766" class="Symbol">=</a> <a id="14768" href="Games.FiniteHistoryDependent.html#14935" class="Function">III</a>
 <a id="14773" class="Keyword">where</a>
  <a id="14781" href="Games.FiniteHistoryDependent.html#14781" class="Function">I</a> <a id="14783" class="Symbol">:</a> <a id="14785" href="Games.FiniteHistoryDependent.html#10869" class="Function">Overline</a> <a id="14794" href="Games.FiniteHistoryDependent.html#14756" class="Bound">εt</a> <a id="14797" href="MLTT.Id.html#193" class="Datatype Operator">＝</a> <a id="14799" href="Games.FiniteHistoryDependent.html#14759" class="Bound">ϕt</a>
  <a id="14804" href="Games.FiniteHistoryDependent.html#14781" class="Function">I</a> <a id="14806" class="Symbol">=</a> <a id="14808" href="Games.FiniteHistoryDependent.html#11102" class="Function">observation</a> <a id="14820" href="Games.FiniteHistoryDependent.html#14753" class="Bound">fe</a> <a id="14823" href="Games.FiniteHistoryDependent.html#14756" class="Bound">εt</a> <a id="14826" href="Games.FiniteHistoryDependent.html#14759" class="Bound">ϕt</a> <a id="14829" href="Games.FiniteHistoryDependent.html#14764" class="Bound">a</a>

  <a id="14834" href="Games.FiniteHistoryDependent.html#14834" class="Function">II</a> <a id="14837" class="Symbol">:</a> <a id="14839" href="Games.FiniteHistoryDependent.html#5881" class="Function">is-in-sgpe</a> <a id="14850" class="Symbol">(</a><a id="14851" href="Games.FiniteHistoryDependent.html#10869" class="Function">Overline</a> <a id="14860" href="Games.FiniteHistoryDependent.html#14756" class="Bound">εt</a><a id="14862" class="Symbol">)</a> <a id="14864" href="Games.FiniteHistoryDependent.html#14762" class="Bound">q</a> <a id="14866" class="Symbol">(</a><a id="14867" href="Games.FiniteHistoryDependent.html#9787" class="Function">selection-strategy</a> <a id="14886" href="Games.FiniteHistoryDependent.html#14756" class="Bound">εt</a> <a id="14889" href="Games.FiniteHistoryDependent.html#14762" class="Bound">q</a><a id="14890" class="Symbol">)</a>
  <a id="14894" href="Games.FiniteHistoryDependent.html#14834" class="Function">II</a> <a id="14897" class="Symbol">=</a> <a id="14899" href="Games.FiniteHistoryDependent.html#13051" class="Function">selection-strategy-lemma</a> <a id="14924" href="Games.FiniteHistoryDependent.html#14753" class="Bound">fe</a> <a id="14927" href="Games.FiniteHistoryDependent.html#14756" class="Bound">εt</a> <a id="14930" href="Games.FiniteHistoryDependent.html#14762" class="Bound">q</a>

  <a id="14935" href="Games.FiniteHistoryDependent.html#14935" class="Function">III</a> <a id="14939" class="Symbol">:</a> <a id="14941" href="Games.FiniteHistoryDependent.html#5881" class="Function">is-in-sgpe</a> <a id="14952" href="Games.FiniteHistoryDependent.html#14759" class="Bound">ϕt</a> <a id="14955" href="Games.FiniteHistoryDependent.html#14762" class="Bound">q</a> <a id="14957" class="Symbol">(</a><a id="14958" href="Games.FiniteHistoryDependent.html#9787" class="Function">selection-strategy</a> <a id="14977" href="Games.FiniteHistoryDependent.html#14756" class="Bound">εt</a> <a id="14980" href="Games.FiniteHistoryDependent.html#14762" class="Bound">q</a><a id="14981" class="Symbol">)</a>
  <a id="14985" href="Games.FiniteHistoryDependent.html#14935" class="Function">III</a> <a id="14989" class="Symbol">=</a> <a id="14991" href="MLTT.Id.html#735" class="Function">transport</a> <a id="15001" class="Symbol">(λ</a> <a id="15004" href="Games.FiniteHistoryDependent.html#15004" class="Bound">-</a> <a id="15006" class="Symbol">→</a> <a id="15008" href="Games.FiniteHistoryDependent.html#5881" class="Function">is-in-sgpe</a> <a id="15019" href="Games.FiniteHistoryDependent.html#15004" class="Bound">-</a> <a id="15021" href="Games.FiniteHistoryDependent.html#14762" class="Bound">q</a> <a id="15023" class="Symbol">(</a><a id="15024" href="Games.FiniteHistoryDependent.html#9787" class="Function">selection-strategy</a> <a id="15043" href="Games.FiniteHistoryDependent.html#14756" class="Bound">εt</a> <a id="15046" href="Games.FiniteHistoryDependent.html#14762" class="Bound">q</a><a id="15047" class="Symbol">))</a> <a id="15050" href="Games.FiniteHistoryDependent.html#14781" class="Function">I</a> <a id="15052" href="Games.FiniteHistoryDependent.html#14834" class="Function">II</a>


<a id="Selection-Strategy-Theorem"></a><a id="15057" href="Games.FiniteHistoryDependent.html#15057" class="Function">Selection-Strategy-Theorem</a> <a id="15084" class="Symbol">:</a> <a id="15086" href="UF.FunExt.html#1047" class="Function">Fun-Ext</a>
                           <a id="15121" class="Symbol">→</a> <a id="15123" class="Symbol">(</a><a id="15124" href="Games.FiniteHistoryDependent.html#15124" class="Bound">G</a><a id="15125" class="Symbol">@(</a><a id="15127" href="Games.FiniteHistoryDependent.html#3164" class="InductiveConstructor">game</a> <a id="15132" href="Games.FiniteHistoryDependent.html#15132" class="Bound">Xt</a> <a id="15135" href="Games.FiniteHistoryDependent.html#15135" class="Bound">q</a> <a id="15137" href="Games.FiniteHistoryDependent.html#15137" class="Bound">ϕt</a><a id="15139" class="Symbol">)</a> <a id="15141" class="Symbol">:</a> <a id="15143" href="Games.FiniteHistoryDependent.html#3132" class="Record">Game</a><a id="15147" class="Symbol">)</a> <a id="15149" class="Symbol">(</a><a id="15150" href="Games.FiniteHistoryDependent.html#15150" class="Bound">εt</a> <a id="15153" class="Symbol">:</a> <a id="15155" href="Games.FiniteHistoryDependent.html#8970" class="Function">𝓙</a> <a id="15157" href="Games.FiniteHistoryDependent.html#15132" class="Bound">Xt</a><a id="15159" class="Symbol">)</a>
                           <a id="15188" class="Symbol">→</a> <a id="15190" href="Games.FiniteHistoryDependent.html#15150" class="Bound">εt</a> <a id="15193" href="Games.FiniteHistoryDependent.html#10543" class="Function Operator">Attains</a> <a id="15201" href="Games.FiniteHistoryDependent.html#15137" class="Bound">ϕt</a>
                           <a id="15231" class="Symbol">→</a> <a id="15233" href="Games.FiniteHistoryDependent.html#7105" class="Function">is-optimal</a> <a id="15244" href="Games.FiniteHistoryDependent.html#15124" class="Bound">G</a> <a id="15246" class="Symbol">(</a><a id="15247" href="Games.FiniteHistoryDependent.html#9787" class="Function">selection-strategy</a> <a id="15266" href="Games.FiniteHistoryDependent.html#15150" class="Bound">εt</a> <a id="15269" href="Games.FiniteHistoryDependent.html#15135" class="Bound">q</a><a id="15270" class="Symbol">)</a>
<a id="15272" href="Games.FiniteHistoryDependent.html#15057" class="Function">Selection-Strategy-Theorem</a> <a id="15299" href="Games.FiniteHistoryDependent.html#15299" class="Bound">fe</a> <a id="15302" class="Symbol">(</a><a id="15303" href="Games.FiniteHistoryDependent.html#3164" class="InductiveConstructor">game</a> <a id="15308" href="Games.FiniteHistoryDependent.html#15308" class="Bound">Xt</a> <a id="15311" href="Games.FiniteHistoryDependent.html#15311" class="Bound">ϕt</a> <a id="15314" href="Games.FiniteHistoryDependent.html#15314" class="Bound">q</a><a id="15315" class="Symbol">)</a> <a id="15317" href="Games.FiniteHistoryDependent.html#15317" class="Bound">εt</a> <a id="15320" class="Symbol">=</a> <a id="15322" href="Games.FiniteHistoryDependent.html#14466" class="Function">selection-strategy-theorem</a> <a id="15349" href="Games.FiniteHistoryDependent.html#15299" class="Bound">fe</a> <a id="15352" href="Games.FiniteHistoryDependent.html#15317" class="Bound">εt</a> <a id="15355" href="Games.FiniteHistoryDependent.html#15314" class="Bound">q</a> <a id="15357" href="Games.FiniteHistoryDependent.html#15311" class="Bound">ϕt</a>

<a id="15361" class="Markup">\end{code}</a><a id="15371" class="Background">

Added 27th August 2023 after the above was submitted for publication.

</a><a id="15444" class="Markup">\begin{code}</a>

<a id="selection-strategy-corollary"></a><a id="15458" href="Games.FiniteHistoryDependent.html#15458" class="Function">selection-strategy-corollary</a>
 <a id="15488" class="Symbol">:</a> <a id="15490" href="UF.FunExt.html#1047" class="Function">Fun-Ext</a>
 <a id="15499" class="Symbol">→</a> <a id="15501" class="Symbol">(</a><a id="15502" href="Games.FiniteHistoryDependent.html#15502" class="Bound">G</a><a id="15503" class="Symbol">@(</a><a id="15505" href="Games.FiniteHistoryDependent.html#3164" class="InductiveConstructor">game</a> <a id="15510" href="Games.FiniteHistoryDependent.html#15510" class="Bound">Xt</a> <a id="15513" href="Games.FiniteHistoryDependent.html#15513" class="Bound">q</a> <a id="15515" href="Games.FiniteHistoryDependent.html#15515" class="Bound">ϕt</a><a id="15517" class="Symbol">)</a> <a id="15519" class="Symbol">:</a> <a id="15521" href="Games.FiniteHistoryDependent.html#3132" class="Record">Game</a><a id="15525" class="Symbol">)</a> <a id="15527" class="Symbol">(</a><a id="15528" href="Games.FiniteHistoryDependent.html#15528" class="Bound">εt</a> <a id="15531" class="Symbol">:</a> <a id="15533" href="Games.FiniteHistoryDependent.html#8970" class="Function">𝓙</a> <a id="15535" href="Games.FiniteHistoryDependent.html#15510" class="Bound">Xt</a><a id="15537" class="Symbol">)</a>
 <a id="15540" class="Symbol">→</a> <a id="15542" href="Games.FiniteHistoryDependent.html#15528" class="Bound">εt</a> <a id="15545" href="Games.FiniteHistoryDependent.html#10543" class="Function Operator">Attains</a> <a id="15553" href="Games.FiniteHistoryDependent.html#15515" class="Bound">ϕt</a>
 <a id="15557" class="Symbol">→</a> <a id="15559" href="Games.FiniteHistoryDependent.html#15513" class="Bound">q</a> <a id="15561" class="Symbol">(</a><a id="15562" href="Games.FiniteHistoryDependent.html#9488" class="Function">sequenceᴶ</a> <a id="15572" href="Games.FiniteHistoryDependent.html#15528" class="Bound">εt</a> <a id="15575" href="Games.FiniteHistoryDependent.html#15513" class="Bound">q</a><a id="15576" class="Symbol">)</a> <a id="15578" href="MLTT.Id.html#193" class="Datatype Operator">＝</a> <a id="15580" href="Games.FiniteHistoryDependent.html#3536" class="Function">optimal-outcome</a> <a id="15596" href="Games.FiniteHistoryDependent.html#15502" class="Bound">G</a>
<a id="15598" href="Games.FiniteHistoryDependent.html#15458" class="Function">selection-strategy-corollary</a> <a id="15627" href="Games.FiniteHistoryDependent.html#15627" class="Bound">fe</a> <a id="15630" href="Games.FiniteHistoryDependent.html#15630" class="Bound">G</a><a id="15631" class="Symbol">@(</a><a id="15633" href="Games.FiniteHistoryDependent.html#3164" class="InductiveConstructor">game</a> <a id="15638" href="Games.FiniteHistoryDependent.html#15638" class="Bound">Xt</a> <a id="15641" href="Games.FiniteHistoryDependent.html#15641" class="Bound">q</a> <a id="15643" href="Games.FiniteHistoryDependent.html#15643" class="Bound">ϕt</a><a id="15645" class="Symbol">)</a> <a id="15647" href="Games.FiniteHistoryDependent.html#15647" class="Bound">εt</a> <a id="15650" href="Games.FiniteHistoryDependent.html#15650" class="Bound">a</a> <a id="15652" class="Symbol">=</a>
 <a id="15655" href="Games.FiniteHistoryDependent.html#15641" class="Bound">q</a> <a id="15657" class="Symbol">(</a><a id="15658" href="Games.FiniteHistoryDependent.html#9488" class="Function">sequenceᴶ</a> <a id="15668" href="Games.FiniteHistoryDependent.html#15647" class="Bound">εt</a> <a id="15671" href="Games.FiniteHistoryDependent.html#15641" class="Bound">q</a><a id="15672" class="Symbol">)</a>                           <a id="15700" href="MLTT.Id.html#2703" class="Function Operator">＝⟨</a> <a id="15703" href="Games.FiniteHistoryDependent.html#15820" class="Function">I</a> <a id="15705" href="MLTT.Id.html#2703" class="Function Operator">⟩</a>
 <a id="15708" href="Games.FiniteHistoryDependent.html#15641" class="Bound">q</a> <a id="15710" class="Symbol">(</a><a id="15711" href="Games.FiniteHistoryDependent.html#4248" class="Function">strategic-path</a> <a id="15726" class="Symbol">(</a><a id="15727" href="Games.FiniteHistoryDependent.html#9787" class="Function">selection-strategy</a> <a id="15746" href="Games.FiniteHistoryDependent.html#15647" class="Bound">εt</a> <a id="15749" href="Games.FiniteHistoryDependent.html#15641" class="Bound">q</a><a id="15750" class="Symbol">))</a> <a id="15753" href="MLTT.Id.html#2703" class="Function Operator">＝⟨</a> <a id="15756" href="Games.FiniteHistoryDependent.html#15855" class="Function">II</a> <a id="15759" href="MLTT.Id.html#2703" class="Function Operator">⟩</a>
 <a id="15762" href="Games.FiniteHistoryDependent.html#3536" class="Function">optimal-outcome</a> <a id="15778" href="Games.FiniteHistoryDependent.html#15630" class="Bound">G</a>                            <a id="15807" href="MLTT.Id.html#2785" class="Function Operator">∎</a>
  <a id="15811" class="Keyword">where</a>
   <a id="15820" href="Games.FiniteHistoryDependent.html#15820" class="Function">I</a>  <a id="15823" class="Symbol">=</a> <a id="15825" href="MLTT.Id.html#1136" class="Function">ap</a> <a id="15828" href="Games.FiniteHistoryDependent.html#15641" class="Bound">q</a> <a id="15830" class="Symbol">((</a><a id="15832" href="Games.FiniteHistoryDependent.html#12150" class="Function">main-lemma</a> <a id="15843" href="Games.FiniteHistoryDependent.html#15647" class="Bound">εt</a> <a id="15846" href="Games.FiniteHistoryDependent.html#15641" class="Bound">q</a><a id="15847" class="Symbol">)</a><a id="15848" href="MLTT.Id.html#1055" class="Function Operator">⁻¹</a><a id="15850" class="Symbol">)</a>
   <a id="15855" href="Games.FiniteHistoryDependent.html#15855" class="Function">II</a> <a id="15858" class="Symbol">=</a> <a id="15860" href="Games.FiniteHistoryDependent.html#7633" class="Function">sgpe-lemma</a> <a id="15871" href="Games.FiniteHistoryDependent.html#15627" class="Bound">fe</a> <a id="15874" href="Games.FiniteHistoryDependent.html#15638" class="Bound">Xt</a> <a id="15877" href="Games.FiniteHistoryDependent.html#15643" class="Bound">ϕt</a> <a id="15880" href="Games.FiniteHistoryDependent.html#15641" class="Bound">q</a>
         <a id="15891" class="Symbol">(</a><a id="15892" href="Games.FiniteHistoryDependent.html#9787" class="Function">selection-strategy</a> <a id="15911" href="Games.FiniteHistoryDependent.html#15647" class="Bound">εt</a> <a id="15914" href="Games.FiniteHistoryDependent.html#15641" class="Bound">q</a><a id="15915" class="Symbol">)</a>
         <a id="15926" class="Symbol">(</a><a id="15927" href="Games.FiniteHistoryDependent.html#15057" class="Function">Selection-Strategy-Theorem</a> <a id="15954" href="Games.FiniteHistoryDependent.html#15627" class="Bound">fe</a> <a id="15957" href="Games.FiniteHistoryDependent.html#15630" class="Bound">G</a> <a id="15959" href="Games.FiniteHistoryDependent.html#15647" class="Bound">εt</a> <a id="15962" href="Games.FiniteHistoryDependent.html#15650" class="Bound">a</a><a id="15963" class="Symbol">)</a>

<a id="15966" class="Markup">\end{code}</a><a id="15976" class="Background">
</a></pre></body></html>