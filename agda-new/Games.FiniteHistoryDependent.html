<!DOCTYPE HTML>
<html><head><meta charset="utf-8"><title>Games.FiniteHistoryDependent</title><link rel="stylesheet" href="Agda.css"><script type="text/javascript" src="highlight-hover.js"></script></head><body><pre class="Agda"><a id="1" class="Background">Martin Escardo, Paulo Oliva, 2-27 July 2021

The following paper is based on this file:

  [0] Martin Escardo and Paulo Oliva. Higher-order games with
      dependent types.  Theoretical Computer Science, Volume 974, 29
      September 2023, 114111.
      https://doi.org/10.48550/arXiv.2212.07735
      https://doi.org/10.1016/j.tcs.2023.114111

We study finite, history dependent games of perfect information using
selection functions and dependent-type trees.

This is based on our previous work.

  [1] M.H. EscardÃ³ and Paulo Oliva. Sequential Games and Optimal
      Strategies. Proceedings of the Royal Society A, 467:1519-1545,
      2011. https://doi.org/10.1098/rspa.2010.0471

We generalize [1] by considering the case that the type Xâ‚– of moves xâ‚–
at round k depends on the moves played at the previous rounds. So in a
sequence of moves xâ‚€,xâ‚,xâ‚‚,â€¦, we have that

  * the type Xâ‚€ of initial moves doesn&#39;t depend on anything,
  * the type Xâ‚ depends on the first move xâ‚€ : Xâ‚€,
  * the type Xâ‚‚ depends on the first move xâ‚€ : Xâ‚€ and the
    second move xâ‚ : Xâ‚.
  â€¦

In order to achieve this generalization, we work with game trees
whose nodes are labelled by types that collect the allowed moves at a
given round. Then a play xâ‚€,xâ‚,xâ‚‚,â€¦, is a path in such a tree.

This formulation of the notion of game naturally accounts for finite
games of *unbounded* length, which in [1] was achieved by continuous,
infinite games instead.

We assume a given type R of outcomes for games as a module parameter.

</a><a id="1508" class="Markup">\begin{code}</a>

<a id="1522" class="Symbol">{-#</a> <a id="1526" class="Keyword">OPTIONS</a> <a id="1534" class="Pragma">--safe</a> <a id="1541" class="Pragma">--without-K</a> <a id="1553" class="Symbol">#-}</a> <a id="1557" class="Comment">--</a>

<a id="1561" class="Keyword">open</a> <a id="1566" class="Keyword">import</a> <a id="1573" href="MLTT.Spartan.html" class="Module">MLTT.Spartan</a> <a id="1586" class="Keyword">hiding</a> <a id="1593" class="Symbol">(</a><a id="1594" href="MLTT.Id.html#438" class="Function">J</a><a id="1595" class="Symbol">)</a>

<a id="1598" class="Keyword">module</a> <a id="1605" href="Games.FiniteHistoryDependent.html" class="Module">Games.FiniteHistoryDependent</a> <a id="1634" class="Symbol">(</a><a id="1635" href="Games.FiniteHistoryDependent.html#1635" class="Bound">R</a> <a id="1637" class="Symbol">:</a> <a id="1639" href="Notation.General.html#372" class="Function">Type</a><a id="1643" class="Symbol">)</a> <a id="1645" class="Keyword">where</a>

<a id="1652" class="Keyword">open</a> <a id="1657" class="Keyword">import</a> <a id="1664" href="MonadOnTypes.Monad.html" class="Module">MonadOnTypes.Monad</a>
<a id="1683" class="Keyword">open</a> <a id="1688" class="Keyword">import</a> <a id="1695" href="MonadOnTypes.J.html" class="Module">MonadOnTypes.J</a>
<a id="1710" class="Keyword">open</a> <a id="1715" class="Keyword">import</a> <a id="1722" href="MonadOnTypes.K.html" class="Module">MonadOnTypes.K</a>
<a id="1737" class="Keyword">open</a> <a id="1742" class="Keyword">import</a> <a id="1749" href="MonadOnTypes.JK.html" class="Module">MonadOnTypes.JK</a>
<a id="1765" class="Keyword">open</a> <a id="1770" class="Keyword">import</a> <a id="1777" href="UF.Base.html" class="Module">UF.Base</a>
<a id="1785" class="Keyword">open</a> <a id="1790" class="Keyword">import</a> <a id="1797" href="UF.FunExt.html" class="Module">UF.FunExt</a>

<a id="1808" class="Keyword">open</a> <a id="1813" href="MonadOnTypes.K.html#438" class="Module">K-definitions</a> <a id="1827" href="Games.FiniteHistoryDependent.html#1635" class="Bound">R</a>
<a id="1829" class="Keyword">open</a> <a id="1834" href="MonadOnTypes.J.html#428" class="Module">J-definitions</a> <a id="1848" href="Games.FiniteHistoryDependent.html#1635" class="Bound">R</a>

<a id="1851" class="Markup">\end{code}</a><a id="1861" class="Background">

The following module defines the main data structure we use in order
to represent the above kind of game:

</a><a id="1970" class="Markup">\begin{code}</a>

<a id="1984" class="Keyword">open</a> <a id="1989" class="Keyword">import</a> <a id="1996" href="Games.TypeTrees.html" class="Module">Games.TypeTrees</a>

<a id="2013" class="Markup">\end{code}</a><a id="2023" class="Background">

We use quantifiers as in Section 1 of reference [1], defined in
another module.

In the same way as the type of moves at a given stage of the game
depends on the previously played moves, so do the quantifiers and
selection functions.

ğ“š decorates each internal node X of a type tree with the type K X of
quantifiers over X.

</a><a id="2350" class="Markup">\begin{code}</a>

<a id="ğ“š"></a><a id="2364" href="Games.FiniteHistoryDependent.html#2364" class="Function">ğ“š</a> <a id="2366" class="Symbol">:</a> <a id="2368" href="Games.TypeTrees.html#755" class="Datatype">ğ‘»</a> <a id="2370" class="Symbol">â†’</a> <a id="2372" href="Notation.General.html#372" class="Function">Type</a>
<a id="2377" href="Games.FiniteHistoryDependent.html#2364" class="Function">ğ“š</a> <a id="2379" class="Symbol">=</a> <a id="2381" href="Games.TypeTrees.html#2156" class="Function">structure</a> <a id="2391" href="MonadOnTypes.K.html#471" class="Function">K</a>

<a id="remark-ğ“š"></a><a id="2394" href="Games.FiniteHistoryDependent.html#2394" class="Function">remark-ğ“š</a> <a id="2403" class="Symbol">:</a> <a id="2405" class="Symbol">{</a><a id="2406" href="Games.FiniteHistoryDependent.html#2406" class="Bound">X</a> <a id="2408" class="Symbol">:</a> <a id="2410" href="Notation.General.html#372" class="Function">Type</a><a id="2414" class="Symbol">}</a> <a id="2416" class="Symbol">{</a><a id="2417" href="Games.FiniteHistoryDependent.html#2417" class="Bound">Xf</a> <a id="2420" class="Symbol">:</a> <a id="2422" href="Games.FiniteHistoryDependent.html#2406" class="Bound">X</a> <a id="2424" class="Symbol">â†’</a> <a id="2426" href="Games.TypeTrees.html#755" class="Datatype">ğ‘»</a><a id="2427" class="Symbol">}</a>
         <a id="2438" class="Symbol">â†’</a> <a id="2440" class="Symbol">(</a><a id="2441" href="Games.FiniteHistoryDependent.html#2364" class="Function">ğ“š</a> <a id="2443" class="InductiveConstructor">[]</a>       <a id="2452" href="MLTT.Id.html#193" class="Datatype Operator">ï¼</a> <a id="2454" href="MLTT.Unit.html#129" class="Record">ğŸ™</a><a id="2455" class="Symbol">)</a>
         <a id="2466" href="MLTT.Sigma.html#558" class="Function Operator">Ã—</a> <a id="2468" class="Symbol">(</a><a id="2469" href="Games.FiniteHistoryDependent.html#2364" class="Function">ğ“š</a> <a id="2471" class="Symbol">(</a><a id="2472" href="Games.FiniteHistoryDependent.html#2406" class="Bound">X</a> <a id="2474" class="InductiveConstructor Operator">âˆ·</a> <a id="2476" href="Games.FiniteHistoryDependent.html#2417" class="Bound">Xf</a><a id="2478" class="Symbol">)</a> <a id="2480" href="MLTT.Id.html#193" class="Datatype Operator">ï¼</a> <a id="2482" href="MonadOnTypes.K.html#471" class="Function">K</a> <a id="2484" href="Games.FiniteHistoryDependent.html#2406" class="Bound">X</a> <a id="2486" href="MLTT.Sigma.html#558" class="Function Operator">Ã—</a> <a id="2488" class="Symbol">((</a><a id="2490" href="Games.FiniteHistoryDependent.html#2490" class="Bound">x</a> <a id="2492" class="Symbol">:</a> <a id="2494" href="Games.FiniteHistoryDependent.html#2406" class="Bound">X</a><a id="2495" class="Symbol">)</a> <a id="2497" class="Symbol">â†’</a> <a id="2499" href="Games.FiniteHistoryDependent.html#2364" class="Function">ğ“š</a> <a id="2501" class="Symbol">(</a><a id="2502" href="Games.FiniteHistoryDependent.html#2417" class="Bound">Xf</a> <a id="2505" href="Games.FiniteHistoryDependent.html#2490" class="Bound">x</a><a id="2506" class="Symbol">)))</a>
<a id="2510" href="Games.FiniteHistoryDependent.html#2394" class="Function">remark-ğ“š</a> <a id="2519" class="Symbol">=</a> <a id="2521" href="MLTT.Identity-Type.html#157" class="InductiveConstructor">refl</a> <a id="2526" href="MLTT.Sigma.html#395" class="InductiveConstructor Operator">,</a> <a id="2528" href="MLTT.Identity-Type.html#157" class="InductiveConstructor">refl</a>

<a id="2534" class="Markup">\end{code}</a><a id="2544" class="Background">

 * Ï•  ranges over the type K X of quantifiers.
 * Ï•t ranges over the type ğ“š Xt of quantifier trees.
 * Ï•f ranges over the type (x : X) â†’ ğ“š (Xf x) of quantifier forests.


Sequencing quantifiers, as constructed in Definition 2 of reference [1],
but using our tree representation of games instead:

</a><a id="2843" class="Markup">\begin{code}</a>

<a id="sequenceá´·"></a><a id="2857" href="Games.FiniteHistoryDependent.html#2857" class="Function">sequenceá´·</a> <a id="2867" class="Symbol">:</a> <a id="2869" class="Symbol">{</a><a id="2870" href="Games.FiniteHistoryDependent.html#2870" class="Bound">Xt</a> <a id="2873" class="Symbol">:</a> <a id="2875" href="Games.TypeTrees.html#755" class="Datatype">ğ‘»</a><a id="2876" class="Symbol">}</a> <a id="2878" class="Symbol">â†’</a> <a id="2880" href="Games.FiniteHistoryDependent.html#2364" class="Function">ğ“š</a> <a id="2882" href="Games.FiniteHistoryDependent.html#2870" class="Bound">Xt</a> <a id="2885" class="Symbol">â†’</a> <a id="2887" href="MonadOnTypes.K.html#471" class="Function">K</a> <a id="2889" class="Symbol">(</a><a id="2890" href="Games.TypeTrees.html#942" class="Function">Path</a> <a id="2895" href="Games.FiniteHistoryDependent.html#2870" class="Bound">Xt</a><a id="2897" class="Symbol">)</a>
<a id="2899" href="Games.FiniteHistoryDependent.html#2857" class="Function">sequenceá´·</a> <a id="2909" class="Symbol">=</a> <a id="2911" href="Games.TypeTrees.html#3825" class="Function">path-sequence</a> <a id="2925" class="Symbol">(</a><a id="2926" href="MonadOnTypes.K.html#184" class="Function">ğ•‚</a> <a id="2928" href="Games.FiniteHistoryDependent.html#1635" class="Bound">R</a><a id="2929" class="Symbol">)</a>

<a id="2932" class="Markup">\end{code}</a><a id="2942" class="Background">

The following is Definition 3 of the above reference [1].

A game is defined by a game tree Xt, a type R of outcomes, a
quantifier tree Ï•t and an outcome function q:

</a><a id="3111" class="Markup">\begin{code}</a>

<a id="3125" class="Keyword">record</a> <a id="Game"></a><a id="3132" href="Games.FiniteHistoryDependent.html#3132" class="Record">Game</a> <a id="3137" class="Symbol">:</a> <a id="3139" href="Notation.General.html#384" class="Function">Typeâ‚</a> <a id="3145" class="Keyword">where</a>
 <a id="3152" class="Keyword">constructor</a> <a id="game"></a><a id="3164" href="Games.FiniteHistoryDependent.html#3164" class="InductiveConstructor">game</a>
 <a id="3170" class="Keyword">field</a>
  <a id="Game.game-tree"></a><a id="3178" href="Games.FiniteHistoryDependent.html#3178" class="Field">game-tree</a> <a id="3188" class="Symbol">:</a> <a id="3190" href="Games.TypeTrees.html#755" class="Datatype">ğ‘»</a>
  <a id="Game.payoff-function"></a><a id="3194" href="Games.FiniteHistoryDependent.html#3194" class="Field">payoff-function</a>  <a id="3211" class="Symbol">:</a> <a id="3213" href="Games.TypeTrees.html#942" class="Function">Path</a> <a id="3218" href="Games.FiniteHistoryDependent.html#3178" class="Field">game-tree</a> <a id="3228" class="Symbol">â†’</a> <a id="3230" href="Games.FiniteHistoryDependent.html#1635" class="Bound">R</a>
  <a id="Game.quantifier-tree"></a><a id="3234" href="Games.FiniteHistoryDependent.html#3234" class="Field">quantifier-tree</a> <a id="3250" class="Symbol">:</a> <a id="3252" href="Games.FiniteHistoryDependent.html#2364" class="Function">ğ“š</a> <a id="3254" href="Games.FiniteHistoryDependent.html#3178" class="Field">game-tree</a>

<a id="3265" class="Keyword">open</a> <a id="3270" href="Games.FiniteHistoryDependent.html#3132" class="Module">Game</a> <a id="3275" class="Keyword">public</a>

<a id="3283" class="Markup">\end{code}</a><a id="3293" class="Background">

We can think of Xt as the rules of the game, and R, Ï•t and q as the
objective of the game.

We define the optimal outcome of a game to be the sequencing of its
quantifiers applied to the outcome function (Theorem 3.1 of [1]).

</a><a id="3522" class="Markup">\begin{code}</a>

<a id="optimal-outcome"></a><a id="3536" href="Games.FiniteHistoryDependent.html#3536" class="Function">optimal-outcome</a> <a id="3552" class="Symbol">:</a> <a id="3554" href="Games.FiniteHistoryDependent.html#3132" class="Record">Game</a> <a id="3559" class="Symbol">â†’</a> <a id="3561" href="Games.FiniteHistoryDependent.html#1635" class="Bound">R</a>
<a id="3563" href="Games.FiniteHistoryDependent.html#3536" class="Function">optimal-outcome</a> <a id="3579" class="Symbol">(</a><a id="3580" href="Games.FiniteHistoryDependent.html#3164" class="InductiveConstructor">game</a> <a id="3585" href="Games.FiniteHistoryDependent.html#3585" class="Bound">Xt</a> <a id="3588" href="Games.FiniteHistoryDependent.html#3588" class="Bound">q</a> <a id="3590" href="Games.FiniteHistoryDependent.html#3590" class="Bound">Ï•t</a><a id="3592" class="Symbol">)</a> <a id="3594" class="Symbol">=</a> <a id="3596" href="Games.FiniteHistoryDependent.html#2857" class="Function">sequenceá´·</a> <a id="3606" class="Symbol">{</a><a id="3607" href="Games.FiniteHistoryDependent.html#3585" class="Bound">Xt</a><a id="3609" class="Symbol">}</a> <a id="3611" href="Games.FiniteHistoryDependent.html#3590" class="Bound">Ï•t</a> <a id="3614" href="Games.FiniteHistoryDependent.html#3588" class="Bound">q</a>

<a id="3617" class="Markup">\end{code}</a><a id="3627" class="Background">

A strategy assigns a move to each mode of a tree. This corresponds to
Definition 4 of [1]:

</a><a id="3721" class="Markup">\begin{code}</a>

<a id="Strategy"></a><a id="3735" href="Games.FiniteHistoryDependent.html#3735" class="Function">Strategy</a> <a id="3744" class="Symbol">:</a> <a id="3746" href="Games.TypeTrees.html#755" class="Datatype">ğ‘»</a> <a id="3748" class="Symbol">â†’</a> <a id="3750" href="Notation.General.html#372" class="Function">Type</a>
<a id="3755" href="Games.FiniteHistoryDependent.html#3735" class="Function">Strategy</a> <a id="3764" class="Symbol">=</a> <a id="3766" href="Games.TypeTrees.html#2156" class="Function">structure</a> <a id="3776" href="MLTT.Pi.html#444" class="Function">id</a>

<a id="remark-Strategy"></a><a id="3780" href="Games.FiniteHistoryDependent.html#3780" class="Function">remark-Strategy</a> <a id="3796" class="Symbol">:</a> <a id="3798" class="Symbol">{</a><a id="3799" href="Games.FiniteHistoryDependent.html#3799" class="Bound">X</a> <a id="3801" class="Symbol">:</a> <a id="3803" href="Notation.General.html#372" class="Function">Type</a><a id="3807" class="Symbol">}</a> <a id="3809" class="Symbol">{</a><a id="3810" href="Games.FiniteHistoryDependent.html#3810" class="Bound">Xf</a> <a id="3813" class="Symbol">:</a> <a id="3815" href="Games.FiniteHistoryDependent.html#3799" class="Bound">X</a> <a id="3817" class="Symbol">â†’</a> <a id="3819" href="Games.TypeTrees.html#755" class="Datatype">ğ‘»</a><a id="3820" class="Symbol">}</a>
                <a id="3838" class="Symbol">â†’</a> <a id="3840" class="Symbol">(</a><a id="3841" href="Games.FiniteHistoryDependent.html#3735" class="Function">Strategy</a> <a id="3850" class="InductiveConstructor">[]</a>       <a id="3859" href="MLTT.Id.html#193" class="Datatype Operator">ï¼</a> <a id="3861" href="MLTT.Unit.html#129" class="Record">ğŸ™</a><a id="3862" class="Symbol">)</a>
                <a id="3880" href="MLTT.Sigma.html#558" class="Function Operator">Ã—</a> <a id="3882" class="Symbol">(</a><a id="3883" href="Games.FiniteHistoryDependent.html#3735" class="Function">Strategy</a> <a id="3892" class="Symbol">(</a><a id="3893" href="Games.FiniteHistoryDependent.html#3799" class="Bound">X</a> <a id="3895" class="InductiveConstructor Operator">âˆ·</a> <a id="3897" href="Games.FiniteHistoryDependent.html#3810" class="Bound">Xf</a><a id="3899" class="Symbol">)</a> <a id="3901" href="MLTT.Id.html#193" class="Datatype Operator">ï¼</a> <a id="3903" href="Games.FiniteHistoryDependent.html#3799" class="Bound">X</a> <a id="3905" href="MLTT.Sigma.html#558" class="Function Operator">Ã—</a> <a id="3907" class="Symbol">((</a><a id="3909" href="Games.FiniteHistoryDependent.html#3909" class="Bound">x</a> <a id="3911" class="Symbol">:</a> <a id="3913" href="Games.FiniteHistoryDependent.html#3799" class="Bound">X</a><a id="3914" class="Symbol">)</a> <a id="3916" class="Symbol">â†’</a> <a id="3918" href="Games.FiniteHistoryDependent.html#3735" class="Function">Strategy</a> <a id="3927" class="Symbol">(</a><a id="3928" href="Games.FiniteHistoryDependent.html#3810" class="Bound">Xf</a> <a id="3931" href="Games.FiniteHistoryDependent.html#3909" class="Bound">x</a><a id="3932" class="Symbol">)))</a>
<a id="3936" href="Games.FiniteHistoryDependent.html#3780" class="Function">remark-Strategy</a> <a id="3952" class="Symbol">=</a> <a id="3954" href="MLTT.Identity-Type.html#157" class="InductiveConstructor">refl</a> <a id="3959" href="MLTT.Sigma.html#395" class="InductiveConstructor Operator">,</a> <a id="3961" href="MLTT.Identity-Type.html#157" class="InductiveConstructor">refl</a>

<a id="3967" class="Markup">\end{code}</a><a id="3977" class="Background">

 * Ïƒ ranges over the type Strategy Xt of strategies for a
   dependent-type tree Xt.

 * Ïƒf ranges over the type (x : X) â†’ Strategy (Xf x) of strategy
   forests for a dependent-type forest Xf.

We get a path in the tree by following any given strategy:

</a><a id="4234" class="Markup">\begin{code}</a>

<a id="strategic-path"></a><a id="4248" href="Games.FiniteHistoryDependent.html#4248" class="Function">strategic-path</a> <a id="4263" class="Symbol">:</a> <a id="4265" class="Symbol">{</a><a id="4266" href="Games.FiniteHistoryDependent.html#4266" class="Bound">Xt</a> <a id="4269" class="Symbol">:</a> <a id="4271" href="Games.TypeTrees.html#755" class="Datatype">ğ‘»</a><a id="4272" class="Symbol">}</a> <a id="4274" class="Symbol">â†’</a> <a id="4276" href="Games.FiniteHistoryDependent.html#3735" class="Function">Strategy</a> <a id="4285" href="Games.FiniteHistoryDependent.html#4266" class="Bound">Xt</a> <a id="4288" class="Symbol">â†’</a> <a id="4290" href="Games.TypeTrees.html#942" class="Function">Path</a> <a id="4295" href="Games.FiniteHistoryDependent.html#4266" class="Bound">Xt</a>
<a id="4298" href="Games.FiniteHistoryDependent.html#4248" class="Function">strategic-path</a> <a id="4313" class="Symbol">=</a> <a id="4315" href="Games.TypeTrees.html#3825" class="Function">path-sequence</a> <a id="4329" href="MonadOnTypes.Monad.html#4606" class="Function">ğ•€ğ••</a>

<a id="remark-strategic-path"></a><a id="4333" href="Games.FiniteHistoryDependent.html#4333" class="Function">remark-strategic-path</a> <a id="4355" class="Symbol">:</a> <a id="4357" class="Symbol">{</a><a id="4358" href="Games.FiniteHistoryDependent.html#4358" class="Bound">X</a> <a id="4360" class="Symbol">:</a> <a id="4362" href="Notation.General.html#372" class="Function">Type</a><a id="4366" class="Symbol">}</a> <a id="4368" class="Symbol">{</a><a id="4369" href="Games.FiniteHistoryDependent.html#4369" class="Bound">Xf</a> <a id="4372" class="Symbol">:</a> <a id="4374" href="Games.FiniteHistoryDependent.html#4358" class="Bound">X</a> <a id="4376" class="Symbol">â†’</a> <a id="4378" href="Games.TypeTrees.html#755" class="Datatype">ğ‘»</a><a id="4379" class="Symbol">}</a> <a id="4381" class="Symbol">{</a><a id="4382" href="Games.FiniteHistoryDependent.html#4382" class="Bound">x</a> <a id="4384" class="Symbol">:</a> <a id="4386" href="Games.FiniteHistoryDependent.html#4358" class="Bound">X</a><a id="4387" class="Symbol">}</a>
                        <a id="4413" class="Symbol">{</a><a id="4414" href="Games.FiniteHistoryDependent.html#4414" class="Bound">Ïƒf</a> <a id="4417" class="Symbol">:</a> <a id="4419" class="Symbol">(</a><a id="4420" href="Games.FiniteHistoryDependent.html#4420" class="Bound">x</a> <a id="4422" class="Symbol">:</a> <a id="4424" href="Games.FiniteHistoryDependent.html#4358" class="Bound">X</a><a id="4425" class="Symbol">)</a> <a id="4427" class="Symbol">â†’</a> <a id="4429" href="Games.FiniteHistoryDependent.html#3735" class="Function">Strategy</a> <a id="4438" class="Symbol">(</a><a id="4439" href="Games.FiniteHistoryDependent.html#4369" class="Bound">Xf</a> <a id="4442" href="Games.FiniteHistoryDependent.html#4420" class="Bound">x</a><a id="4443" class="Symbol">)}</a>
                      <a id="4468" class="Symbol">â†’</a> <a id="4470" class="Symbol">(</a><a id="4471" href="Games.FiniteHistoryDependent.html#4248" class="Function">strategic-path</a> <a id="4486" class="Symbol">{</a><a id="4487" class="InductiveConstructor">[]</a><a id="4489" class="Symbol">}</a>     <a id="4495" href="Games.TypeTrees.html#1310" class="InductiveConstructor">âŸ¨âŸ©</a>        <a id="4505" href="MLTT.Id.html#193" class="Datatype Operator">ï¼</a> <a id="4507" href="Games.TypeTrees.html#1310" class="InductiveConstructor">âŸ¨âŸ©</a><a id="4509" class="Symbol">)</a>
                      <a id="4533" href="MLTT.Sigma.html#558" class="Function Operator">Ã—</a> <a id="4535" class="Symbol">(</a><a id="4536" href="Games.FiniteHistoryDependent.html#4248" class="Function">strategic-path</a> <a id="4551" class="Symbol">{</a><a id="4552" href="Games.FiniteHistoryDependent.html#4358" class="Bound">X</a> <a id="4554" class="InductiveConstructor Operator">âˆ·</a> <a id="4556" href="Games.FiniteHistoryDependent.html#4369" class="Bound">Xf</a><a id="4558" class="Symbol">}</a> <a id="4560" class="Symbol">(</a><a id="4561" href="Games.FiniteHistoryDependent.html#4382" class="Bound">x</a> <a id="4563" href="Games.TypeTrees.html#1332" class="InductiveConstructor Operator">::</a> <a id="4566" href="Games.FiniteHistoryDependent.html#4414" class="Bound">Ïƒf</a><a id="4568" class="Symbol">)</a> <a id="4570" href="MLTT.Id.html#193" class="Datatype Operator">ï¼</a> <a id="4572" href="Games.FiniteHistoryDependent.html#4382" class="Bound">x</a> <a id="4574" href="Games.TypeTrees.html#1332" class="InductiveConstructor Operator">::</a> <a id="4577" href="Games.FiniteHistoryDependent.html#4248" class="Function">strategic-path</a> <a id="4592" class="Symbol">(</a><a id="4593" href="Games.FiniteHistoryDependent.html#4414" class="Bound">Ïƒf</a> <a id="4596" href="Games.FiniteHistoryDependent.html#4382" class="Bound">x</a><a id="4597" class="Symbol">))</a>
<a id="4600" href="Games.FiniteHistoryDependent.html#4333" class="Function">remark-strategic-path</a> <a id="4622" class="Symbol">=</a> <a id="4624" href="MLTT.Identity-Type.html#157" class="InductiveConstructor">refl</a> <a id="4629" href="MLTT.Sigma.html#395" class="InductiveConstructor Operator">,</a> <a id="4631" href="MLTT.Identity-Type.html#157" class="InductiveConstructor">refl</a>

<a id="4637" class="Markup">\end{code}</a><a id="4647" class="Background">

In the notation of reference [1] above, Definition 5, a strategy Ïƒ
for a game (Xt,R,Ï•t,q) is said to be optimal, or in subgame perfect
equilibrium (abbreviated sgpe), if for every partial play aâ‚€,â€¦,aâ‚–â‚‹â‚
of length k, we have

   q(aâ‚€,â€¦,aâ‚–â‚‹â‚,bâ‚–(aâ‚€,â€¦,aâ‚–â‚‹â‚),â€¦,bâ‚™â‚‹â‚(aâ‚€,â€¦,aâ‚–â‚‹â‚))
 = Ï•â‚–(Î»xâ‚–.q(aâ‚€,â€¦,aâ‚–â‚‹â‚,xâ‚–,bâ‚–â‚Šâ‚(aâ‚€,â€¦,aâ‚–â‚‹â‚,xâ‚–),â€¦,bâ‚™â‚‹â‚(aâ‚€,â€¦,aâ‚–â‚‹â‚,xâ‚–)))

where the sequence b is inductively defined by

  bâ±¼(aâ‚€,â€¦,aâ‚–â‚‹â‚) = Ïƒâ±¼(aâ‚€,â€¦,aâ‚–â‚‹â‚,bâ‚–(aâ‚€,â€¦,aâ‚–â‚‹â‚),â€¦,bâ±¼â‚‹â‚(aâ‚€,â€¦,aâ‚–â‚‹â‚))

for k â‰¤ j &lt; n.

Intuitively, the strategy Ïƒ is optimal if the outcome

  q(aâ‚€,â€¦,aâ‚–â‚‹â‚,bâ‚–(aâ‚€,â€¦,aâ‚–â‚‹â‚),â€¦,bâ‚™â‚‹â‚(aâ‚€,â€¦,aâ‚–â‚‹â‚))

obtained by following Ïƒ is the best possible outcome as described by
the quantifier Ï•â‚– for each round k, considering all possible
deviations xâ‚– from the strategy at that round.

For the purposes of our generalization of [1] to dependent games, it
is convenient to define this notion by induction on the game tree Xt:

</a><a id="5540" class="Markup">\begin{code}</a>

<a id="is-in-equilibrium"></a><a id="5554" href="Games.FiniteHistoryDependent.html#5554" class="Function">is-in-equilibrium</a> <a id="5572" class="Symbol">:</a> <a id="5574" class="Symbol">{</a><a id="5575" href="Games.FiniteHistoryDependent.html#5575" class="Bound">X</a> <a id="5577" class="Symbol">:</a> <a id="5579" href="Notation.General.html#372" class="Function">Type</a><a id="5583" class="Symbol">}</a> <a id="5585" class="Symbol">{</a><a id="5586" href="Games.FiniteHistoryDependent.html#5586" class="Bound">Xf</a> <a id="5589" class="Symbol">:</a> <a id="5591" href="Games.FiniteHistoryDependent.html#5575" class="Bound">X</a> <a id="5593" class="Symbol">â†’</a> <a id="5595" href="Games.TypeTrees.html#755" class="Datatype">ğ‘»</a><a id="5596" class="Symbol">}</a>
                    <a id="5618" class="Symbol">(</a><a id="5619" href="Games.FiniteHistoryDependent.html#5619" class="Bound">q</a> <a id="5621" class="Symbol">:</a> <a id="5623" class="Symbol">(</a><a id="5624" href="MLTT.Sigma.html#423" class="Function">Î£</a> <a id="5626" href="Games.FiniteHistoryDependent.html#5626" class="Bound">x</a> <a id="5628" href="MLTT.Sigma.html#423" class="Function">ê‰</a> <a id="5630" href="Games.FiniteHistoryDependent.html#5575" class="Bound">X</a> <a id="5632" href="MLTT.Sigma.html#423" class="Function">,</a> <a id="5634" href="Games.TypeTrees.html#942" class="Function">Path</a> <a id="5639" class="Symbol">(</a><a id="5640" href="Games.FiniteHistoryDependent.html#5586" class="Bound">Xf</a> <a id="5643" href="Games.FiniteHistoryDependent.html#5626" class="Bound">x</a><a id="5644" class="Symbol">))</a> <a id="5647" class="Symbol">â†’</a> <a id="5649" href="Games.FiniteHistoryDependent.html#1635" class="Bound">R</a><a id="5650" class="Symbol">)</a>
                    <a id="5672" class="Symbol">(</a><a id="5673" href="Games.FiniteHistoryDependent.html#5673" class="Bound">Ï•</a> <a id="5675" class="Symbol">:</a> <a id="5677" href="MonadOnTypes.K.html#471" class="Function">K</a> <a id="5679" href="Games.FiniteHistoryDependent.html#5575" class="Bound">X</a><a id="5680" class="Symbol">)</a>
                  <a id="5700" class="Symbol">â†’</a> <a id="5702" href="Games.FiniteHistoryDependent.html#3735" class="Function">Strategy</a> <a id="5711" class="Symbol">(</a><a id="5712" href="Games.FiniteHistoryDependent.html#5575" class="Bound">X</a> <a id="5714" class="InductiveConstructor Operator">âˆ·</a> <a id="5716" href="Games.FiniteHistoryDependent.html#5586" class="Bound">Xf</a><a id="5718" class="Symbol">)</a>
                  <a id="5738" class="Symbol">â†’</a> <a id="5740" href="Notation.General.html#372" class="Function">Type</a>
<a id="5745" href="Games.FiniteHistoryDependent.html#5554" class="Function">is-in-equilibrium</a> <a id="5763" class="Symbol">{</a><a id="5764" href="Games.FiniteHistoryDependent.html#5764" class="Bound">X</a><a id="5765" class="Symbol">}</a> <a id="5767" class="Symbol">{</a><a id="5768" href="Games.FiniteHistoryDependent.html#5768" class="Bound">Xf</a><a id="5770" class="Symbol">}</a> <a id="5772" href="Games.FiniteHistoryDependent.html#5772" class="Bound">q</a> <a id="5774" href="Games.FiniteHistoryDependent.html#5774" class="Bound">Ï•</a> <a id="5776" href="Games.FiniteHistoryDependent.html#5776" class="Bound">Ïƒt</a><a id="5778" class="Symbol">@(</a><a id="5780" href="Games.FiniteHistoryDependent.html#5780" class="Bound">xâ‚€</a> <a id="5783" href="Games.TypeTrees.html#1332" class="InductiveConstructor Operator">::</a> <a id="5786" href="Games.FiniteHistoryDependent.html#5786" class="Bound">Ïƒf</a><a id="5788" class="Symbol">)</a>  <a id="5791" class="Symbol">=</a>
 <a id="5794" href="Games.TypeTrees.html#1658" class="Function">subpred</a> <a id="5802" href="Games.FiniteHistoryDependent.html#5772" class="Bound">q</a> <a id="5804" href="Games.FiniteHistoryDependent.html#5780" class="Bound">xâ‚€</a> <a id="5807" class="Symbol">(</a><a id="5808" href="Games.FiniteHistoryDependent.html#4248" class="Function">strategic-path</a> <a id="5823" class="Symbol">(</a><a id="5824" href="Games.FiniteHistoryDependent.html#5786" class="Bound">Ïƒf</a> <a id="5827" href="Games.FiniteHistoryDependent.html#5780" class="Bound">xâ‚€</a><a id="5829" class="Symbol">))</a> <a id="5832" href="MLTT.Id.html#193" class="Datatype Operator">ï¼</a> <a id="5834" href="Games.FiniteHistoryDependent.html#5774" class="Bound">Ï•</a> <a id="5836" class="Symbol">(Î»</a> <a id="5839" href="Games.FiniteHistoryDependent.html#5839" class="Bound">x</a> <a id="5841" class="Symbol">â†’</a> <a id="5843" href="Games.TypeTrees.html#1658" class="Function">subpred</a> <a id="5851" href="Games.FiniteHistoryDependent.html#5772" class="Bound">q</a> <a id="5853" href="Games.FiniteHistoryDependent.html#5839" class="Bound">x</a> <a id="5855" class="Symbol">(</a><a id="5856" href="Games.FiniteHistoryDependent.html#4248" class="Function">strategic-path</a> <a id="5871" class="Symbol">(</a><a id="5872" href="Games.FiniteHistoryDependent.html#5786" class="Bound">Ïƒf</a> <a id="5875" href="Games.FiniteHistoryDependent.html#5839" class="Bound">x</a><a id="5876" class="Symbol">)))</a>

<a id="is-in-sgpe"></a><a id="5881" href="Games.FiniteHistoryDependent.html#5881" class="Function">is-in-sgpe</a> <a id="5892" class="Symbol">:</a> <a id="5894" class="Symbol">{</a><a id="5895" href="Games.FiniteHistoryDependent.html#5895" class="Bound">Xt</a> <a id="5898" class="Symbol">:</a> <a id="5900" href="Games.TypeTrees.html#755" class="Datatype">ğ‘»</a><a id="5901" class="Symbol">}</a> <a id="5903" class="Symbol">â†’</a> <a id="5905" href="Games.FiniteHistoryDependent.html#2364" class="Function">ğ“š</a> <a id="5907" href="Games.FiniteHistoryDependent.html#5895" class="Bound">Xt</a> <a id="5910" class="Symbol">â†’</a> <a id="5912" class="Symbol">(</a><a id="5913" href="Games.TypeTrees.html#942" class="Function">Path</a> <a id="5918" href="Games.FiniteHistoryDependent.html#5895" class="Bound">Xt</a> <a id="5921" class="Symbol">â†’</a> <a id="5923" href="Games.FiniteHistoryDependent.html#1635" class="Bound">R</a><a id="5924" class="Symbol">)</a> <a id="5926" class="Symbol">â†’</a> <a id="5928" href="Games.FiniteHistoryDependent.html#3735" class="Function">Strategy</a> <a id="5937" href="Games.FiniteHistoryDependent.html#5895" class="Bound">Xt</a> <a id="5940" class="Symbol">â†’</a> <a id="5942" href="Notation.General.html#372" class="Function">Type</a>
<a id="5947" href="Games.FiniteHistoryDependent.html#5881" class="Function">is-in-sgpe</a> <a id="5958" class="Symbol">{</a><a id="5959" href="Games.TypeTrees.html#773" class="InductiveConstructor">[]</a><a id="5961" class="Symbol">}</a>     <a id="5967" href="Games.TypeTrees.html#1310" class="InductiveConstructor">âŸ¨âŸ©</a>        <a id="5977" href="Games.FiniteHistoryDependent.html#5977" class="Bound">q</a> <a id="5979" href="Games.TypeTrees.html#1310" class="InductiveConstructor">âŸ¨âŸ©</a>            <a id="5993" class="Symbol">=</a> <a id="5995" href="MLTT.Unit.html#129" class="Record">ğŸ™</a>
<a id="5997" href="Games.FiniteHistoryDependent.html#5881" class="Function">is-in-sgpe</a> <a id="6008" class="Symbol">{</a><a id="6009" href="Games.FiniteHistoryDependent.html#6009" class="Bound">X</a> <a id="6011" href="Games.TypeTrees.html#783" class="InductiveConstructor Operator">âˆ·</a> <a id="6013" href="Games.FiniteHistoryDependent.html#6013" class="Bound">Xf</a><a id="6015" class="Symbol">}</a> <a id="6017" class="Symbol">(</a><a id="6018" href="Games.FiniteHistoryDependent.html#6018" class="Bound">Ï•</a> <a id="6020" href="Games.TypeTrees.html#1332" class="InductiveConstructor Operator">::</a> <a id="6023" href="Games.FiniteHistoryDependent.html#6023" class="Bound">Ï•f</a><a id="6025" class="Symbol">)</a> <a id="6027" href="Games.FiniteHistoryDependent.html#6027" class="Bound">q</a> <a id="6029" href="Games.FiniteHistoryDependent.html#6029" class="Bound">Ïƒt</a><a id="6031" class="Symbol">@(</a><a id="6033" href="Games.FiniteHistoryDependent.html#6033" class="Bound">xâ‚€</a> <a id="6036" href="Games.TypeTrees.html#1332" class="InductiveConstructor Operator">::</a> <a id="6039" href="Games.FiniteHistoryDependent.html#6039" class="Bound">Ïƒf</a><a id="6041" class="Symbol">)</a> <a id="6043" class="Symbol">=</a>
   <a id="6048" href="Games.FiniteHistoryDependent.html#5554" class="Function">is-in-equilibrium</a> <a id="6066" href="Games.FiniteHistoryDependent.html#6027" class="Bound">q</a> <a id="6068" href="Games.FiniteHistoryDependent.html#6018" class="Bound">Ï•</a> <a id="6070" href="Games.FiniteHistoryDependent.html#6029" class="Bound">Ïƒt</a>
 <a id="6074" href="MLTT.Sigma.html#558" class="Function Operator">Ã—</a> <a id="6076" class="Symbol">((</a><a id="6078" href="Games.FiniteHistoryDependent.html#6078" class="Bound">x</a> <a id="6080" class="Symbol">:</a> <a id="6082" href="Games.FiniteHistoryDependent.html#6009" class="Bound">X</a><a id="6083" class="Symbol">)</a> <a id="6085" class="Symbol">â†’</a> <a id="6087" href="Games.FiniteHistoryDependent.html#5881" class="Function">is-in-sgpe</a> <a id="6098" class="Symbol">{</a><a id="6099" href="Games.FiniteHistoryDependent.html#6013" class="Bound">Xf</a> <a id="6102" href="Games.FiniteHistoryDependent.html#6078" class="Bound">x</a><a id="6103" class="Symbol">}</a> <a id="6105" class="Symbol">(</a><a id="6106" href="Games.FiniteHistoryDependent.html#6023" class="Bound">Ï•f</a> <a id="6109" href="Games.FiniteHistoryDependent.html#6078" class="Bound">x</a><a id="6110" class="Symbol">)</a> <a id="6112" class="Symbol">(</a><a id="6113" href="Games.TypeTrees.html#1658" class="Function">subpred</a> <a id="6121" href="Games.FiniteHistoryDependent.html#6027" class="Bound">q</a> <a id="6123" href="Games.FiniteHistoryDependent.html#6078" class="Bound">x</a><a id="6124" class="Symbol">)</a> <a id="6126" class="Symbol">(</a><a id="6127" href="Games.FiniteHistoryDependent.html#6039" class="Bound">Ïƒf</a> <a id="6130" href="Games.FiniteHistoryDependent.html#6078" class="Bound">x</a><a id="6131" class="Symbol">))</a>

<a id="6135" class="Markup">\end{code}</a><a id="6145" class="Background">

In the above definition:

 * If the game tree is empty, then the strategy is empty, and we say
   that it is true that it is in sgpe, where &quot;true&quot; is represented by
   the unit type ğŸ™ in propositions-as-types.

 * If the game tree has a root X followed by a forest Xf, then the
   strategy must be of the form xâ‚€ :: Ïƒf, where xâ‚€ is the first move
   according to the strategy, and where Ïƒf is a forest of strategies
   that depends on a deviation x.

   So the first part

     subpred q xâ‚€ (strategic-path (Ïƒf xâ‚€)) ï¼ Ï• (Î» x â†’ subpred q x (strategic-path (Ïƒf x)))

   of the definition is as in the comment above, but with a partial
   play of length k=0, and the second (inductive) part, says that the
   substrategy Ïƒf x, for any deviation x, is in subgame perfect
   equilibrium in the subgame

     (Xf x , R , Ï•f x , subpred q x).

As discussed above, we say that a strategy for a game is optimal if it
is in subgame perfect equilibrium.

</a><a id="7091" class="Markup">\begin{code}</a>

<a id="is-optimal"></a><a id="7105" href="Games.FiniteHistoryDependent.html#7105" class="Function">is-optimal</a> <a id="7116" class="Symbol">:</a> <a id="7118" class="Symbol">(</a><a id="7119" href="Games.FiniteHistoryDependent.html#7119" class="Bound">G</a> <a id="7121" class="Symbol">:</a> <a id="7123" href="Games.FiniteHistoryDependent.html#3132" class="Record">Game</a><a id="7127" class="Symbol">)</a> <a id="7129" class="Symbol">(</a><a id="7130" href="Games.FiniteHistoryDependent.html#7130" class="Bound">Ïƒ</a> <a id="7132" class="Symbol">:</a> <a id="7134" href="Games.FiniteHistoryDependent.html#3735" class="Function">Strategy</a> <a id="7143" class="Symbol">(</a><a id="7144" href="Games.FiniteHistoryDependent.html#3178" class="Field">game-tree</a> <a id="7154" href="Games.FiniteHistoryDependent.html#7119" class="Bound">G</a><a id="7155" class="Symbol">))</a> <a id="7158" class="Symbol">â†’</a> <a id="7160" href="Notation.General.html#372" class="Function">Type</a>
<a id="7165" href="Games.FiniteHistoryDependent.html#7105" class="Function">is-optimal</a> <a id="7176" class="Symbol">(</a><a id="7177" href="Games.FiniteHistoryDependent.html#3164" class="InductiveConstructor">game</a> <a id="7182" href="Games.FiniteHistoryDependent.html#7182" class="Bound">Xt</a> <a id="7185" href="Games.FiniteHistoryDependent.html#7185" class="Bound">Ï•t</a> <a id="7188" href="Games.FiniteHistoryDependent.html#7188" class="Bound">q</a><a id="7189" class="Symbol">)</a> <a id="7191" href="Games.FiniteHistoryDependent.html#7191" class="Bound">Ïƒ</a> <a id="7193" class="Symbol">=</a> <a id="7195" href="Games.FiniteHistoryDependent.html#5881" class="Function">is-in-sgpe</a> <a id="7206" class="Symbol">{</a><a id="7207" href="Games.FiniteHistoryDependent.html#7182" class="Bound">Xt</a><a id="7209" class="Symbol">}</a> <a id="7211" href="Games.FiniteHistoryDependent.html#7188" class="Bound">q</a> <a id="7213" href="Games.FiniteHistoryDependent.html#7185" class="Bound">Ï•t</a> <a id="7216" href="Games.FiniteHistoryDependent.html#7191" class="Bound">Ïƒ</a>

<a id="7219" class="Markup">\end{code}</a><a id="7229" class="Background">

The main lemma is that the optimal outcome is the same thing as the
application of the outcome function to the path induced by a strategy
in perfect subgame equilibrium.

Remark. In the published paper [0] above, we use the terminology
`is-optimal` as above, but perhaps we should stick to subgame perfect
equilibrium for the terminology.

The following is Theorem 3.1 of reference [1].

</a><a id="7619" class="Markup">\begin{code}</a>

<a id="sgpe-lemma"></a><a id="7633" href="Games.FiniteHistoryDependent.html#7633" class="Function">sgpe-lemma</a> <a id="7644" class="Symbol">:</a> <a id="7646" href="UF.FunExt.html#1047" class="Function">Fun-Ext</a>
           <a id="7665" class="Symbol">â†’</a> <a id="7667" class="Symbol">(</a><a id="7668" href="Games.FiniteHistoryDependent.html#7668" class="Bound">Xt</a> <a id="7671" class="Symbol">:</a> <a id="7673" href="Games.TypeTrees.html#755" class="Datatype">ğ‘»</a><a id="7674" class="Symbol">)</a> <a id="7676" class="Symbol">(</a><a id="7677" href="Games.FiniteHistoryDependent.html#7677" class="Bound">Ï•t</a> <a id="7680" class="Symbol">:</a> <a id="7682" href="Games.FiniteHistoryDependent.html#2364" class="Function">ğ“š</a> <a id="7684" href="Games.FiniteHistoryDependent.html#7668" class="Bound">Xt</a><a id="7686" class="Symbol">)</a> <a id="7688" class="Symbol">(</a><a id="7689" href="Games.FiniteHistoryDependent.html#7689" class="Bound">q</a> <a id="7691" class="Symbol">:</a> <a id="7693" href="Games.TypeTrees.html#942" class="Function">Path</a> <a id="7698" href="Games.FiniteHistoryDependent.html#7668" class="Bound">Xt</a> <a id="7701" class="Symbol">â†’</a> <a id="7703" href="Games.FiniteHistoryDependent.html#1635" class="Bound">R</a><a id="7704" class="Symbol">)</a> <a id="7706" class="Symbol">(</a><a id="7707" href="Games.FiniteHistoryDependent.html#7707" class="Bound">Ïƒ</a> <a id="7709" class="Symbol">:</a> <a id="7711" href="Games.FiniteHistoryDependent.html#3735" class="Function">Strategy</a> <a id="7720" href="Games.FiniteHistoryDependent.html#7668" class="Bound">Xt</a><a id="7722" class="Symbol">)</a>
           <a id="7735" class="Symbol">â†’</a> <a id="7737" href="Games.FiniteHistoryDependent.html#5881" class="Function">is-in-sgpe</a> <a id="7748" href="Games.FiniteHistoryDependent.html#7677" class="Bound">Ï•t</a> <a id="7751" href="Games.FiniteHistoryDependent.html#7689" class="Bound">q</a> <a id="7753" href="Games.FiniteHistoryDependent.html#7707" class="Bound">Ïƒ</a>
           <a id="7766" class="Symbol">â†’</a> <a id="7768" href="Games.FiniteHistoryDependent.html#7689" class="Bound">q</a> <a id="7770" class="Symbol">(</a><a id="7771" href="Games.FiniteHistoryDependent.html#4248" class="Function">strategic-path</a> <a id="7786" href="Games.FiniteHistoryDependent.html#7707" class="Bound">Ïƒ</a><a id="7787" class="Symbol">)</a> <a id="7789" href="MLTT.Id.html#193" class="Datatype Operator">ï¼</a> <a id="7791" href="Games.FiniteHistoryDependent.html#2857" class="Function">sequenceá´·</a> <a id="7801" href="Games.FiniteHistoryDependent.html#7677" class="Bound">Ï•t</a> <a id="7804" href="Games.FiniteHistoryDependent.html#7689" class="Bound">q</a>
<a id="7806" href="Games.FiniteHistoryDependent.html#7633" class="Function">sgpe-lemma</a> <a id="7817" href="Games.FiniteHistoryDependent.html#7817" class="Bound">fe</a> <a id="7820" href="Games.TypeTrees.html#773" class="InductiveConstructor">[]</a>       <a id="7829" href="Games.TypeTrees.html#1310" class="InductiveConstructor">âŸ¨âŸ©</a>        <a id="7839" href="Games.FiniteHistoryDependent.html#7839" class="Bound">q</a> <a id="7841" href="Games.TypeTrees.html#1310" class="InductiveConstructor">âŸ¨âŸ©</a>        <a id="7851" href="Games.TypeTrees.html#1310" class="InductiveConstructor">âŸ¨âŸ©</a>       <a id="7860" class="Symbol">=</a> <a id="7862" href="MLTT.Identity-Type.html#157" class="InductiveConstructor">refl</a>
<a id="7867" href="Games.FiniteHistoryDependent.html#7633" class="Function">sgpe-lemma</a> <a id="7878" href="Games.FiniteHistoryDependent.html#7878" class="Bound">fe</a> <a id="7881" class="Symbol">(</a><a id="7882" href="Games.FiniteHistoryDependent.html#7882" class="Bound">X</a> <a id="7884" href="Games.TypeTrees.html#783" class="InductiveConstructor Operator">âˆ·</a> <a id="7886" href="Games.FiniteHistoryDependent.html#7886" class="Bound">Xf</a><a id="7888" class="Symbol">)</a> <a id="7890" class="Symbol">(</a><a id="7891" href="Games.FiniteHistoryDependent.html#7891" class="Bound">Ï•</a> <a id="7893" href="Games.TypeTrees.html#1332" class="InductiveConstructor Operator">::</a> <a id="7896" href="Games.FiniteHistoryDependent.html#7896" class="Bound">Ï•t</a><a id="7898" class="Symbol">)</a> <a id="7900" href="Games.FiniteHistoryDependent.html#7900" class="Bound">q</a> <a id="7902" class="Symbol">(</a><a id="7903" href="Games.FiniteHistoryDependent.html#7903" class="Bound">a</a> <a id="7905" href="Games.TypeTrees.html#1332" class="InductiveConstructor Operator">::</a> <a id="7908" href="Games.FiniteHistoryDependent.html#7908" class="Bound">Ïƒf</a><a id="7910" class="Symbol">)</a> <a id="7912" class="Symbol">(</a><a id="7913" href="Games.FiniteHistoryDependent.html#7913" class="Bound">h</a> <a id="7915" href="Games.TypeTrees.html#1332" class="InductiveConstructor Operator">::</a> <a id="7918" href="Games.FiniteHistoryDependent.html#7918" class="Bound">t</a><a id="7919" class="Symbol">)</a> <a id="7921" class="Symbol">=</a> <a id="7923" href="Games.FiniteHistoryDependent.html#8190" class="Function">Î³</a>
 <a id="7926" class="Keyword">where</a>
  <a id="7934" href="Games.FiniteHistoryDependent.html#7934" class="Function">observation-t</a> <a id="7948" class="Symbol">:</a> <a id="7950" href="Notation.General.html#3219" class="Function">type-of</a> <a id="7958" href="Games.FiniteHistoryDependent.html#7918" class="Bound">t</a> <a id="7960" href="MLTT.Id.html#193" class="Datatype Operator">ï¼</a> <a id="7962" class="Symbol">((</a><a id="7964" href="Games.FiniteHistoryDependent.html#7964" class="Bound">x</a> <a id="7966" class="Symbol">:</a> <a id="7968" href="Games.FiniteHistoryDependent.html#7882" class="Bound">X</a><a id="7969" class="Symbol">)</a> <a id="7971" class="Symbol">â†’</a> <a id="7973" href="Games.FiniteHistoryDependent.html#5881" class="Function">is-in-sgpe</a> <a id="7984" class="Symbol">(</a><a id="7985" href="Games.FiniteHistoryDependent.html#7896" class="Bound">Ï•t</a> <a id="7988" href="Games.FiniteHistoryDependent.html#7964" class="Bound">x</a><a id="7989" class="Symbol">)</a> <a id="7991" class="Symbol">(</a><a id="7992" href="Games.TypeTrees.html#1658" class="Function">subpred</a> <a id="8000" href="Games.FiniteHistoryDependent.html#7900" class="Bound">q</a> <a id="8002" href="Games.FiniteHistoryDependent.html#7964" class="Bound">x</a><a id="8003" class="Symbol">)</a> <a id="8005" class="Symbol">(</a><a id="8006" href="Games.FiniteHistoryDependent.html#7908" class="Bound">Ïƒf</a> <a id="8009" href="Games.FiniteHistoryDependent.html#7964" class="Bound">x</a><a id="8010" class="Symbol">))</a>
  <a id="8015" href="Games.FiniteHistoryDependent.html#7934" class="Function">observation-t</a> <a id="8029" class="Symbol">=</a> <a id="8031" href="MLTT.Identity-Type.html#157" class="InductiveConstructor">refl</a>

  <a id="8039" href="Games.FiniteHistoryDependent.html#8039" class="Function">IH</a> <a id="8042" class="Symbol">:</a> <a id="8044" class="Symbol">(</a><a id="8045" href="Games.FiniteHistoryDependent.html#8045" class="Bound">x</a> <a id="8047" class="Symbol">:</a> <a id="8049" href="Games.FiniteHistoryDependent.html#7882" class="Bound">X</a><a id="8050" class="Symbol">)</a> <a id="8052" class="Symbol">â†’</a> <a id="8054" href="Games.TypeTrees.html#1658" class="Function">subpred</a> <a id="8062" href="Games.FiniteHistoryDependent.html#7900" class="Bound">q</a> <a id="8064" href="Games.FiniteHistoryDependent.html#8045" class="Bound">x</a> <a id="8066" class="Symbol">(</a><a id="8067" href="Games.FiniteHistoryDependent.html#4248" class="Function">strategic-path</a> <a id="8082" class="Symbol">(</a><a id="8083" href="Games.FiniteHistoryDependent.html#7908" class="Bound">Ïƒf</a> <a id="8086" href="Games.FiniteHistoryDependent.html#8045" class="Bound">x</a><a id="8087" class="Symbol">))</a> <a id="8090" href="MLTT.Id.html#193" class="Datatype Operator">ï¼</a> <a id="8092" href="Games.FiniteHistoryDependent.html#2857" class="Function">sequenceá´·</a> <a id="8102" class="Symbol">(</a><a id="8103" href="Games.FiniteHistoryDependent.html#7896" class="Bound">Ï•t</a> <a id="8106" href="Games.FiniteHistoryDependent.html#8045" class="Bound">x</a><a id="8107" class="Symbol">)</a> <a id="8109" class="Symbol">(</a><a id="8110" href="Games.TypeTrees.html#1658" class="Function">subpred</a> <a id="8118" href="Games.FiniteHistoryDependent.html#7900" class="Bound">q</a> <a id="8120" href="Games.FiniteHistoryDependent.html#8045" class="Bound">x</a><a id="8121" class="Symbol">)</a>
  <a id="8125" href="Games.FiniteHistoryDependent.html#8039" class="Function">IH</a> <a id="8128" href="Games.FiniteHistoryDependent.html#8128" class="Bound">x</a> <a id="8130" class="Symbol">=</a> <a id="8132" href="Games.FiniteHistoryDependent.html#7633" class="Function">sgpe-lemma</a> <a id="8143" href="Games.FiniteHistoryDependent.html#7878" class="Bound">fe</a> <a id="8146" class="Symbol">(</a><a id="8147" href="Games.FiniteHistoryDependent.html#7886" class="Bound">Xf</a> <a id="8150" href="Games.FiniteHistoryDependent.html#8128" class="Bound">x</a><a id="8151" class="Symbol">)</a> <a id="8153" class="Symbol">(</a><a id="8154" href="Games.FiniteHistoryDependent.html#7896" class="Bound">Ï•t</a> <a id="8157" href="Games.FiniteHistoryDependent.html#8128" class="Bound">x</a><a id="8158" class="Symbol">)</a> <a id="8160" class="Symbol">(</a><a id="8161" href="Games.TypeTrees.html#1658" class="Function">subpred</a> <a id="8169" href="Games.FiniteHistoryDependent.html#7900" class="Bound">q</a> <a id="8171" href="Games.FiniteHistoryDependent.html#8128" class="Bound">x</a><a id="8172" class="Symbol">)</a> <a id="8174" class="Symbol">(</a><a id="8175" href="Games.FiniteHistoryDependent.html#7908" class="Bound">Ïƒf</a> <a id="8178" href="Games.FiniteHistoryDependent.html#8128" class="Bound">x</a><a id="8179" class="Symbol">)</a> <a id="8181" class="Symbol">(</a><a id="8182" href="Games.FiniteHistoryDependent.html#7918" class="Bound">t</a> <a id="8184" href="Games.FiniteHistoryDependent.html#8128" class="Bound">x</a><a id="8185" class="Symbol">)</a>

  <a id="8190" href="Games.FiniteHistoryDependent.html#8190" class="Function">Î³</a> <a id="8192" class="Symbol">=</a> <a id="8194" href="Games.TypeTrees.html#1658" class="Function">subpred</a> <a id="8202" href="Games.FiniteHistoryDependent.html#7900" class="Bound">q</a> <a id="8204" href="Games.FiniteHistoryDependent.html#7903" class="Bound">a</a> <a id="8206" class="Symbol">(</a><a id="8207" href="Games.FiniteHistoryDependent.html#4248" class="Function">strategic-path</a> <a id="8222" class="Symbol">(</a><a id="8223" href="Games.FiniteHistoryDependent.html#7908" class="Bound">Ïƒf</a> <a id="8226" href="Games.FiniteHistoryDependent.html#7903" class="Bound">a</a><a id="8227" class="Symbol">))</a>           <a id="8240" href="MLTT.Id.html#2703" class="Function Operator">ï¼âŸ¨</a> <a id="8243" href="Games.FiniteHistoryDependent.html#7913" class="Bound">h</a> <a id="8245" href="MLTT.Id.html#2703" class="Function Operator">âŸ©</a>
      <a id="8253" href="Games.FiniteHistoryDependent.html#7891" class="Bound">Ï•</a> <a id="8255" class="Symbol">(Î»</a> <a id="8258" href="Games.FiniteHistoryDependent.html#8258" class="Bound">x</a> <a id="8260" class="Symbol">â†’</a> <a id="8262" href="Games.TypeTrees.html#1658" class="Function">subpred</a> <a id="8270" href="Games.FiniteHistoryDependent.html#7900" class="Bound">q</a> <a id="8272" href="Games.FiniteHistoryDependent.html#8258" class="Bound">x</a> <a id="8274" class="Symbol">(</a><a id="8275" href="Games.FiniteHistoryDependent.html#4248" class="Function">strategic-path</a> <a id="8290" class="Symbol">(</a><a id="8291" href="Games.FiniteHistoryDependent.html#7908" class="Bound">Ïƒf</a> <a id="8294" href="Games.FiniteHistoryDependent.html#8258" class="Bound">x</a><a id="8295" class="Symbol">)))</a> <a id="8299" href="MLTT.Id.html#2703" class="Function Operator">ï¼âŸ¨</a> <a id="8302" href="MLTT.Id.html#1136" class="Function">ap</a> <a id="8305" href="Games.FiniteHistoryDependent.html#7891" class="Bound">Ï•</a> <a id="8307" class="Symbol">(</a><a id="8308" href="UF.FunExt.html#1242" class="Function">dfunext</a> <a id="8316" href="Games.FiniteHistoryDependent.html#7878" class="Bound">fe</a> <a id="8319" href="Games.FiniteHistoryDependent.html#8039" class="Function">IH</a><a id="8321" class="Symbol">)</a> <a id="8323" href="MLTT.Id.html#2703" class="Function Operator">âŸ©</a>
      <a id="8331" href="Games.FiniteHistoryDependent.html#7891" class="Bound">Ï•</a> <a id="8333" class="Symbol">(Î»</a> <a id="8336" href="Games.FiniteHistoryDependent.html#8336" class="Bound">x</a> <a id="8338" class="Symbol">â†’</a> <a id="8340" href="Games.FiniteHistoryDependent.html#2857" class="Function">sequenceá´·</a> <a id="8350" class="Symbol">(</a><a id="8351" href="Games.FiniteHistoryDependent.html#7896" class="Bound">Ï•t</a> <a id="8354" href="Games.FiniteHistoryDependent.html#8336" class="Bound">x</a><a id="8355" class="Symbol">)</a> <a id="8357" class="Symbol">(</a><a id="8358" href="Games.TypeTrees.html#1658" class="Function">subpred</a> <a id="8366" href="Games.FiniteHistoryDependent.html#7900" class="Bound">q</a> <a id="8368" href="Games.FiniteHistoryDependent.html#8336" class="Bound">x</a><a id="8369" class="Symbol">))</a>      <a id="8377" href="MLTT.Id.html#2785" class="Function Operator">âˆ</a>

<a id="8380" class="Markup">\end{code}</a><a id="8390" class="Background">

This can be reformulated as follows in terms of the type of games:

</a><a id="8460" class="Markup">\begin{code}</a>

<a id="optimality-theorem"></a><a id="8474" href="Games.FiniteHistoryDependent.html#8474" class="Function">optimality-theorem</a> <a id="8493" class="Symbol">:</a> <a id="8495" href="UF.FunExt.html#1047" class="Function">Fun-Ext</a>
                   <a id="8522" class="Symbol">â†’</a> <a id="8524" class="Symbol">(</a><a id="8525" href="Games.FiniteHistoryDependent.html#8525" class="Bound">G</a><a id="8526" class="Symbol">@(</a><a id="8528" href="Games.FiniteHistoryDependent.html#3164" class="InductiveConstructor">game</a> <a id="8533" href="Games.FiniteHistoryDependent.html#8533" class="Bound">Xt</a> <a id="8536" href="Games.FiniteHistoryDependent.html#8536" class="Bound">q</a> <a id="8538" href="Games.FiniteHistoryDependent.html#8538" class="Bound">Ï•t</a><a id="8540" class="Symbol">)</a> <a id="8542" class="Symbol">:</a> <a id="8544" href="Games.FiniteHistoryDependent.html#3132" class="Record">Game</a><a id="8548" class="Symbol">)</a> <a id="8550" class="Symbol">(</a><a id="8551" href="Games.FiniteHistoryDependent.html#8551" class="Bound">Ïƒ</a> <a id="8553" class="Symbol">:</a> <a id="8555" href="Games.FiniteHistoryDependent.html#3735" class="Function">Strategy</a> <a id="8564" href="Games.FiniteHistoryDependent.html#8533" class="Bound">Xt</a><a id="8566" class="Symbol">)</a>
                   <a id="8587" class="Symbol">â†’</a> <a id="8589" href="Games.FiniteHistoryDependent.html#7105" class="Function">is-optimal</a> <a id="8600" href="Games.FiniteHistoryDependent.html#8525" class="Bound">G</a> <a id="8602" href="Games.FiniteHistoryDependent.html#8551" class="Bound">Ïƒ</a>
                   <a id="8623" class="Symbol">â†’</a> <a id="8625" href="Games.FiniteHistoryDependent.html#8536" class="Bound">q</a> <a id="8627" class="Symbol">(</a><a id="8628" href="Games.FiniteHistoryDependent.html#4248" class="Function">strategic-path</a> <a id="8643" href="Games.FiniteHistoryDependent.html#8551" class="Bound">Ïƒ</a><a id="8644" class="Symbol">)</a> <a id="8646" href="MLTT.Id.html#193" class="Datatype Operator">ï¼</a> <a id="8648" href="Games.FiniteHistoryDependent.html#3536" class="Function">optimal-outcome</a> <a id="8664" href="Games.FiniteHistoryDependent.html#8525" class="Bound">G</a>
<a id="8666" href="Games.FiniteHistoryDependent.html#8474" class="Function">optimality-theorem</a> <a id="8685" href="Games.FiniteHistoryDependent.html#8685" class="Bound">fe</a> <a id="8688" class="Symbol">(</a><a id="8689" href="Games.FiniteHistoryDependent.html#3164" class="InductiveConstructor">game</a> <a id="8694" href="Games.FiniteHistoryDependent.html#8694" class="Bound">Xt</a> <a id="8697" href="Games.FiniteHistoryDependent.html#8697" class="Bound">Ï•t</a> <a id="8700" href="Games.FiniteHistoryDependent.html#8700" class="Bound">q</a><a id="8701" class="Symbol">)</a> <a id="8703" class="Symbol">=</a> <a id="8705" href="Games.FiniteHistoryDependent.html#7633" class="Function">sgpe-lemma</a> <a id="8716" href="Games.FiniteHistoryDependent.html#8685" class="Bound">fe</a> <a id="8719" href="Games.FiniteHistoryDependent.html#8694" class="Bound">Xt</a> <a id="8722" href="Games.FiniteHistoryDependent.html#8700" class="Bound">q</a> <a id="8724" href="Games.FiniteHistoryDependent.html#8697" class="Bound">Ï•t</a>

<a id="8728" class="Markup">\end{code}</a><a id="8738" class="Background">

We now show how to use selection functions to compute a sgpe strategy.

We use selection functions, as in Section 2 of reference [1], defined
in another module.

ğ“™ assigns types of selection functions to the nodes.

</a><a id="8956" class="Markup">\begin{code}</a>

<a id="ğ“™"></a><a id="8970" href="Games.FiniteHistoryDependent.html#8970" class="Function">ğ“™</a> <a id="8972" class="Symbol">:</a> <a id="8974" href="Games.TypeTrees.html#755" class="Datatype">ğ‘»</a> <a id="8976" class="Symbol">â†’</a> <a id="8978" href="Notation.General.html#372" class="Function">Type</a>
<a id="8983" href="Games.FiniteHistoryDependent.html#8970" class="Function">ğ“™</a> <a id="8985" class="Symbol">=</a> <a id="8987" href="Games.TypeTrees.html#2156" class="Function">structure</a> <a id="8997" href="MonadOnTypes.J.html#461" class="Function">J</a>

<a id="remark-ğ“™"></a><a id="9000" href="Games.FiniteHistoryDependent.html#9000" class="Function">remark-ğ“™</a> <a id="9009" class="Symbol">:</a> <a id="9011" class="Symbol">{</a><a id="9012" href="Games.FiniteHistoryDependent.html#9012" class="Bound">X</a> <a id="9014" class="Symbol">:</a> <a id="9016" href="Notation.General.html#372" class="Function">Type</a><a id="9020" class="Symbol">}</a> <a id="9022" class="Symbol">{</a><a id="9023" href="Games.FiniteHistoryDependent.html#9023" class="Bound">Xf</a> <a id="9026" class="Symbol">:</a> <a id="9028" href="Games.FiniteHistoryDependent.html#9012" class="Bound">X</a> <a id="9030" class="Symbol">â†’</a> <a id="9032" href="Games.TypeTrees.html#755" class="Datatype">ğ‘»</a><a id="9033" class="Symbol">}</a>
         <a id="9044" class="Symbol">â†’</a> <a id="9046" class="Symbol">(</a><a id="9047" href="Games.FiniteHistoryDependent.html#8970" class="Function">ğ“™</a> <a id="9049" class="InductiveConstructor">[]</a> <a id="9052" href="MLTT.Id.html#193" class="Datatype Operator">ï¼</a> <a id="9054" href="MLTT.Unit.html#129" class="Record">ğŸ™</a><a id="9055" class="Symbol">)</a>
         <a id="9066" href="MLTT.Sigma.html#558" class="Function Operator">Ã—</a> <a id="9068" class="Symbol">(</a><a id="9069" href="Games.FiniteHistoryDependent.html#8970" class="Function">ğ“™</a> <a id="9071" class="Symbol">(</a><a id="9072" href="Games.FiniteHistoryDependent.html#9012" class="Bound">X</a> <a id="9074" class="InductiveConstructor Operator">âˆ·</a> <a id="9076" href="Games.FiniteHistoryDependent.html#9023" class="Bound">Xf</a><a id="9078" class="Symbol">)</a> <a id="9080" href="MLTT.Id.html#193" class="Datatype Operator">ï¼</a> <a id="9082" href="MonadOnTypes.J.html#461" class="Function">J</a> <a id="9084" href="Games.FiniteHistoryDependent.html#9012" class="Bound">X</a> <a id="9086" href="MLTT.Sigma.html#558" class="Function Operator">Ã—</a> <a id="9088" class="Symbol">((</a><a id="9090" href="Games.FiniteHistoryDependent.html#9090" class="Bound">x</a> <a id="9092" class="Symbol">:</a> <a id="9094" href="Games.FiniteHistoryDependent.html#9012" class="Bound">X</a><a id="9095" class="Symbol">)</a> <a id="9097" class="Symbol">â†’</a> <a id="9099" href="Games.FiniteHistoryDependent.html#8970" class="Function">ğ“™</a> <a id="9101" class="Symbol">(</a><a id="9102" href="Games.FiniteHistoryDependent.html#9023" class="Bound">Xf</a> <a id="9105" href="Games.FiniteHistoryDependent.html#9090" class="Bound">x</a><a id="9106" class="Symbol">)))</a>
<a id="9110" href="Games.FiniteHistoryDependent.html#9000" class="Function">remark-ğ“™</a> <a id="9119" class="Symbol">=</a> <a id="9121" href="MLTT.Identity-Type.html#157" class="InductiveConstructor">refl</a> <a id="9126" href="MLTT.Sigma.html#395" class="InductiveConstructor Operator">,</a> <a id="9128" href="MLTT.Identity-Type.html#157" class="InductiveConstructor">refl</a>

<a id="9134" class="Markup">\end{code}</a><a id="9144" class="Background">

 * Îµ ranges over the type J X of selection functions.
 * Îµt ranges over the type ğ“™ Xt of selection-function trees.
 * Îµf ranges over the type (x : X) â†’ ğ“™ (Xf x) of selection-function forests.

Sequencing selection functions, as constructed in Definition 12 of
reference [1], but using our tree representation of games instead:

</a><a id="9474" class="Markup">\begin{code}</a>

<a id="sequenceá´¶"></a><a id="9488" href="Games.FiniteHistoryDependent.html#9488" class="Function">sequenceá´¶</a> <a id="9498" class="Symbol">:</a> <a id="9500" class="Symbol">{</a><a id="9501" href="Games.FiniteHistoryDependent.html#9501" class="Bound">Xt</a> <a id="9504" class="Symbol">:</a> <a id="9506" href="Games.TypeTrees.html#755" class="Datatype">ğ‘»</a><a id="9507" class="Symbol">}</a> <a id="9509" class="Symbol">â†’</a> <a id="9511" href="Games.FiniteHistoryDependent.html#8970" class="Function">ğ“™</a> <a id="9513" href="Games.FiniteHistoryDependent.html#9501" class="Bound">Xt</a> <a id="9516" class="Symbol">â†’</a> <a id="9518" href="MonadOnTypes.J.html#461" class="Function">J</a> <a id="9520" class="Symbol">(</a><a id="9521" href="Games.TypeTrees.html#942" class="Function">Path</a> <a id="9526" href="Games.FiniteHistoryDependent.html#9501" class="Bound">Xt</a><a id="9528" class="Symbol">)</a>
<a id="9530" href="Games.FiniteHistoryDependent.html#9488" class="Function">sequenceá´¶</a> <a id="9540" class="Symbol">=</a> <a id="9542" href="Games.TypeTrees.html#3825" class="Function">path-sequence</a> <a id="9556" class="Symbol">(</a><a id="9557" href="MonadOnTypes.J.html#206" class="Function">ğ•</a> <a id="9559" href="Games.FiniteHistoryDependent.html#1635" class="Bound">R</a><a id="9560" class="Symbol">)</a>

<a id="9563" class="Markup">\end{code}</a><a id="9573" class="Background">

The following, which defines a strategy from given selection
functions, is defined in Theorem 5.4 of [1], with the difference that
here, for the moment, we consider only single-valued quantifiers.

</a><a id="9773" class="Markup">\begin{code}</a>

<a id="selection-strategy"></a><a id="9787" href="Games.FiniteHistoryDependent.html#9787" class="Function">selection-strategy</a> <a id="9806" class="Symbol">:</a> <a id="9808" class="Symbol">{</a><a id="9809" href="Games.FiniteHistoryDependent.html#9809" class="Bound">Xt</a> <a id="9812" class="Symbol">:</a> <a id="9814" href="Games.TypeTrees.html#755" class="Datatype">ğ‘»</a><a id="9815" class="Symbol">}</a> <a id="9817" class="Symbol">â†’</a> <a id="9819" href="Games.FiniteHistoryDependent.html#8970" class="Function">ğ“™</a> <a id="9821" href="Games.FiniteHistoryDependent.html#9809" class="Bound">Xt</a> <a id="9824" class="Symbol">â†’</a> <a id="9826" class="Symbol">(</a><a id="9827" href="Games.TypeTrees.html#942" class="Function">Path</a> <a id="9832" href="Games.FiniteHistoryDependent.html#9809" class="Bound">Xt</a> <a id="9835" class="Symbol">â†’</a> <a id="9837" href="Games.FiniteHistoryDependent.html#1635" class="Bound">R</a><a id="9838" class="Symbol">)</a> <a id="9840" class="Symbol">â†’</a> <a id="9842" href="Games.FiniteHistoryDependent.html#3735" class="Function">Strategy</a> <a id="9851" href="Games.FiniteHistoryDependent.html#9809" class="Bound">Xt</a>
<a id="9854" href="Games.FiniteHistoryDependent.html#9787" class="Function">selection-strategy</a> <a id="9873" class="Symbol">{</a><a id="9874" href="Games.TypeTrees.html#773" class="InductiveConstructor">[]</a><a id="9876" class="Symbol">}</a>     <a id="9882" href="Games.TypeTrees.html#1310" class="InductiveConstructor">âŸ¨âŸ©</a>           <a id="9895" href="Games.FiniteHistoryDependent.html#9895" class="Bound">q</a> <a id="9897" class="Symbol">=</a> <a id="9899" href="Games.TypeTrees.html#1310" class="InductiveConstructor">âŸ¨âŸ©</a>
<a id="9902" href="Games.FiniteHistoryDependent.html#9787" class="Function">selection-strategy</a> <a id="9921" class="Symbol">{</a><a id="9922" href="Games.FiniteHistoryDependent.html#9922" class="Bound">X</a> <a id="9924" href="Games.TypeTrees.html#783" class="InductiveConstructor Operator">âˆ·</a> <a id="9926" href="Games.FiniteHistoryDependent.html#9926" class="Bound">Xf</a><a id="9928" class="Symbol">}</a> <a id="9930" href="Games.FiniteHistoryDependent.html#9930" class="Bound">Îµt</a><a id="9932" class="Symbol">@(</a><a id="9934" href="Games.FiniteHistoryDependent.html#9934" class="Bound">Îµ</a> <a id="9936" href="Games.TypeTrees.html#1332" class="InductiveConstructor Operator">::</a> <a id="9939" href="Games.FiniteHistoryDependent.html#9939" class="Bound">Îµf</a><a id="9941" class="Symbol">)</a> <a id="9943" href="Games.FiniteHistoryDependent.html#9943" class="Bound">q</a> <a id="9945" class="Symbol">=</a> <a id="9947" href="Games.FiniteHistoryDependent.html#10009" class="Function">xâ‚€</a> <a id="9950" href="Games.TypeTrees.html#1332" class="InductiveConstructor Operator">::</a> <a id="9953" href="Games.FiniteHistoryDependent.html#10039" class="Function">Ïƒf</a>
 <a id="9957" class="Keyword">where</a>
  <a id="9965" href="Games.FiniteHistoryDependent.html#9965" class="Function">xs</a> <a id="9968" class="Symbol">:</a> <a id="9970" href="Games.TypeTrees.html#942" class="Function">Path</a> <a id="9975" class="Symbol">(</a><a id="9976" href="Games.FiniteHistoryDependent.html#9922" class="Bound">X</a> <a id="9978" href="Games.TypeTrees.html#783" class="InductiveConstructor Operator">âˆ·</a> <a id="9980" href="Games.FiniteHistoryDependent.html#9926" class="Bound">Xf</a><a id="9982" class="Symbol">)</a>
  <a id="9986" href="Games.FiniteHistoryDependent.html#9965" class="Function">xs</a> <a id="9989" class="Symbol">=</a> <a id="9991" href="Games.FiniteHistoryDependent.html#9488" class="Function">sequenceá´¶</a> <a id="10001" href="Games.FiniteHistoryDependent.html#9930" class="Bound">Îµt</a> <a id="10004" href="Games.FiniteHistoryDependent.html#9943" class="Bound">q</a>

  <a id="10009" href="Games.FiniteHistoryDependent.html#10009" class="Function">xâ‚€</a> <a id="10012" class="Symbol">:</a> <a id="10014" href="Games.FiniteHistoryDependent.html#9922" class="Bound">X</a>
  <a id="10018" href="Games.FiniteHistoryDependent.html#10009" class="Function">xâ‚€</a> <a id="10021" class="Symbol">=</a> <a id="10023" href="Games.TypeTrees.html#1354" class="Function">path-head</a> <a id="10033" href="Games.FiniteHistoryDependent.html#9965" class="Function">xs</a>

  <a id="10039" href="Games.FiniteHistoryDependent.html#10039" class="Function">Ïƒf</a> <a id="10042" class="Symbol">:</a> <a id="10044" class="Symbol">(</a><a id="10045" href="Games.FiniteHistoryDependent.html#10045" class="Bound">x</a> <a id="10047" class="Symbol">:</a> <a id="10049" href="Games.FiniteHistoryDependent.html#9922" class="Bound">X</a><a id="10050" class="Symbol">)</a> <a id="10052" class="Symbol">â†’</a> <a id="10054" href="Games.FiniteHistoryDependent.html#3735" class="Function">Strategy</a> <a id="10063" class="Symbol">(</a><a id="10064" href="Games.FiniteHistoryDependent.html#9926" class="Bound">Xf</a> <a id="10067" href="Games.FiniteHistoryDependent.html#10045" class="Bound">x</a><a id="10068" class="Symbol">)</a>
  <a id="10072" href="Games.FiniteHistoryDependent.html#10039" class="Function">Ïƒf</a> <a id="10075" href="Games.FiniteHistoryDependent.html#10075" class="Bound">x</a> <a id="10077" class="Symbol">=</a> <a id="10079" href="Games.FiniteHistoryDependent.html#9787" class="Function">selection-strategy</a> <a id="10098" class="Symbol">{</a><a id="10099" href="Games.FiniteHistoryDependent.html#9926" class="Bound">Xf</a> <a id="10102" href="Games.FiniteHistoryDependent.html#10075" class="Bound">x</a><a id="10103" class="Symbol">}</a> <a id="10105" class="Symbol">(</a><a id="10106" href="Games.FiniteHistoryDependent.html#9939" class="Bound">Îµf</a> <a id="10109" href="Games.FiniteHistoryDependent.html#10075" class="Bound">x</a><a id="10110" class="Symbol">)</a> <a id="10112" class="Symbol">(</a><a id="10113" href="Games.TypeTrees.html#1658" class="Function">subpred</a> <a id="10121" href="Games.FiniteHistoryDependent.html#9943" class="Bound">q</a> <a id="10123" href="Games.FiniteHistoryDependent.html#10075" class="Bound">x</a><a id="10124" class="Symbol">)</a>

<a id="10127" class="Markup">\end{code}</a><a id="10137" class="Background">

We convert a selection function into a quantifier as in Definition 10
of [1], using the function overline, defined in another module.

The work with the definition of a selection function being a selection
function for a quantifier as in Section 1 on [1], defined in another
module.

We generalize it to selection-function and quantifier trees in the
obvious way, by induction:

</a><a id="10518" class="Markup">\begin{code}</a>

<a id="10532" class="Keyword">open</a> <a id="10537" href="MonadOnTypes.JK.html#215" class="Module">JK</a> <a id="10540" href="Games.FiniteHistoryDependent.html#1635" class="Bound">R</a>

<a id="_Attains_"></a><a id="10543" href="Games.FiniteHistoryDependent.html#10543" class="Function Operator">_Attains_</a> <a id="10553" class="Symbol">:</a> <a id="10555" class="Symbol">{</a><a id="10556" href="Games.FiniteHistoryDependent.html#10556" class="Bound">Xt</a> <a id="10559" class="Symbol">:</a> <a id="10561" href="Games.TypeTrees.html#755" class="Datatype">ğ‘»</a><a id="10562" class="Symbol">}</a> <a id="10564" class="Symbol">â†’</a> <a id="10566" href="Games.FiniteHistoryDependent.html#8970" class="Function">ğ“™</a> <a id="10568" href="Games.FiniteHistoryDependent.html#10556" class="Bound">Xt</a> <a id="10571" class="Symbol">â†’</a> <a id="10573" href="Games.FiniteHistoryDependent.html#2364" class="Function">ğ“š</a> <a id="10575" href="Games.FiniteHistoryDependent.html#10556" class="Bound">Xt</a> <a id="10578" class="Symbol">â†’</a> <a id="10580" href="Notation.General.html#372" class="Function">Type</a>
<a id="10585" href="Games.FiniteHistoryDependent.html#10543" class="Function Operator">_Attains_</a> <a id="10595" class="Symbol">{</a><a id="10596" href="Games.TypeTrees.html#773" class="InductiveConstructor">[]</a><a id="10598" class="Symbol">}</a>     <a id="10604" href="Games.TypeTrees.html#1310" class="InductiveConstructor">âŸ¨âŸ©</a>        <a id="10614" href="Games.TypeTrees.html#1310" class="InductiveConstructor">âŸ¨âŸ©</a>        <a id="10624" class="Symbol">=</a> <a id="10626" href="MLTT.Unit.html#129" class="Record">ğŸ™</a>
<a id="10628" href="Games.FiniteHistoryDependent.html#10543" class="Function Operator">_Attains_</a> <a id="10638" class="Symbol">{</a><a id="10639" href="Games.FiniteHistoryDependent.html#10639" class="Bound">X</a> <a id="10641" href="Games.TypeTrees.html#783" class="InductiveConstructor Operator">âˆ·</a> <a id="10643" href="Games.FiniteHistoryDependent.html#10643" class="Bound">Xf</a><a id="10645" class="Symbol">}</a> <a id="10647" class="Symbol">(</a><a id="10648" href="Games.FiniteHistoryDependent.html#10648" class="Bound">Îµ</a> <a id="10650" href="Games.TypeTrees.html#1332" class="InductiveConstructor Operator">::</a> <a id="10653" href="Games.FiniteHistoryDependent.html#10653" class="Bound">Îµf</a><a id="10655" class="Symbol">)</a> <a id="10657" class="Symbol">(</a><a id="10658" href="Games.FiniteHistoryDependent.html#10658" class="Bound">Ï•</a> <a id="10660" href="Games.TypeTrees.html#1332" class="InductiveConstructor Operator">::</a> <a id="10663" href="Games.FiniteHistoryDependent.html#10663" class="Bound">Ï•f</a><a id="10665" class="Symbol">)</a> <a id="10667" class="Symbol">=</a> <a id="10669" class="Symbol">(</a><a id="10670" href="Games.FiniteHistoryDependent.html#10648" class="Bound">Îµ</a> <a id="10672" href="MonadOnTypes.JK.html#555" class="Function Operator">attains</a> <a id="10680" href="Games.FiniteHistoryDependent.html#10658" class="Bound">Ï•</a><a id="10681" class="Symbol">)</a>
                                       <a id="10722" href="MLTT.Sigma.html#558" class="Function Operator">Ã—</a> <a id="10724" class="Symbol">((</a><a id="10726" href="Games.FiniteHistoryDependent.html#10726" class="Bound">x</a> <a id="10728" class="Symbol">:</a> <a id="10730" href="Games.FiniteHistoryDependent.html#10639" class="Bound">X</a><a id="10731" class="Symbol">)</a> <a id="10733" class="Symbol">â†’</a> <a id="10735" class="Symbol">(</a><a id="10736" href="Games.FiniteHistoryDependent.html#10653" class="Bound">Îµf</a> <a id="10739" href="Games.FiniteHistoryDependent.html#10726" class="Bound">x</a><a id="10740" class="Symbol">)</a> <a id="10742" href="Games.FiniteHistoryDependent.html#10543" class="Function Operator">Attains</a> <a id="10750" class="Symbol">(</a><a id="10751" href="Games.FiniteHistoryDependent.html#10663" class="Bound">Ï•f</a> <a id="10754" href="Games.FiniteHistoryDependent.html#10726" class="Bound">x</a><a id="10755" class="Symbol">))</a>

<a id="10759" class="Markup">\end{code}</a><a id="10769" class="Background">

The following is the application of overline to each selection
function of a tree:

</a><a id="10855" class="Markup">\begin{code}</a>

<a id="Overline"></a><a id="10869" href="Games.FiniteHistoryDependent.html#10869" class="Function">Overline</a> <a id="10878" class="Symbol">:</a> <a id="10880" class="Symbol">{</a><a id="10881" href="Games.FiniteHistoryDependent.html#10881" class="Bound">Xt</a> <a id="10884" class="Symbol">:</a> <a id="10886" href="Games.TypeTrees.html#755" class="Datatype">ğ‘»</a><a id="10887" class="Symbol">}</a> <a id="10889" class="Symbol">â†’</a> <a id="10891" href="Games.FiniteHistoryDependent.html#8970" class="Function">ğ“™</a> <a id="10893" href="Games.FiniteHistoryDependent.html#10881" class="Bound">Xt</a> <a id="10896" class="Symbol">â†’</a> <a id="10898" href="Games.FiniteHistoryDependent.html#2364" class="Function">ğ“š</a> <a id="10900" href="Games.FiniteHistoryDependent.html#10881" class="Bound">Xt</a>
<a id="10903" href="Games.FiniteHistoryDependent.html#10869" class="Function">Overline</a> <a id="10912" class="Symbol">{</a><a id="10913" href="Games.TypeTrees.html#773" class="InductiveConstructor">[]</a><a id="10915" class="Symbol">}</a>     <a id="10921" href="Games.TypeTrees.html#1310" class="InductiveConstructor">âŸ¨âŸ©</a>        <a id="10931" class="Symbol">=</a> <a id="10933" href="Games.TypeTrees.html#1310" class="InductiveConstructor">âŸ¨âŸ©</a>
<a id="10936" href="Games.FiniteHistoryDependent.html#10869" class="Function">Overline</a> <a id="10945" class="Symbol">{</a><a id="10946" href="Games.FiniteHistoryDependent.html#10946" class="Bound">X</a> <a id="10948" href="Games.TypeTrees.html#783" class="InductiveConstructor Operator">âˆ·</a> <a id="10950" href="Games.FiniteHistoryDependent.html#10950" class="Bound">Xf</a><a id="10952" class="Symbol">}</a> <a id="10954" class="Symbol">(</a><a id="10955" href="Games.FiniteHistoryDependent.html#10955" class="Bound">Îµ</a> <a id="10957" href="Games.TypeTrees.html#1332" class="InductiveConstructor Operator">::</a> <a id="10960" href="Games.FiniteHistoryDependent.html#10960" class="Bound">Îµf</a><a id="10962" class="Symbol">)</a> <a id="10964" class="Symbol">=</a> <a id="10966" href="MonadOnTypes.JK.html#282" class="Function">overline</a> <a id="10975" href="Games.FiniteHistoryDependent.html#10955" class="Bound">Îµ</a> <a id="10977" href="Games.TypeTrees.html#1332" class="InductiveConstructor Operator">::</a> <a id="10980" class="Symbol">(Î»</a> <a id="10983" href="Games.FiniteHistoryDependent.html#10983" class="Bound">x</a> <a id="10985" class="Symbol">â†’</a> <a id="10987" href="Games.FiniteHistoryDependent.html#10869" class="Function">Overline</a> <a id="10996" class="Symbol">{</a><a id="10997" href="Games.FiniteHistoryDependent.html#10950" class="Bound">Xf</a> <a id="11000" href="Games.FiniteHistoryDependent.html#10983" class="Bound">x</a><a id="11001" class="Symbol">}</a> <a id="11003" class="Symbol">(</a><a id="11004" href="Games.FiniteHistoryDependent.html#10960" class="Bound">Îµf</a> <a id="11007" href="Games.FiniteHistoryDependent.html#10983" class="Bound">x</a><a id="11008" class="Symbol">))</a>

<a id="11012" class="Markup">\end{code}</a><a id="11022" class="Background">

The following is proved by straightforward induction on trees:

</a><a id="11088" class="Markup">\begin{code}</a>

<a id="observation"></a><a id="11102" href="Games.FiniteHistoryDependent.html#11102" class="Function">observation</a> <a id="11114" class="Symbol">:</a> <a id="11116" href="UF.FunExt.html#1047" class="Function">Fun-Ext</a>
            <a id="11136" class="Symbol">â†’</a> <a id="11138" class="Symbol">{</a><a id="11139" href="Games.FiniteHistoryDependent.html#11139" class="Bound">Xt</a> <a id="11142" class="Symbol">:</a> <a id="11144" href="Games.TypeTrees.html#755" class="Datatype">ğ‘»</a><a id="11145" class="Symbol">}</a> <a id="11147" class="Symbol">(</a><a id="11148" href="Games.FiniteHistoryDependent.html#11148" class="Bound">Îµt</a> <a id="11151" class="Symbol">:</a> <a id="11153" href="Games.FiniteHistoryDependent.html#8970" class="Function">ğ“™</a> <a id="11155" href="Games.FiniteHistoryDependent.html#11139" class="Bound">Xt</a><a id="11157" class="Symbol">)</a> <a id="11159" class="Symbol">(</a><a id="11160" href="Games.FiniteHistoryDependent.html#11160" class="Bound">Ï•t</a> <a id="11163" class="Symbol">:</a> <a id="11165" href="Games.FiniteHistoryDependent.html#2364" class="Function">ğ“š</a> <a id="11167" href="Games.FiniteHistoryDependent.html#11139" class="Bound">Xt</a><a id="11169" class="Symbol">)</a>
            <a id="11183" class="Symbol">â†’</a> <a id="11185" href="Games.FiniteHistoryDependent.html#11148" class="Bound">Îµt</a> <a id="11188" href="Games.FiniteHistoryDependent.html#10543" class="Function Operator">Attains</a> <a id="11196" href="Games.FiniteHistoryDependent.html#11160" class="Bound">Ï•t</a>
            <a id="11211" class="Symbol">â†’</a> <a id="11213" href="Games.FiniteHistoryDependent.html#10869" class="Function">Overline</a> <a id="11222" href="Games.FiniteHistoryDependent.html#11148" class="Bound">Îµt</a> <a id="11225" href="MLTT.Id.html#193" class="Datatype Operator">ï¼</a> <a id="11227" href="Games.FiniteHistoryDependent.html#11160" class="Bound">Ï•t</a>
<a id="11230" href="Games.FiniteHistoryDependent.html#11102" class="Function">observation</a> <a id="11242" href="Games.FiniteHistoryDependent.html#11242" class="Bound">fe</a> <a id="11245" class="Symbol">{</a><a id="11246" href="Games.TypeTrees.html#773" class="InductiveConstructor">[]</a><a id="11248" class="Symbol">}</a>     <a id="11254" href="Games.TypeTrees.html#1310" class="InductiveConstructor">âŸ¨âŸ©</a>        <a id="11264" href="Games.TypeTrees.html#1310" class="InductiveConstructor">âŸ¨âŸ©</a>        <a id="11274" href="Games.TypeTrees.html#1310" class="InductiveConstructor">âŸ¨âŸ©</a>        <a id="11284" class="Symbol">=</a> <a id="11286" href="MLTT.Identity-Type.html#157" class="InductiveConstructor">refl</a>
<a id="11291" href="Games.FiniteHistoryDependent.html#11102" class="Function">observation</a> <a id="11303" href="Games.FiniteHistoryDependent.html#11303" class="Bound">fe</a> <a id="11306" class="Symbol">{</a><a id="11307" href="Games.FiniteHistoryDependent.html#11307" class="Bound">X</a> <a id="11309" href="Games.TypeTrees.html#783" class="InductiveConstructor Operator">âˆ·</a> <a id="11311" href="Games.FiniteHistoryDependent.html#11311" class="Bound">Xf</a><a id="11313" class="Symbol">}</a> <a id="11315" class="Symbol">(</a><a id="11316" href="Games.FiniteHistoryDependent.html#11316" class="Bound">Îµ</a> <a id="11318" href="Games.TypeTrees.html#1332" class="InductiveConstructor Operator">::</a> <a id="11321" href="Games.FiniteHistoryDependent.html#11321" class="Bound">Îµf</a><a id="11323" class="Symbol">)</a> <a id="11325" class="Symbol">(</a><a id="11326" href="Games.FiniteHistoryDependent.html#11326" class="Bound">Ï•</a> <a id="11328" href="Games.TypeTrees.html#1332" class="InductiveConstructor Operator">::</a> <a id="11331" href="Games.FiniteHistoryDependent.html#11331" class="Bound">Ï•f</a><a id="11333" class="Symbol">)</a> <a id="11335" class="Symbol">(</a><a id="11336" href="Games.FiniteHistoryDependent.html#11336" class="Bound">a</a> <a id="11338" href="Games.TypeTrees.html#1332" class="InductiveConstructor Operator">::</a> <a id="11341" href="Games.FiniteHistoryDependent.html#11341" class="Bound">af</a><a id="11343" class="Symbol">)</a> <a id="11345" class="Symbol">=</a> <a id="11347" href="Games.FiniteHistoryDependent.html#11550" class="Function">Î³</a>
 <a id="11350" class="Keyword">where</a>
  <a id="11358" href="Games.FiniteHistoryDependent.html#11358" class="Function">IH</a> <a id="11361" class="Symbol">:</a> <a id="11363" class="Symbol">(</a><a id="11364" href="Games.FiniteHistoryDependent.html#11364" class="Bound">x</a> <a id="11366" class="Symbol">:</a> <a id="11368" href="Games.FiniteHistoryDependent.html#11307" class="Bound">X</a><a id="11369" class="Symbol">)</a> <a id="11371" class="Symbol">â†’</a> <a id="11373" href="Games.FiniteHistoryDependent.html#10869" class="Function">Overline</a> <a id="11382" class="Symbol">(</a><a id="11383" href="Games.FiniteHistoryDependent.html#11321" class="Bound">Îµf</a> <a id="11386" href="Games.FiniteHistoryDependent.html#11364" class="Bound">x</a><a id="11387" class="Symbol">)</a> <a id="11389" href="MLTT.Id.html#193" class="Datatype Operator">ï¼</a> <a id="11391" href="Games.FiniteHistoryDependent.html#11331" class="Bound">Ï•f</a> <a id="11394" href="Games.FiniteHistoryDependent.html#11364" class="Bound">x</a>
  <a id="11398" href="Games.FiniteHistoryDependent.html#11358" class="Function">IH</a> <a id="11401" href="Games.FiniteHistoryDependent.html#11401" class="Bound">x</a> <a id="11403" class="Symbol">=</a> <a id="11405" href="Games.FiniteHistoryDependent.html#11102" class="Function">observation</a> <a id="11417" href="Games.FiniteHistoryDependent.html#11303" class="Bound">fe</a> <a id="11420" class="Symbol">{</a><a id="11421" href="Games.FiniteHistoryDependent.html#11311" class="Bound">Xf</a> <a id="11424" href="Games.FiniteHistoryDependent.html#11401" class="Bound">x</a><a id="11425" class="Symbol">}</a> <a id="11427" class="Symbol">(</a><a id="11428" href="Games.FiniteHistoryDependent.html#11321" class="Bound">Îµf</a> <a id="11431" href="Games.FiniteHistoryDependent.html#11401" class="Bound">x</a><a id="11432" class="Symbol">)</a> <a id="11434" class="Symbol">(</a><a id="11435" href="Games.FiniteHistoryDependent.html#11331" class="Bound">Ï•f</a> <a id="11438" href="Games.FiniteHistoryDependent.html#11401" class="Bound">x</a><a id="11439" class="Symbol">)</a> <a id="11441" class="Symbol">(</a><a id="11442" href="Games.FiniteHistoryDependent.html#11341" class="Bound">af</a> <a id="11445" href="Games.FiniteHistoryDependent.html#11401" class="Bound">x</a><a id="11446" class="Symbol">)</a>

  <a id="11451" href="Games.FiniteHistoryDependent.html#11451" class="Function">I</a> <a id="11453" class="Symbol">:</a> <a id="11455" href="MonadOnTypes.JK.html#282" class="Function">overline</a> <a id="11464" href="Games.FiniteHistoryDependent.html#11316" class="Bound">Îµ</a> <a id="11466" href="MLTT.Id.html#193" class="Datatype Operator">ï¼</a> <a id="11468" href="Games.FiniteHistoryDependent.html#11326" class="Bound">Ï•</a>
  <a id="11472" href="Games.FiniteHistoryDependent.html#11451" class="Function">I</a> <a id="11474" class="Symbol">=</a> <a id="11476" href="UF.FunExt.html#1242" class="Function">dfunext</a> <a id="11484" href="Games.FiniteHistoryDependent.html#11303" class="Bound">fe</a> <a id="11487" href="Games.FiniteHistoryDependent.html#11336" class="Bound">a</a>

  <a id="11492" href="Games.FiniteHistoryDependent.html#11492" class="Function">II</a> <a id="11495" class="Symbol">:</a> <a id="11497" class="Symbol">(Î»</a> <a id="11500" href="Games.FiniteHistoryDependent.html#11500" class="Bound">x</a> <a id="11502" class="Symbol">â†’</a> <a id="11504" href="Games.FiniteHistoryDependent.html#10869" class="Function">Overline</a> <a id="11513" class="Symbol">(</a><a id="11514" href="Games.FiniteHistoryDependent.html#11321" class="Bound">Îµf</a> <a id="11517" href="Games.FiniteHistoryDependent.html#11500" class="Bound">x</a><a id="11518" class="Symbol">))</a> <a id="11521" href="MLTT.Id.html#193" class="Datatype Operator">ï¼</a> <a id="11523" href="Games.FiniteHistoryDependent.html#11331" class="Bound">Ï•f</a>
  <a id="11528" href="Games.FiniteHistoryDependent.html#11492" class="Function">II</a> <a id="11531" class="Symbol">=</a> <a id="11533" href="UF.FunExt.html#1242" class="Function">dfunext</a> <a id="11541" href="Games.FiniteHistoryDependent.html#11303" class="Bound">fe</a> <a id="11544" href="Games.FiniteHistoryDependent.html#11358" class="Function">IH</a>

  <a id="11550" href="Games.FiniteHistoryDependent.html#11550" class="Function">Î³</a> <a id="11552" class="Symbol">:</a> <a id="11554" href="MonadOnTypes.JK.html#282" class="Function">overline</a> <a id="11563" href="Games.FiniteHistoryDependent.html#11316" class="Bound">Îµ</a> <a id="11565" href="Games.TypeTrees.html#1332" class="InductiveConstructor Operator">::</a> <a id="11568" class="Symbol">(Î»</a> <a id="11571" href="Games.FiniteHistoryDependent.html#11571" class="Bound">x</a> <a id="11573" class="Symbol">â†’</a> <a id="11575" href="Games.FiniteHistoryDependent.html#10869" class="Function">Overline</a> <a id="11584" class="Symbol">(</a><a id="11585" href="Games.FiniteHistoryDependent.html#11321" class="Bound">Îµf</a> <a id="11588" href="Games.FiniteHistoryDependent.html#11571" class="Bound">x</a><a id="11589" class="Symbol">))</a> <a id="11592" href="MLTT.Id.html#193" class="Datatype Operator">ï¼</a> <a id="11594" href="Games.FiniteHistoryDependent.html#11326" class="Bound">Ï•</a> <a id="11596" href="Games.TypeTrees.html#1332" class="InductiveConstructor Operator">::</a> <a id="11599" href="Games.FiniteHistoryDependent.html#11331" class="Bound">Ï•f</a>
  <a id="11604" href="Games.FiniteHistoryDependent.html#11550" class="Function">Î³</a> <a id="11606" class="Symbol">=</a> <a id="11608" href="UF.Base.html#8182" class="Function">apâ‚‚</a> <a id="11612" href="Games.TypeTrees.html#1332" class="InductiveConstructor Operator">_::_</a> <a id="11617" href="Games.FiniteHistoryDependent.html#11451" class="Function">I</a> <a id="11619" href="Games.FiniteHistoryDependent.html#11492" class="Function">II</a>

<a id="observation-converse"></a><a id="11623" href="Games.FiniteHistoryDependent.html#11623" class="Function">observation-converse</a> <a id="11644" class="Symbol">:</a> <a id="11646" class="Symbol">{</a><a id="11647" href="Games.FiniteHistoryDependent.html#11647" class="Bound">Xt</a> <a id="11650" class="Symbol">:</a> <a id="11652" href="Games.TypeTrees.html#755" class="Datatype">ğ‘»</a><a id="11653" class="Symbol">}</a> <a id="11655" class="Symbol">(</a><a id="11656" href="Games.FiniteHistoryDependent.html#11656" class="Bound">Îµt</a> <a id="11659" class="Symbol">:</a> <a id="11661" href="Games.FiniteHistoryDependent.html#8970" class="Function">ğ“™</a> <a id="11663" href="Games.FiniteHistoryDependent.html#11647" class="Bound">Xt</a><a id="11665" class="Symbol">)</a> <a id="11667" class="Symbol">(</a><a id="11668" href="Games.FiniteHistoryDependent.html#11668" class="Bound">Ï•t</a> <a id="11671" class="Symbol">:</a> <a id="11673" href="Games.FiniteHistoryDependent.html#2364" class="Function">ğ“š</a> <a id="11675" href="Games.FiniteHistoryDependent.html#11647" class="Bound">Xt</a><a id="11677" class="Symbol">)</a>
                     <a id="11700" class="Symbol">â†’</a> <a id="11702" href="Games.FiniteHistoryDependent.html#10869" class="Function">Overline</a> <a id="11711" href="Games.FiniteHistoryDependent.html#11656" class="Bound">Îµt</a> <a id="11714" href="MLTT.Id.html#193" class="Datatype Operator">ï¼</a> <a id="11716" href="Games.FiniteHistoryDependent.html#11668" class="Bound">Ï•t</a>
                     <a id="11740" class="Symbol">â†’</a> <a id="11742" href="Games.FiniteHistoryDependent.html#11656" class="Bound">Îµt</a> <a id="11745" href="Games.FiniteHistoryDependent.html#10543" class="Function Operator">Attains</a> <a id="11753" href="Games.FiniteHistoryDependent.html#11668" class="Bound">Ï•t</a>
<a id="11756" href="Games.FiniteHistoryDependent.html#11623" class="Function">observation-converse</a> <a id="11777" class="Symbol">{</a><a id="11778" href="Games.TypeTrees.html#773" class="InductiveConstructor">[]</a><a id="11780" class="Symbol">}</a>     <a id="11786" href="Games.FiniteHistoryDependent.html#11786" class="Bound">Îµt</a> <a id="11789" href="Games.FiniteHistoryDependent.html#11789" class="Bound">Ï•t</a> <a id="11792" href="Games.FiniteHistoryDependent.html#11792" class="Bound">p</a> <a id="11794" class="Symbol">=</a> <a id="11796" href="Games.TypeTrees.html#1310" class="InductiveConstructor">âŸ¨âŸ©</a>
<a id="11799" href="Games.FiniteHistoryDependent.html#11623" class="Function">observation-converse</a> <a id="11820" class="Symbol">{</a><a id="11821" href="Games.FiniteHistoryDependent.html#11821" class="Bound">X</a> <a id="11823" href="Games.TypeTrees.html#783" class="InductiveConstructor Operator">âˆ·</a> <a id="11825" href="Games.FiniteHistoryDependent.html#11825" class="Bound">Xf</a><a id="11827" class="Symbol">}</a> <a id="11829" class="Symbol">(</a><a id="11830" href="Games.FiniteHistoryDependent.html#11830" class="Bound">Îµ</a> <a id="11832" href="Games.TypeTrees.html#1332" class="InductiveConstructor Operator">::</a> <a id="11835" href="Games.FiniteHistoryDependent.html#11835" class="Bound">Îµf</a><a id="11837" class="Symbol">)</a>
                     <a id="11860" class="Symbol">(</a><a id="11861" class="DottedPattern Symbol">.(Î»</a> <a id="11865" href="Games.FiniteHistoryDependent.html#11865" class="DottedPattern Bound">p</a> <a id="11867" class="Symbol">â†’</a> <a id="11869" href="Games.FiniteHistoryDependent.html#11865" class="DottedPattern Bound">p</a> <a id="11871" class="DottedPattern Symbol">(</a><a id="11872" href="Games.FiniteHistoryDependent.html#11830" class="DottedPattern Bound">Îµ</a> <a id="11874" href="Games.FiniteHistoryDependent.html#11865" class="DottedPattern Bound">p</a><a id="11875" class="DottedPattern Symbol">))</a> <a id="11878" href="Games.TypeTrees.html#1332" class="InductiveConstructor Operator">::</a> <a id="11881" class="DottedPattern Symbol">.(Î»</a> <a id="11885" href="Games.FiniteHistoryDependent.html#11885" class="DottedPattern Bound">x</a> <a id="11887" class="Symbol">â†’</a> <a id="11889" href="Games.FiniteHistoryDependent.html#10869" class="DottedPattern Function">Overline</a> <a id="11898" class="DottedPattern Symbol">(</a><a id="11899" href="Games.FiniteHistoryDependent.html#11835" class="DottedPattern Bound">Îµf</a> <a id="11902" href="Games.FiniteHistoryDependent.html#11885" class="DottedPattern Bound">x</a><a id="11903" class="DottedPattern Symbol">))</a><a id="11905" class="Symbol">)</a> <a id="11907" href="MLTT.Identity-Type.html#157" class="InductiveConstructor">refl</a> <a id="11912" class="Symbol">=</a>
 <a id="11915" class="Symbol">(Î»</a> <a id="11918" href="Games.FiniteHistoryDependent.html#11918" class="Bound">x</a> <a id="11920" class="Symbol">â†’</a> <a id="11922" href="MLTT.Identity-Type.html#157" class="InductiveConstructor">refl</a><a id="11926" class="Symbol">)</a> <a id="11928" href="Games.TypeTrees.html#1332" class="InductiveConstructor Operator">::</a> <a id="11931" class="Symbol">(Î»</a> <a id="11934" href="Games.FiniteHistoryDependent.html#11934" class="Bound">x</a> <a id="11936" class="Symbol">â†’</a> <a id="11938" href="Games.FiniteHistoryDependent.html#11623" class="Function">observation-converse</a> <a id="11959" class="Symbol">(</a><a id="11960" href="Games.FiniteHistoryDependent.html#11835" class="Bound">Îµf</a> <a id="11963" href="Games.FiniteHistoryDependent.html#11934" class="Bound">x</a><a id="11964" class="Symbol">)</a> <a id="11966" class="Symbol">(</a><a id="11967" href="Games.FiniteHistoryDependent.html#10869" class="Function">Overline</a> <a id="11976" class="Symbol">(</a><a id="11977" href="Games.FiniteHistoryDependent.html#11835" class="Bound">Îµf</a> <a id="11980" href="Games.FiniteHistoryDependent.html#11934" class="Bound">x</a><a id="11981" class="Symbol">))</a> <a id="11984" href="MLTT.Identity-Type.html#157" class="InductiveConstructor">refl</a><a id="11988" class="Symbol">)</a>

<a id="11991" class="Markup">\end{code}</a><a id="12001" class="Background">

Notice that the converse is also true, that is, if Overline Îµt ï¼ Ï•t
then Îµt are selections of Ï•t, but we don&#39;t need this fact here.

</a><a id="12136" class="Markup">\begin{code}</a>

<a id="main-lemma"></a><a id="12150" href="Games.FiniteHistoryDependent.html#12150" class="Function">main-lemma</a> <a id="12161" class="Symbol">:</a> <a id="12163" class="Symbol">{</a><a id="12164" href="Games.FiniteHistoryDependent.html#12164" class="Bound">Xt</a> <a id="12167" class="Symbol">:</a> <a id="12169" href="Games.TypeTrees.html#755" class="Datatype">ğ‘»</a><a id="12170" class="Symbol">}</a> <a id="12172" class="Symbol">(</a><a id="12173" href="Games.FiniteHistoryDependent.html#12173" class="Bound">Îµt</a> <a id="12176" class="Symbol">:</a> <a id="12178" href="Games.FiniteHistoryDependent.html#8970" class="Function">ğ“™</a> <a id="12180" href="Games.FiniteHistoryDependent.html#12164" class="Bound">Xt</a><a id="12182" class="Symbol">)</a> <a id="12184" class="Symbol">(</a><a id="12185" href="Games.FiniteHistoryDependent.html#12185" class="Bound">q</a> <a id="12187" class="Symbol">:</a> <a id="12189" href="Games.TypeTrees.html#942" class="Function">Path</a> <a id="12194" href="Games.FiniteHistoryDependent.html#12164" class="Bound">Xt</a> <a id="12197" class="Symbol">â†’</a> <a id="12199" href="Games.FiniteHistoryDependent.html#1635" class="Bound">R</a><a id="12200" class="Symbol">)</a>
           <a id="12213" class="Symbol">â†’</a> <a id="12215" href="Games.FiniteHistoryDependent.html#4248" class="Function">strategic-path</a> <a id="12230" class="Symbol">(</a><a id="12231" href="Games.FiniteHistoryDependent.html#9787" class="Function">selection-strategy</a> <a id="12250" href="Games.FiniteHistoryDependent.html#12173" class="Bound">Îµt</a> <a id="12253" href="Games.FiniteHistoryDependent.html#12185" class="Bound">q</a><a id="12254" class="Symbol">)</a>
           <a id="12267" href="MLTT.Id.html#193" class="Datatype Operator">ï¼</a> <a id="12269" href="Games.FiniteHistoryDependent.html#9488" class="Function">sequenceá´¶</a> <a id="12279" href="Games.FiniteHistoryDependent.html#12173" class="Bound">Îµt</a> <a id="12282" href="Games.FiniteHistoryDependent.html#12185" class="Bound">q</a>
<a id="12284" href="Games.FiniteHistoryDependent.html#12150" class="Function">main-lemma</a> <a id="12295" class="Symbol">{</a><a id="12296" href="Games.TypeTrees.html#773" class="InductiveConstructor">[]</a><a id="12298" class="Symbol">}</a>     <a id="12304" href="Games.TypeTrees.html#1310" class="InductiveConstructor">âŸ¨âŸ©</a>           <a id="12317" href="Games.FiniteHistoryDependent.html#12317" class="Bound">q</a> <a id="12319" class="Symbol">=</a> <a id="12321" href="MLTT.Identity-Type.html#157" class="InductiveConstructor">refl</a>
<a id="12326" href="Games.FiniteHistoryDependent.html#12150" class="Function">main-lemma</a> <a id="12337" class="Symbol">{</a><a id="12338" href="Games.FiniteHistoryDependent.html#12338" class="Bound">X</a> <a id="12340" href="Games.TypeTrees.html#783" class="InductiveConstructor Operator">âˆ·</a> <a id="12342" href="Games.FiniteHistoryDependent.html#12342" class="Bound">Xf</a><a id="12344" class="Symbol">}</a> <a id="12346" href="Games.FiniteHistoryDependent.html#12346" class="Bound">Îµt</a><a id="12348" class="Symbol">@(</a><a id="12350" href="Games.FiniteHistoryDependent.html#12350" class="Bound">Îµ</a> <a id="12352" href="Games.TypeTrees.html#1332" class="InductiveConstructor Operator">::</a> <a id="12355" href="Games.FiniteHistoryDependent.html#12355" class="Bound">Îµf</a><a id="12357" class="Symbol">)</a> <a id="12359" href="Games.FiniteHistoryDependent.html#12359" class="Bound">q</a> <a id="12361" class="Symbol">=</a>
 <a id="12364" href="Games.FiniteHistoryDependent.html#4248" class="Function">strategic-path</a> <a id="12379" class="Symbol">(</a><a id="12380" href="Games.FiniteHistoryDependent.html#9787" class="Function">selection-strategy</a> <a id="12399" class="Symbol">(</a><a id="12400" href="Games.FiniteHistoryDependent.html#12350" class="Bound">Îµ</a> <a id="12402" href="Games.TypeTrees.html#1332" class="InductiveConstructor Operator">::</a> <a id="12405" href="Games.FiniteHistoryDependent.html#12355" class="Bound">Îµf</a><a id="12407" class="Symbol">)</a> <a id="12409" href="Games.FiniteHistoryDependent.html#12359" class="Bound">q</a><a id="12410" class="Symbol">)</a> <a id="12412" href="MLTT.Id.html#3170" class="Function Operator">ï¼âŸ¨reflâŸ©</a>
 <a id="12421" href="Games.FiniteHistoryDependent.html#12795" class="Function">xâ‚€</a> <a id="12424" href="Games.TypeTrees.html#1332" class="InductiveConstructor Operator">::</a> <a id="12427" href="Games.FiniteHistoryDependent.html#4248" class="Function">strategic-path</a> <a id="12442" class="Symbol">(</a><a id="12443" href="Games.FiniteHistoryDependent.html#12840" class="Function">Ïƒf</a> <a id="12446" href="Games.FiniteHistoryDependent.html#12795" class="Function">xâ‚€</a><a id="12448" class="Symbol">)</a>                    <a id="12469" href="MLTT.Id.html#2703" class="Function Operator">ï¼âŸ¨</a> <a id="12472" href="MLTT.Id.html#1136" class="Function">ap</a> <a id="12475" class="Symbol">(</a><a id="12476" href="Games.FiniteHistoryDependent.html#12795" class="Function">xâ‚€</a> <a id="12479" href="Games.TypeTrees.html#1332" class="InductiveConstructor Operator">::_</a><a id="12482" class="Symbol">)</a> <a id="12484" href="Games.FiniteHistoryDependent.html#12930" class="Function">IH</a> <a id="12487" href="MLTT.Id.html#2703" class="Function Operator">âŸ©</a>
 <a id="12490" href="Games.FiniteHistoryDependent.html#12795" class="Function">xâ‚€</a> <a id="12493" href="Games.TypeTrees.html#1332" class="InductiveConstructor Operator">::</a> <a id="12496" href="Games.FiniteHistoryDependent.html#9488" class="Function">sequenceá´¶</a> <a id="12506" class="Symbol">{</a><a id="12507" href="Games.FiniteHistoryDependent.html#12342" class="Bound">Xf</a> <a id="12510" href="Games.FiniteHistoryDependent.html#12795" class="Function">xâ‚€</a><a id="12512" class="Symbol">}</a> <a id="12514" class="Symbol">(</a><a id="12515" href="Games.FiniteHistoryDependent.html#12355" class="Bound">Îµf</a> <a id="12518" href="Games.FiniteHistoryDependent.html#12795" class="Function">xâ‚€</a><a id="12520" class="Symbol">)</a> <a id="12522" class="Symbol">(</a><a id="12523" href="Games.TypeTrees.html#1658" class="Function">subpred</a> <a id="12531" href="Games.FiniteHistoryDependent.html#12359" class="Bound">q</a> <a id="12533" href="Games.FiniteHistoryDependent.html#12795" class="Function">xâ‚€</a><a id="12535" class="Symbol">)</a>  <a id="12538" href="MLTT.Id.html#3170" class="Function Operator">ï¼âŸ¨reflâŸ©</a>
 <a id="12547" href="Games.FiniteHistoryDependent.html#12795" class="Function">xâ‚€</a> <a id="12550" href="Games.TypeTrees.html#1332" class="InductiveConstructor Operator">::</a> <a id="12553" href="Games.FiniteHistoryDependent.html#12720" class="Function">Î½</a> <a id="12555" href="Games.FiniteHistoryDependent.html#12795" class="Function">xâ‚€</a>                                      <a id="12595" href="MLTT.Id.html#3170" class="Function Operator">ï¼âŸ¨reflâŸ©</a>
 <a id="12604" class="Symbol">(</a><a id="12605" href="Games.FiniteHistoryDependent.html#12350" class="Bound">Îµ</a> <a id="12607" href="MonadOnTypes.J.html#498" class="Function Operator">âŠ—á´¶</a> <a id="12610" class="Symbol">(Î»</a> <a id="12613" href="Games.FiniteHistoryDependent.html#12613" class="Bound">x</a> <a id="12615" class="Symbol">â†’</a> <a id="12617" href="Games.FiniteHistoryDependent.html#9488" class="Function">sequenceá´¶</a> <a id="12627" class="Symbol">{</a><a id="12628" href="Games.FiniteHistoryDependent.html#12342" class="Bound">Xf</a> <a id="12631" href="Games.FiniteHistoryDependent.html#12613" class="Bound">x</a><a id="12632" class="Symbol">}</a> <a id="12634" class="Symbol">(</a><a id="12635" href="Games.FiniteHistoryDependent.html#12355" class="Bound">Îµf</a> <a id="12638" href="Games.FiniteHistoryDependent.html#12613" class="Bound">x</a><a id="12639" class="Symbol">)))</a> <a id="12643" href="Games.FiniteHistoryDependent.html#12359" class="Bound">q</a>        <a id="12652" href="MLTT.Id.html#3170" class="Function Operator">ï¼âŸ¨reflâŸ©</a>
 <a id="12661" href="Games.FiniteHistoryDependent.html#9488" class="Function">sequenceá´¶</a> <a id="12671" class="Symbol">(</a><a id="12672" href="Games.FiniteHistoryDependent.html#12350" class="Bound">Îµ</a> <a id="12674" href="Games.TypeTrees.html#1332" class="InductiveConstructor Operator">::</a> <a id="12677" href="Games.FiniteHistoryDependent.html#12355" class="Bound">Îµf</a><a id="12679" class="Symbol">)</a> <a id="12681" href="Games.FiniteHistoryDependent.html#12359" class="Bound">q</a>                           <a id="12709" href="MLTT.Id.html#2785" class="Function Operator">âˆ</a>
 <a id="12712" class="Keyword">where</a>
  <a id="12720" href="Games.FiniteHistoryDependent.html#12720" class="Function">Î½</a> <a id="12722" class="Symbol">:</a> <a id="12724" class="Symbol">(</a><a id="12725" href="Games.FiniteHistoryDependent.html#12725" class="Bound">x</a> <a id="12727" class="Symbol">:</a> <a id="12729" href="Games.FiniteHistoryDependent.html#12338" class="Bound">X</a><a id="12730" class="Symbol">)</a> <a id="12732" class="Symbol">â†’</a> <a id="12734" href="Games.TypeTrees.html#942" class="Function">Path</a> <a id="12739" class="Symbol">(</a><a id="12740" href="Games.FiniteHistoryDependent.html#12342" class="Bound">Xf</a> <a id="12743" href="Games.FiniteHistoryDependent.html#12725" class="Bound">x</a><a id="12744" class="Symbol">)</a>
  <a id="12748" href="Games.FiniteHistoryDependent.html#12720" class="Function">Î½</a> <a id="12750" href="Games.FiniteHistoryDependent.html#12750" class="Bound">x</a> <a id="12752" class="Symbol">=</a> <a id="12754" href="Games.FiniteHistoryDependent.html#9488" class="Function">sequenceá´¶</a> <a id="12764" class="Symbol">{</a><a id="12765" href="Games.FiniteHistoryDependent.html#12342" class="Bound">Xf</a> <a id="12768" href="Games.FiniteHistoryDependent.html#12750" class="Bound">x</a><a id="12769" class="Symbol">}</a> <a id="12771" class="Symbol">(</a><a id="12772" href="Games.FiniteHistoryDependent.html#12355" class="Bound">Îµf</a> <a id="12775" href="Games.FiniteHistoryDependent.html#12750" class="Bound">x</a><a id="12776" class="Symbol">)</a> <a id="12778" class="Symbol">(</a><a id="12779" href="Games.TypeTrees.html#1658" class="Function">subpred</a> <a id="12787" href="Games.FiniteHistoryDependent.html#12359" class="Bound">q</a> <a id="12789" href="Games.FiniteHistoryDependent.html#12750" class="Bound">x</a><a id="12790" class="Symbol">)</a>

  <a id="12795" href="Games.FiniteHistoryDependent.html#12795" class="Function">xâ‚€</a> <a id="12798" class="Symbol">:</a> <a id="12800" href="Games.FiniteHistoryDependent.html#12338" class="Bound">X</a>
  <a id="12804" href="Games.FiniteHistoryDependent.html#12795" class="Function">xâ‚€</a> <a id="12807" class="Symbol">=</a> <a id="12809" href="Games.FiniteHistoryDependent.html#12350" class="Bound">Îµ</a> <a id="12811" class="Symbol">(Î»</a> <a id="12814" href="Games.FiniteHistoryDependent.html#12814" class="Bound">x</a> <a id="12816" class="Symbol">â†’</a> <a id="12818" href="Games.TypeTrees.html#1658" class="Function">subpred</a> <a id="12826" href="Games.FiniteHistoryDependent.html#12359" class="Bound">q</a> <a id="12828" href="Games.FiniteHistoryDependent.html#12814" class="Bound">x</a> <a id="12830" class="Symbol">(</a><a id="12831" href="Games.FiniteHistoryDependent.html#12720" class="Function">Î½</a> <a id="12833" href="Games.FiniteHistoryDependent.html#12814" class="Bound">x</a><a id="12834" class="Symbol">))</a>

  <a id="12840" href="Games.FiniteHistoryDependent.html#12840" class="Function">Ïƒf</a> <a id="12843" class="Symbol">:</a> <a id="12845" class="Symbol">(</a><a id="12846" href="Games.FiniteHistoryDependent.html#12846" class="Bound">x</a> <a id="12848" class="Symbol">:</a> <a id="12850" href="Games.FiniteHistoryDependent.html#12338" class="Bound">X</a><a id="12851" class="Symbol">)</a> <a id="12853" class="Symbol">â†’</a> <a id="12855" href="Games.FiniteHistoryDependent.html#3735" class="Function">Strategy</a> <a id="12864" class="Symbol">(</a><a id="12865" href="Games.FiniteHistoryDependent.html#12342" class="Bound">Xf</a> <a id="12868" href="Games.FiniteHistoryDependent.html#12846" class="Bound">x</a><a id="12869" class="Symbol">)</a>
  <a id="12873" href="Games.FiniteHistoryDependent.html#12840" class="Function">Ïƒf</a> <a id="12876" href="Games.FiniteHistoryDependent.html#12876" class="Bound">x</a> <a id="12878" class="Symbol">=</a> <a id="12880" href="Games.FiniteHistoryDependent.html#9787" class="Function">selection-strategy</a> <a id="12899" class="Symbol">{</a><a id="12900" href="Games.FiniteHistoryDependent.html#12342" class="Bound">Xf</a> <a id="12903" href="Games.FiniteHistoryDependent.html#12876" class="Bound">x</a><a id="12904" class="Symbol">}</a> <a id="12906" class="Symbol">(</a><a id="12907" href="Games.FiniteHistoryDependent.html#12355" class="Bound">Îµf</a> <a id="12910" href="Games.FiniteHistoryDependent.html#12876" class="Bound">x</a><a id="12911" class="Symbol">)</a> <a id="12913" class="Symbol">(</a><a id="12914" href="Games.TypeTrees.html#1658" class="Function">subpred</a> <a id="12922" href="Games.FiniteHistoryDependent.html#12359" class="Bound">q</a> <a id="12924" href="Games.FiniteHistoryDependent.html#12876" class="Bound">x</a><a id="12925" class="Symbol">)</a>

  <a id="12930" href="Games.FiniteHistoryDependent.html#12930" class="Function">IH</a> <a id="12933" class="Symbol">:</a> <a id="12935" href="Games.FiniteHistoryDependent.html#4248" class="Function">strategic-path</a> <a id="12950" class="Symbol">(</a><a id="12951" href="Games.FiniteHistoryDependent.html#12840" class="Function">Ïƒf</a> <a id="12954" href="Games.FiniteHistoryDependent.html#12795" class="Function">xâ‚€</a><a id="12956" class="Symbol">)</a> <a id="12958" href="MLTT.Id.html#193" class="Datatype Operator">ï¼</a> <a id="12960" href="Games.FiniteHistoryDependent.html#9488" class="Function">sequenceá´¶</a> <a id="12970" class="Symbol">{</a><a id="12971" href="Games.FiniteHistoryDependent.html#12342" class="Bound">Xf</a> <a id="12974" href="Games.FiniteHistoryDependent.html#12795" class="Function">xâ‚€</a><a id="12976" class="Symbol">}</a> <a id="12978" class="Symbol">(</a><a id="12979" href="Games.FiniteHistoryDependent.html#12355" class="Bound">Îµf</a> <a id="12982" href="Games.FiniteHistoryDependent.html#12795" class="Function">xâ‚€</a><a id="12984" class="Symbol">)</a> <a id="12986" class="Symbol">(</a><a id="12987" href="Games.TypeTrees.html#1658" class="Function">subpred</a> <a id="12995" href="Games.FiniteHistoryDependent.html#12359" class="Bound">q</a> <a id="12997" href="Games.FiniteHistoryDependent.html#12795" class="Function">xâ‚€</a><a id="12999" class="Symbol">)</a>
  <a id="13003" href="Games.FiniteHistoryDependent.html#12930" class="Function">IH</a> <a id="13006" class="Symbol">=</a> <a id="13008" href="Games.FiniteHistoryDependent.html#12150" class="Function">main-lemma</a> <a id="13019" class="Symbol">(</a><a id="13020" href="Games.FiniteHistoryDependent.html#12355" class="Bound">Îµf</a> <a id="13023" href="Games.FiniteHistoryDependent.html#12795" class="Function">xâ‚€</a><a id="13025" class="Symbol">)</a> <a id="13027" class="Symbol">(</a><a id="13028" href="Games.TypeTrees.html#1658" class="Function">subpred</a> <a id="13036" href="Games.FiniteHistoryDependent.html#12359" class="Bound">q</a> <a id="13038" href="Games.FiniteHistoryDependent.html#12795" class="Function">xâ‚€</a><a id="13040" class="Symbol">)</a>

<a id="selection-strategy-lemma"></a><a id="13043" href="Games.FiniteHistoryDependent.html#13043" class="Function">selection-strategy-lemma</a> <a id="13068" class="Symbol">:</a> <a id="13070" href="UF.FunExt.html#1047" class="Function">Fun-Ext</a>
                         <a id="13103" class="Symbol">â†’</a> <a id="13105" class="Symbol">{</a><a id="13106" href="Games.FiniteHistoryDependent.html#13106" class="Bound">Xt</a> <a id="13109" class="Symbol">:</a> <a id="13111" href="Games.TypeTrees.html#755" class="Datatype">ğ‘»</a><a id="13112" class="Symbol">}</a> <a id="13114" class="Symbol">(</a><a id="13115" href="Games.FiniteHistoryDependent.html#13115" class="Bound">Îµt</a> <a id="13118" class="Symbol">:</a> <a id="13120" href="Games.FiniteHistoryDependent.html#8970" class="Function">ğ“™</a> <a id="13122" href="Games.FiniteHistoryDependent.html#13106" class="Bound">Xt</a><a id="13124" class="Symbol">)</a> <a id="13126" class="Symbol">(</a><a id="13127" href="Games.FiniteHistoryDependent.html#13127" class="Bound">q</a> <a id="13129" class="Symbol">:</a> <a id="13131" href="Games.TypeTrees.html#942" class="Function">Path</a> <a id="13136" href="Games.FiniteHistoryDependent.html#13106" class="Bound">Xt</a> <a id="13139" class="Symbol">â†’</a> <a id="13141" href="Games.FiniteHistoryDependent.html#1635" class="Bound">R</a><a id="13142" class="Symbol">)</a>
                         <a id="13169" class="Symbol">â†’</a> <a id="13171" href="Games.FiniteHistoryDependent.html#5881" class="Function">is-in-sgpe</a> <a id="13182" class="Symbol">(</a><a id="13183" href="Games.FiniteHistoryDependent.html#10869" class="Function">Overline</a> <a id="13192" href="Games.FiniteHistoryDependent.html#13115" class="Bound">Îµt</a><a id="13194" class="Symbol">)</a> <a id="13196" href="Games.FiniteHistoryDependent.html#13127" class="Bound">q</a> <a id="13198" class="Symbol">(</a><a id="13199" href="Games.FiniteHistoryDependent.html#9787" class="Function">selection-strategy</a> <a id="13218" href="Games.FiniteHistoryDependent.html#13115" class="Bound">Îµt</a> <a id="13221" href="Games.FiniteHistoryDependent.html#13127" class="Bound">q</a><a id="13222" class="Symbol">)</a>
<a id="13224" href="Games.FiniteHistoryDependent.html#13043" class="Function">selection-strategy-lemma</a> <a id="13249" href="Games.FiniteHistoryDependent.html#13249" class="Bound">fe</a> <a id="13252" class="Symbol">{</a><a id="13253" href="Games.TypeTrees.html#773" class="InductiveConstructor">[]</a><a id="13255" class="Symbol">}</a>     <a id="13261" href="Games.TypeTrees.html#1310" class="InductiveConstructor">âŸ¨âŸ©</a>           <a id="13274" href="Games.FiniteHistoryDependent.html#13274" class="Bound">q</a> <a id="13276" class="Symbol">=</a> <a id="13278" href="Games.TypeTrees.html#1310" class="InductiveConstructor">âŸ¨âŸ©</a>
<a id="13281" href="Games.FiniteHistoryDependent.html#13043" class="Function">selection-strategy-lemma</a> <a id="13306" href="Games.FiniteHistoryDependent.html#13306" class="Bound">fe</a> <a id="13309" class="Symbol">{</a><a id="13310" href="Games.FiniteHistoryDependent.html#13310" class="Bound">X</a> <a id="13312" href="Games.TypeTrees.html#783" class="InductiveConstructor Operator">âˆ·</a> <a id="13314" href="Games.FiniteHistoryDependent.html#13314" class="Bound">Xf</a><a id="13316" class="Symbol">}</a> <a id="13318" href="Games.FiniteHistoryDependent.html#13318" class="Bound">Îµt</a><a id="13320" class="Symbol">@(</a><a id="13322" href="Games.FiniteHistoryDependent.html#13322" class="Bound">Îµ</a> <a id="13324" href="Games.TypeTrees.html#1332" class="InductiveConstructor Operator">::</a> <a id="13327" href="Games.FiniteHistoryDependent.html#13327" class="Bound">Îµf</a><a id="13329" class="Symbol">)</a> <a id="13331" href="Games.FiniteHistoryDependent.html#13331" class="Bound">q</a> <a id="13333" class="Symbol">=</a> <a id="13335" href="Games.FiniteHistoryDependent.html#14241" class="Function">Î³</a>
 <a id="13338" class="Keyword">where</a>
  <a id="13346" href="Games.FiniteHistoryDependent.html#13346" class="Function">Ïƒf</a> <a id="13349" class="Symbol">:</a> <a id="13351" class="Symbol">(</a><a id="13352" href="Games.FiniteHistoryDependent.html#13352" class="Bound">x</a> <a id="13354" class="Symbol">:</a> <a id="13356" href="Games.FiniteHistoryDependent.html#13310" class="Bound">X</a><a id="13357" class="Symbol">)</a> <a id="13359" class="Symbol">â†’</a> <a id="13361" href="Games.FiniteHistoryDependent.html#3735" class="Function">Strategy</a> <a id="13370" class="Symbol">(</a><a id="13371" href="Games.FiniteHistoryDependent.html#13314" class="Bound">Xf</a> <a id="13374" href="Games.FiniteHistoryDependent.html#13352" class="Bound">x</a><a id="13375" class="Symbol">)</a>
  <a id="13379" href="Games.FiniteHistoryDependent.html#13346" class="Function">Ïƒf</a> <a id="13382" href="Games.FiniteHistoryDependent.html#13382" class="Bound">x</a> <a id="13384" class="Symbol">=</a> <a id="13386" href="Games.FiniteHistoryDependent.html#9787" class="Function">selection-strategy</a> <a id="13405" class="Symbol">(</a><a id="13406" href="Games.FiniteHistoryDependent.html#13327" class="Bound">Îµf</a> <a id="13409" href="Games.FiniteHistoryDependent.html#13382" class="Bound">x</a><a id="13410" class="Symbol">)</a> <a id="13412" class="Symbol">(</a><a id="13413" href="Games.TypeTrees.html#1658" class="Function">subpred</a> <a id="13421" href="Games.FiniteHistoryDependent.html#13331" class="Bound">q</a> <a id="13423" href="Games.FiniteHistoryDependent.html#13382" class="Bound">x</a><a id="13424" class="Symbol">)</a>

  <a id="13429" href="Games.FiniteHistoryDependent.html#13429" class="Function">xâ‚€</a> <a id="13432" href="Games.FiniteHistoryDependent.html#13432" class="Function">xâ‚</a> <a id="13435" class="Symbol">:</a> <a id="13437" href="Games.FiniteHistoryDependent.html#13310" class="Bound">X</a>
  <a id="13441" href="Games.FiniteHistoryDependent.html#13429" class="Function">xâ‚€</a> <a id="13444" class="Symbol">=</a> <a id="13446" href="Games.FiniteHistoryDependent.html#13322" class="Bound">Îµ</a> <a id="13448" class="Symbol">(Î»</a> <a id="13451" href="Games.FiniteHistoryDependent.html#13451" class="Bound">x</a> <a id="13453" class="Symbol">â†’</a> <a id="13455" href="Games.TypeTrees.html#1658" class="Function">subpred</a> <a id="13463" href="Games.FiniteHistoryDependent.html#13331" class="Bound">q</a> <a id="13465" href="Games.FiniteHistoryDependent.html#13451" class="Bound">x</a> <a id="13467" class="Symbol">(</a><a id="13468" href="Games.FiniteHistoryDependent.html#9488" class="Function">sequenceá´¶</a> <a id="13478" class="Symbol">(</a><a id="13479" href="Games.FiniteHistoryDependent.html#13327" class="Bound">Îµf</a> <a id="13482" href="Games.FiniteHistoryDependent.html#13451" class="Bound">x</a><a id="13483" class="Symbol">)</a> <a id="13485" class="Symbol">(</a><a id="13486" href="Games.TypeTrees.html#1658" class="Function">subpred</a> <a id="13494" href="Games.FiniteHistoryDependent.html#13331" class="Bound">q</a> <a id="13496" href="Games.FiniteHistoryDependent.html#13451" class="Bound">x</a><a id="13497" class="Symbol">)))</a>
  <a id="13503" href="Games.FiniteHistoryDependent.html#13432" class="Function">xâ‚</a> <a id="13506" class="Symbol">=</a> <a id="13508" href="Games.FiniteHistoryDependent.html#13322" class="Bound">Îµ</a> <a id="13510" class="Symbol">(Î»</a> <a id="13513" href="Games.FiniteHistoryDependent.html#13513" class="Bound">x</a> <a id="13515" class="Symbol">â†’</a> <a id="13517" href="Games.TypeTrees.html#1658" class="Function">subpred</a> <a id="13525" href="Games.FiniteHistoryDependent.html#13331" class="Bound">q</a> <a id="13527" href="Games.FiniteHistoryDependent.html#13513" class="Bound">x</a> <a id="13529" class="Symbol">(</a><a id="13530" href="Games.FiniteHistoryDependent.html#4248" class="Function">strategic-path</a> <a id="13545" class="Symbol">(</a><a id="13546" href="Games.FiniteHistoryDependent.html#13346" class="Function">Ïƒf</a> <a id="13549" href="Games.FiniteHistoryDependent.html#13513" class="Bound">x</a><a id="13550" class="Symbol">)))</a>

  <a id="13557" href="Games.FiniteHistoryDependent.html#13557" class="Function">I</a> <a id="13559" class="Symbol">:</a> <a id="13561" class="Symbol">(</a><a id="13562" href="Games.FiniteHistoryDependent.html#13562" class="Bound">x</a> <a id="13564" class="Symbol">:</a> <a id="13566" href="Games.FiniteHistoryDependent.html#13310" class="Bound">X</a><a id="13567" class="Symbol">)</a> <a id="13569" class="Symbol">â†’</a> <a id="13571" href="Games.FiniteHistoryDependent.html#4248" class="Function">strategic-path</a> <a id="13586" class="Symbol">(</a><a id="13587" href="Games.FiniteHistoryDependent.html#13346" class="Function">Ïƒf</a> <a id="13590" href="Games.FiniteHistoryDependent.html#13562" class="Bound">x</a><a id="13591" class="Symbol">)</a> <a id="13593" href="MLTT.Id.html#193" class="Datatype Operator">ï¼</a> <a id="13595" href="Games.FiniteHistoryDependent.html#9488" class="Function">sequenceá´¶</a> <a id="13605" class="Symbol">(</a><a id="13606" href="Games.FiniteHistoryDependent.html#13327" class="Bound">Îµf</a> <a id="13609" href="Games.FiniteHistoryDependent.html#13562" class="Bound">x</a><a id="13610" class="Symbol">)</a> <a id="13612" class="Symbol">(</a><a id="13613" href="Games.TypeTrees.html#1658" class="Function">subpred</a> <a id="13621" href="Games.FiniteHistoryDependent.html#13331" class="Bound">q</a> <a id="13623" href="Games.FiniteHistoryDependent.html#13562" class="Bound">x</a><a id="13624" class="Symbol">)</a>
  <a id="13628" href="Games.FiniteHistoryDependent.html#13557" class="Function">I</a> <a id="13630" href="Games.FiniteHistoryDependent.html#13630" class="Bound">x</a> <a id="13632" class="Symbol">=</a> <a id="13634" href="Games.FiniteHistoryDependent.html#12150" class="Function">main-lemma</a> <a id="13645" class="Symbol">(</a><a id="13646" href="Games.FiniteHistoryDependent.html#13327" class="Bound">Îµf</a> <a id="13649" href="Games.FiniteHistoryDependent.html#13630" class="Bound">x</a><a id="13650" class="Symbol">)</a> <a id="13652" class="Symbol">(</a><a id="13653" href="Games.TypeTrees.html#1658" class="Function">subpred</a> <a id="13661" href="Games.FiniteHistoryDependent.html#13331" class="Bound">q</a> <a id="13663" href="Games.FiniteHistoryDependent.html#13630" class="Bound">x</a><a id="13664" class="Symbol">)</a>

  <a id="13669" href="Games.FiniteHistoryDependent.html#13669" class="Function">II</a> <a id="13672" class="Symbol">:</a> <a id="13674" href="Games.FiniteHistoryDependent.html#13432" class="Function">xâ‚</a> <a id="13677" href="MLTT.Id.html#193" class="Datatype Operator">ï¼</a> <a id="13679" href="Games.FiniteHistoryDependent.html#13429" class="Function">xâ‚€</a>
  <a id="13684" href="Games.FiniteHistoryDependent.html#13669" class="Function">II</a> <a id="13687" class="Symbol">=</a> <a id="13689" href="MLTT.Id.html#1136" class="Function">ap</a> <a id="13692" class="Symbol">(Î»</a> <a id="13695" href="Games.FiniteHistoryDependent.html#13695" class="Bound">-</a> <a id="13697" class="Symbol">â†’</a> <a id="13699" href="Games.FiniteHistoryDependent.html#13322" class="Bound">Îµ</a> <a id="13701" class="Symbol">(Î»</a> <a id="13704" href="Games.FiniteHistoryDependent.html#13704" class="Bound">x</a> <a id="13706" class="Symbol">â†’</a> <a id="13708" href="Games.TypeTrees.html#1658" class="Function">subpred</a> <a id="13716" href="Games.FiniteHistoryDependent.html#13331" class="Bound">q</a> <a id="13718" href="Games.FiniteHistoryDependent.html#13704" class="Bound">x</a> <a id="13720" class="Symbol">(</a><a id="13721" href="Games.FiniteHistoryDependent.html#13695" class="Bound">-</a> <a id="13723" href="Games.FiniteHistoryDependent.html#13704" class="Bound">x</a><a id="13724" class="Symbol">)))</a> <a id="13728" class="Symbol">(</a><a id="13729" href="UF.FunExt.html#1242" class="Function">dfunext</a> <a id="13737" href="Games.FiniteHistoryDependent.html#13306" class="Bound">fe</a> <a id="13740" href="Games.FiniteHistoryDependent.html#13557" class="Function">I</a><a id="13741" class="Symbol">)</a>

  <a id="13746" href="Games.FiniteHistoryDependent.html#13746" class="Function">III</a> <a id="13750" class="Symbol">=</a> <a id="13752" href="MonadOnTypes.JK.html#282" class="Function">overline</a> <a id="13761" href="Games.FiniteHistoryDependent.html#13322" class="Bound">Îµ</a> <a id="13763" class="Symbol">(Î»</a> <a id="13766" href="Games.FiniteHistoryDependent.html#13766" class="Bound">x</a> <a id="13768" class="Symbol">â†’</a> <a id="13770" href="Games.TypeTrees.html#1658" class="Function">subpred</a> <a id="13778" href="Games.FiniteHistoryDependent.html#13331" class="Bound">q</a> <a id="13780" href="Games.FiniteHistoryDependent.html#13766" class="Bound">x</a> <a id="13782" class="Symbol">(</a><a id="13783" href="Games.FiniteHistoryDependent.html#4248" class="Function">strategic-path</a> <a id="13798" class="Symbol">(</a><a id="13799" href="Games.FiniteHistoryDependent.html#13346" class="Function">Ïƒf</a> <a id="13802" href="Games.FiniteHistoryDependent.html#13766" class="Bound">x</a><a id="13803" class="Symbol">)))</a> <a id="13807" href="MLTT.Id.html#3170" class="Function Operator">ï¼âŸ¨reflâŸ©</a>
        <a id="13823" href="Games.TypeTrees.html#1658" class="Function">subpred</a> <a id="13831" href="Games.FiniteHistoryDependent.html#13331" class="Bound">q</a> <a id="13833" href="Games.FiniteHistoryDependent.html#13432" class="Function">xâ‚</a> <a id="13836" class="Symbol">(</a><a id="13837" href="Games.FiniteHistoryDependent.html#4248" class="Function">strategic-path</a> <a id="13852" class="Symbol">(</a><a id="13853" href="Games.FiniteHistoryDependent.html#13346" class="Function">Ïƒf</a> <a id="13856" href="Games.FiniteHistoryDependent.html#13432" class="Function">xâ‚</a><a id="13858" class="Symbol">))</a>                  <a id="13878" href="MLTT.Id.html#2703" class="Function Operator">ï¼âŸ¨</a> <a id="13881" href="Games.FiniteHistoryDependent.html#13965" class="Function">IV</a> <a id="13884" href="MLTT.Id.html#2703" class="Function Operator">âŸ©</a>
        <a id="13894" href="Games.TypeTrees.html#1658" class="Function">subpred</a> <a id="13902" href="Games.FiniteHistoryDependent.html#13331" class="Bound">q</a> <a id="13904" href="Games.FiniteHistoryDependent.html#13429" class="Function">xâ‚€</a> <a id="13907" class="Symbol">(</a><a id="13908" href="Games.FiniteHistoryDependent.html#4248" class="Function">strategic-path</a> <a id="13923" class="Symbol">(</a><a id="13924" href="Games.FiniteHistoryDependent.html#13346" class="Function">Ïƒf</a> <a id="13927" href="Games.FiniteHistoryDependent.html#13429" class="Function">xâ‚€</a><a id="13929" class="Symbol">))</a>                  <a id="13949" href="MLTT.Id.html#2785" class="Function Operator">âˆ</a>

   <a id="13955" class="Keyword">where</a>
    <a id="13965" href="Games.FiniteHistoryDependent.html#13965" class="Function">IV</a> <a id="13968" class="Symbol">=</a> <a id="13970" href="MLTT.Id.html#1136" class="Function">ap</a> <a id="13973" class="Symbol">(Î»</a> <a id="13976" href="Games.FiniteHistoryDependent.html#13976" class="Bound">-</a> <a id="13978" class="Symbol">â†’</a> <a id="13980" href="Games.TypeTrees.html#1658" class="Function">subpred</a> <a id="13988" href="Games.FiniteHistoryDependent.html#13331" class="Bound">q</a> <a id="13990" href="Games.FiniteHistoryDependent.html#13976" class="Bound">-</a> <a id="13992" class="Symbol">(</a><a id="13993" href="Games.FiniteHistoryDependent.html#4248" class="Function">strategic-path</a> <a id="14008" class="Symbol">(</a><a id="14009" href="Games.FiniteHistoryDependent.html#13346" class="Function">Ïƒf</a> <a id="14012" href="Games.FiniteHistoryDependent.html#13976" class="Bound">-</a><a id="14013" class="Symbol">)))</a> <a id="14017" href="Games.FiniteHistoryDependent.html#13669" class="Function">II</a>

  <a id="14023" href="Games.FiniteHistoryDependent.html#14023" class="Function">IH</a> <a id="14026" class="Symbol">:</a> <a id="14028" class="Symbol">(</a><a id="14029" href="Games.FiniteHistoryDependent.html#14029" class="Bound">x</a> <a id="14031" class="Symbol">:</a> <a id="14033" href="Games.FiniteHistoryDependent.html#13310" class="Bound">X</a><a id="14034" class="Symbol">)</a> <a id="14036" class="Symbol">â†’</a> <a id="14038" href="Games.FiniteHistoryDependent.html#5881" class="Function">is-in-sgpe</a>
                   <a id="14068" class="Symbol">(</a><a id="14069" href="Games.FiniteHistoryDependent.html#10869" class="Function">Overline</a> <a id="14078" class="Symbol">(</a><a id="14079" href="Games.FiniteHistoryDependent.html#13327" class="Bound">Îµf</a> <a id="14082" href="Games.FiniteHistoryDependent.html#14029" class="Bound">x</a><a id="14083" class="Symbol">))</a>
                   <a id="14105" class="Symbol">(</a><a id="14106" href="Games.TypeTrees.html#1658" class="Function">subpred</a> <a id="14114" href="Games.FiniteHistoryDependent.html#13331" class="Bound">q</a> <a id="14116" href="Games.FiniteHistoryDependent.html#14029" class="Bound">x</a><a id="14117" class="Symbol">)</a>
                   <a id="14138" class="Symbol">(</a><a id="14139" href="Games.FiniteHistoryDependent.html#9787" class="Function">selection-strategy</a> <a id="14158" class="Symbol">(</a><a id="14159" href="Games.FiniteHistoryDependent.html#13327" class="Bound">Îµf</a> <a id="14162" href="Games.FiniteHistoryDependent.html#14029" class="Bound">x</a><a id="14163" class="Symbol">)</a> <a id="14165" class="Symbol">(</a><a id="14166" href="Games.TypeTrees.html#1658" class="Function">subpred</a> <a id="14174" href="Games.FiniteHistoryDependent.html#13331" class="Bound">q</a> <a id="14176" href="Games.FiniteHistoryDependent.html#14029" class="Bound">x</a><a id="14177" class="Symbol">))</a>
  <a id="14182" href="Games.FiniteHistoryDependent.html#14023" class="Function">IH</a> <a id="14185" href="Games.FiniteHistoryDependent.html#14185" class="Bound">x</a> <a id="14187" class="Symbol">=</a> <a id="14189" href="Games.FiniteHistoryDependent.html#13043" class="Function">selection-strategy-lemma</a> <a id="14214" href="Games.FiniteHistoryDependent.html#13306" class="Bound">fe</a> <a id="14217" class="Symbol">(</a><a id="14218" href="Games.FiniteHistoryDependent.html#13327" class="Bound">Îµf</a> <a id="14221" href="Games.FiniteHistoryDependent.html#14185" class="Bound">x</a><a id="14222" class="Symbol">)</a> <a id="14224" class="Symbol">(</a><a id="14225" href="Games.TypeTrees.html#1658" class="Function">subpred</a> <a id="14233" href="Games.FiniteHistoryDependent.html#13331" class="Bound">q</a> <a id="14235" href="Games.FiniteHistoryDependent.html#14185" class="Bound">x</a><a id="14236" class="Symbol">)</a>

  <a id="14241" href="Games.FiniteHistoryDependent.html#14241" class="Function">Î³</a> <a id="14243" class="Symbol">:</a> <a id="14245" href="Games.FiniteHistoryDependent.html#5881" class="Function">is-in-sgpe</a> <a id="14256" class="Symbol">(</a><a id="14257" href="Games.FiniteHistoryDependent.html#10869" class="Function">Overline</a> <a id="14266" href="Games.FiniteHistoryDependent.html#13318" class="Bound">Îµt</a><a id="14268" class="Symbol">)</a> <a id="14270" href="Games.FiniteHistoryDependent.html#13331" class="Bound">q</a> <a id="14272" class="Symbol">(</a><a id="14273" href="Games.FiniteHistoryDependent.html#13429" class="Function">xâ‚€</a> <a id="14276" href="Games.TypeTrees.html#1332" class="InductiveConstructor Operator">::</a> <a id="14279" href="Games.FiniteHistoryDependent.html#13346" class="Function">Ïƒf</a><a id="14281" class="Symbol">)</a>
  <a id="14285" href="Games.FiniteHistoryDependent.html#14241" class="Function">Î³</a> <a id="14287" class="Symbol">=</a> <a id="14289" class="Symbol">(</a><a id="14290" href="Games.FiniteHistoryDependent.html#13746" class="Function">III</a> <a id="14294" href="MLTT.Id.html#1055" class="Function Operator">â»Â¹</a><a id="14296" class="Symbol">)</a> <a id="14298" href="Games.TypeTrees.html#1332" class="InductiveConstructor Operator">::</a> <a id="14301" href="Games.FiniteHistoryDependent.html#14023" class="Function">IH</a>

<a id="14305" class="Markup">\end{code}</a><a id="14315" class="Background">

The following, which shows how to use selection functions to compute
optimal strategies, corresponds to Theorem 6.2 of [1].

</a><a id="14442" class="Markup">\begin{code}</a>

<a id="selection-strategy-theorem"></a><a id="14456" href="Games.FiniteHistoryDependent.html#14456" class="Function">selection-strategy-theorem</a> <a id="14483" class="Symbol">:</a> <a id="14485" href="UF.FunExt.html#1047" class="Function">Fun-Ext</a>
                           <a id="14520" class="Symbol">â†’</a> <a id="14522" class="Symbol">{</a><a id="14523" href="Games.FiniteHistoryDependent.html#14523" class="Bound">Xt</a> <a id="14526" class="Symbol">:</a> <a id="14528" href="Games.TypeTrees.html#755" class="Datatype">ğ‘»</a><a id="14529" class="Symbol">}</a> <a id="14531" class="Symbol">(</a><a id="14532" href="Games.FiniteHistoryDependent.html#14532" class="Bound">Îµt</a> <a id="14535" class="Symbol">:</a> <a id="14537" href="Games.FiniteHistoryDependent.html#8970" class="Function">ğ“™</a> <a id="14539" href="Games.FiniteHistoryDependent.html#14523" class="Bound">Xt</a><a id="14541" class="Symbol">)</a>
                             <a id="14572" class="Symbol">(</a><a id="14573" href="Games.FiniteHistoryDependent.html#14573" class="Bound">Ï•t</a> <a id="14576" class="Symbol">:</a> <a id="14578" href="Games.FiniteHistoryDependent.html#2364" class="Function">ğ“š</a> <a id="14580" href="Games.FiniteHistoryDependent.html#14523" class="Bound">Xt</a><a id="14582" class="Symbol">)</a> <a id="14584" class="Symbol">(</a><a id="14585" href="Games.FiniteHistoryDependent.html#14585" class="Bound">q</a> <a id="14587" class="Symbol">:</a> <a id="14589" href="Games.TypeTrees.html#942" class="Function">Path</a> <a id="14594" href="Games.FiniteHistoryDependent.html#14523" class="Bound">Xt</a> <a id="14597" class="Symbol">â†’</a> <a id="14599" href="Games.FiniteHistoryDependent.html#1635" class="Bound">R</a><a id="14600" class="Symbol">)</a>
                           <a id="14629" class="Symbol">â†’</a> <a id="14631" href="Games.FiniteHistoryDependent.html#14532" class="Bound">Îµt</a> <a id="14634" href="Games.FiniteHistoryDependent.html#10543" class="Function Operator">Attains</a> <a id="14642" href="Games.FiniteHistoryDependent.html#14573" class="Bound">Ï•t</a>
                           <a id="14672" class="Symbol">â†’</a> <a id="14674" href="Games.FiniteHistoryDependent.html#5881" class="Function">is-in-sgpe</a> <a id="14685" href="Games.FiniteHistoryDependent.html#14573" class="Bound">Ï•t</a> <a id="14688" href="Games.FiniteHistoryDependent.html#14585" class="Bound">q</a> <a id="14690" class="Symbol">(</a><a id="14691" href="Games.FiniteHistoryDependent.html#9787" class="Function">selection-strategy</a> <a id="14710" href="Games.FiniteHistoryDependent.html#14532" class="Bound">Îµt</a> <a id="14713" href="Games.FiniteHistoryDependent.html#14585" class="Bound">q</a><a id="14714" class="Symbol">)</a>
<a id="14716" href="Games.FiniteHistoryDependent.html#14456" class="Function">selection-strategy-theorem</a> <a id="14743" href="Games.FiniteHistoryDependent.html#14743" class="Bound">fe</a> <a id="14746" href="Games.FiniteHistoryDependent.html#14746" class="Bound">Îµt</a> <a id="14749" href="Games.FiniteHistoryDependent.html#14749" class="Bound">Ï•t</a> <a id="14752" href="Games.FiniteHistoryDependent.html#14752" class="Bound">q</a> <a id="14754" href="Games.FiniteHistoryDependent.html#14754" class="Bound">a</a> <a id="14756" class="Symbol">=</a> <a id="14758" href="Games.FiniteHistoryDependent.html#14925" class="Function">III</a>
 <a id="14763" class="Keyword">where</a>
  <a id="14771" href="Games.FiniteHistoryDependent.html#14771" class="Function">I</a> <a id="14773" class="Symbol">:</a> <a id="14775" href="Games.FiniteHistoryDependent.html#10869" class="Function">Overline</a> <a id="14784" href="Games.FiniteHistoryDependent.html#14746" class="Bound">Îµt</a> <a id="14787" href="MLTT.Id.html#193" class="Datatype Operator">ï¼</a> <a id="14789" href="Games.FiniteHistoryDependent.html#14749" class="Bound">Ï•t</a>
  <a id="14794" href="Games.FiniteHistoryDependent.html#14771" class="Function">I</a> <a id="14796" class="Symbol">=</a> <a id="14798" href="Games.FiniteHistoryDependent.html#11102" class="Function">observation</a> <a id="14810" href="Games.FiniteHistoryDependent.html#14743" class="Bound">fe</a> <a id="14813" href="Games.FiniteHistoryDependent.html#14746" class="Bound">Îµt</a> <a id="14816" href="Games.FiniteHistoryDependent.html#14749" class="Bound">Ï•t</a> <a id="14819" href="Games.FiniteHistoryDependent.html#14754" class="Bound">a</a>

  <a id="14824" href="Games.FiniteHistoryDependent.html#14824" class="Function">II</a> <a id="14827" class="Symbol">:</a> <a id="14829" href="Games.FiniteHistoryDependent.html#5881" class="Function">is-in-sgpe</a> <a id="14840" class="Symbol">(</a><a id="14841" href="Games.FiniteHistoryDependent.html#10869" class="Function">Overline</a> <a id="14850" href="Games.FiniteHistoryDependent.html#14746" class="Bound">Îµt</a><a id="14852" class="Symbol">)</a> <a id="14854" href="Games.FiniteHistoryDependent.html#14752" class="Bound">q</a> <a id="14856" class="Symbol">(</a><a id="14857" href="Games.FiniteHistoryDependent.html#9787" class="Function">selection-strategy</a> <a id="14876" href="Games.FiniteHistoryDependent.html#14746" class="Bound">Îµt</a> <a id="14879" href="Games.FiniteHistoryDependent.html#14752" class="Bound">q</a><a id="14880" class="Symbol">)</a>
  <a id="14884" href="Games.FiniteHistoryDependent.html#14824" class="Function">II</a> <a id="14887" class="Symbol">=</a> <a id="14889" href="Games.FiniteHistoryDependent.html#13043" class="Function">selection-strategy-lemma</a> <a id="14914" href="Games.FiniteHistoryDependent.html#14743" class="Bound">fe</a> <a id="14917" href="Games.FiniteHistoryDependent.html#14746" class="Bound">Îµt</a> <a id="14920" href="Games.FiniteHistoryDependent.html#14752" class="Bound">q</a>

  <a id="14925" href="Games.FiniteHistoryDependent.html#14925" class="Function">III</a> <a id="14929" class="Symbol">:</a> <a id="14931" href="Games.FiniteHistoryDependent.html#5881" class="Function">is-in-sgpe</a> <a id="14942" href="Games.FiniteHistoryDependent.html#14749" class="Bound">Ï•t</a> <a id="14945" href="Games.FiniteHistoryDependent.html#14752" class="Bound">q</a> <a id="14947" class="Symbol">(</a><a id="14948" href="Games.FiniteHistoryDependent.html#9787" class="Function">selection-strategy</a> <a id="14967" href="Games.FiniteHistoryDependent.html#14746" class="Bound">Îµt</a> <a id="14970" href="Games.FiniteHistoryDependent.html#14752" class="Bound">q</a><a id="14971" class="Symbol">)</a>
  <a id="14975" href="Games.FiniteHistoryDependent.html#14925" class="Function">III</a> <a id="14979" class="Symbol">=</a> <a id="14981" href="MLTT.Id.html#735" class="Function">transport</a> <a id="14991" class="Symbol">(Î»</a> <a id="14994" href="Games.FiniteHistoryDependent.html#14994" class="Bound">-</a> <a id="14996" class="Symbol">â†’</a> <a id="14998" href="Games.FiniteHistoryDependent.html#5881" class="Function">is-in-sgpe</a> <a id="15009" href="Games.FiniteHistoryDependent.html#14994" class="Bound">-</a> <a id="15011" href="Games.FiniteHistoryDependent.html#14752" class="Bound">q</a> <a id="15013" class="Symbol">(</a><a id="15014" href="Games.FiniteHistoryDependent.html#9787" class="Function">selection-strategy</a> <a id="15033" href="Games.FiniteHistoryDependent.html#14746" class="Bound">Îµt</a> <a id="15036" href="Games.FiniteHistoryDependent.html#14752" class="Bound">q</a><a id="15037" class="Symbol">))</a> <a id="15040" href="Games.FiniteHistoryDependent.html#14771" class="Function">I</a> <a id="15042" href="Games.FiniteHistoryDependent.html#14824" class="Function">II</a>


<a id="Selection-Strategy-Theorem"></a><a id="15047" href="Games.FiniteHistoryDependent.html#15047" class="Function">Selection-Strategy-Theorem</a> <a id="15074" class="Symbol">:</a> <a id="15076" href="UF.FunExt.html#1047" class="Function">Fun-Ext</a>
                           <a id="15111" class="Symbol">â†’</a> <a id="15113" class="Symbol">(</a><a id="15114" href="Games.FiniteHistoryDependent.html#15114" class="Bound">G</a><a id="15115" class="Symbol">@(</a><a id="15117" href="Games.FiniteHistoryDependent.html#3164" class="InductiveConstructor">game</a> <a id="15122" href="Games.FiniteHistoryDependent.html#15122" class="Bound">Xt</a> <a id="15125" href="Games.FiniteHistoryDependent.html#15125" class="Bound">q</a> <a id="15127" href="Games.FiniteHistoryDependent.html#15127" class="Bound">Ï•t</a><a id="15129" class="Symbol">)</a> <a id="15131" class="Symbol">:</a> <a id="15133" href="Games.FiniteHistoryDependent.html#3132" class="Record">Game</a><a id="15137" class="Symbol">)</a> <a id="15139" class="Symbol">(</a><a id="15140" href="Games.FiniteHistoryDependent.html#15140" class="Bound">Îµt</a> <a id="15143" class="Symbol">:</a> <a id="15145" href="Games.FiniteHistoryDependent.html#8970" class="Function">ğ“™</a> <a id="15147" href="Games.FiniteHistoryDependent.html#15122" class="Bound">Xt</a><a id="15149" class="Symbol">)</a>
                           <a id="15178" class="Symbol">â†’</a> <a id="15180" href="Games.FiniteHistoryDependent.html#15140" class="Bound">Îµt</a> <a id="15183" href="Games.FiniteHistoryDependent.html#10543" class="Function Operator">Attains</a> <a id="15191" href="Games.FiniteHistoryDependent.html#15127" class="Bound">Ï•t</a>
                           <a id="15221" class="Symbol">â†’</a> <a id="15223" href="Games.FiniteHistoryDependent.html#7105" class="Function">is-optimal</a> <a id="15234" href="Games.FiniteHistoryDependent.html#15114" class="Bound">G</a> <a id="15236" class="Symbol">(</a><a id="15237" href="Games.FiniteHistoryDependent.html#9787" class="Function">selection-strategy</a> <a id="15256" href="Games.FiniteHistoryDependent.html#15140" class="Bound">Îµt</a> <a id="15259" href="Games.FiniteHistoryDependent.html#15125" class="Bound">q</a><a id="15260" class="Symbol">)</a>
<a id="15262" href="Games.FiniteHistoryDependent.html#15047" class="Function">Selection-Strategy-Theorem</a> <a id="15289" href="Games.FiniteHistoryDependent.html#15289" class="Bound">fe</a> <a id="15292" class="Symbol">(</a><a id="15293" href="Games.FiniteHistoryDependent.html#3164" class="InductiveConstructor">game</a> <a id="15298" href="Games.FiniteHistoryDependent.html#15298" class="Bound">Xt</a> <a id="15301" href="Games.FiniteHistoryDependent.html#15301" class="Bound">Ï•t</a> <a id="15304" href="Games.FiniteHistoryDependent.html#15304" class="Bound">q</a><a id="15305" class="Symbol">)</a> <a id="15307" href="Games.FiniteHistoryDependent.html#15307" class="Bound">Îµt</a> <a id="15310" class="Symbol">=</a> <a id="15312" href="Games.FiniteHistoryDependent.html#14456" class="Function">selection-strategy-theorem</a> <a id="15339" href="Games.FiniteHistoryDependent.html#15289" class="Bound">fe</a> <a id="15342" href="Games.FiniteHistoryDependent.html#15307" class="Bound">Îµt</a> <a id="15345" href="Games.FiniteHistoryDependent.html#15304" class="Bound">q</a> <a id="15347" href="Games.FiniteHistoryDependent.html#15301" class="Bound">Ï•t</a>

<a id="15351" class="Markup">\end{code}</a><a id="15361" class="Background">

Added 27th August 2023 after the above was submitted for publication.

</a><a id="15434" class="Markup">\begin{code}</a>

<a id="selection-strategy-corollary"></a><a id="15448" href="Games.FiniteHistoryDependent.html#15448" class="Function">selection-strategy-corollary</a>
 <a id="15478" class="Symbol">:</a> <a id="15480" href="UF.FunExt.html#1047" class="Function">Fun-Ext</a>
 <a id="15489" class="Symbol">â†’</a> <a id="15491" class="Symbol">(</a><a id="15492" href="Games.FiniteHistoryDependent.html#15492" class="Bound">G</a><a id="15493" class="Symbol">@(</a><a id="15495" href="Games.FiniteHistoryDependent.html#3164" class="InductiveConstructor">game</a> <a id="15500" href="Games.FiniteHistoryDependent.html#15500" class="Bound">Xt</a> <a id="15503" href="Games.FiniteHistoryDependent.html#15503" class="Bound">q</a> <a id="15505" href="Games.FiniteHistoryDependent.html#15505" class="Bound">Ï•t</a><a id="15507" class="Symbol">)</a> <a id="15509" class="Symbol">:</a> <a id="15511" href="Games.FiniteHistoryDependent.html#3132" class="Record">Game</a><a id="15515" class="Symbol">)</a> <a id="15517" class="Symbol">(</a><a id="15518" href="Games.FiniteHistoryDependent.html#15518" class="Bound">Îµt</a> <a id="15521" class="Symbol">:</a> <a id="15523" href="Games.FiniteHistoryDependent.html#8970" class="Function">ğ“™</a> <a id="15525" href="Games.FiniteHistoryDependent.html#15500" class="Bound">Xt</a><a id="15527" class="Symbol">)</a>
 <a id="15530" class="Symbol">â†’</a> <a id="15532" href="Games.FiniteHistoryDependent.html#15518" class="Bound">Îµt</a> <a id="15535" href="Games.FiniteHistoryDependent.html#10543" class="Function Operator">Attains</a> <a id="15543" href="Games.FiniteHistoryDependent.html#15505" class="Bound">Ï•t</a>
 <a id="15547" class="Symbol">â†’</a> <a id="15549" href="Games.FiniteHistoryDependent.html#15503" class="Bound">q</a> <a id="15551" class="Symbol">(</a><a id="15552" href="Games.FiniteHistoryDependent.html#9488" class="Function">sequenceá´¶</a> <a id="15562" href="Games.FiniteHistoryDependent.html#15518" class="Bound">Îµt</a> <a id="15565" href="Games.FiniteHistoryDependent.html#15503" class="Bound">q</a><a id="15566" class="Symbol">)</a> <a id="15568" href="MLTT.Id.html#193" class="Datatype Operator">ï¼</a> <a id="15570" href="Games.FiniteHistoryDependent.html#3536" class="Function">optimal-outcome</a> <a id="15586" href="Games.FiniteHistoryDependent.html#15492" class="Bound">G</a>
<a id="15588" href="Games.FiniteHistoryDependent.html#15448" class="Function">selection-strategy-corollary</a> <a id="15617" href="Games.FiniteHistoryDependent.html#15617" class="Bound">fe</a> <a id="15620" href="Games.FiniteHistoryDependent.html#15620" class="Bound">G</a><a id="15621" class="Symbol">@(</a><a id="15623" href="Games.FiniteHistoryDependent.html#3164" class="InductiveConstructor">game</a> <a id="15628" href="Games.FiniteHistoryDependent.html#15628" class="Bound">Xt</a> <a id="15631" href="Games.FiniteHistoryDependent.html#15631" class="Bound">q</a> <a id="15633" href="Games.FiniteHistoryDependent.html#15633" class="Bound">Ï•t</a><a id="15635" class="Symbol">)</a> <a id="15637" href="Games.FiniteHistoryDependent.html#15637" class="Bound">Îµt</a> <a id="15640" href="Games.FiniteHistoryDependent.html#15640" class="Bound">a</a> <a id="15642" class="Symbol">=</a>
 <a id="15645" href="Games.FiniteHistoryDependent.html#15631" class="Bound">q</a> <a id="15647" class="Symbol">(</a><a id="15648" href="Games.FiniteHistoryDependent.html#9488" class="Function">sequenceá´¶</a> <a id="15658" href="Games.FiniteHistoryDependent.html#15637" class="Bound">Îµt</a> <a id="15661" href="Games.FiniteHistoryDependent.html#15631" class="Bound">q</a><a id="15662" class="Symbol">)</a>                           <a id="15690" href="MLTT.Id.html#2703" class="Function Operator">ï¼âŸ¨</a> <a id="15693" href="Games.FiniteHistoryDependent.html#15810" class="Function">I</a> <a id="15695" href="MLTT.Id.html#2703" class="Function Operator">âŸ©</a>
 <a id="15698" href="Games.FiniteHistoryDependent.html#15631" class="Bound">q</a> <a id="15700" class="Symbol">(</a><a id="15701" href="Games.FiniteHistoryDependent.html#4248" class="Function">strategic-path</a> <a id="15716" class="Symbol">(</a><a id="15717" href="Games.FiniteHistoryDependent.html#9787" class="Function">selection-strategy</a> <a id="15736" href="Games.FiniteHistoryDependent.html#15637" class="Bound">Îµt</a> <a id="15739" href="Games.FiniteHistoryDependent.html#15631" class="Bound">q</a><a id="15740" class="Symbol">))</a> <a id="15743" href="MLTT.Id.html#2703" class="Function Operator">ï¼âŸ¨</a> <a id="15746" href="Games.FiniteHistoryDependent.html#15845" class="Function">II</a> <a id="15749" href="MLTT.Id.html#2703" class="Function Operator">âŸ©</a>
 <a id="15752" href="Games.FiniteHistoryDependent.html#3536" class="Function">optimal-outcome</a> <a id="15768" href="Games.FiniteHistoryDependent.html#15620" class="Bound">G</a>                            <a id="15797" href="MLTT.Id.html#2785" class="Function Operator">âˆ</a>
  <a id="15801" class="Keyword">where</a>
   <a id="15810" href="Games.FiniteHistoryDependent.html#15810" class="Function">I</a>  <a id="15813" class="Symbol">=</a> <a id="15815" href="MLTT.Id.html#1136" class="Function">ap</a> <a id="15818" href="Games.FiniteHistoryDependent.html#15631" class="Bound">q</a> <a id="15820" class="Symbol">((</a><a id="15822" href="Games.FiniteHistoryDependent.html#12150" class="Function">main-lemma</a> <a id="15833" href="Games.FiniteHistoryDependent.html#15637" class="Bound">Îµt</a> <a id="15836" href="Games.FiniteHistoryDependent.html#15631" class="Bound">q</a><a id="15837" class="Symbol">)</a><a id="15838" href="MLTT.Id.html#1055" class="Function Operator">â»Â¹</a><a id="15840" class="Symbol">)</a>
   <a id="15845" href="Games.FiniteHistoryDependent.html#15845" class="Function">II</a> <a id="15848" class="Symbol">=</a> <a id="15850" href="Games.FiniteHistoryDependent.html#7633" class="Function">sgpe-lemma</a> <a id="15861" href="Games.FiniteHistoryDependent.html#15617" class="Bound">fe</a> <a id="15864" href="Games.FiniteHistoryDependent.html#15628" class="Bound">Xt</a> <a id="15867" href="Games.FiniteHistoryDependent.html#15633" class="Bound">Ï•t</a> <a id="15870" href="Games.FiniteHistoryDependent.html#15631" class="Bound">q</a>
         <a id="15881" class="Symbol">(</a><a id="15882" href="Games.FiniteHistoryDependent.html#9787" class="Function">selection-strategy</a> <a id="15901" href="Games.FiniteHistoryDependent.html#15637" class="Bound">Îµt</a> <a id="15904" href="Games.FiniteHistoryDependent.html#15631" class="Bound">q</a><a id="15905" class="Symbol">)</a>
         <a id="15916" class="Symbol">(</a><a id="15917" href="Games.FiniteHistoryDependent.html#15047" class="Function">Selection-Strategy-Theorem</a> <a id="15944" href="Games.FiniteHistoryDependent.html#15617" class="Bound">fe</a> <a id="15947" href="Games.FiniteHistoryDependent.html#15620" class="Bound">G</a> <a id="15949" href="Games.FiniteHistoryDependent.html#15637" class="Bound">Îµt</a> <a id="15952" href="Games.FiniteHistoryDependent.html#15640" class="Bound">a</a><a id="15953" class="Symbol">)</a>

<a id="15956" class="Markup">\end{code}</a><a id="15966" class="Background">
</a></pre></body></html>