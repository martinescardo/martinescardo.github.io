<!DOCTYPE HTML>
<html><head><meta charset="utf-8"><title>Games.FiniteHistoryDependent</title><link rel="stylesheet" href="Agda.css"><script type="text/javascript" src="highlight-hover.js"></script></head><body><pre class="Agda"><a id="1" class="Background">Martin Escardo, Paulo Oliva, 2-27 July 2021

The following paper is based on this file:

  [0] Martin Escardo and Paulo Oliva. Higher-order games with
      dependent types.  Theoretical Computer Science, Volume 974, 29
      September 2023, 114111.
      https://doi.org/10.48550/arXiv.2212.07735
      https://doi.org/10.1016/j.tcs.2023.114111

We study finite, history dependent games of perfect information using
selection functions and dependent-type trees.

This is based on our previous work.

  [1] M.H. Escardó and Paulo Oliva. Sequential Games and Optimal
      Strategies. Proceedings of the Royal Society A, 467:1519-1545,
      2011. https://doi.org/10.1098/rspa.2010.0471

We generalize [1] by considering the case that the type Xₖ of moves xₖ
at round k depends on the moves played at the previous rounds. So in a
sequence of moves x₀,x₁,x₂,…, we have that

  * the type X₀ of initial moves doesn&#39;t depend on anything,
  * the type X₁ depends on the first move x₀ : X₀,
  * the type X₂ depends on the first move x₀ : X₀ and the
    second move x₁ : X₁.
  …

In order to achieve this generalization, we work with game trees
whose nodes are labelled by types that collect the allowed moves at a
given round. Then a play x₀,x₁,x₂,…, is a path in such a tree.

This formulation of the notion of game naturally accounts for finite
games of *unbounded* length, which in [1] was achieved by continuous,
infinite games instead.

We assume a given type R of outcomes for games as a module parameter.

</a><a id="1508" class="Markup">\begin{code}</a>

<a id="1522" class="Symbol">{-#</a> <a id="1526" class="Keyword">OPTIONS</a> <a id="1534" class="Pragma">--safe</a> <a id="1541" class="Pragma">--without-K</a> <a id="1553" class="Symbol">#-}</a> <a id="1557" class="Comment">--</a>

<a id="1561" class="Keyword">open</a> <a id="1566" class="Keyword">import</a> <a id="1573" href="MLTT.Spartan.html" class="Module">MLTT.Spartan</a> <a id="1586" class="Keyword">hiding</a> <a id="1593" class="Symbol">(</a><a id="1594" href="MLTT.Id.html#438" class="Function">J</a><a id="1595" class="Symbol">)</a>

<a id="1598" class="Keyword">module</a> <a id="1605" href="Games.FiniteHistoryDependent.html" class="Module">Games.FiniteHistoryDependent</a> <a id="1634" class="Symbol">(</a><a id="1635" href="Games.FiniteHistoryDependent.html#1635" class="Bound">R</a> <a id="1637" class="Symbol">:</a> <a id="1639" href="Notation.General.html#372" class="Function">Type</a><a id="1643" class="Symbol">)</a> <a id="1645" class="Keyword">where</a>

<a id="1652" class="Keyword">open</a> <a id="1657" class="Keyword">import</a> <a id="1664" href="MonadOnTypes.Monad.html" class="Module">MonadOnTypes.Monad</a>
<a id="1683" class="Keyword">open</a> <a id="1688" class="Keyword">import</a> <a id="1695" href="MonadOnTypes.J.html" class="Module">MonadOnTypes.J</a>
<a id="1710" class="Keyword">open</a> <a id="1715" class="Keyword">import</a> <a id="1722" href="MonadOnTypes.K.html" class="Module">MonadOnTypes.K</a>
<a id="1737" class="Keyword">open</a> <a id="1742" class="Keyword">import</a> <a id="1749" href="MonadOnTypes.JK.html" class="Module">MonadOnTypes.JK</a>
<a id="1765" class="Keyword">open</a> <a id="1770" class="Keyword">import</a> <a id="1777" href="UF.Base.html" class="Module">UF.Base</a>
<a id="1785" class="Keyword">open</a> <a id="1790" class="Keyword">import</a> <a id="1797" href="UF.FunExt.html" class="Module">UF.FunExt</a>

<a id="1808" class="Keyword">open</a> <a id="1813" href="MonadOnTypes.K.html#438" class="Module">K-definitions</a> <a id="1827" href="Games.FiniteHistoryDependent.html#1635" class="Bound">R</a>
<a id="1829" class="Keyword">open</a> <a id="1834" href="MonadOnTypes.J.html#428" class="Module">J-definitions</a> <a id="1848" href="Games.FiniteHistoryDependent.html#1635" class="Bound">R</a>

<a id="1851" class="Markup">\end{code}</a><a id="1861" class="Background">

The following module defines the main data structure we use in order
to represent the above kind of game:

</a><a id="1970" class="Markup">\begin{code}</a>

<a id="1984" class="Keyword">open</a> <a id="1989" class="Keyword">import</a> <a id="1996" href="Games.TypeTrees.html" class="Module">Games.TypeTrees</a>

<a id="2013" class="Markup">\end{code}</a><a id="2023" class="Background">

We use quantifiers as in Section 1 of reference [1], defined in
another module.

In the same way as the type of moves at a given stage of the game
depends on the previously played moves, so do the quantifiers and
selection functions.

𝓚 decorates each internal node X of a type tree with the type K X of
quantifiers over X.

</a><a id="2350" class="Markup">\begin{code}</a>

<a id="𝓚"></a><a id="2364" href="Games.FiniteHistoryDependent.html#2364" class="Function">𝓚</a> <a id="2366" class="Symbol">:</a> <a id="2368" href="Games.TypeTrees.html#719" class="Datatype">𝑻</a> <a id="2370" class="Symbol">→</a> <a id="2372" href="Notation.General.html#372" class="Function">Type</a>
<a id="2377" href="Games.FiniteHistoryDependent.html#2364" class="Function">𝓚</a> <a id="2379" class="Symbol">=</a> <a id="2381" href="Games.TypeTrees.html#2120" class="Function">structure</a> <a id="2391" href="MonadOnTypes.K.html#471" class="Function">K</a>

<a id="remark-𝓚"></a><a id="2394" href="Games.FiniteHistoryDependent.html#2394" class="Function">remark-𝓚</a> <a id="2403" class="Symbol">:</a> <a id="2405" class="Symbol">{</a><a id="2406" href="Games.FiniteHistoryDependent.html#2406" class="Bound">X</a> <a id="2408" class="Symbol">:</a> <a id="2410" href="Notation.General.html#372" class="Function">Type</a><a id="2414" class="Symbol">}</a> <a id="2416" class="Symbol">{</a><a id="2417" href="Games.FiniteHistoryDependent.html#2417" class="Bound">Xf</a> <a id="2420" class="Symbol">:</a> <a id="2422" href="Games.FiniteHistoryDependent.html#2406" class="Bound">X</a> <a id="2424" class="Symbol">→</a> <a id="2426" href="Games.TypeTrees.html#719" class="Datatype">𝑻</a><a id="2427" class="Symbol">}</a>
         <a id="2438" class="Symbol">→</a> <a id="2440" class="Symbol">(</a><a id="2441" href="Games.FiniteHistoryDependent.html#2364" class="Function">𝓚</a> <a id="2443" class="InductiveConstructor">[]</a>       <a id="2452" href="MLTT.Id.html#193" class="Datatype Operator">＝</a> <a id="2454" href="MLTT.Unit.html#129" class="Record">𝟙</a><a id="2455" class="Symbol">)</a>
         <a id="2466" href="MLTT.Sigma.html#558" class="Function Operator">×</a> <a id="2468" class="Symbol">(</a><a id="2469" href="Games.FiniteHistoryDependent.html#2364" class="Function">𝓚</a> <a id="2471" class="Symbol">(</a><a id="2472" href="Games.FiniteHistoryDependent.html#2406" class="Bound">X</a> <a id="2474" class="InductiveConstructor Operator">∷</a> <a id="2476" href="Games.FiniteHistoryDependent.html#2417" class="Bound">Xf</a><a id="2478" class="Symbol">)</a> <a id="2480" href="MLTT.Id.html#193" class="Datatype Operator">＝</a> <a id="2482" href="MonadOnTypes.K.html#471" class="Function">K</a> <a id="2484" href="Games.FiniteHistoryDependent.html#2406" class="Bound">X</a> <a id="2486" href="MLTT.Sigma.html#558" class="Function Operator">×</a> <a id="2488" class="Symbol">((</a><a id="2490" href="Games.FiniteHistoryDependent.html#2490" class="Bound">x</a> <a id="2492" class="Symbol">:</a> <a id="2494" href="Games.FiniteHistoryDependent.html#2406" class="Bound">X</a><a id="2495" class="Symbol">)</a> <a id="2497" class="Symbol">→</a> <a id="2499" href="Games.FiniteHistoryDependent.html#2364" class="Function">𝓚</a> <a id="2501" class="Symbol">(</a><a id="2502" href="Games.FiniteHistoryDependent.html#2417" class="Bound">Xf</a> <a id="2505" href="Games.FiniteHistoryDependent.html#2490" class="Bound">x</a><a id="2506" class="Symbol">)))</a>
<a id="2510" href="Games.FiniteHistoryDependent.html#2394" class="Function">remark-𝓚</a> <a id="2519" class="Symbol">=</a> <a id="2521" href="MLTT.Identity-Type.html#157" class="InductiveConstructor">refl</a> <a id="2526" href="MLTT.Sigma.html#395" class="InductiveConstructor Operator">,</a> <a id="2528" href="MLTT.Identity-Type.html#157" class="InductiveConstructor">refl</a>

<a id="2534" class="Markup">\end{code}</a><a id="2544" class="Background">

 * ϕ  ranges over the type K X of quantifiers.
 * ϕt ranges over the type 𝓚 Xt of quantifier trees.
 * ϕf ranges over the type (x : X) → 𝓚 (Xf x) of quantifier forests.


Sequencing quantifiers, as constructed in Definition 2 of reference [1],
but using our tree representation of games instead:

</a><a id="2843" class="Markup">\begin{code}</a>

<a id="sequenceᴷ"></a><a id="2857" href="Games.FiniteHistoryDependent.html#2857" class="Function">sequenceᴷ</a> <a id="2867" class="Symbol">:</a> <a id="2869" class="Symbol">{</a><a id="2870" href="Games.FiniteHistoryDependent.html#2870" class="Bound">Xt</a> <a id="2873" class="Symbol">:</a> <a id="2875" href="Games.TypeTrees.html#719" class="Datatype">𝑻</a><a id="2876" class="Symbol">}</a> <a id="2878" class="Symbol">→</a> <a id="2880" href="Games.FiniteHistoryDependent.html#2364" class="Function">𝓚</a> <a id="2882" href="Games.FiniteHistoryDependent.html#2870" class="Bound">Xt</a> <a id="2885" class="Symbol">→</a> <a id="2887" href="MonadOnTypes.K.html#471" class="Function">K</a> <a id="2889" class="Symbol">(</a><a id="2890" href="Games.TypeTrees.html#906" class="Function">Path</a> <a id="2895" href="Games.FiniteHistoryDependent.html#2870" class="Bound">Xt</a><a id="2897" class="Symbol">)</a>
<a id="2899" href="Games.FiniteHistoryDependent.html#2857" class="Function">sequenceᴷ</a> <a id="2909" class="Symbol">=</a> <a id="2911" href="Games.TypeTrees.html#3789" class="Function">path-sequence</a> <a id="2925" class="Symbol">(</a><a id="2926" href="MonadOnTypes.K.html#184" class="Function">𝕂</a> <a id="2928" href="Games.FiniteHistoryDependent.html#1635" class="Bound">R</a><a id="2929" class="Symbol">)</a>

<a id="2932" class="Markup">\end{code}</a><a id="2942" class="Background">

The following is Definition 3 of the above reference [1].

A game is defined by a game tree Xt, a type R of outcomes, a
quantifier tree ϕt and an outcome function q:

</a><a id="3111" class="Markup">\begin{code}</a>

<a id="3125" class="Keyword">record</a> <a id="Game"></a><a id="3132" href="Games.FiniteHistoryDependent.html#3132" class="Record">Game</a> <a id="3137" class="Symbol">:</a> <a id="3139" href="Notation.General.html#384" class="Function">Type₁</a> <a id="3145" class="Keyword">where</a>
 <a id="3152" class="Keyword">constructor</a> <a id="game"></a><a id="3164" href="Games.FiniteHistoryDependent.html#3164" class="InductiveConstructor">game</a>
 <a id="3170" class="Keyword">field</a>
  <a id="Game.Xt"></a><a id="3178" href="Games.FiniteHistoryDependent.html#3178" class="Field">Xt</a> <a id="3181" class="Symbol">:</a> <a id="3183" href="Games.TypeTrees.html#719" class="Datatype">𝑻</a>
  <a id="Game.q"></a><a id="3187" href="Games.FiniteHistoryDependent.html#3187" class="Field">q</a>  <a id="3190" class="Symbol">:</a> <a id="3192" href="Games.TypeTrees.html#906" class="Function">Path</a> <a id="3197" href="Games.FiniteHistoryDependent.html#3178" class="Field">Xt</a> <a id="3200" class="Symbol">→</a> <a id="3202" href="Games.FiniteHistoryDependent.html#1635" class="Bound">R</a>
  <a id="Game.ϕt"></a><a id="3206" href="Games.FiniteHistoryDependent.html#3206" class="Field">ϕt</a> <a id="3209" class="Symbol">:</a> <a id="3211" href="Games.FiniteHistoryDependent.html#2364" class="Function">𝓚</a> <a id="3213" href="Games.FiniteHistoryDependent.html#3178" class="Field">Xt</a>

<a id="3217" class="Keyword">open</a> <a id="3222" href="Games.FiniteHistoryDependent.html#3132" class="Module">Game</a> <a id="3227" class="Keyword">public</a>

<a id="3235" class="Markup">\end{code}</a><a id="3245" class="Background">

We can think of Xt as the rules of the game, and R, ϕt and q as the
objective of the game.

We define the optimal outcome of a game to be the sequencing of its
quantifiers applied to the outcome function (Theorem 3.1 of [1]).

</a><a id="3474" class="Markup">\begin{code}</a>

<a id="optimal-outcome"></a><a id="3488" href="Games.FiniteHistoryDependent.html#3488" class="Function">optimal-outcome</a> <a id="3504" class="Symbol">:</a> <a id="3506" href="Games.FiniteHistoryDependent.html#3132" class="Record">Game</a> <a id="3511" class="Symbol">→</a> <a id="3513" href="Games.FiniteHistoryDependent.html#1635" class="Bound">R</a>
<a id="3515" href="Games.FiniteHistoryDependent.html#3488" class="Function">optimal-outcome</a> <a id="3531" class="Symbol">(</a><a id="3532" href="Games.FiniteHistoryDependent.html#3164" class="InductiveConstructor">game</a> <a id="3537" href="Games.FiniteHistoryDependent.html#3537" class="Bound">Xt</a> <a id="3540" href="Games.FiniteHistoryDependent.html#3540" class="Bound">q</a> <a id="3542" href="Games.FiniteHistoryDependent.html#3542" class="Bound">ϕt</a><a id="3544" class="Symbol">)</a> <a id="3546" class="Symbol">=</a> <a id="3548" href="Games.FiniteHistoryDependent.html#2857" class="Function">sequenceᴷ</a> <a id="3558" href="Games.FiniteHistoryDependent.html#3542" class="Bound">ϕt</a> <a id="3561" href="Games.FiniteHistoryDependent.html#3540" class="Bound">q</a>

<a id="3564" class="Markup">\end{code}</a><a id="3574" class="Background">

A strategy assigns a move to each mode of a tree. This corresponds to
Definition 4 of [1]:

</a><a id="3668" class="Markup">\begin{code}</a>

<a id="Strategy"></a><a id="3682" href="Games.FiniteHistoryDependent.html#3682" class="Function">Strategy</a> <a id="3691" class="Symbol">:</a> <a id="3693" href="Games.TypeTrees.html#719" class="Datatype">𝑻</a> <a id="3695" class="Symbol">→</a> <a id="3697" href="Notation.General.html#372" class="Function">Type</a>
<a id="3702" href="Games.FiniteHistoryDependent.html#3682" class="Function">Strategy</a> <a id="3711" class="Symbol">=</a> <a id="3713" href="Games.TypeTrees.html#2120" class="Function">structure</a> <a id="3723" href="MLTT.Pi.html#444" class="Function">id</a>

<a id="remark-Strategy"></a><a id="3727" href="Games.FiniteHistoryDependent.html#3727" class="Function">remark-Strategy</a> <a id="3743" class="Symbol">:</a> <a id="3745" class="Symbol">{</a><a id="3746" href="Games.FiniteHistoryDependent.html#3746" class="Bound">X</a> <a id="3748" class="Symbol">:</a> <a id="3750" href="Notation.General.html#372" class="Function">Type</a><a id="3754" class="Symbol">}</a> <a id="3756" class="Symbol">{</a><a id="3757" href="Games.FiniteHistoryDependent.html#3757" class="Bound">Xf</a> <a id="3760" class="Symbol">:</a> <a id="3762" href="Games.FiniteHistoryDependent.html#3746" class="Bound">X</a> <a id="3764" class="Symbol">→</a> <a id="3766" href="Games.TypeTrees.html#719" class="Datatype">𝑻</a><a id="3767" class="Symbol">}</a>
                <a id="3785" class="Symbol">→</a> <a id="3787" class="Symbol">(</a><a id="3788" href="Games.FiniteHistoryDependent.html#3682" class="Function">Strategy</a> <a id="3797" class="InductiveConstructor">[]</a>       <a id="3806" href="MLTT.Id.html#193" class="Datatype Operator">＝</a> <a id="3808" href="MLTT.Unit.html#129" class="Record">𝟙</a><a id="3809" class="Symbol">)</a>
                <a id="3827" href="MLTT.Sigma.html#558" class="Function Operator">×</a> <a id="3829" class="Symbol">(</a><a id="3830" href="Games.FiniteHistoryDependent.html#3682" class="Function">Strategy</a> <a id="3839" class="Symbol">(</a><a id="3840" href="Games.FiniteHistoryDependent.html#3746" class="Bound">X</a> <a id="3842" class="InductiveConstructor Operator">∷</a> <a id="3844" href="Games.FiniteHistoryDependent.html#3757" class="Bound">Xf</a><a id="3846" class="Symbol">)</a> <a id="3848" href="MLTT.Id.html#193" class="Datatype Operator">＝</a> <a id="3850" href="Games.FiniteHistoryDependent.html#3746" class="Bound">X</a> <a id="3852" href="MLTT.Sigma.html#558" class="Function Operator">×</a> <a id="3854" class="Symbol">((</a><a id="3856" href="Games.FiniteHistoryDependent.html#3856" class="Bound">x</a> <a id="3858" class="Symbol">:</a> <a id="3860" href="Games.FiniteHistoryDependent.html#3746" class="Bound">X</a><a id="3861" class="Symbol">)</a> <a id="3863" class="Symbol">→</a> <a id="3865" href="Games.FiniteHistoryDependent.html#3682" class="Function">Strategy</a> <a id="3874" class="Symbol">(</a><a id="3875" href="Games.FiniteHistoryDependent.html#3757" class="Bound">Xf</a> <a id="3878" href="Games.FiniteHistoryDependent.html#3856" class="Bound">x</a><a id="3879" class="Symbol">)))</a>
<a id="3883" href="Games.FiniteHistoryDependent.html#3727" class="Function">remark-Strategy</a> <a id="3899" class="Symbol">=</a> <a id="3901" href="MLTT.Identity-Type.html#157" class="InductiveConstructor">refl</a> <a id="3906" href="MLTT.Sigma.html#395" class="InductiveConstructor Operator">,</a> <a id="3908" href="MLTT.Identity-Type.html#157" class="InductiveConstructor">refl</a>

<a id="3914" class="Markup">\end{code}</a><a id="3924" class="Background">

 * σ ranges over the type Strategy Xt of strategies for a
   dependent-type tree Xt.

 * σf ranges over the type (x : X) → Strategy (Xf x) of strategy
   forests for a dependent-type forest Xf.

We get a path in the tree by following any given strategy:

</a><a id="4181" class="Markup">\begin{code}</a>

<a id="strategic-path"></a><a id="4195" href="Games.FiniteHistoryDependent.html#4195" class="Function">strategic-path</a> <a id="4210" class="Symbol">:</a> <a id="4212" class="Symbol">{</a><a id="4213" href="Games.FiniteHistoryDependent.html#4213" class="Bound">Xt</a> <a id="4216" class="Symbol">:</a> <a id="4218" href="Games.TypeTrees.html#719" class="Datatype">𝑻</a><a id="4219" class="Symbol">}</a> <a id="4221" class="Symbol">→</a> <a id="4223" href="Games.FiniteHistoryDependent.html#3682" class="Function">Strategy</a> <a id="4232" href="Games.FiniteHistoryDependent.html#4213" class="Bound">Xt</a> <a id="4235" class="Symbol">→</a> <a id="4237" href="Games.TypeTrees.html#906" class="Function">Path</a> <a id="4242" href="Games.FiniteHistoryDependent.html#4213" class="Bound">Xt</a>
<a id="4245" href="Games.FiniteHistoryDependent.html#4195" class="Function">strategic-path</a> <a id="4260" class="Symbol">=</a> <a id="4262" href="Games.TypeTrees.html#3789" class="Function">path-sequence</a> <a id="4276" href="MonadOnTypes.Monad.html#4686" class="Function">𝕀𝕕</a>

<a id="remark-strategic-path"></a><a id="4280" href="Games.FiniteHistoryDependent.html#4280" class="Function">remark-strategic-path</a> <a id="4302" class="Symbol">:</a> <a id="4304" class="Symbol">{</a><a id="4305" href="Games.FiniteHistoryDependent.html#4305" class="Bound">X</a> <a id="4307" class="Symbol">:</a> <a id="4309" href="Notation.General.html#372" class="Function">Type</a><a id="4313" class="Symbol">}</a> <a id="4315" class="Symbol">{</a><a id="4316" href="Games.FiniteHistoryDependent.html#4316" class="Bound">Xf</a> <a id="4319" class="Symbol">:</a> <a id="4321" href="Games.FiniteHistoryDependent.html#4305" class="Bound">X</a> <a id="4323" class="Symbol">→</a> <a id="4325" href="Games.TypeTrees.html#719" class="Datatype">𝑻</a><a id="4326" class="Symbol">}</a> <a id="4328" class="Symbol">{</a><a id="4329" href="Games.FiniteHistoryDependent.html#4329" class="Bound">x</a> <a id="4331" class="Symbol">:</a> <a id="4333" href="Games.FiniteHistoryDependent.html#4305" class="Bound">X</a><a id="4334" class="Symbol">}</a>
                        <a id="4360" class="Symbol">{</a><a id="4361" href="Games.FiniteHistoryDependent.html#4361" class="Bound">σf</a> <a id="4364" class="Symbol">:</a> <a id="4366" class="Symbol">(</a><a id="4367" href="Games.FiniteHistoryDependent.html#4367" class="Bound">x</a> <a id="4369" class="Symbol">:</a> <a id="4371" href="Games.FiniteHistoryDependent.html#4305" class="Bound">X</a><a id="4372" class="Symbol">)</a> <a id="4374" class="Symbol">→</a> <a id="4376" href="Games.FiniteHistoryDependent.html#3682" class="Function">Strategy</a> <a id="4385" class="Symbol">(</a><a id="4386" href="Games.FiniteHistoryDependent.html#4316" class="Bound">Xf</a> <a id="4389" href="Games.FiniteHistoryDependent.html#4367" class="Bound">x</a><a id="4390" class="Symbol">)}</a>
                      <a id="4415" class="Symbol">→</a> <a id="4417" class="Symbol">(</a><a id="4418" href="Games.FiniteHistoryDependent.html#4195" class="Function">strategic-path</a> <a id="4433" class="Symbol">{</a><a id="4434" class="InductiveConstructor">[]</a><a id="4436" class="Symbol">}</a>     <a id="4442" href="Games.TypeTrees.html#1274" class="InductiveConstructor">⟨⟩</a>        <a id="4452" href="MLTT.Id.html#193" class="Datatype Operator">＝</a> <a id="4454" href="Games.TypeTrees.html#1274" class="InductiveConstructor">⟨⟩</a><a id="4456" class="Symbol">)</a>
                      <a id="4480" href="MLTT.Sigma.html#558" class="Function Operator">×</a> <a id="4482" class="Symbol">(</a><a id="4483" href="Games.FiniteHistoryDependent.html#4195" class="Function">strategic-path</a> <a id="4498" class="Symbol">{</a><a id="4499" href="Games.FiniteHistoryDependent.html#4305" class="Bound">X</a> <a id="4501" class="InductiveConstructor Operator">∷</a> <a id="4503" href="Games.FiniteHistoryDependent.html#4316" class="Bound">Xf</a><a id="4505" class="Symbol">}</a> <a id="4507" class="Symbol">(</a><a id="4508" href="Games.FiniteHistoryDependent.html#4329" class="Bound">x</a> <a id="4510" href="Games.TypeTrees.html#1296" class="InductiveConstructor Operator">::</a> <a id="4513" href="Games.FiniteHistoryDependent.html#4361" class="Bound">σf</a><a id="4515" class="Symbol">)</a> <a id="4517" href="MLTT.Id.html#193" class="Datatype Operator">＝</a> <a id="4519" href="Games.FiniteHistoryDependent.html#4329" class="Bound">x</a> <a id="4521" href="Games.TypeTrees.html#1296" class="InductiveConstructor Operator">::</a> <a id="4524" href="Games.FiniteHistoryDependent.html#4195" class="Function">strategic-path</a> <a id="4539" class="Symbol">(</a><a id="4540" href="Games.FiniteHistoryDependent.html#4361" class="Bound">σf</a> <a id="4543" href="Games.FiniteHistoryDependent.html#4329" class="Bound">x</a><a id="4544" class="Symbol">))</a>
<a id="4547" href="Games.FiniteHistoryDependent.html#4280" class="Function">remark-strategic-path</a> <a id="4569" class="Symbol">=</a> <a id="4571" href="MLTT.Identity-Type.html#157" class="InductiveConstructor">refl</a> <a id="4576" href="MLTT.Sigma.html#395" class="InductiveConstructor Operator">,</a> <a id="4578" href="MLTT.Identity-Type.html#157" class="InductiveConstructor">refl</a>

<a id="4584" class="Markup">\end{code}</a><a id="4594" class="Background">

In the notation of reference [1] above, Definition 5, a strategy σ
for a game (Xt,R,ϕt,q) is said to be optimal, or in subgame perfect
equilibrium (abbreviated sgpe), if for every partial play a₀,…,aₖ₋₁
of length k, we have

   q(a₀,…,aₖ₋₁,bₖ(a₀,…,aₖ₋₁),…,bₙ₋₁(a₀,…,aₖ₋₁))
 = ϕₖ(λxₖ.q(a₀,…,aₖ₋₁,xₖ,bₖ₊₁(a₀,…,aₖ₋₁,xₖ),…,bₙ₋₁(a₀,…,aₖ₋₁,xₖ)))

where the sequence b is inductively defined by

  bⱼ(a₀,…,aₖ₋₁) = σⱼ(a₀,…,aₖ₋₁,bₖ(a₀,…,aₖ₋₁),…,bⱼ₋₁(a₀,…,aₖ₋₁))

for k ≤ j &lt; n.

Intuitively, the strategy σ is optimal if the outcome

  q(a₀,…,aₖ₋₁,bₖ(a₀,…,aₖ₋₁),…,bₙ₋₁(a₀,…,aₖ₋₁))

obtained by following σ is the best possible outcome as described by
the quantifier ϕₖ for each round k, considering all possible
deviations xₖ from the strategy at that round.

For the purposes of our generalization of [1] to dependent games, it
is convenient to define this notion by induction on the game tree Xt:

</a><a id="5487" class="Markup">\begin{code}</a>

<a id="is-in-equilibrium"></a><a id="5501" href="Games.FiniteHistoryDependent.html#5501" class="Function">is-in-equilibrium</a> <a id="5519" class="Symbol">:</a> <a id="5521" class="Symbol">{</a><a id="5522" href="Games.FiniteHistoryDependent.html#5522" class="Bound">X</a> <a id="5524" class="Symbol">:</a> <a id="5526" href="Notation.General.html#372" class="Function">Type</a><a id="5530" class="Symbol">}</a> <a id="5532" class="Symbol">{</a><a id="5533" href="Games.FiniteHistoryDependent.html#5533" class="Bound">Xf</a> <a id="5536" class="Symbol">:</a> <a id="5538" href="Games.FiniteHistoryDependent.html#5522" class="Bound">X</a> <a id="5540" class="Symbol">→</a> <a id="5542" href="Games.TypeTrees.html#719" class="Datatype">𝑻</a><a id="5543" class="Symbol">}</a>
                    <a id="5565" class="Symbol">(</a><a id="5566" href="Games.FiniteHistoryDependent.html#5566" class="Bound">q</a> <a id="5568" class="Symbol">:</a> <a id="5570" class="Symbol">(</a><a id="5571" href="MLTT.Sigma.html#423" class="Function">Σ</a> <a id="5573" href="Games.FiniteHistoryDependent.html#5573" class="Bound">x</a> <a id="5575" href="MLTT.Sigma.html#423" class="Function">꞉</a> <a id="5577" href="Games.FiniteHistoryDependent.html#5522" class="Bound">X</a> <a id="5579" href="MLTT.Sigma.html#423" class="Function">,</a> <a id="5581" href="Games.TypeTrees.html#906" class="Function">Path</a> <a id="5586" class="Symbol">(</a><a id="5587" href="Games.FiniteHistoryDependent.html#5533" class="Bound">Xf</a> <a id="5590" href="Games.FiniteHistoryDependent.html#5573" class="Bound">x</a><a id="5591" class="Symbol">))</a> <a id="5594" class="Symbol">→</a> <a id="5596" href="Games.FiniteHistoryDependent.html#1635" class="Bound">R</a><a id="5597" class="Symbol">)</a>
                    <a id="5619" class="Symbol">(</a><a id="5620" href="Games.FiniteHistoryDependent.html#5620" class="Bound">ϕ</a> <a id="5622" class="Symbol">:</a> <a id="5624" href="MonadOnTypes.K.html#471" class="Function">K</a> <a id="5626" href="Games.FiniteHistoryDependent.html#5522" class="Bound">X</a><a id="5627" class="Symbol">)</a>
                  <a id="5647" class="Symbol">→</a> <a id="5649" href="Games.FiniteHistoryDependent.html#3682" class="Function">Strategy</a> <a id="5658" class="Symbol">(</a><a id="5659" href="Games.FiniteHistoryDependent.html#5522" class="Bound">X</a> <a id="5661" class="InductiveConstructor Operator">∷</a> <a id="5663" href="Games.FiniteHistoryDependent.html#5533" class="Bound">Xf</a><a id="5665" class="Symbol">)</a>
                  <a id="5685" class="Symbol">→</a> <a id="5687" href="Notation.General.html#372" class="Function">Type</a>
<a id="5692" href="Games.FiniteHistoryDependent.html#5501" class="Function">is-in-equilibrium</a> <a id="5710" class="Symbol">{</a><a id="5711" href="Games.FiniteHistoryDependent.html#5711" class="Bound">X</a><a id="5712" class="Symbol">}</a> <a id="5714" class="Symbol">{</a><a id="5715" href="Games.FiniteHistoryDependent.html#5715" class="Bound">Xf</a><a id="5717" class="Symbol">}</a> <a id="5719" href="Games.FiniteHistoryDependent.html#5719" class="Bound">q</a> <a id="5721" href="Games.FiniteHistoryDependent.html#5721" class="Bound">ϕ</a> <a id="5723" href="Games.FiniteHistoryDependent.html#5723" class="Bound">σt</a><a id="5725" class="Symbol">@(</a><a id="5727" href="Games.FiniteHistoryDependent.html#5727" class="Bound">x₀</a> <a id="5730" href="Games.TypeTrees.html#1296" class="InductiveConstructor Operator">::</a> <a id="5733" href="Games.FiniteHistoryDependent.html#5733" class="Bound">σf</a><a id="5735" class="Symbol">)</a>  <a id="5738" class="Symbol">=</a>
 <a id="5741" href="Games.TypeTrees.html#1622" class="Function">subpred</a> <a id="5749" href="Games.FiniteHistoryDependent.html#5719" class="Bound">q</a> <a id="5751" href="Games.FiniteHistoryDependent.html#5727" class="Bound">x₀</a> <a id="5754" class="Symbol">(</a><a id="5755" href="Games.FiniteHistoryDependent.html#4195" class="Function">strategic-path</a> <a id="5770" class="Symbol">(</a><a id="5771" href="Games.FiniteHistoryDependent.html#5733" class="Bound">σf</a> <a id="5774" href="Games.FiniteHistoryDependent.html#5727" class="Bound">x₀</a><a id="5776" class="Symbol">))</a> <a id="5779" href="MLTT.Id.html#193" class="Datatype Operator">＝</a> <a id="5781" href="Games.FiniteHistoryDependent.html#5721" class="Bound">ϕ</a> <a id="5783" class="Symbol">(λ</a> <a id="5786" href="Games.FiniteHistoryDependent.html#5786" class="Bound">x</a> <a id="5788" class="Symbol">→</a> <a id="5790" href="Games.TypeTrees.html#1622" class="Function">subpred</a> <a id="5798" href="Games.FiniteHistoryDependent.html#5719" class="Bound">q</a> <a id="5800" href="Games.FiniteHistoryDependent.html#5786" class="Bound">x</a> <a id="5802" class="Symbol">(</a><a id="5803" href="Games.FiniteHistoryDependent.html#4195" class="Function">strategic-path</a> <a id="5818" class="Symbol">(</a><a id="5819" href="Games.FiniteHistoryDependent.html#5733" class="Bound">σf</a> <a id="5822" href="Games.FiniteHistoryDependent.html#5786" class="Bound">x</a><a id="5823" class="Symbol">)))</a>

<a id="is-in-sgpe"></a><a id="5828" href="Games.FiniteHistoryDependent.html#5828" class="Function">is-in-sgpe</a> <a id="5839" class="Symbol">:</a> <a id="5841" class="Symbol">{</a><a id="5842" href="Games.FiniteHistoryDependent.html#5842" class="Bound">Xt</a> <a id="5845" class="Symbol">:</a> <a id="5847" href="Games.TypeTrees.html#719" class="Datatype">𝑻</a><a id="5848" class="Symbol">}</a> <a id="5850" class="Symbol">→</a> <a id="5852" href="Games.FiniteHistoryDependent.html#2364" class="Function">𝓚</a> <a id="5854" href="Games.FiniteHistoryDependent.html#5842" class="Bound">Xt</a> <a id="5857" class="Symbol">→</a> <a id="5859" class="Symbol">(</a><a id="5860" href="Games.TypeTrees.html#906" class="Function">Path</a> <a id="5865" href="Games.FiniteHistoryDependent.html#5842" class="Bound">Xt</a> <a id="5868" class="Symbol">→</a> <a id="5870" href="Games.FiniteHistoryDependent.html#1635" class="Bound">R</a><a id="5871" class="Symbol">)</a> <a id="5873" class="Symbol">→</a> <a id="5875" href="Games.FiniteHistoryDependent.html#3682" class="Function">Strategy</a> <a id="5884" href="Games.FiniteHistoryDependent.html#5842" class="Bound">Xt</a> <a id="5887" class="Symbol">→</a> <a id="5889" href="Notation.General.html#372" class="Function">Type</a>
<a id="5894" href="Games.FiniteHistoryDependent.html#5828" class="Function">is-in-sgpe</a> <a id="5905" class="Symbol">{</a><a id="5906" href="Games.TypeTrees.html#737" class="InductiveConstructor">[]</a><a id="5908" class="Symbol">}</a>     <a id="5914" href="Games.TypeTrees.html#1274" class="InductiveConstructor">⟨⟩</a>        <a id="5924" href="Games.FiniteHistoryDependent.html#5924" class="Bound">q</a> <a id="5926" href="Games.TypeTrees.html#1274" class="InductiveConstructor">⟨⟩</a>            <a id="5940" class="Symbol">=</a> <a id="5942" href="MLTT.Unit.html#129" class="Record">𝟙</a>
<a id="5944" href="Games.FiniteHistoryDependent.html#5828" class="Function">is-in-sgpe</a> <a id="5955" class="Symbol">{</a><a id="5956" href="Games.FiniteHistoryDependent.html#5956" class="Bound">X</a> <a id="5958" href="Games.TypeTrees.html#747" class="InductiveConstructor Operator">∷</a> <a id="5960" href="Games.FiniteHistoryDependent.html#5960" class="Bound">Xf</a><a id="5962" class="Symbol">}</a> <a id="5964" class="Symbol">(</a><a id="5965" href="Games.FiniteHistoryDependent.html#5965" class="Bound">ϕ</a> <a id="5967" href="Games.TypeTrees.html#1296" class="InductiveConstructor Operator">::</a> <a id="5970" href="Games.FiniteHistoryDependent.html#5970" class="Bound">ϕf</a><a id="5972" class="Symbol">)</a> <a id="5974" href="Games.FiniteHistoryDependent.html#5974" class="Bound">q</a> <a id="5976" href="Games.FiniteHistoryDependent.html#5976" class="Bound">σt</a><a id="5978" class="Symbol">@(</a><a id="5980" href="Games.FiniteHistoryDependent.html#5980" class="Bound">x₀</a> <a id="5983" href="Games.TypeTrees.html#1296" class="InductiveConstructor Operator">::</a> <a id="5986" href="Games.FiniteHistoryDependent.html#5986" class="Bound">σf</a><a id="5988" class="Symbol">)</a> <a id="5990" class="Symbol">=</a>
   <a id="5995" href="Games.FiniteHistoryDependent.html#5501" class="Function">is-in-equilibrium</a> <a id="6013" href="Games.FiniteHistoryDependent.html#5974" class="Bound">q</a> <a id="6015" href="Games.FiniteHistoryDependent.html#5965" class="Bound">ϕ</a> <a id="6017" href="Games.FiniteHistoryDependent.html#5976" class="Bound">σt</a>
 <a id="6021" href="MLTT.Sigma.html#558" class="Function Operator">×</a> <a id="6023" class="Symbol">((</a><a id="6025" href="Games.FiniteHistoryDependent.html#6025" class="Bound">x</a> <a id="6027" class="Symbol">:</a> <a id="6029" href="Games.FiniteHistoryDependent.html#5956" class="Bound">X</a><a id="6030" class="Symbol">)</a> <a id="6032" class="Symbol">→</a> <a id="6034" href="Games.FiniteHistoryDependent.html#5828" class="Function">is-in-sgpe</a> <a id="6045" class="Symbol">{</a><a id="6046" href="Games.FiniteHistoryDependent.html#5960" class="Bound">Xf</a> <a id="6049" href="Games.FiniteHistoryDependent.html#6025" class="Bound">x</a><a id="6050" class="Symbol">}</a> <a id="6052" class="Symbol">(</a><a id="6053" href="Games.FiniteHistoryDependent.html#5970" class="Bound">ϕf</a> <a id="6056" href="Games.FiniteHistoryDependent.html#6025" class="Bound">x</a><a id="6057" class="Symbol">)</a> <a id="6059" class="Symbol">(</a><a id="6060" href="Games.TypeTrees.html#1622" class="Function">subpred</a> <a id="6068" href="Games.FiniteHistoryDependent.html#5974" class="Bound">q</a> <a id="6070" href="Games.FiniteHistoryDependent.html#6025" class="Bound">x</a><a id="6071" class="Symbol">)</a> <a id="6073" class="Symbol">(</a><a id="6074" href="Games.FiniteHistoryDependent.html#5986" class="Bound">σf</a> <a id="6077" href="Games.FiniteHistoryDependent.html#6025" class="Bound">x</a><a id="6078" class="Symbol">))</a>

<a id="6082" class="Markup">\end{code}</a><a id="6092" class="Background">

In the above definition:

 * If the game tree is empty, then the strategy is empty, and we say
   that it is true that it is in sgpe, where &quot;true&quot; is represented by
   the unit type 𝟙 in propositions-as-types.

 * If the game tree has a root X followed by a forest Xf, then the
   strategy must be of the form x₀ :: σf, where x₀ is the first move
   according to the strategy, and where σf is a forest of strategies
   that depends on a deviation x.

   So the first part

     subpred q x₀ (strategic-path (σf x₀)) ＝ ϕ (λ x → subpred q x (strategic-path (σf x)))

   of the definition is as in the comment above, but with a partial
   play of length k=0, and the second (inductive) part, says that the
   substrategy σf x, for any deviation x, is in subgame perfect
   equilibrium in the subgame

     (Xf x , R , ϕf x , subpred q x).

As discussed above, we say that a strategy for a game is optimal if it
is in subgame perfect equilibrium.

</a><a id="7038" class="Markup">\begin{code}</a>

<a id="is-optimal"></a><a id="7052" href="Games.FiniteHistoryDependent.html#7052" class="Function">is-optimal</a> <a id="7063" class="Symbol">:</a> <a id="7065" class="Symbol">(</a><a id="7066" href="Games.FiniteHistoryDependent.html#7066" class="Bound">G</a> <a id="7068" class="Symbol">:</a> <a id="7070" href="Games.FiniteHistoryDependent.html#3132" class="Record">Game</a><a id="7074" class="Symbol">)</a> <a id="7076" class="Symbol">(</a><a id="7077" href="Games.FiniteHistoryDependent.html#7077" class="Bound">σ</a> <a id="7079" class="Symbol">:</a> <a id="7081" href="Games.FiniteHistoryDependent.html#3682" class="Function">Strategy</a> <a id="7090" class="Symbol">(</a><a id="7091" href="Games.FiniteHistoryDependent.html#3178" class="Field">Xt</a> <a id="7094" href="Games.FiniteHistoryDependent.html#7066" class="Bound">G</a><a id="7095" class="Symbol">))</a> <a id="7098" class="Symbol">→</a> <a id="7100" href="Notation.General.html#372" class="Function">Type</a>
<a id="7105" href="Games.FiniteHistoryDependent.html#7052" class="Function">is-optimal</a> <a id="7116" class="Symbol">(</a><a id="7117" href="Games.FiniteHistoryDependent.html#3164" class="InductiveConstructor">game</a> <a id="7122" href="Games.FiniteHistoryDependent.html#7122" class="Bound">Xt</a> <a id="7125" href="Games.FiniteHistoryDependent.html#7125" class="Bound">ϕt</a> <a id="7128" href="Games.FiniteHistoryDependent.html#7128" class="Bound">q</a><a id="7129" class="Symbol">)</a> <a id="7131" href="Games.FiniteHistoryDependent.html#7131" class="Bound">σ</a> <a id="7133" class="Symbol">=</a> <a id="7135" href="Games.FiniteHistoryDependent.html#5828" class="Function">is-in-sgpe</a> <a id="7146" class="Symbol">{</a><a id="7147" href="Games.FiniteHistoryDependent.html#7122" class="Bound">Xt</a><a id="7149" class="Symbol">}</a> <a id="7151" href="Games.FiniteHistoryDependent.html#7128" class="Bound">q</a> <a id="7153" href="Games.FiniteHistoryDependent.html#7125" class="Bound">ϕt</a> <a id="7156" href="Games.FiniteHistoryDependent.html#7131" class="Bound">σ</a>

<a id="7159" class="Markup">\end{code}</a><a id="7169" class="Background">

The main lemma is that the optimal outcome is the same thing as the
application of the outcome function to the path induced by a strategy
in perfect subgame equilibrium.

Remark. In the published paper [0] above, we use the terminology
`is-optimal` as above, but perhaps we should stick to subgame perfect
equilibrium for the terminology.

The following is Theorem 3.1 of reference [1].

</a><a id="7559" class="Markup">\begin{code}</a>

<a id="sgpe-lemma"></a><a id="7573" href="Games.FiniteHistoryDependent.html#7573" class="Function">sgpe-lemma</a> <a id="7584" class="Symbol">:</a> <a id="7586" href="UF.FunExt.html#1047" class="Function">Fun-Ext</a>
           <a id="7605" class="Symbol">→</a> <a id="7607" class="Symbol">(</a><a id="7608" href="Games.FiniteHistoryDependent.html#7608" class="Bound">Xt</a> <a id="7611" class="Symbol">:</a> <a id="7613" href="Games.TypeTrees.html#719" class="Datatype">𝑻</a><a id="7614" class="Symbol">)</a> <a id="7616" class="Symbol">(</a><a id="7617" href="Games.FiniteHistoryDependent.html#7617" class="Bound">ϕt</a> <a id="7620" class="Symbol">:</a> <a id="7622" href="Games.FiniteHistoryDependent.html#2364" class="Function">𝓚</a> <a id="7624" href="Games.FiniteHistoryDependent.html#7608" class="Bound">Xt</a><a id="7626" class="Symbol">)</a> <a id="7628" class="Symbol">(</a><a id="7629" href="Games.FiniteHistoryDependent.html#7629" class="Bound">q</a> <a id="7631" class="Symbol">:</a> <a id="7633" href="Games.TypeTrees.html#906" class="Function">Path</a> <a id="7638" href="Games.FiniteHistoryDependent.html#7608" class="Bound">Xt</a> <a id="7641" class="Symbol">→</a> <a id="7643" href="Games.FiniteHistoryDependent.html#1635" class="Bound">R</a><a id="7644" class="Symbol">)</a> <a id="7646" class="Symbol">(</a><a id="7647" href="Games.FiniteHistoryDependent.html#7647" class="Bound">σ</a> <a id="7649" class="Symbol">:</a> <a id="7651" href="Games.FiniteHistoryDependent.html#3682" class="Function">Strategy</a> <a id="7660" href="Games.FiniteHistoryDependent.html#7608" class="Bound">Xt</a><a id="7662" class="Symbol">)</a>
           <a id="7675" class="Symbol">→</a> <a id="7677" href="Games.FiniteHistoryDependent.html#5828" class="Function">is-in-sgpe</a> <a id="7688" href="Games.FiniteHistoryDependent.html#7617" class="Bound">ϕt</a> <a id="7691" href="Games.FiniteHistoryDependent.html#7629" class="Bound">q</a> <a id="7693" href="Games.FiniteHistoryDependent.html#7647" class="Bound">σ</a>
           <a id="7706" class="Symbol">→</a> <a id="7708" href="Games.FiniteHistoryDependent.html#7629" class="Bound">q</a> <a id="7710" class="Symbol">(</a><a id="7711" href="Games.FiniteHistoryDependent.html#4195" class="Function">strategic-path</a> <a id="7726" href="Games.FiniteHistoryDependent.html#7647" class="Bound">σ</a><a id="7727" class="Symbol">)</a> <a id="7729" href="MLTT.Id.html#193" class="Datatype Operator">＝</a> <a id="7731" href="Games.FiniteHistoryDependent.html#2857" class="Function">sequenceᴷ</a> <a id="7741" href="Games.FiniteHistoryDependent.html#7617" class="Bound">ϕt</a> <a id="7744" href="Games.FiniteHistoryDependent.html#7629" class="Bound">q</a>
<a id="7746" href="Games.FiniteHistoryDependent.html#7573" class="Function">sgpe-lemma</a> <a id="7757" href="Games.FiniteHistoryDependent.html#7757" class="Bound">fe</a> <a id="7760" href="Games.TypeTrees.html#737" class="InductiveConstructor">[]</a>       <a id="7769" href="Games.TypeTrees.html#1274" class="InductiveConstructor">⟨⟩</a>        <a id="7779" href="Games.FiniteHistoryDependent.html#7779" class="Bound">q</a> <a id="7781" href="Games.TypeTrees.html#1274" class="InductiveConstructor">⟨⟩</a>        <a id="7791" href="Games.TypeTrees.html#1274" class="InductiveConstructor">⟨⟩</a>       <a id="7800" class="Symbol">=</a> <a id="7802" href="MLTT.Identity-Type.html#157" class="InductiveConstructor">refl</a>
<a id="7807" href="Games.FiniteHistoryDependent.html#7573" class="Function">sgpe-lemma</a> <a id="7818" href="Games.FiniteHistoryDependent.html#7818" class="Bound">fe</a> <a id="7821" class="Symbol">(</a><a id="7822" href="Games.FiniteHistoryDependent.html#7822" class="Bound">X</a> <a id="7824" href="Games.TypeTrees.html#747" class="InductiveConstructor Operator">∷</a> <a id="7826" href="Games.FiniteHistoryDependent.html#7826" class="Bound">Xf</a><a id="7828" class="Symbol">)</a> <a id="7830" class="Symbol">(</a><a id="7831" href="Games.FiniteHistoryDependent.html#7831" class="Bound">ϕ</a> <a id="7833" href="Games.TypeTrees.html#1296" class="InductiveConstructor Operator">::</a> <a id="7836" href="Games.FiniteHistoryDependent.html#7836" class="Bound">ϕt</a><a id="7838" class="Symbol">)</a> <a id="7840" href="Games.FiniteHistoryDependent.html#7840" class="Bound">q</a> <a id="7842" class="Symbol">(</a><a id="7843" href="Games.FiniteHistoryDependent.html#7843" class="Bound">a</a> <a id="7845" href="Games.TypeTrees.html#1296" class="InductiveConstructor Operator">::</a> <a id="7848" href="Games.FiniteHistoryDependent.html#7848" class="Bound">σf</a><a id="7850" class="Symbol">)</a> <a id="7852" class="Symbol">(</a><a id="7853" href="Games.FiniteHistoryDependent.html#7853" class="Bound">h</a> <a id="7855" href="Games.TypeTrees.html#1296" class="InductiveConstructor Operator">::</a> <a id="7858" href="Games.FiniteHistoryDependent.html#7858" class="Bound">t</a><a id="7859" class="Symbol">)</a> <a id="7861" class="Symbol">=</a> <a id="7863" href="Games.FiniteHistoryDependent.html#8130" class="Function">γ</a>
 <a id="7866" class="Keyword">where</a>
  <a id="7874" href="Games.FiniteHistoryDependent.html#7874" class="Function">observation-t</a> <a id="7888" class="Symbol">:</a> <a id="7890" href="Notation.General.html#3219" class="Function">type-of</a> <a id="7898" href="Games.FiniteHistoryDependent.html#7858" class="Bound">t</a> <a id="7900" href="MLTT.Id.html#193" class="Datatype Operator">＝</a> <a id="7902" class="Symbol">((</a><a id="7904" href="Games.FiniteHistoryDependent.html#7904" class="Bound">x</a> <a id="7906" class="Symbol">:</a> <a id="7908" href="Games.FiniteHistoryDependent.html#7822" class="Bound">X</a><a id="7909" class="Symbol">)</a> <a id="7911" class="Symbol">→</a> <a id="7913" href="Games.FiniteHistoryDependent.html#5828" class="Function">is-in-sgpe</a> <a id="7924" class="Symbol">(</a><a id="7925" href="Games.FiniteHistoryDependent.html#7836" class="Bound">ϕt</a> <a id="7928" href="Games.FiniteHistoryDependent.html#7904" class="Bound">x</a><a id="7929" class="Symbol">)</a> <a id="7931" class="Symbol">(</a><a id="7932" href="Games.TypeTrees.html#1622" class="Function">subpred</a> <a id="7940" href="Games.FiniteHistoryDependent.html#7840" class="Bound">q</a> <a id="7942" href="Games.FiniteHistoryDependent.html#7904" class="Bound">x</a><a id="7943" class="Symbol">)</a> <a id="7945" class="Symbol">(</a><a id="7946" href="Games.FiniteHistoryDependent.html#7848" class="Bound">σf</a> <a id="7949" href="Games.FiniteHistoryDependent.html#7904" class="Bound">x</a><a id="7950" class="Symbol">))</a>
  <a id="7955" href="Games.FiniteHistoryDependent.html#7874" class="Function">observation-t</a> <a id="7969" class="Symbol">=</a> <a id="7971" href="MLTT.Identity-Type.html#157" class="InductiveConstructor">refl</a>

  <a id="7979" href="Games.FiniteHistoryDependent.html#7979" class="Function">IH</a> <a id="7982" class="Symbol">:</a> <a id="7984" class="Symbol">(</a><a id="7985" href="Games.FiniteHistoryDependent.html#7985" class="Bound">x</a> <a id="7987" class="Symbol">:</a> <a id="7989" href="Games.FiniteHistoryDependent.html#7822" class="Bound">X</a><a id="7990" class="Symbol">)</a> <a id="7992" class="Symbol">→</a> <a id="7994" href="Games.TypeTrees.html#1622" class="Function">subpred</a> <a id="8002" href="Games.FiniteHistoryDependent.html#7840" class="Bound">q</a> <a id="8004" href="Games.FiniteHistoryDependent.html#7985" class="Bound">x</a> <a id="8006" class="Symbol">(</a><a id="8007" href="Games.FiniteHistoryDependent.html#4195" class="Function">strategic-path</a> <a id="8022" class="Symbol">(</a><a id="8023" href="Games.FiniteHistoryDependent.html#7848" class="Bound">σf</a> <a id="8026" href="Games.FiniteHistoryDependent.html#7985" class="Bound">x</a><a id="8027" class="Symbol">))</a> <a id="8030" href="MLTT.Id.html#193" class="Datatype Operator">＝</a> <a id="8032" href="Games.FiniteHistoryDependent.html#2857" class="Function">sequenceᴷ</a> <a id="8042" class="Symbol">(</a><a id="8043" href="Games.FiniteHistoryDependent.html#7836" class="Bound">ϕt</a> <a id="8046" href="Games.FiniteHistoryDependent.html#7985" class="Bound">x</a><a id="8047" class="Symbol">)</a> <a id="8049" class="Symbol">(</a><a id="8050" href="Games.TypeTrees.html#1622" class="Function">subpred</a> <a id="8058" href="Games.FiniteHistoryDependent.html#7840" class="Bound">q</a> <a id="8060" href="Games.FiniteHistoryDependent.html#7985" class="Bound">x</a><a id="8061" class="Symbol">)</a>
  <a id="8065" href="Games.FiniteHistoryDependent.html#7979" class="Function">IH</a> <a id="8068" href="Games.FiniteHistoryDependent.html#8068" class="Bound">x</a> <a id="8070" class="Symbol">=</a> <a id="8072" href="Games.FiniteHistoryDependent.html#7573" class="Function">sgpe-lemma</a> <a id="8083" href="Games.FiniteHistoryDependent.html#7818" class="Bound">fe</a> <a id="8086" class="Symbol">(</a><a id="8087" href="Games.FiniteHistoryDependent.html#7826" class="Bound">Xf</a> <a id="8090" href="Games.FiniteHistoryDependent.html#8068" class="Bound">x</a><a id="8091" class="Symbol">)</a> <a id="8093" class="Symbol">(</a><a id="8094" href="Games.FiniteHistoryDependent.html#7836" class="Bound">ϕt</a> <a id="8097" href="Games.FiniteHistoryDependent.html#8068" class="Bound">x</a><a id="8098" class="Symbol">)</a> <a id="8100" class="Symbol">(</a><a id="8101" href="Games.TypeTrees.html#1622" class="Function">subpred</a> <a id="8109" href="Games.FiniteHistoryDependent.html#7840" class="Bound">q</a> <a id="8111" href="Games.FiniteHistoryDependent.html#8068" class="Bound">x</a><a id="8112" class="Symbol">)</a> <a id="8114" class="Symbol">(</a><a id="8115" href="Games.FiniteHistoryDependent.html#7848" class="Bound">σf</a> <a id="8118" href="Games.FiniteHistoryDependent.html#8068" class="Bound">x</a><a id="8119" class="Symbol">)</a> <a id="8121" class="Symbol">(</a><a id="8122" href="Games.FiniteHistoryDependent.html#7858" class="Bound">t</a> <a id="8124" href="Games.FiniteHistoryDependent.html#8068" class="Bound">x</a><a id="8125" class="Symbol">)</a>

  <a id="8130" href="Games.FiniteHistoryDependent.html#8130" class="Function">γ</a> <a id="8132" class="Symbol">=</a> <a id="8134" href="Games.TypeTrees.html#1622" class="Function">subpred</a> <a id="8142" href="Games.FiniteHistoryDependent.html#7840" class="Bound">q</a> <a id="8144" href="Games.FiniteHistoryDependent.html#7843" class="Bound">a</a> <a id="8146" class="Symbol">(</a><a id="8147" href="Games.FiniteHistoryDependent.html#4195" class="Function">strategic-path</a> <a id="8162" class="Symbol">(</a><a id="8163" href="Games.FiniteHistoryDependent.html#7848" class="Bound">σf</a> <a id="8166" href="Games.FiniteHistoryDependent.html#7843" class="Bound">a</a><a id="8167" class="Symbol">))</a>           <a id="8180" href="MLTT.Id.html#2705" class="Function Operator">＝⟨</a> <a id="8183" href="Games.FiniteHistoryDependent.html#7853" class="Bound">h</a> <a id="8185" href="MLTT.Id.html#2705" class="Function Operator">⟩</a>
      <a id="8193" href="Games.FiniteHistoryDependent.html#7831" class="Bound">ϕ</a> <a id="8195" class="Symbol">(λ</a> <a id="8198" href="Games.FiniteHistoryDependent.html#8198" class="Bound">x</a> <a id="8200" class="Symbol">→</a> <a id="8202" href="Games.TypeTrees.html#1622" class="Function">subpred</a> <a id="8210" href="Games.FiniteHistoryDependent.html#7840" class="Bound">q</a> <a id="8212" href="Games.FiniteHistoryDependent.html#8198" class="Bound">x</a> <a id="8214" class="Symbol">(</a><a id="8215" href="Games.FiniteHistoryDependent.html#4195" class="Function">strategic-path</a> <a id="8230" class="Symbol">(</a><a id="8231" href="Games.FiniteHistoryDependent.html#7848" class="Bound">σf</a> <a id="8234" href="Games.FiniteHistoryDependent.html#8198" class="Bound">x</a><a id="8235" class="Symbol">)))</a> <a id="8239" href="MLTT.Id.html#2705" class="Function Operator">＝⟨</a> <a id="8242" href="MLTT.Id.html#1136" class="Function">ap</a> <a id="8245" href="Games.FiniteHistoryDependent.html#7831" class="Bound">ϕ</a> <a id="8247" class="Symbol">(</a><a id="8248" href="UF.FunExt.html#1242" class="Function">dfunext</a> <a id="8256" href="Games.FiniteHistoryDependent.html#7818" class="Bound">fe</a> <a id="8259" href="Games.FiniteHistoryDependent.html#7979" class="Function">IH</a><a id="8261" class="Symbol">)</a> <a id="8263" href="MLTT.Id.html#2705" class="Function Operator">⟩</a>
      <a id="8271" href="Games.FiniteHistoryDependent.html#7831" class="Bound">ϕ</a> <a id="8273" class="Symbol">(λ</a> <a id="8276" href="Games.FiniteHistoryDependent.html#8276" class="Bound">x</a> <a id="8278" class="Symbol">→</a> <a id="8280" href="Games.FiniteHistoryDependent.html#2857" class="Function">sequenceᴷ</a> <a id="8290" class="Symbol">(</a><a id="8291" href="Games.FiniteHistoryDependent.html#7836" class="Bound">ϕt</a> <a id="8294" href="Games.FiniteHistoryDependent.html#8276" class="Bound">x</a><a id="8295" class="Symbol">)</a> <a id="8297" class="Symbol">(</a><a id="8298" href="Games.TypeTrees.html#1622" class="Function">subpred</a> <a id="8306" href="Games.FiniteHistoryDependent.html#7840" class="Bound">q</a> <a id="8308" href="Games.FiniteHistoryDependent.html#8276" class="Bound">x</a><a id="8309" class="Symbol">))</a>      <a id="8317" href="MLTT.Id.html#2787" class="Function Operator">∎</a>

<a id="8320" class="Markup">\end{code}</a><a id="8330" class="Background">

This can be reformulated as follows in terms of the type of games:

</a><a id="8400" class="Markup">\begin{code}</a>

<a id="optimality-theorem"></a><a id="8414" href="Games.FiniteHistoryDependent.html#8414" class="Function">optimality-theorem</a> <a id="8433" class="Symbol">:</a> <a id="8435" href="UF.FunExt.html#1047" class="Function">Fun-Ext</a>
                   <a id="8462" class="Symbol">→</a> <a id="8464" class="Symbol">(</a><a id="8465" href="Games.FiniteHistoryDependent.html#8465" class="Bound">G</a> <a id="8467" class="Symbol">:</a> <a id="8469" href="Games.FiniteHistoryDependent.html#3132" class="Record">Game</a><a id="8473" class="Symbol">)</a> <a id="8475" class="Symbol">(</a><a id="8476" href="Games.FiniteHistoryDependent.html#8476" class="Bound">σ</a> <a id="8478" class="Symbol">:</a> <a id="8480" href="Games.FiniteHistoryDependent.html#3682" class="Function">Strategy</a> <a id="8489" class="Symbol">(</a><a id="8490" href="Games.FiniteHistoryDependent.html#3178" class="Field">Xt</a> <a id="8493" href="Games.FiniteHistoryDependent.html#8465" class="Bound">G</a><a id="8494" class="Symbol">))</a>
                   <a id="8516" class="Symbol">→</a> <a id="8518" href="Games.FiniteHistoryDependent.html#7052" class="Function">is-optimal</a> <a id="8529" href="Games.FiniteHistoryDependent.html#8465" class="Bound">G</a> <a id="8531" href="Games.FiniteHistoryDependent.html#8476" class="Bound">σ</a>
                   <a id="8552" class="Symbol">→</a> <a id="8554" href="Games.FiniteHistoryDependent.html#3187" class="Field">q</a> <a id="8556" href="Games.FiniteHistoryDependent.html#8465" class="Bound">G</a> <a id="8558" class="Symbol">(</a><a id="8559" href="Games.FiniteHistoryDependent.html#4195" class="Function">strategic-path</a> <a id="8574" href="Games.FiniteHistoryDependent.html#8476" class="Bound">σ</a><a id="8575" class="Symbol">)</a> <a id="8577" href="MLTT.Id.html#193" class="Datatype Operator">＝</a> <a id="8579" href="Games.FiniteHistoryDependent.html#3488" class="Function">optimal-outcome</a> <a id="8595" href="Games.FiniteHistoryDependent.html#8465" class="Bound">G</a>
<a id="8597" href="Games.FiniteHistoryDependent.html#8414" class="Function">optimality-theorem</a> <a id="8616" href="Games.FiniteHistoryDependent.html#8616" class="Bound">fe</a> <a id="8619" class="Symbol">(</a><a id="8620" href="Games.FiniteHistoryDependent.html#3164" class="InductiveConstructor">game</a> <a id="8625" href="Games.FiniteHistoryDependent.html#8625" class="Bound">Xt</a> <a id="8628" href="Games.FiniteHistoryDependent.html#8628" class="Bound">ϕt</a> <a id="8631" href="Games.FiniteHistoryDependent.html#8631" class="Bound">q</a><a id="8632" class="Symbol">)</a> <a id="8634" class="Symbol">=</a> <a id="8636" href="Games.FiniteHistoryDependent.html#7573" class="Function">sgpe-lemma</a> <a id="8647" href="Games.FiniteHistoryDependent.html#8616" class="Bound">fe</a> <a id="8650" href="Games.FiniteHistoryDependent.html#8625" class="Bound">Xt</a> <a id="8653" href="Games.FiniteHistoryDependent.html#8631" class="Bound">q</a> <a id="8655" href="Games.FiniteHistoryDependent.html#8628" class="Bound">ϕt</a>

<a id="8659" class="Markup">\end{code}</a><a id="8669" class="Background">

We now show how to use selection functions to compute a sgpe strategy.

We use selection functions, as in Section 2 of reference [1], defined
in another module.

𝓙 assigns types of selection functions to the nodes.

</a><a id="8887" class="Markup">\begin{code}</a>

<a id="𝓙"></a><a id="8901" href="Games.FiniteHistoryDependent.html#8901" class="Function">𝓙</a> <a id="8903" class="Symbol">:</a> <a id="8905" href="Games.TypeTrees.html#719" class="Datatype">𝑻</a> <a id="8907" class="Symbol">→</a> <a id="8909" href="Notation.General.html#372" class="Function">Type</a>
<a id="8914" href="Games.FiniteHistoryDependent.html#8901" class="Function">𝓙</a> <a id="8916" class="Symbol">=</a> <a id="8918" href="Games.TypeTrees.html#2120" class="Function">structure</a> <a id="8928" href="MonadOnTypes.J.html#461" class="Function">J</a>

<a id="remark-𝓙"></a><a id="8931" href="Games.FiniteHistoryDependent.html#8931" class="Function">remark-𝓙</a> <a id="8940" class="Symbol">:</a> <a id="8942" class="Symbol">{</a><a id="8943" href="Games.FiniteHistoryDependent.html#8943" class="Bound">X</a> <a id="8945" class="Symbol">:</a> <a id="8947" href="Notation.General.html#372" class="Function">Type</a><a id="8951" class="Symbol">}</a> <a id="8953" class="Symbol">{</a><a id="8954" href="Games.FiniteHistoryDependent.html#8954" class="Bound">Xf</a> <a id="8957" class="Symbol">:</a> <a id="8959" href="Games.FiniteHistoryDependent.html#8943" class="Bound">X</a> <a id="8961" class="Symbol">→</a> <a id="8963" href="Games.TypeTrees.html#719" class="Datatype">𝑻</a><a id="8964" class="Symbol">}</a>
         <a id="8975" class="Symbol">→</a> <a id="8977" class="Symbol">(</a><a id="8978" href="Games.FiniteHistoryDependent.html#8901" class="Function">𝓙</a> <a id="8980" class="InductiveConstructor">[]</a> <a id="8983" href="MLTT.Id.html#193" class="Datatype Operator">＝</a> <a id="8985" href="MLTT.Unit.html#129" class="Record">𝟙</a><a id="8986" class="Symbol">)</a>
         <a id="8997" href="MLTT.Sigma.html#558" class="Function Operator">×</a> <a id="8999" class="Symbol">(</a><a id="9000" href="Games.FiniteHistoryDependent.html#8901" class="Function">𝓙</a> <a id="9002" class="Symbol">(</a><a id="9003" href="Games.FiniteHistoryDependent.html#8943" class="Bound">X</a> <a id="9005" class="InductiveConstructor Operator">∷</a> <a id="9007" href="Games.FiniteHistoryDependent.html#8954" class="Bound">Xf</a><a id="9009" class="Symbol">)</a> <a id="9011" href="MLTT.Id.html#193" class="Datatype Operator">＝</a> <a id="9013" href="MonadOnTypes.J.html#461" class="Function">J</a> <a id="9015" href="Games.FiniteHistoryDependent.html#8943" class="Bound">X</a> <a id="9017" href="MLTT.Sigma.html#558" class="Function Operator">×</a> <a id="9019" class="Symbol">((</a><a id="9021" href="Games.FiniteHistoryDependent.html#9021" class="Bound">x</a> <a id="9023" class="Symbol">:</a> <a id="9025" href="Games.FiniteHistoryDependent.html#8943" class="Bound">X</a><a id="9026" class="Symbol">)</a> <a id="9028" class="Symbol">→</a> <a id="9030" href="Games.FiniteHistoryDependent.html#8901" class="Function">𝓙</a> <a id="9032" class="Symbol">(</a><a id="9033" href="Games.FiniteHistoryDependent.html#8954" class="Bound">Xf</a> <a id="9036" href="Games.FiniteHistoryDependent.html#9021" class="Bound">x</a><a id="9037" class="Symbol">)))</a>
<a id="9041" href="Games.FiniteHistoryDependent.html#8931" class="Function">remark-𝓙</a> <a id="9050" class="Symbol">=</a> <a id="9052" href="MLTT.Identity-Type.html#157" class="InductiveConstructor">refl</a> <a id="9057" href="MLTT.Sigma.html#395" class="InductiveConstructor Operator">,</a> <a id="9059" href="MLTT.Identity-Type.html#157" class="InductiveConstructor">refl</a>

<a id="9065" class="Markup">\end{code}</a><a id="9075" class="Background">

 * ε ranges over the type J X of selection functions.
 * εt ranges over the type 𝓙 Xt of selection-function trees.
 * εf ranges over the type (x : X) → 𝓙 (Xf x) of selection-function forests.

Sequencing selection functions, as constructed in Definition 12 of
reference [1], but using our tree representation of games instead:

</a><a id="9405" class="Markup">\begin{code}</a>

<a id="sequenceᴶ"></a><a id="9419" href="Games.FiniteHistoryDependent.html#9419" class="Function">sequenceᴶ</a> <a id="9429" class="Symbol">:</a> <a id="9431" class="Symbol">{</a><a id="9432" href="Games.FiniteHistoryDependent.html#9432" class="Bound">Xt</a> <a id="9435" class="Symbol">:</a> <a id="9437" href="Games.TypeTrees.html#719" class="Datatype">𝑻</a><a id="9438" class="Symbol">}</a> <a id="9440" class="Symbol">→</a> <a id="9442" href="Games.FiniteHistoryDependent.html#8901" class="Function">𝓙</a> <a id="9444" href="Games.FiniteHistoryDependent.html#9432" class="Bound">Xt</a> <a id="9447" class="Symbol">→</a> <a id="9449" href="MonadOnTypes.J.html#461" class="Function">J</a> <a id="9451" class="Symbol">(</a><a id="9452" href="Games.TypeTrees.html#906" class="Function">Path</a> <a id="9457" href="Games.FiniteHistoryDependent.html#9432" class="Bound">Xt</a><a id="9459" class="Symbol">)</a>
<a id="9461" href="Games.FiniteHistoryDependent.html#9419" class="Function">sequenceᴶ</a> <a id="9471" class="Symbol">=</a> <a id="9473" href="Games.TypeTrees.html#3789" class="Function">path-sequence</a> <a id="9487" class="Symbol">(</a><a id="9488" href="MonadOnTypes.J.html#206" class="Function">𝕁</a> <a id="9490" href="Games.FiniteHistoryDependent.html#1635" class="Bound">R</a><a id="9491" class="Symbol">)</a>

<a id="9494" class="Markup">\end{code}</a><a id="9504" class="Background">

The following, which defines a strategy from given selection
functions, is defined in Theorem 5.4 of [1], with the difference that
here, for the moment, we consider only single-valued quantifiers.

</a><a id="9704" class="Markup">\begin{code}</a>

<a id="selection-strategy"></a><a id="9718" href="Games.FiniteHistoryDependent.html#9718" class="Function">selection-strategy</a> <a id="9737" class="Symbol">:</a> <a id="9739" class="Symbol">{</a><a id="9740" href="Games.FiniteHistoryDependent.html#9740" class="Bound">Xt</a> <a id="9743" class="Symbol">:</a> <a id="9745" href="Games.TypeTrees.html#719" class="Datatype">𝑻</a><a id="9746" class="Symbol">}</a> <a id="9748" class="Symbol">→</a> <a id="9750" href="Games.FiniteHistoryDependent.html#8901" class="Function">𝓙</a> <a id="9752" href="Games.FiniteHistoryDependent.html#9740" class="Bound">Xt</a> <a id="9755" class="Symbol">→</a> <a id="9757" class="Symbol">(</a><a id="9758" href="Games.TypeTrees.html#906" class="Function">Path</a> <a id="9763" href="Games.FiniteHistoryDependent.html#9740" class="Bound">Xt</a> <a id="9766" class="Symbol">→</a> <a id="9768" href="Games.FiniteHistoryDependent.html#1635" class="Bound">R</a><a id="9769" class="Symbol">)</a> <a id="9771" class="Symbol">→</a> <a id="9773" href="Games.FiniteHistoryDependent.html#3682" class="Function">Strategy</a> <a id="9782" href="Games.FiniteHistoryDependent.html#9740" class="Bound">Xt</a>
<a id="9785" href="Games.FiniteHistoryDependent.html#9718" class="Function">selection-strategy</a> <a id="9804" class="Symbol">{</a><a id="9805" href="Games.TypeTrees.html#737" class="InductiveConstructor">[]</a><a id="9807" class="Symbol">}</a>     <a id="9813" href="Games.TypeTrees.html#1274" class="InductiveConstructor">⟨⟩</a>           <a id="9826" href="Games.FiniteHistoryDependent.html#9826" class="Bound">q</a> <a id="9828" class="Symbol">=</a> <a id="9830" href="Games.TypeTrees.html#1274" class="InductiveConstructor">⟨⟩</a>
<a id="9833" href="Games.FiniteHistoryDependent.html#9718" class="Function">selection-strategy</a> <a id="9852" class="Symbol">{</a><a id="9853" href="Games.FiniteHistoryDependent.html#9853" class="Bound">X</a> <a id="9855" href="Games.TypeTrees.html#747" class="InductiveConstructor Operator">∷</a> <a id="9857" href="Games.FiniteHistoryDependent.html#9857" class="Bound">Xf</a><a id="9859" class="Symbol">}</a> <a id="9861" href="Games.FiniteHistoryDependent.html#9861" class="Bound">εt</a><a id="9863" class="Symbol">@(</a><a id="9865" href="Games.FiniteHistoryDependent.html#9865" class="Bound">ε</a> <a id="9867" href="Games.TypeTrees.html#1296" class="InductiveConstructor Operator">::</a> <a id="9870" href="Games.FiniteHistoryDependent.html#9870" class="Bound">εf</a><a id="9872" class="Symbol">)</a> <a id="9874" href="Games.FiniteHistoryDependent.html#9874" class="Bound">q</a> <a id="9876" class="Symbol">=</a> <a id="9878" href="Games.FiniteHistoryDependent.html#9940" class="Function">x₀</a> <a id="9881" href="Games.TypeTrees.html#1296" class="InductiveConstructor Operator">::</a> <a id="9884" href="Games.FiniteHistoryDependent.html#9970" class="Function">σf</a>
 <a id="9888" class="Keyword">where</a>
  <a id="9896" href="Games.FiniteHistoryDependent.html#9896" class="Function">xs</a> <a id="9899" class="Symbol">:</a> <a id="9901" href="Games.TypeTrees.html#906" class="Function">Path</a> <a id="9906" class="Symbol">(</a><a id="9907" href="Games.FiniteHistoryDependent.html#9853" class="Bound">X</a> <a id="9909" href="Games.TypeTrees.html#747" class="InductiveConstructor Operator">∷</a> <a id="9911" href="Games.FiniteHistoryDependent.html#9857" class="Bound">Xf</a><a id="9913" class="Symbol">)</a>
  <a id="9917" href="Games.FiniteHistoryDependent.html#9896" class="Function">xs</a> <a id="9920" class="Symbol">=</a> <a id="9922" href="Games.FiniteHistoryDependent.html#9419" class="Function">sequenceᴶ</a> <a id="9932" href="Games.FiniteHistoryDependent.html#9861" class="Bound">εt</a> <a id="9935" href="Games.FiniteHistoryDependent.html#9874" class="Bound">q</a>

  <a id="9940" href="Games.FiniteHistoryDependent.html#9940" class="Function">x₀</a> <a id="9943" class="Symbol">:</a> <a id="9945" href="Games.FiniteHistoryDependent.html#9853" class="Bound">X</a>
  <a id="9949" href="Games.FiniteHistoryDependent.html#9940" class="Function">x₀</a> <a id="9952" class="Symbol">=</a> <a id="9954" href="Games.TypeTrees.html#1318" class="Function">path-head</a> <a id="9964" href="Games.FiniteHistoryDependent.html#9896" class="Function">xs</a>

  <a id="9970" href="Games.FiniteHistoryDependent.html#9970" class="Function">σf</a> <a id="9973" class="Symbol">:</a> <a id="9975" class="Symbol">(</a><a id="9976" href="Games.FiniteHistoryDependent.html#9976" class="Bound">x</a> <a id="9978" class="Symbol">:</a> <a id="9980" href="Games.FiniteHistoryDependent.html#9853" class="Bound">X</a><a id="9981" class="Symbol">)</a> <a id="9983" class="Symbol">→</a> <a id="9985" href="Games.FiniteHistoryDependent.html#3682" class="Function">Strategy</a> <a id="9994" class="Symbol">(</a><a id="9995" href="Games.FiniteHistoryDependent.html#9857" class="Bound">Xf</a> <a id="9998" href="Games.FiniteHistoryDependent.html#9976" class="Bound">x</a><a id="9999" class="Symbol">)</a>
  <a id="10003" href="Games.FiniteHistoryDependent.html#9970" class="Function">σf</a> <a id="10006" href="Games.FiniteHistoryDependent.html#10006" class="Bound">x</a> <a id="10008" class="Symbol">=</a> <a id="10010" href="Games.FiniteHistoryDependent.html#9718" class="Function">selection-strategy</a> <a id="10029" class="Symbol">{</a><a id="10030" href="Games.FiniteHistoryDependent.html#9857" class="Bound">Xf</a> <a id="10033" href="Games.FiniteHistoryDependent.html#10006" class="Bound">x</a><a id="10034" class="Symbol">}</a> <a id="10036" class="Symbol">(</a><a id="10037" href="Games.FiniteHistoryDependent.html#9870" class="Bound">εf</a> <a id="10040" href="Games.FiniteHistoryDependent.html#10006" class="Bound">x</a><a id="10041" class="Symbol">)</a> <a id="10043" class="Symbol">(</a><a id="10044" href="Games.TypeTrees.html#1622" class="Function">subpred</a> <a id="10052" href="Games.FiniteHistoryDependent.html#9874" class="Bound">q</a> <a id="10054" href="Games.FiniteHistoryDependent.html#10006" class="Bound">x</a><a id="10055" class="Symbol">)</a>

<a id="10058" class="Markup">\end{code}</a><a id="10068" class="Background">

We convert a selection function into a quantifier as in Definition 10
of [1], using the function overline, defined in another module.

The work with the definition of a selection function being a selection
function for a quantifier as in Section 1 on [1], defined in another
module.

We generalize it to selection-function and quantifier trees in the
obvious way, by induction:

</a><a id="10449" class="Markup">\begin{code}</a>

<a id="10463" class="Keyword">open</a> <a id="10468" href="MonadOnTypes.JK.html#215" class="Module">JK</a> <a id="10471" href="Games.FiniteHistoryDependent.html#1635" class="Bound">R</a>

<a id="_Attains_"></a><a id="10474" href="Games.FiniteHistoryDependent.html#10474" class="Function Operator">_Attains_</a> <a id="10484" class="Symbol">:</a> <a id="10486" class="Symbol">{</a><a id="10487" href="Games.FiniteHistoryDependent.html#10487" class="Bound">Xt</a> <a id="10490" class="Symbol">:</a> <a id="10492" href="Games.TypeTrees.html#719" class="Datatype">𝑻</a><a id="10493" class="Symbol">}</a> <a id="10495" class="Symbol">→</a> <a id="10497" href="Games.FiniteHistoryDependent.html#8901" class="Function">𝓙</a> <a id="10499" href="Games.FiniteHistoryDependent.html#10487" class="Bound">Xt</a> <a id="10502" class="Symbol">→</a> <a id="10504" href="Games.FiniteHistoryDependent.html#2364" class="Function">𝓚</a> <a id="10506" href="Games.FiniteHistoryDependent.html#10487" class="Bound">Xt</a> <a id="10509" class="Symbol">→</a> <a id="10511" href="Notation.General.html#372" class="Function">Type</a>
<a id="10516" href="Games.FiniteHistoryDependent.html#10474" class="Function Operator">_Attains_</a> <a id="10526" class="Symbol">{</a><a id="10527" href="Games.TypeTrees.html#737" class="InductiveConstructor">[]</a><a id="10529" class="Symbol">}</a>     <a id="10535" href="Games.TypeTrees.html#1274" class="InductiveConstructor">⟨⟩</a>        <a id="10545" href="Games.TypeTrees.html#1274" class="InductiveConstructor">⟨⟩</a>        <a id="10555" class="Symbol">=</a> <a id="10557" href="MLTT.Unit.html#129" class="Record">𝟙</a>
<a id="10559" href="Games.FiniteHistoryDependent.html#10474" class="Function Operator">_Attains_</a> <a id="10569" class="Symbol">{</a><a id="10570" href="Games.FiniteHistoryDependent.html#10570" class="Bound">X</a> <a id="10572" href="Games.TypeTrees.html#747" class="InductiveConstructor Operator">∷</a> <a id="10574" href="Games.FiniteHistoryDependent.html#10574" class="Bound">Xf</a><a id="10576" class="Symbol">}</a> <a id="10578" class="Symbol">(</a><a id="10579" href="Games.FiniteHistoryDependent.html#10579" class="Bound">ε</a> <a id="10581" href="Games.TypeTrees.html#1296" class="InductiveConstructor Operator">::</a> <a id="10584" href="Games.FiniteHistoryDependent.html#10584" class="Bound">εf</a><a id="10586" class="Symbol">)</a> <a id="10588" class="Symbol">(</a><a id="10589" href="Games.FiniteHistoryDependent.html#10589" class="Bound">ϕ</a> <a id="10591" href="Games.TypeTrees.html#1296" class="InductiveConstructor Operator">::</a> <a id="10594" href="Games.FiniteHistoryDependent.html#10594" class="Bound">ϕf</a><a id="10596" class="Symbol">)</a> <a id="10598" class="Symbol">=</a> <a id="10600" class="Symbol">(</a><a id="10601" href="Games.FiniteHistoryDependent.html#10579" class="Bound">ε</a> <a id="10603" href="MonadOnTypes.JK.html#555" class="Function Operator">attains</a> <a id="10611" href="Games.FiniteHistoryDependent.html#10589" class="Bound">ϕ</a><a id="10612" class="Symbol">)</a>
                                       <a id="10653" href="MLTT.Sigma.html#558" class="Function Operator">×</a> <a id="10655" class="Symbol">((</a><a id="10657" href="Games.FiniteHistoryDependent.html#10657" class="Bound">x</a> <a id="10659" class="Symbol">:</a> <a id="10661" href="Games.FiniteHistoryDependent.html#10570" class="Bound">X</a><a id="10662" class="Symbol">)</a> <a id="10664" class="Symbol">→</a> <a id="10666" class="Symbol">(</a><a id="10667" href="Games.FiniteHistoryDependent.html#10584" class="Bound">εf</a> <a id="10670" href="Games.FiniteHistoryDependent.html#10657" class="Bound">x</a><a id="10671" class="Symbol">)</a> <a id="10673" href="Games.FiniteHistoryDependent.html#10474" class="Function Operator">Attains</a> <a id="10681" class="Symbol">(</a><a id="10682" href="Games.FiniteHistoryDependent.html#10594" class="Bound">ϕf</a> <a id="10685" href="Games.FiniteHistoryDependent.html#10657" class="Bound">x</a><a id="10686" class="Symbol">))</a>

<a id="10690" class="Markup">\end{code}</a><a id="10700" class="Background">

The following is the application of overline to each selection
function of a tree:

</a><a id="10786" class="Markup">\begin{code}</a>

<a id="Overline"></a><a id="10800" href="Games.FiniteHistoryDependent.html#10800" class="Function">Overline</a> <a id="10809" class="Symbol">:</a> <a id="10811" class="Symbol">{</a><a id="10812" href="Games.FiniteHistoryDependent.html#10812" class="Bound">Xt</a> <a id="10815" class="Symbol">:</a> <a id="10817" href="Games.TypeTrees.html#719" class="Datatype">𝑻</a><a id="10818" class="Symbol">}</a> <a id="10820" class="Symbol">→</a> <a id="10822" href="Games.FiniteHistoryDependent.html#8901" class="Function">𝓙</a> <a id="10824" href="Games.FiniteHistoryDependent.html#10812" class="Bound">Xt</a> <a id="10827" class="Symbol">→</a> <a id="10829" href="Games.FiniteHistoryDependent.html#2364" class="Function">𝓚</a> <a id="10831" href="Games.FiniteHistoryDependent.html#10812" class="Bound">Xt</a>
<a id="10834" href="Games.FiniteHistoryDependent.html#10800" class="Function">Overline</a> <a id="10843" class="Symbol">{</a><a id="10844" href="Games.TypeTrees.html#737" class="InductiveConstructor">[]</a><a id="10846" class="Symbol">}</a>     <a id="10852" href="Games.TypeTrees.html#1274" class="InductiveConstructor">⟨⟩</a>        <a id="10862" class="Symbol">=</a> <a id="10864" href="Games.TypeTrees.html#1274" class="InductiveConstructor">⟨⟩</a>
<a id="10867" href="Games.FiniteHistoryDependent.html#10800" class="Function">Overline</a> <a id="10876" class="Symbol">{</a><a id="10877" href="Games.FiniteHistoryDependent.html#10877" class="Bound">X</a> <a id="10879" href="Games.TypeTrees.html#747" class="InductiveConstructor Operator">∷</a> <a id="10881" href="Games.FiniteHistoryDependent.html#10881" class="Bound">Xf</a><a id="10883" class="Symbol">}</a> <a id="10885" class="Symbol">(</a><a id="10886" href="Games.FiniteHistoryDependent.html#10886" class="Bound">ε</a> <a id="10888" href="Games.TypeTrees.html#1296" class="InductiveConstructor Operator">::</a> <a id="10891" href="Games.FiniteHistoryDependent.html#10891" class="Bound">εf</a><a id="10893" class="Symbol">)</a> <a id="10895" class="Symbol">=</a> <a id="10897" href="MonadOnTypes.JK.html#282" class="Function">overline</a> <a id="10906" href="Games.FiniteHistoryDependent.html#10886" class="Bound">ε</a> <a id="10908" href="Games.TypeTrees.html#1296" class="InductiveConstructor Operator">::</a> <a id="10911" class="Symbol">(λ</a> <a id="10914" href="Games.FiniteHistoryDependent.html#10914" class="Bound">x</a> <a id="10916" class="Symbol">→</a> <a id="10918" href="Games.FiniteHistoryDependent.html#10800" class="Function">Overline</a> <a id="10927" class="Symbol">{</a><a id="10928" href="Games.FiniteHistoryDependent.html#10881" class="Bound">Xf</a> <a id="10931" href="Games.FiniteHistoryDependent.html#10914" class="Bound">x</a><a id="10932" class="Symbol">}</a> <a id="10934" class="Symbol">(</a><a id="10935" href="Games.FiniteHistoryDependent.html#10891" class="Bound">εf</a> <a id="10938" href="Games.FiniteHistoryDependent.html#10914" class="Bound">x</a><a id="10939" class="Symbol">))</a>

<a id="10943" class="Markup">\end{code}</a><a id="10953" class="Background">

The following is proved by straightforward induction on trees:

</a><a id="11019" class="Markup">\begin{code}</a>

<a id="observation"></a><a id="11033" href="Games.FiniteHistoryDependent.html#11033" class="Function">observation</a> <a id="11045" class="Symbol">:</a> <a id="11047" href="UF.FunExt.html#1047" class="Function">Fun-Ext</a>
            <a id="11067" class="Symbol">→</a> <a id="11069" class="Symbol">{</a><a id="11070" href="Games.FiniteHistoryDependent.html#11070" class="Bound">Xt</a> <a id="11073" class="Symbol">:</a> <a id="11075" href="Games.TypeTrees.html#719" class="Datatype">𝑻</a><a id="11076" class="Symbol">}</a> <a id="11078" class="Symbol">(</a><a id="11079" href="Games.FiniteHistoryDependent.html#11079" class="Bound">εt</a> <a id="11082" class="Symbol">:</a> <a id="11084" href="Games.FiniteHistoryDependent.html#8901" class="Function">𝓙</a> <a id="11086" href="Games.FiniteHistoryDependent.html#11070" class="Bound">Xt</a><a id="11088" class="Symbol">)</a> <a id="11090" class="Symbol">(</a><a id="11091" href="Games.FiniteHistoryDependent.html#11091" class="Bound">ϕt</a> <a id="11094" class="Symbol">:</a> <a id="11096" href="Games.FiniteHistoryDependent.html#2364" class="Function">𝓚</a> <a id="11098" href="Games.FiniteHistoryDependent.html#11070" class="Bound">Xt</a><a id="11100" class="Symbol">)</a>
            <a id="11114" class="Symbol">→</a> <a id="11116" href="Games.FiniteHistoryDependent.html#11079" class="Bound">εt</a> <a id="11119" href="Games.FiniteHistoryDependent.html#10474" class="Function Operator">Attains</a> <a id="11127" href="Games.FiniteHistoryDependent.html#11091" class="Bound">ϕt</a>
            <a id="11142" class="Symbol">→</a> <a id="11144" href="Games.FiniteHistoryDependent.html#10800" class="Function">Overline</a> <a id="11153" href="Games.FiniteHistoryDependent.html#11079" class="Bound">εt</a> <a id="11156" href="MLTT.Id.html#193" class="Datatype Operator">＝</a> <a id="11158" href="Games.FiniteHistoryDependent.html#11091" class="Bound">ϕt</a>
<a id="11161" href="Games.FiniteHistoryDependent.html#11033" class="Function">observation</a> <a id="11173" href="Games.FiniteHistoryDependent.html#11173" class="Bound">fe</a> <a id="11176" class="Symbol">{</a><a id="11177" href="Games.TypeTrees.html#737" class="InductiveConstructor">[]</a><a id="11179" class="Symbol">}</a>     <a id="11185" href="Games.TypeTrees.html#1274" class="InductiveConstructor">⟨⟩</a>        <a id="11195" href="Games.TypeTrees.html#1274" class="InductiveConstructor">⟨⟩</a>        <a id="11205" href="Games.TypeTrees.html#1274" class="InductiveConstructor">⟨⟩</a>        <a id="11215" class="Symbol">=</a> <a id="11217" href="MLTT.Identity-Type.html#157" class="InductiveConstructor">refl</a>
<a id="11222" href="Games.FiniteHistoryDependent.html#11033" class="Function">observation</a> <a id="11234" href="Games.FiniteHistoryDependent.html#11234" class="Bound">fe</a> <a id="11237" class="Symbol">{</a><a id="11238" href="Games.FiniteHistoryDependent.html#11238" class="Bound">X</a> <a id="11240" href="Games.TypeTrees.html#747" class="InductiveConstructor Operator">∷</a> <a id="11242" href="Games.FiniteHistoryDependent.html#11242" class="Bound">Xf</a><a id="11244" class="Symbol">}</a> <a id="11246" class="Symbol">(</a><a id="11247" href="Games.FiniteHistoryDependent.html#11247" class="Bound">ε</a> <a id="11249" href="Games.TypeTrees.html#1296" class="InductiveConstructor Operator">::</a> <a id="11252" href="Games.FiniteHistoryDependent.html#11252" class="Bound">εf</a><a id="11254" class="Symbol">)</a> <a id="11256" class="Symbol">(</a><a id="11257" href="Games.FiniteHistoryDependent.html#11257" class="Bound">ϕ</a> <a id="11259" href="Games.TypeTrees.html#1296" class="InductiveConstructor Operator">::</a> <a id="11262" href="Games.FiniteHistoryDependent.html#11262" class="Bound">ϕf</a><a id="11264" class="Symbol">)</a> <a id="11266" class="Symbol">(</a><a id="11267" href="Games.FiniteHistoryDependent.html#11267" class="Bound">a</a> <a id="11269" href="Games.TypeTrees.html#1296" class="InductiveConstructor Operator">::</a> <a id="11272" href="Games.FiniteHistoryDependent.html#11272" class="Bound">af</a><a id="11274" class="Symbol">)</a> <a id="11276" class="Symbol">=</a> <a id="11278" href="Games.FiniteHistoryDependent.html#11481" class="Function">γ</a>
 <a id="11281" class="Keyword">where</a>
  <a id="11289" href="Games.FiniteHistoryDependent.html#11289" class="Function">IH</a> <a id="11292" class="Symbol">:</a> <a id="11294" class="Symbol">(</a><a id="11295" href="Games.FiniteHistoryDependent.html#11295" class="Bound">x</a> <a id="11297" class="Symbol">:</a> <a id="11299" href="Games.FiniteHistoryDependent.html#11238" class="Bound">X</a><a id="11300" class="Symbol">)</a> <a id="11302" class="Symbol">→</a> <a id="11304" href="Games.FiniteHistoryDependent.html#10800" class="Function">Overline</a> <a id="11313" class="Symbol">(</a><a id="11314" href="Games.FiniteHistoryDependent.html#11252" class="Bound">εf</a> <a id="11317" href="Games.FiniteHistoryDependent.html#11295" class="Bound">x</a><a id="11318" class="Symbol">)</a> <a id="11320" href="MLTT.Id.html#193" class="Datatype Operator">＝</a> <a id="11322" href="Games.FiniteHistoryDependent.html#11262" class="Bound">ϕf</a> <a id="11325" href="Games.FiniteHistoryDependent.html#11295" class="Bound">x</a>
  <a id="11329" href="Games.FiniteHistoryDependent.html#11289" class="Function">IH</a> <a id="11332" href="Games.FiniteHistoryDependent.html#11332" class="Bound">x</a> <a id="11334" class="Symbol">=</a> <a id="11336" href="Games.FiniteHistoryDependent.html#11033" class="Function">observation</a> <a id="11348" href="Games.FiniteHistoryDependent.html#11234" class="Bound">fe</a> <a id="11351" class="Symbol">{</a><a id="11352" href="Games.FiniteHistoryDependent.html#11242" class="Bound">Xf</a> <a id="11355" href="Games.FiniteHistoryDependent.html#11332" class="Bound">x</a><a id="11356" class="Symbol">}</a> <a id="11358" class="Symbol">(</a><a id="11359" href="Games.FiniteHistoryDependent.html#11252" class="Bound">εf</a> <a id="11362" href="Games.FiniteHistoryDependent.html#11332" class="Bound">x</a><a id="11363" class="Symbol">)</a> <a id="11365" class="Symbol">(</a><a id="11366" href="Games.FiniteHistoryDependent.html#11262" class="Bound">ϕf</a> <a id="11369" href="Games.FiniteHistoryDependent.html#11332" class="Bound">x</a><a id="11370" class="Symbol">)</a> <a id="11372" class="Symbol">(</a><a id="11373" href="Games.FiniteHistoryDependent.html#11272" class="Bound">af</a> <a id="11376" href="Games.FiniteHistoryDependent.html#11332" class="Bound">x</a><a id="11377" class="Symbol">)</a>

  <a id="11382" href="Games.FiniteHistoryDependent.html#11382" class="Function">I</a> <a id="11384" class="Symbol">:</a> <a id="11386" href="MonadOnTypes.JK.html#282" class="Function">overline</a> <a id="11395" href="Games.FiniteHistoryDependent.html#11247" class="Bound">ε</a> <a id="11397" href="MLTT.Id.html#193" class="Datatype Operator">＝</a> <a id="11399" href="Games.FiniteHistoryDependent.html#11257" class="Bound">ϕ</a>
  <a id="11403" href="Games.FiniteHistoryDependent.html#11382" class="Function">I</a> <a id="11405" class="Symbol">=</a> <a id="11407" href="UF.FunExt.html#1242" class="Function">dfunext</a> <a id="11415" href="Games.FiniteHistoryDependent.html#11234" class="Bound">fe</a> <a id="11418" href="Games.FiniteHistoryDependent.html#11267" class="Bound">a</a>

  <a id="11423" href="Games.FiniteHistoryDependent.html#11423" class="Function">II</a> <a id="11426" class="Symbol">:</a> <a id="11428" class="Symbol">(λ</a> <a id="11431" href="Games.FiniteHistoryDependent.html#11431" class="Bound">x</a> <a id="11433" class="Symbol">→</a> <a id="11435" href="Games.FiniteHistoryDependent.html#10800" class="Function">Overline</a> <a id="11444" class="Symbol">(</a><a id="11445" href="Games.FiniteHistoryDependent.html#11252" class="Bound">εf</a> <a id="11448" href="Games.FiniteHistoryDependent.html#11431" class="Bound">x</a><a id="11449" class="Symbol">))</a> <a id="11452" href="MLTT.Id.html#193" class="Datatype Operator">＝</a> <a id="11454" href="Games.FiniteHistoryDependent.html#11262" class="Bound">ϕf</a>
  <a id="11459" href="Games.FiniteHistoryDependent.html#11423" class="Function">II</a> <a id="11462" class="Symbol">=</a> <a id="11464" href="UF.FunExt.html#1242" class="Function">dfunext</a> <a id="11472" href="Games.FiniteHistoryDependent.html#11234" class="Bound">fe</a> <a id="11475" href="Games.FiniteHistoryDependent.html#11289" class="Function">IH</a>

  <a id="11481" href="Games.FiniteHistoryDependent.html#11481" class="Function">γ</a> <a id="11483" class="Symbol">:</a> <a id="11485" href="MonadOnTypes.JK.html#282" class="Function">overline</a> <a id="11494" href="Games.FiniteHistoryDependent.html#11247" class="Bound">ε</a> <a id="11496" href="Games.TypeTrees.html#1296" class="InductiveConstructor Operator">::</a> <a id="11499" class="Symbol">(λ</a> <a id="11502" href="Games.FiniteHistoryDependent.html#11502" class="Bound">x</a> <a id="11504" class="Symbol">→</a> <a id="11506" href="Games.FiniteHistoryDependent.html#10800" class="Function">Overline</a> <a id="11515" class="Symbol">(</a><a id="11516" href="Games.FiniteHistoryDependent.html#11252" class="Bound">εf</a> <a id="11519" href="Games.FiniteHistoryDependent.html#11502" class="Bound">x</a><a id="11520" class="Symbol">))</a> <a id="11523" href="MLTT.Id.html#193" class="Datatype Operator">＝</a> <a id="11525" href="Games.FiniteHistoryDependent.html#11257" class="Bound">ϕ</a> <a id="11527" href="Games.TypeTrees.html#1296" class="InductiveConstructor Operator">::</a> <a id="11530" href="Games.FiniteHistoryDependent.html#11262" class="Bound">ϕf</a>
  <a id="11535" href="Games.FiniteHistoryDependent.html#11481" class="Function">γ</a> <a id="11537" class="Symbol">=</a> <a id="11539" href="UF.Base.html#8182" class="Function">ap₂</a> <a id="11543" href="Games.TypeTrees.html#1296" class="InductiveConstructor Operator">_::_</a> <a id="11548" href="Games.FiniteHistoryDependent.html#11382" class="Function">I</a> <a id="11550" href="Games.FiniteHistoryDependent.html#11423" class="Function">II</a>

<a id="observation-converse"></a><a id="11554" href="Games.FiniteHistoryDependent.html#11554" class="Function">observation-converse</a> <a id="11575" class="Symbol">:</a> <a id="11577" class="Symbol">{</a><a id="11578" href="Games.FiniteHistoryDependent.html#11578" class="Bound">Xt</a> <a id="11581" class="Symbol">:</a> <a id="11583" href="Games.TypeTrees.html#719" class="Datatype">𝑻</a><a id="11584" class="Symbol">}</a> <a id="11586" class="Symbol">(</a><a id="11587" href="Games.FiniteHistoryDependent.html#11587" class="Bound">εt</a> <a id="11590" class="Symbol">:</a> <a id="11592" href="Games.FiniteHistoryDependent.html#8901" class="Function">𝓙</a> <a id="11594" href="Games.FiniteHistoryDependent.html#11578" class="Bound">Xt</a><a id="11596" class="Symbol">)</a> <a id="11598" class="Symbol">(</a><a id="11599" href="Games.FiniteHistoryDependent.html#11599" class="Bound">ϕt</a> <a id="11602" class="Symbol">:</a> <a id="11604" href="Games.FiniteHistoryDependent.html#2364" class="Function">𝓚</a> <a id="11606" href="Games.FiniteHistoryDependent.html#11578" class="Bound">Xt</a><a id="11608" class="Symbol">)</a>
                     <a id="11631" class="Symbol">→</a> <a id="11633" href="Games.FiniteHistoryDependent.html#10800" class="Function">Overline</a> <a id="11642" href="Games.FiniteHistoryDependent.html#11587" class="Bound">εt</a> <a id="11645" href="MLTT.Id.html#193" class="Datatype Operator">＝</a> <a id="11647" href="Games.FiniteHistoryDependent.html#11599" class="Bound">ϕt</a>
                     <a id="11671" class="Symbol">→</a> <a id="11673" href="Games.FiniteHistoryDependent.html#11587" class="Bound">εt</a> <a id="11676" href="Games.FiniteHistoryDependent.html#10474" class="Function Operator">Attains</a> <a id="11684" href="Games.FiniteHistoryDependent.html#11599" class="Bound">ϕt</a>
<a id="11687" href="Games.FiniteHistoryDependent.html#11554" class="Function">observation-converse</a> <a id="11708" class="Symbol">{</a><a id="11709" href="Games.TypeTrees.html#737" class="InductiveConstructor">[]</a><a id="11711" class="Symbol">}</a>     <a id="11717" href="Games.FiniteHistoryDependent.html#11717" class="Bound">εt</a> <a id="11720" href="Games.FiniteHistoryDependent.html#11720" class="Bound">ϕt</a> <a id="11723" href="Games.FiniteHistoryDependent.html#11723" class="Bound">p</a> <a id="11725" class="Symbol">=</a> <a id="11727" href="Games.TypeTrees.html#1274" class="InductiveConstructor">⟨⟩</a>
<a id="11730" href="Games.FiniteHistoryDependent.html#11554" class="Function">observation-converse</a> <a id="11751" class="Symbol">{</a><a id="11752" href="Games.FiniteHistoryDependent.html#11752" class="Bound">X</a> <a id="11754" href="Games.TypeTrees.html#747" class="InductiveConstructor Operator">∷</a> <a id="11756" href="Games.FiniteHistoryDependent.html#11756" class="Bound">Xf</a><a id="11758" class="Symbol">}</a> <a id="11760" class="Symbol">(</a><a id="11761" href="Games.FiniteHistoryDependent.html#11761" class="Bound">ε</a> <a id="11763" href="Games.TypeTrees.html#1296" class="InductiveConstructor Operator">::</a> <a id="11766" href="Games.FiniteHistoryDependent.html#11766" class="Bound">εf</a><a id="11768" class="Symbol">)</a>
                     <a id="11791" class="Symbol">(</a><a id="11792" class="DottedPattern Symbol">.(λ</a> <a id="11796" href="Games.FiniteHistoryDependent.html#11796" class="DottedPattern Bound">p</a> <a id="11798" class="Symbol">→</a> <a id="11800" href="Games.FiniteHistoryDependent.html#11796" class="DottedPattern Bound">p</a> <a id="11802" class="DottedPattern Symbol">(</a><a id="11803" href="Games.FiniteHistoryDependent.html#11761" class="DottedPattern Bound">ε</a> <a id="11805" href="Games.FiniteHistoryDependent.html#11796" class="DottedPattern Bound">p</a><a id="11806" class="DottedPattern Symbol">))</a> <a id="11809" href="Games.TypeTrees.html#1296" class="InductiveConstructor Operator">::</a> <a id="11812" class="DottedPattern Symbol">.(λ</a> <a id="11816" href="Games.FiniteHistoryDependent.html#11816" class="DottedPattern Bound">x</a> <a id="11818" class="Symbol">→</a> <a id="11820" href="Games.FiniteHistoryDependent.html#10800" class="DottedPattern Function">Overline</a> <a id="11829" class="DottedPattern Symbol">(</a><a id="11830" href="Games.FiniteHistoryDependent.html#11766" class="DottedPattern Bound">εf</a> <a id="11833" href="Games.FiniteHistoryDependent.html#11816" class="DottedPattern Bound">x</a><a id="11834" class="DottedPattern Symbol">))</a><a id="11836" class="Symbol">)</a> <a id="11838" href="MLTT.Identity-Type.html#157" class="InductiveConstructor">refl</a> <a id="11843" class="Symbol">=</a>
 <a id="11846" class="Symbol">(λ</a> <a id="11849" href="Games.FiniteHistoryDependent.html#11849" class="Bound">x</a> <a id="11851" class="Symbol">→</a> <a id="11853" href="MLTT.Identity-Type.html#157" class="InductiveConstructor">refl</a><a id="11857" class="Symbol">)</a> <a id="11859" href="Games.TypeTrees.html#1296" class="InductiveConstructor Operator">::</a> <a id="11862" class="Symbol">(λ</a> <a id="11865" href="Games.FiniteHistoryDependent.html#11865" class="Bound">x</a> <a id="11867" class="Symbol">→</a> <a id="11869" href="Games.FiniteHistoryDependent.html#11554" class="Function">observation-converse</a> <a id="11890" class="Symbol">(</a><a id="11891" href="Games.FiniteHistoryDependent.html#11766" class="Bound">εf</a> <a id="11894" href="Games.FiniteHistoryDependent.html#11865" class="Bound">x</a><a id="11895" class="Symbol">)</a> <a id="11897" class="Symbol">(</a><a id="11898" href="Games.FiniteHistoryDependent.html#10800" class="Function">Overline</a> <a id="11907" class="Symbol">(</a><a id="11908" href="Games.FiniteHistoryDependent.html#11766" class="Bound">εf</a> <a id="11911" href="Games.FiniteHistoryDependent.html#11865" class="Bound">x</a><a id="11912" class="Symbol">))</a> <a id="11915" href="MLTT.Identity-Type.html#157" class="InductiveConstructor">refl</a><a id="11919" class="Symbol">)</a>

<a id="11922" class="Markup">\end{code}</a><a id="11932" class="Background">

Notice that the converse is also true, that is, if Overline εt ＝ ϕt
then εt are selections of ϕt, but we don&#39;t need this fact here.

</a><a id="12067" class="Markup">\begin{code}</a>

<a id="main-lemma"></a><a id="12081" href="Games.FiniteHistoryDependent.html#12081" class="Function">main-lemma</a> <a id="12092" class="Symbol">:</a> <a id="12094" class="Symbol">{</a><a id="12095" href="Games.FiniteHistoryDependent.html#12095" class="Bound">Xt</a> <a id="12098" class="Symbol">:</a> <a id="12100" href="Games.TypeTrees.html#719" class="Datatype">𝑻</a><a id="12101" class="Symbol">}</a> <a id="12103" class="Symbol">(</a><a id="12104" href="Games.FiniteHistoryDependent.html#12104" class="Bound">εt</a> <a id="12107" class="Symbol">:</a> <a id="12109" href="Games.FiniteHistoryDependent.html#8901" class="Function">𝓙</a> <a id="12111" href="Games.FiniteHistoryDependent.html#12095" class="Bound">Xt</a><a id="12113" class="Symbol">)</a> <a id="12115" class="Symbol">(</a><a id="12116" href="Games.FiniteHistoryDependent.html#12116" class="Bound">q</a> <a id="12118" class="Symbol">:</a> <a id="12120" href="Games.TypeTrees.html#906" class="Function">Path</a> <a id="12125" href="Games.FiniteHistoryDependent.html#12095" class="Bound">Xt</a> <a id="12128" class="Symbol">→</a> <a id="12130" href="Games.FiniteHistoryDependent.html#1635" class="Bound">R</a><a id="12131" class="Symbol">)</a>
           <a id="12144" class="Symbol">→</a> <a id="12146" href="Games.FiniteHistoryDependent.html#4195" class="Function">strategic-path</a> <a id="12161" class="Symbol">(</a><a id="12162" href="Games.FiniteHistoryDependent.html#9718" class="Function">selection-strategy</a> <a id="12181" href="Games.FiniteHistoryDependent.html#12104" class="Bound">εt</a> <a id="12184" href="Games.FiniteHistoryDependent.html#12116" class="Bound">q</a><a id="12185" class="Symbol">)</a>
           <a id="12198" href="MLTT.Id.html#193" class="Datatype Operator">＝</a> <a id="12200" href="Games.FiniteHistoryDependent.html#9419" class="Function">sequenceᴶ</a> <a id="12210" href="Games.FiniteHistoryDependent.html#12104" class="Bound">εt</a> <a id="12213" href="Games.FiniteHistoryDependent.html#12116" class="Bound">q</a>
<a id="12215" href="Games.FiniteHistoryDependent.html#12081" class="Function">main-lemma</a> <a id="12226" class="Symbol">{</a><a id="12227" href="Games.TypeTrees.html#737" class="InductiveConstructor">[]</a><a id="12229" class="Symbol">}</a>     <a id="12235" href="Games.TypeTrees.html#1274" class="InductiveConstructor">⟨⟩</a>           <a id="12248" href="Games.FiniteHistoryDependent.html#12248" class="Bound">q</a> <a id="12250" class="Symbol">=</a> <a id="12252" href="MLTT.Identity-Type.html#157" class="InductiveConstructor">refl</a>
<a id="12257" href="Games.FiniteHistoryDependent.html#12081" class="Function">main-lemma</a> <a id="12268" class="Symbol">{</a><a id="12269" href="Games.FiniteHistoryDependent.html#12269" class="Bound">X</a> <a id="12271" href="Games.TypeTrees.html#747" class="InductiveConstructor Operator">∷</a> <a id="12273" href="Games.FiniteHistoryDependent.html#12273" class="Bound">Xf</a><a id="12275" class="Symbol">}</a> <a id="12277" href="Games.FiniteHistoryDependent.html#12277" class="Bound">εt</a><a id="12279" class="Symbol">@(</a><a id="12281" href="Games.FiniteHistoryDependent.html#12281" class="Bound">ε</a> <a id="12283" href="Games.TypeTrees.html#1296" class="InductiveConstructor Operator">::</a> <a id="12286" href="Games.FiniteHistoryDependent.html#12286" class="Bound">εf</a><a id="12288" class="Symbol">)</a> <a id="12290" href="Games.FiniteHistoryDependent.html#12290" class="Bound">q</a> <a id="12292" class="Symbol">=</a>
 <a id="12295" href="Games.FiniteHistoryDependent.html#4195" class="Function">strategic-path</a> <a id="12310" class="Symbol">(</a><a id="12311" href="Games.FiniteHistoryDependent.html#9718" class="Function">selection-strategy</a> <a id="12330" class="Symbol">(</a><a id="12331" href="Games.FiniteHistoryDependent.html#12281" class="Bound">ε</a> <a id="12333" href="Games.TypeTrees.html#1296" class="InductiveConstructor Operator">::</a> <a id="12336" href="Games.FiniteHistoryDependent.html#12286" class="Bound">εf</a><a id="12338" class="Symbol">)</a> <a id="12340" href="Games.FiniteHistoryDependent.html#12290" class="Bound">q</a><a id="12341" class="Symbol">)</a> <a id="12343" href="MLTT.Id.html#2705" class="Function Operator">＝⟨</a> <a id="12346" href="MLTT.Identity-Type.html#157" class="InductiveConstructor">refl</a> <a id="12351" href="MLTT.Id.html#2705" class="Function Operator">⟩</a>
 <a id="12354" href="Games.FiniteHistoryDependent.html#12734" class="Function">x₀</a> <a id="12357" href="Games.TypeTrees.html#1296" class="InductiveConstructor Operator">::</a> <a id="12360" href="Games.FiniteHistoryDependent.html#4195" class="Function">strategic-path</a> <a id="12375" class="Symbol">(</a><a id="12376" href="Games.FiniteHistoryDependent.html#12779" class="Function">σf</a> <a id="12379" href="Games.FiniteHistoryDependent.html#12734" class="Function">x₀</a><a id="12381" class="Symbol">)</a>                    <a id="12402" href="MLTT.Id.html#2705" class="Function Operator">＝⟨</a> <a id="12405" href="MLTT.Id.html#1136" class="Function">ap</a> <a id="12408" class="Symbol">(</a><a id="12409" href="Games.FiniteHistoryDependent.html#12734" class="Function">x₀</a> <a id="12412" href="Games.TypeTrees.html#1296" class="InductiveConstructor Operator">::_</a><a id="12415" class="Symbol">)</a> <a id="12417" href="Games.FiniteHistoryDependent.html#12869" class="Function">IH</a> <a id="12420" href="MLTT.Id.html#2705" class="Function Operator">⟩</a>
 <a id="12423" href="Games.FiniteHistoryDependent.html#12734" class="Function">x₀</a> <a id="12426" href="Games.TypeTrees.html#1296" class="InductiveConstructor Operator">::</a> <a id="12429" href="Games.FiniteHistoryDependent.html#9419" class="Function">sequenceᴶ</a> <a id="12439" class="Symbol">{</a><a id="12440" href="Games.FiniteHistoryDependent.html#12273" class="Bound">Xf</a> <a id="12443" href="Games.FiniteHistoryDependent.html#12734" class="Function">x₀</a><a id="12445" class="Symbol">}</a> <a id="12447" class="Symbol">(</a><a id="12448" href="Games.FiniteHistoryDependent.html#12286" class="Bound">εf</a> <a id="12451" href="Games.FiniteHistoryDependent.html#12734" class="Function">x₀</a><a id="12453" class="Symbol">)</a> <a id="12455" class="Symbol">(</a><a id="12456" href="Games.TypeTrees.html#1622" class="Function">subpred</a> <a id="12464" href="Games.FiniteHistoryDependent.html#12290" class="Bound">q</a> <a id="12466" href="Games.FiniteHistoryDependent.html#12734" class="Function">x₀</a><a id="12468" class="Symbol">)</a>  <a id="12471" href="MLTT.Id.html#2705" class="Function Operator">＝⟨</a> <a id="12474" href="MLTT.Identity-Type.html#157" class="InductiveConstructor">refl</a> <a id="12479" href="MLTT.Id.html#2705" class="Function Operator">⟩</a>
 <a id="12482" href="Games.FiniteHistoryDependent.html#12734" class="Function">x₀</a> <a id="12485" href="Games.TypeTrees.html#1296" class="InductiveConstructor Operator">::</a> <a id="12488" href="Games.FiniteHistoryDependent.html#12659" class="Function">ν</a> <a id="12490" href="Games.FiniteHistoryDependent.html#12734" class="Function">x₀</a>                                      <a id="12530" href="MLTT.Id.html#2705" class="Function Operator">＝⟨</a> <a id="12533" href="MLTT.Identity-Type.html#157" class="InductiveConstructor">refl</a> <a id="12538" href="MLTT.Id.html#2705" class="Function Operator">⟩</a>
 <a id="12541" class="Symbol">(</a><a id="12542" href="Games.FiniteHistoryDependent.html#12281" class="Bound">ε</a> <a id="12544" href="MonadOnTypes.J.html#498" class="Function Operator">⊗ᴶ</a> <a id="12547" class="Symbol">(λ</a> <a id="12550" href="Games.FiniteHistoryDependent.html#12550" class="Bound">x</a> <a id="12552" class="Symbol">→</a> <a id="12554" href="Games.FiniteHistoryDependent.html#9419" class="Function">sequenceᴶ</a> <a id="12564" class="Symbol">{</a><a id="12565" href="Games.FiniteHistoryDependent.html#12273" class="Bound">Xf</a> <a id="12568" href="Games.FiniteHistoryDependent.html#12550" class="Bound">x</a><a id="12569" class="Symbol">}</a> <a id="12571" class="Symbol">(</a><a id="12572" href="Games.FiniteHistoryDependent.html#12286" class="Bound">εf</a> <a id="12575" href="Games.FiniteHistoryDependent.html#12550" class="Bound">x</a><a id="12576" class="Symbol">)))</a> <a id="12580" href="Games.FiniteHistoryDependent.html#12290" class="Bound">q</a>        <a id="12589" href="MLTT.Id.html#2705" class="Function Operator">＝⟨</a> <a id="12592" href="MLTT.Identity-Type.html#157" class="InductiveConstructor">refl</a> <a id="12597" href="MLTT.Id.html#2705" class="Function Operator">⟩</a>
 <a id="12600" href="Games.FiniteHistoryDependent.html#9419" class="Function">sequenceᴶ</a> <a id="12610" class="Symbol">(</a><a id="12611" href="Games.FiniteHistoryDependent.html#12281" class="Bound">ε</a> <a id="12613" href="Games.TypeTrees.html#1296" class="InductiveConstructor Operator">::</a> <a id="12616" href="Games.FiniteHistoryDependent.html#12286" class="Bound">εf</a><a id="12618" class="Symbol">)</a> <a id="12620" href="Games.FiniteHistoryDependent.html#12290" class="Bound">q</a>                           <a id="12648" href="MLTT.Id.html#2787" class="Function Operator">∎</a>
 <a id="12651" class="Keyword">where</a>
  <a id="12659" href="Games.FiniteHistoryDependent.html#12659" class="Function">ν</a> <a id="12661" class="Symbol">:</a> <a id="12663" class="Symbol">(</a><a id="12664" href="Games.FiniteHistoryDependent.html#12664" class="Bound">x</a> <a id="12666" class="Symbol">:</a> <a id="12668" href="Games.FiniteHistoryDependent.html#12269" class="Bound">X</a><a id="12669" class="Symbol">)</a> <a id="12671" class="Symbol">→</a> <a id="12673" href="Games.TypeTrees.html#906" class="Function">Path</a> <a id="12678" class="Symbol">(</a><a id="12679" href="Games.FiniteHistoryDependent.html#12273" class="Bound">Xf</a> <a id="12682" href="Games.FiniteHistoryDependent.html#12664" class="Bound">x</a><a id="12683" class="Symbol">)</a>
  <a id="12687" href="Games.FiniteHistoryDependent.html#12659" class="Function">ν</a> <a id="12689" href="Games.FiniteHistoryDependent.html#12689" class="Bound">x</a> <a id="12691" class="Symbol">=</a> <a id="12693" href="Games.FiniteHistoryDependent.html#9419" class="Function">sequenceᴶ</a> <a id="12703" class="Symbol">{</a><a id="12704" href="Games.FiniteHistoryDependent.html#12273" class="Bound">Xf</a> <a id="12707" href="Games.FiniteHistoryDependent.html#12689" class="Bound">x</a><a id="12708" class="Symbol">}</a> <a id="12710" class="Symbol">(</a><a id="12711" href="Games.FiniteHistoryDependent.html#12286" class="Bound">εf</a> <a id="12714" href="Games.FiniteHistoryDependent.html#12689" class="Bound">x</a><a id="12715" class="Symbol">)</a> <a id="12717" class="Symbol">(</a><a id="12718" href="Games.TypeTrees.html#1622" class="Function">subpred</a> <a id="12726" href="Games.FiniteHistoryDependent.html#12290" class="Bound">q</a> <a id="12728" href="Games.FiniteHistoryDependent.html#12689" class="Bound">x</a><a id="12729" class="Symbol">)</a>

  <a id="12734" href="Games.FiniteHistoryDependent.html#12734" class="Function">x₀</a> <a id="12737" class="Symbol">:</a> <a id="12739" href="Games.FiniteHistoryDependent.html#12269" class="Bound">X</a>
  <a id="12743" href="Games.FiniteHistoryDependent.html#12734" class="Function">x₀</a> <a id="12746" class="Symbol">=</a> <a id="12748" href="Games.FiniteHistoryDependent.html#12281" class="Bound">ε</a> <a id="12750" class="Symbol">(λ</a> <a id="12753" href="Games.FiniteHistoryDependent.html#12753" class="Bound">x</a> <a id="12755" class="Symbol">→</a> <a id="12757" href="Games.TypeTrees.html#1622" class="Function">subpred</a> <a id="12765" href="Games.FiniteHistoryDependent.html#12290" class="Bound">q</a> <a id="12767" href="Games.FiniteHistoryDependent.html#12753" class="Bound">x</a> <a id="12769" class="Symbol">(</a><a id="12770" href="Games.FiniteHistoryDependent.html#12659" class="Function">ν</a> <a id="12772" href="Games.FiniteHistoryDependent.html#12753" class="Bound">x</a><a id="12773" class="Symbol">))</a>

  <a id="12779" href="Games.FiniteHistoryDependent.html#12779" class="Function">σf</a> <a id="12782" class="Symbol">:</a> <a id="12784" class="Symbol">(</a><a id="12785" href="Games.FiniteHistoryDependent.html#12785" class="Bound">x</a> <a id="12787" class="Symbol">:</a> <a id="12789" href="Games.FiniteHistoryDependent.html#12269" class="Bound">X</a><a id="12790" class="Symbol">)</a> <a id="12792" class="Symbol">→</a> <a id="12794" href="Games.FiniteHistoryDependent.html#3682" class="Function">Strategy</a> <a id="12803" class="Symbol">(</a><a id="12804" href="Games.FiniteHistoryDependent.html#12273" class="Bound">Xf</a> <a id="12807" href="Games.FiniteHistoryDependent.html#12785" class="Bound">x</a><a id="12808" class="Symbol">)</a>
  <a id="12812" href="Games.FiniteHistoryDependent.html#12779" class="Function">σf</a> <a id="12815" href="Games.FiniteHistoryDependent.html#12815" class="Bound">x</a> <a id="12817" class="Symbol">=</a> <a id="12819" href="Games.FiniteHistoryDependent.html#9718" class="Function">selection-strategy</a> <a id="12838" class="Symbol">{</a><a id="12839" href="Games.FiniteHistoryDependent.html#12273" class="Bound">Xf</a> <a id="12842" href="Games.FiniteHistoryDependent.html#12815" class="Bound">x</a><a id="12843" class="Symbol">}</a> <a id="12845" class="Symbol">(</a><a id="12846" href="Games.FiniteHistoryDependent.html#12286" class="Bound">εf</a> <a id="12849" href="Games.FiniteHistoryDependent.html#12815" class="Bound">x</a><a id="12850" class="Symbol">)</a> <a id="12852" class="Symbol">(</a><a id="12853" href="Games.TypeTrees.html#1622" class="Function">subpred</a> <a id="12861" href="Games.FiniteHistoryDependent.html#12290" class="Bound">q</a> <a id="12863" href="Games.FiniteHistoryDependent.html#12815" class="Bound">x</a><a id="12864" class="Symbol">)</a>

  <a id="12869" href="Games.FiniteHistoryDependent.html#12869" class="Function">IH</a> <a id="12872" class="Symbol">:</a> <a id="12874" href="Games.FiniteHistoryDependent.html#4195" class="Function">strategic-path</a> <a id="12889" class="Symbol">(</a><a id="12890" href="Games.FiniteHistoryDependent.html#12779" class="Function">σf</a> <a id="12893" href="Games.FiniteHistoryDependent.html#12734" class="Function">x₀</a><a id="12895" class="Symbol">)</a> <a id="12897" href="MLTT.Id.html#193" class="Datatype Operator">＝</a> <a id="12899" href="Games.FiniteHistoryDependent.html#9419" class="Function">sequenceᴶ</a> <a id="12909" class="Symbol">{</a><a id="12910" href="Games.FiniteHistoryDependent.html#12273" class="Bound">Xf</a> <a id="12913" href="Games.FiniteHistoryDependent.html#12734" class="Function">x₀</a><a id="12915" class="Symbol">}</a> <a id="12917" class="Symbol">(</a><a id="12918" href="Games.FiniteHistoryDependent.html#12286" class="Bound">εf</a> <a id="12921" href="Games.FiniteHistoryDependent.html#12734" class="Function">x₀</a><a id="12923" class="Symbol">)</a> <a id="12925" class="Symbol">(</a><a id="12926" href="Games.TypeTrees.html#1622" class="Function">subpred</a> <a id="12934" href="Games.FiniteHistoryDependent.html#12290" class="Bound">q</a> <a id="12936" href="Games.FiniteHistoryDependent.html#12734" class="Function">x₀</a><a id="12938" class="Symbol">)</a>
  <a id="12942" href="Games.FiniteHistoryDependent.html#12869" class="Function">IH</a> <a id="12945" class="Symbol">=</a> <a id="12947" href="Games.FiniteHistoryDependent.html#12081" class="Function">main-lemma</a> <a id="12958" class="Symbol">(</a><a id="12959" href="Games.FiniteHistoryDependent.html#12286" class="Bound">εf</a> <a id="12962" href="Games.FiniteHistoryDependent.html#12734" class="Function">x₀</a><a id="12964" class="Symbol">)</a> <a id="12966" class="Symbol">(</a><a id="12967" href="Games.TypeTrees.html#1622" class="Function">subpred</a> <a id="12975" href="Games.FiniteHistoryDependent.html#12290" class="Bound">q</a> <a id="12977" href="Games.FiniteHistoryDependent.html#12734" class="Function">x₀</a><a id="12979" class="Symbol">)</a>

<a id="selection-strategy-lemma"></a><a id="12982" href="Games.FiniteHistoryDependent.html#12982" class="Function">selection-strategy-lemma</a> <a id="13007" class="Symbol">:</a> <a id="13009" href="UF.FunExt.html#1047" class="Function">Fun-Ext</a>
                         <a id="13042" class="Symbol">→</a> <a id="13044" class="Symbol">{</a><a id="13045" href="Games.FiniteHistoryDependent.html#13045" class="Bound">Xt</a> <a id="13048" class="Symbol">:</a> <a id="13050" href="Games.TypeTrees.html#719" class="Datatype">𝑻</a><a id="13051" class="Symbol">}</a> <a id="13053" class="Symbol">(</a><a id="13054" href="Games.FiniteHistoryDependent.html#13054" class="Bound">εt</a> <a id="13057" class="Symbol">:</a> <a id="13059" href="Games.FiniteHistoryDependent.html#8901" class="Function">𝓙</a> <a id="13061" href="Games.FiniteHistoryDependent.html#13045" class="Bound">Xt</a><a id="13063" class="Symbol">)</a> <a id="13065" class="Symbol">(</a><a id="13066" href="Games.FiniteHistoryDependent.html#13066" class="Bound">q</a> <a id="13068" class="Symbol">:</a> <a id="13070" href="Games.TypeTrees.html#906" class="Function">Path</a> <a id="13075" href="Games.FiniteHistoryDependent.html#13045" class="Bound">Xt</a> <a id="13078" class="Symbol">→</a> <a id="13080" href="Games.FiniteHistoryDependent.html#1635" class="Bound">R</a><a id="13081" class="Symbol">)</a>
                         <a id="13108" class="Symbol">→</a> <a id="13110" href="Games.FiniteHistoryDependent.html#5828" class="Function">is-in-sgpe</a> <a id="13121" class="Symbol">(</a><a id="13122" href="Games.FiniteHistoryDependent.html#10800" class="Function">Overline</a> <a id="13131" href="Games.FiniteHistoryDependent.html#13054" class="Bound">εt</a><a id="13133" class="Symbol">)</a> <a id="13135" href="Games.FiniteHistoryDependent.html#13066" class="Bound">q</a> <a id="13137" class="Symbol">(</a><a id="13138" href="Games.FiniteHistoryDependent.html#9718" class="Function">selection-strategy</a> <a id="13157" href="Games.FiniteHistoryDependent.html#13054" class="Bound">εt</a> <a id="13160" href="Games.FiniteHistoryDependent.html#13066" class="Bound">q</a><a id="13161" class="Symbol">)</a>
<a id="13163" href="Games.FiniteHistoryDependent.html#12982" class="Function">selection-strategy-lemma</a> <a id="13188" href="Games.FiniteHistoryDependent.html#13188" class="Bound">fe</a> <a id="13191" class="Symbol">{</a><a id="13192" href="Games.TypeTrees.html#737" class="InductiveConstructor">[]</a><a id="13194" class="Symbol">}</a>     <a id="13200" href="Games.TypeTrees.html#1274" class="InductiveConstructor">⟨⟩</a>           <a id="13213" href="Games.FiniteHistoryDependent.html#13213" class="Bound">q</a> <a id="13215" class="Symbol">=</a> <a id="13217" href="Games.TypeTrees.html#1274" class="InductiveConstructor">⟨⟩</a>
<a id="13220" href="Games.FiniteHistoryDependent.html#12982" class="Function">selection-strategy-lemma</a> <a id="13245" href="Games.FiniteHistoryDependent.html#13245" class="Bound">fe</a> <a id="13248" class="Symbol">{</a><a id="13249" href="Games.FiniteHistoryDependent.html#13249" class="Bound">X</a> <a id="13251" href="Games.TypeTrees.html#747" class="InductiveConstructor Operator">∷</a> <a id="13253" href="Games.FiniteHistoryDependent.html#13253" class="Bound">Xf</a><a id="13255" class="Symbol">}</a> <a id="13257" href="Games.FiniteHistoryDependent.html#13257" class="Bound">εt</a><a id="13259" class="Symbol">@(</a><a id="13261" href="Games.FiniteHistoryDependent.html#13261" class="Bound">ε</a> <a id="13263" href="Games.TypeTrees.html#1296" class="InductiveConstructor Operator">::</a> <a id="13266" href="Games.FiniteHistoryDependent.html#13266" class="Bound">εf</a><a id="13268" class="Symbol">)</a> <a id="13270" href="Games.FiniteHistoryDependent.html#13270" class="Bound">q</a> <a id="13272" class="Symbol">=</a> <a id="13274" href="Games.FiniteHistoryDependent.html#14182" class="Function">γ</a>
 <a id="13277" class="Keyword">where</a>
  <a id="13285" href="Games.FiniteHistoryDependent.html#13285" class="Function">σf</a> <a id="13288" class="Symbol">:</a> <a id="13290" class="Symbol">(</a><a id="13291" href="Games.FiniteHistoryDependent.html#13291" class="Bound">x</a> <a id="13293" class="Symbol">:</a> <a id="13295" href="Games.FiniteHistoryDependent.html#13249" class="Bound">X</a><a id="13296" class="Symbol">)</a> <a id="13298" class="Symbol">→</a> <a id="13300" href="Games.FiniteHistoryDependent.html#3682" class="Function">Strategy</a> <a id="13309" class="Symbol">(</a><a id="13310" href="Games.FiniteHistoryDependent.html#13253" class="Bound">Xf</a> <a id="13313" href="Games.FiniteHistoryDependent.html#13291" class="Bound">x</a><a id="13314" class="Symbol">)</a>
  <a id="13318" href="Games.FiniteHistoryDependent.html#13285" class="Function">σf</a> <a id="13321" href="Games.FiniteHistoryDependent.html#13321" class="Bound">x</a> <a id="13323" class="Symbol">=</a> <a id="13325" href="Games.FiniteHistoryDependent.html#9718" class="Function">selection-strategy</a> <a id="13344" class="Symbol">(</a><a id="13345" href="Games.FiniteHistoryDependent.html#13266" class="Bound">εf</a> <a id="13348" href="Games.FiniteHistoryDependent.html#13321" class="Bound">x</a><a id="13349" class="Symbol">)</a> <a id="13351" class="Symbol">(</a><a id="13352" href="Games.TypeTrees.html#1622" class="Function">subpred</a> <a id="13360" href="Games.FiniteHistoryDependent.html#13270" class="Bound">q</a> <a id="13362" href="Games.FiniteHistoryDependent.html#13321" class="Bound">x</a><a id="13363" class="Symbol">)</a>

  <a id="13368" href="Games.FiniteHistoryDependent.html#13368" class="Function">x₀</a> <a id="13371" href="Games.FiniteHistoryDependent.html#13371" class="Function">x₁</a> <a id="13374" class="Symbol">:</a> <a id="13376" href="Games.FiniteHistoryDependent.html#13249" class="Bound">X</a>
  <a id="13380" href="Games.FiniteHistoryDependent.html#13368" class="Function">x₀</a> <a id="13383" class="Symbol">=</a> <a id="13385" href="Games.FiniteHistoryDependent.html#13261" class="Bound">ε</a> <a id="13387" class="Symbol">(λ</a> <a id="13390" href="Games.FiniteHistoryDependent.html#13390" class="Bound">x</a> <a id="13392" class="Symbol">→</a> <a id="13394" href="Games.TypeTrees.html#1622" class="Function">subpred</a> <a id="13402" href="Games.FiniteHistoryDependent.html#13270" class="Bound">q</a> <a id="13404" href="Games.FiniteHistoryDependent.html#13390" class="Bound">x</a> <a id="13406" class="Symbol">(</a><a id="13407" href="Games.FiniteHistoryDependent.html#9419" class="Function">sequenceᴶ</a> <a id="13417" class="Symbol">(</a><a id="13418" href="Games.FiniteHistoryDependent.html#13266" class="Bound">εf</a> <a id="13421" href="Games.FiniteHistoryDependent.html#13390" class="Bound">x</a><a id="13422" class="Symbol">)</a> <a id="13424" class="Symbol">(</a><a id="13425" href="Games.TypeTrees.html#1622" class="Function">subpred</a> <a id="13433" href="Games.FiniteHistoryDependent.html#13270" class="Bound">q</a> <a id="13435" href="Games.FiniteHistoryDependent.html#13390" class="Bound">x</a><a id="13436" class="Symbol">)))</a>
  <a id="13442" href="Games.FiniteHistoryDependent.html#13371" class="Function">x₁</a> <a id="13445" class="Symbol">=</a> <a id="13447" href="Games.FiniteHistoryDependent.html#13261" class="Bound">ε</a> <a id="13449" class="Symbol">(λ</a> <a id="13452" href="Games.FiniteHistoryDependent.html#13452" class="Bound">x</a> <a id="13454" class="Symbol">→</a> <a id="13456" href="Games.TypeTrees.html#1622" class="Function">subpred</a> <a id="13464" href="Games.FiniteHistoryDependent.html#13270" class="Bound">q</a> <a id="13466" href="Games.FiniteHistoryDependent.html#13452" class="Bound">x</a> <a id="13468" class="Symbol">(</a><a id="13469" href="Games.FiniteHistoryDependent.html#4195" class="Function">strategic-path</a> <a id="13484" class="Symbol">(</a><a id="13485" href="Games.FiniteHistoryDependent.html#13285" class="Function">σf</a> <a id="13488" href="Games.FiniteHistoryDependent.html#13452" class="Bound">x</a><a id="13489" class="Symbol">)))</a>

  <a id="13496" href="Games.FiniteHistoryDependent.html#13496" class="Function">I</a> <a id="13498" class="Symbol">:</a> <a id="13500" class="Symbol">(</a><a id="13501" href="Games.FiniteHistoryDependent.html#13501" class="Bound">x</a> <a id="13503" class="Symbol">:</a> <a id="13505" href="Games.FiniteHistoryDependent.html#13249" class="Bound">X</a><a id="13506" class="Symbol">)</a> <a id="13508" class="Symbol">→</a> <a id="13510" href="Games.FiniteHistoryDependent.html#4195" class="Function">strategic-path</a> <a id="13525" class="Symbol">(</a><a id="13526" href="Games.FiniteHistoryDependent.html#13285" class="Function">σf</a> <a id="13529" href="Games.FiniteHistoryDependent.html#13501" class="Bound">x</a><a id="13530" class="Symbol">)</a> <a id="13532" href="MLTT.Id.html#193" class="Datatype Operator">＝</a> <a id="13534" href="Games.FiniteHistoryDependent.html#9419" class="Function">sequenceᴶ</a> <a id="13544" class="Symbol">(</a><a id="13545" href="Games.FiniteHistoryDependent.html#13266" class="Bound">εf</a> <a id="13548" href="Games.FiniteHistoryDependent.html#13501" class="Bound">x</a><a id="13549" class="Symbol">)</a> <a id="13551" class="Symbol">(</a><a id="13552" href="Games.TypeTrees.html#1622" class="Function">subpred</a> <a id="13560" href="Games.FiniteHistoryDependent.html#13270" class="Bound">q</a> <a id="13562" href="Games.FiniteHistoryDependent.html#13501" class="Bound">x</a><a id="13563" class="Symbol">)</a>
  <a id="13567" href="Games.FiniteHistoryDependent.html#13496" class="Function">I</a> <a id="13569" href="Games.FiniteHistoryDependent.html#13569" class="Bound">x</a> <a id="13571" class="Symbol">=</a> <a id="13573" href="Games.FiniteHistoryDependent.html#12081" class="Function">main-lemma</a> <a id="13584" class="Symbol">(</a><a id="13585" href="Games.FiniteHistoryDependent.html#13266" class="Bound">εf</a> <a id="13588" href="Games.FiniteHistoryDependent.html#13569" class="Bound">x</a><a id="13589" class="Symbol">)</a> <a id="13591" class="Symbol">(</a><a id="13592" href="Games.TypeTrees.html#1622" class="Function">subpred</a> <a id="13600" href="Games.FiniteHistoryDependent.html#13270" class="Bound">q</a> <a id="13602" href="Games.FiniteHistoryDependent.html#13569" class="Bound">x</a><a id="13603" class="Symbol">)</a>

  <a id="13608" href="Games.FiniteHistoryDependent.html#13608" class="Function">II</a> <a id="13611" class="Symbol">:</a> <a id="13613" href="Games.FiniteHistoryDependent.html#13371" class="Function">x₁</a> <a id="13616" href="MLTT.Id.html#193" class="Datatype Operator">＝</a> <a id="13618" href="Games.FiniteHistoryDependent.html#13368" class="Function">x₀</a>
  <a id="13623" href="Games.FiniteHistoryDependent.html#13608" class="Function">II</a> <a id="13626" class="Symbol">=</a> <a id="13628" href="MLTT.Id.html#1136" class="Function">ap</a> <a id="13631" class="Symbol">(λ</a> <a id="13634" href="Games.FiniteHistoryDependent.html#13634" class="Bound">-</a> <a id="13636" class="Symbol">→</a> <a id="13638" href="Games.FiniteHistoryDependent.html#13261" class="Bound">ε</a> <a id="13640" class="Symbol">(λ</a> <a id="13643" href="Games.FiniteHistoryDependent.html#13643" class="Bound">x</a> <a id="13645" class="Symbol">→</a> <a id="13647" href="Games.TypeTrees.html#1622" class="Function">subpred</a> <a id="13655" href="Games.FiniteHistoryDependent.html#13270" class="Bound">q</a> <a id="13657" href="Games.FiniteHistoryDependent.html#13643" class="Bound">x</a> <a id="13659" class="Symbol">(</a><a id="13660" href="Games.FiniteHistoryDependent.html#13634" class="Bound">-</a> <a id="13662" href="Games.FiniteHistoryDependent.html#13643" class="Bound">x</a><a id="13663" class="Symbol">)))</a> <a id="13667" class="Symbol">(</a><a id="13668" href="UF.FunExt.html#1242" class="Function">dfunext</a> <a id="13676" href="Games.FiniteHistoryDependent.html#13245" class="Bound">fe</a> <a id="13679" href="Games.FiniteHistoryDependent.html#13496" class="Function">I</a><a id="13680" class="Symbol">)</a>

  <a id="13685" href="Games.FiniteHistoryDependent.html#13685" class="Function">III</a> <a id="13689" class="Symbol">=</a> <a id="13691" href="MonadOnTypes.JK.html#282" class="Function">overline</a> <a id="13700" href="Games.FiniteHistoryDependent.html#13261" class="Bound">ε</a> <a id="13702" class="Symbol">(λ</a> <a id="13705" href="Games.FiniteHistoryDependent.html#13705" class="Bound">x</a> <a id="13707" class="Symbol">→</a> <a id="13709" href="Games.TypeTrees.html#1622" class="Function">subpred</a> <a id="13717" href="Games.FiniteHistoryDependent.html#13270" class="Bound">q</a> <a id="13719" href="Games.FiniteHistoryDependent.html#13705" class="Bound">x</a> <a id="13721" class="Symbol">(</a><a id="13722" href="Games.FiniteHistoryDependent.html#4195" class="Function">strategic-path</a> <a id="13737" class="Symbol">(</a><a id="13738" href="Games.FiniteHistoryDependent.html#13285" class="Function">σf</a> <a id="13741" href="Games.FiniteHistoryDependent.html#13705" class="Bound">x</a><a id="13742" class="Symbol">)))</a> <a id="13746" href="MLTT.Id.html#2705" class="Function Operator">＝⟨</a> <a id="13749" href="MLTT.Identity-Type.html#157" class="InductiveConstructor">refl</a> <a id="13754" href="MLTT.Id.html#2705" class="Function Operator">⟩</a>
        <a id="13764" href="Games.TypeTrees.html#1622" class="Function">subpred</a> <a id="13772" href="Games.FiniteHistoryDependent.html#13270" class="Bound">q</a> <a id="13774" href="Games.FiniteHistoryDependent.html#13371" class="Function">x₁</a> <a id="13777" class="Symbol">(</a><a id="13778" href="Games.FiniteHistoryDependent.html#4195" class="Function">strategic-path</a> <a id="13793" class="Symbol">(</a><a id="13794" href="Games.FiniteHistoryDependent.html#13285" class="Function">σf</a> <a id="13797" href="Games.FiniteHistoryDependent.html#13371" class="Function">x₁</a><a id="13799" class="Symbol">))</a>                  <a id="13819" href="MLTT.Id.html#2705" class="Function Operator">＝⟨</a> <a id="13822" href="Games.FiniteHistoryDependent.html#13906" class="Function">IV</a> <a id="13825" href="MLTT.Id.html#2705" class="Function Operator">⟩</a>
        <a id="13835" href="Games.TypeTrees.html#1622" class="Function">subpred</a> <a id="13843" href="Games.FiniteHistoryDependent.html#13270" class="Bound">q</a> <a id="13845" href="Games.FiniteHistoryDependent.html#13368" class="Function">x₀</a> <a id="13848" class="Symbol">(</a><a id="13849" href="Games.FiniteHistoryDependent.html#4195" class="Function">strategic-path</a> <a id="13864" class="Symbol">(</a><a id="13865" href="Games.FiniteHistoryDependent.html#13285" class="Function">σf</a> <a id="13868" href="Games.FiniteHistoryDependent.html#13368" class="Function">x₀</a><a id="13870" class="Symbol">))</a>                  <a id="13890" href="MLTT.Id.html#2787" class="Function Operator">∎</a>

   <a id="13896" class="Keyword">where</a>
    <a id="13906" href="Games.FiniteHistoryDependent.html#13906" class="Function">IV</a> <a id="13909" class="Symbol">=</a> <a id="13911" href="MLTT.Id.html#1136" class="Function">ap</a> <a id="13914" class="Symbol">(λ</a> <a id="13917" href="Games.FiniteHistoryDependent.html#13917" class="Bound">-</a> <a id="13919" class="Symbol">→</a> <a id="13921" href="Games.TypeTrees.html#1622" class="Function">subpred</a> <a id="13929" href="Games.FiniteHistoryDependent.html#13270" class="Bound">q</a> <a id="13931" href="Games.FiniteHistoryDependent.html#13917" class="Bound">-</a> <a id="13933" class="Symbol">(</a><a id="13934" href="Games.FiniteHistoryDependent.html#4195" class="Function">strategic-path</a> <a id="13949" class="Symbol">(</a><a id="13950" href="Games.FiniteHistoryDependent.html#13285" class="Function">σf</a> <a id="13953" href="Games.FiniteHistoryDependent.html#13917" class="Bound">-</a><a id="13954" class="Symbol">)))</a> <a id="13958" href="Games.FiniteHistoryDependent.html#13608" class="Function">II</a>

  <a id="13964" href="Games.FiniteHistoryDependent.html#13964" class="Function">IH</a> <a id="13967" class="Symbol">:</a> <a id="13969" class="Symbol">(</a><a id="13970" href="Games.FiniteHistoryDependent.html#13970" class="Bound">x</a> <a id="13972" class="Symbol">:</a> <a id="13974" href="Games.FiniteHistoryDependent.html#13249" class="Bound">X</a><a id="13975" class="Symbol">)</a> <a id="13977" class="Symbol">→</a> <a id="13979" href="Games.FiniteHistoryDependent.html#5828" class="Function">is-in-sgpe</a>
                   <a id="14009" class="Symbol">(</a><a id="14010" href="Games.FiniteHistoryDependent.html#10800" class="Function">Overline</a> <a id="14019" class="Symbol">(</a><a id="14020" href="Games.FiniteHistoryDependent.html#13266" class="Bound">εf</a> <a id="14023" href="Games.FiniteHistoryDependent.html#13970" class="Bound">x</a><a id="14024" class="Symbol">))</a>
                   <a id="14046" class="Symbol">(</a><a id="14047" href="Games.TypeTrees.html#1622" class="Function">subpred</a> <a id="14055" href="Games.FiniteHistoryDependent.html#13270" class="Bound">q</a> <a id="14057" href="Games.FiniteHistoryDependent.html#13970" class="Bound">x</a><a id="14058" class="Symbol">)</a>
                   <a id="14079" class="Symbol">(</a><a id="14080" href="Games.FiniteHistoryDependent.html#9718" class="Function">selection-strategy</a> <a id="14099" class="Symbol">(</a><a id="14100" href="Games.FiniteHistoryDependent.html#13266" class="Bound">εf</a> <a id="14103" href="Games.FiniteHistoryDependent.html#13970" class="Bound">x</a><a id="14104" class="Symbol">)</a> <a id="14106" class="Symbol">(</a><a id="14107" href="Games.TypeTrees.html#1622" class="Function">subpred</a> <a id="14115" href="Games.FiniteHistoryDependent.html#13270" class="Bound">q</a> <a id="14117" href="Games.FiniteHistoryDependent.html#13970" class="Bound">x</a><a id="14118" class="Symbol">))</a>
  <a id="14123" href="Games.FiniteHistoryDependent.html#13964" class="Function">IH</a> <a id="14126" href="Games.FiniteHistoryDependent.html#14126" class="Bound">x</a> <a id="14128" class="Symbol">=</a> <a id="14130" href="Games.FiniteHistoryDependent.html#12982" class="Function">selection-strategy-lemma</a> <a id="14155" href="Games.FiniteHistoryDependent.html#13245" class="Bound">fe</a> <a id="14158" class="Symbol">(</a><a id="14159" href="Games.FiniteHistoryDependent.html#13266" class="Bound">εf</a> <a id="14162" href="Games.FiniteHistoryDependent.html#14126" class="Bound">x</a><a id="14163" class="Symbol">)</a> <a id="14165" class="Symbol">(</a><a id="14166" href="Games.TypeTrees.html#1622" class="Function">subpred</a> <a id="14174" href="Games.FiniteHistoryDependent.html#13270" class="Bound">q</a> <a id="14176" href="Games.FiniteHistoryDependent.html#14126" class="Bound">x</a><a id="14177" class="Symbol">)</a>

  <a id="14182" href="Games.FiniteHistoryDependent.html#14182" class="Function">γ</a> <a id="14184" class="Symbol">:</a> <a id="14186" href="Games.FiniteHistoryDependent.html#5828" class="Function">is-in-sgpe</a> <a id="14197" class="Symbol">(</a><a id="14198" href="Games.FiniteHistoryDependent.html#10800" class="Function">Overline</a> <a id="14207" href="Games.FiniteHistoryDependent.html#13257" class="Bound">εt</a><a id="14209" class="Symbol">)</a> <a id="14211" href="Games.FiniteHistoryDependent.html#13270" class="Bound">q</a> <a id="14213" class="Symbol">(</a><a id="14214" href="Games.FiniteHistoryDependent.html#13368" class="Function">x₀</a> <a id="14217" href="Games.TypeTrees.html#1296" class="InductiveConstructor Operator">::</a> <a id="14220" href="Games.FiniteHistoryDependent.html#13285" class="Function">σf</a><a id="14222" class="Symbol">)</a>
  <a id="14226" href="Games.FiniteHistoryDependent.html#14182" class="Function">γ</a> <a id="14228" class="Symbol">=</a> <a id="14230" class="Symbol">(</a><a id="14231" href="Games.FiniteHistoryDependent.html#13685" class="Function">III</a> <a id="14235" href="MLTT.Id.html#1055" class="Function Operator">⁻¹</a><a id="14237" class="Symbol">)</a> <a id="14239" href="Games.TypeTrees.html#1296" class="InductiveConstructor Operator">::</a> <a id="14242" href="Games.FiniteHistoryDependent.html#13964" class="Function">IH</a>

<a id="14246" class="Markup">\end{code}</a><a id="14256" class="Background">

The following, which shows how to use selection functions to compute
optimal strategies, corresponds to Theorem 6.2 of [1].

</a><a id="14383" class="Markup">\begin{code}</a>

<a id="selection-strategy-theorem"></a><a id="14397" href="Games.FiniteHistoryDependent.html#14397" class="Function">selection-strategy-theorem</a> <a id="14424" class="Symbol">:</a> <a id="14426" href="UF.FunExt.html#1047" class="Function">Fun-Ext</a>
                           <a id="14461" class="Symbol">→</a> <a id="14463" class="Symbol">{</a><a id="14464" href="Games.FiniteHistoryDependent.html#14464" class="Bound">Xt</a> <a id="14467" class="Symbol">:</a> <a id="14469" href="Games.TypeTrees.html#719" class="Datatype">𝑻</a><a id="14470" class="Symbol">}</a> <a id="14472" class="Symbol">(</a><a id="14473" href="Games.FiniteHistoryDependent.html#14473" class="Bound">εt</a> <a id="14476" class="Symbol">:</a> <a id="14478" href="Games.FiniteHistoryDependent.html#8901" class="Function">𝓙</a> <a id="14480" href="Games.FiniteHistoryDependent.html#14464" class="Bound">Xt</a><a id="14482" class="Symbol">)</a>
                             <a id="14513" class="Symbol">(</a><a id="14514" href="Games.FiniteHistoryDependent.html#14514" class="Bound">ϕt</a> <a id="14517" class="Symbol">:</a> <a id="14519" href="Games.FiniteHistoryDependent.html#2364" class="Function">𝓚</a> <a id="14521" href="Games.FiniteHistoryDependent.html#14464" class="Bound">Xt</a><a id="14523" class="Symbol">)</a> <a id="14525" class="Symbol">(</a><a id="14526" href="Games.FiniteHistoryDependent.html#14526" class="Bound">q</a> <a id="14528" class="Symbol">:</a> <a id="14530" href="Games.TypeTrees.html#906" class="Function">Path</a> <a id="14535" href="Games.FiniteHistoryDependent.html#14464" class="Bound">Xt</a> <a id="14538" class="Symbol">→</a> <a id="14540" href="Games.FiniteHistoryDependent.html#1635" class="Bound">R</a><a id="14541" class="Symbol">)</a>
                           <a id="14570" class="Symbol">→</a> <a id="14572" href="Games.FiniteHistoryDependent.html#14473" class="Bound">εt</a> <a id="14575" href="Games.FiniteHistoryDependent.html#10474" class="Function Operator">Attains</a> <a id="14583" href="Games.FiniteHistoryDependent.html#14514" class="Bound">ϕt</a>
                           <a id="14613" class="Symbol">→</a> <a id="14615" href="Games.FiniteHistoryDependent.html#5828" class="Function">is-in-sgpe</a> <a id="14626" href="Games.FiniteHistoryDependent.html#14514" class="Bound">ϕt</a> <a id="14629" href="Games.FiniteHistoryDependent.html#14526" class="Bound">q</a> <a id="14631" class="Symbol">(</a><a id="14632" href="Games.FiniteHistoryDependent.html#9718" class="Function">selection-strategy</a> <a id="14651" href="Games.FiniteHistoryDependent.html#14473" class="Bound">εt</a> <a id="14654" href="Games.FiniteHistoryDependent.html#14526" class="Bound">q</a><a id="14655" class="Symbol">)</a>
<a id="14657" href="Games.FiniteHistoryDependent.html#14397" class="Function">selection-strategy-theorem</a> <a id="14684" href="Games.FiniteHistoryDependent.html#14684" class="Bound">fe</a> <a id="14687" href="Games.FiniteHistoryDependent.html#14687" class="Bound">εt</a> <a id="14690" href="Games.FiniteHistoryDependent.html#14690" class="Bound">ϕt</a> <a id="14693" href="Games.FiniteHistoryDependent.html#14693" class="Bound">q</a> <a id="14695" href="Games.FiniteHistoryDependent.html#14695" class="Bound">a</a> <a id="14697" class="Symbol">=</a> <a id="14699" href="Games.FiniteHistoryDependent.html#14866" class="Function">III</a>
 <a id="14704" class="Keyword">where</a>
  <a id="14712" href="Games.FiniteHistoryDependent.html#14712" class="Function">I</a> <a id="14714" class="Symbol">:</a> <a id="14716" href="Games.FiniteHistoryDependent.html#10800" class="Function">Overline</a> <a id="14725" href="Games.FiniteHistoryDependent.html#14687" class="Bound">εt</a> <a id="14728" href="MLTT.Id.html#193" class="Datatype Operator">＝</a> <a id="14730" href="Games.FiniteHistoryDependent.html#14690" class="Bound">ϕt</a>
  <a id="14735" href="Games.FiniteHistoryDependent.html#14712" class="Function">I</a> <a id="14737" class="Symbol">=</a> <a id="14739" href="Games.FiniteHistoryDependent.html#11033" class="Function">observation</a> <a id="14751" href="Games.FiniteHistoryDependent.html#14684" class="Bound">fe</a> <a id="14754" href="Games.FiniteHistoryDependent.html#14687" class="Bound">εt</a> <a id="14757" href="Games.FiniteHistoryDependent.html#14690" class="Bound">ϕt</a> <a id="14760" href="Games.FiniteHistoryDependent.html#14695" class="Bound">a</a>

  <a id="14765" href="Games.FiniteHistoryDependent.html#14765" class="Function">II</a> <a id="14768" class="Symbol">:</a> <a id="14770" href="Games.FiniteHistoryDependent.html#5828" class="Function">is-in-sgpe</a> <a id="14781" class="Symbol">(</a><a id="14782" href="Games.FiniteHistoryDependent.html#10800" class="Function">Overline</a> <a id="14791" href="Games.FiniteHistoryDependent.html#14687" class="Bound">εt</a><a id="14793" class="Symbol">)</a> <a id="14795" href="Games.FiniteHistoryDependent.html#14693" class="Bound">q</a> <a id="14797" class="Symbol">(</a><a id="14798" href="Games.FiniteHistoryDependent.html#9718" class="Function">selection-strategy</a> <a id="14817" href="Games.FiniteHistoryDependent.html#14687" class="Bound">εt</a> <a id="14820" href="Games.FiniteHistoryDependent.html#14693" class="Bound">q</a><a id="14821" class="Symbol">)</a>
  <a id="14825" href="Games.FiniteHistoryDependent.html#14765" class="Function">II</a> <a id="14828" class="Symbol">=</a> <a id="14830" href="Games.FiniteHistoryDependent.html#12982" class="Function">selection-strategy-lemma</a> <a id="14855" href="Games.FiniteHistoryDependent.html#14684" class="Bound">fe</a> <a id="14858" href="Games.FiniteHistoryDependent.html#14687" class="Bound">εt</a> <a id="14861" href="Games.FiniteHistoryDependent.html#14693" class="Bound">q</a>

  <a id="14866" href="Games.FiniteHistoryDependent.html#14866" class="Function">III</a> <a id="14870" class="Symbol">:</a> <a id="14872" href="Games.FiniteHistoryDependent.html#5828" class="Function">is-in-sgpe</a> <a id="14883" href="Games.FiniteHistoryDependent.html#14690" class="Bound">ϕt</a> <a id="14886" href="Games.FiniteHistoryDependent.html#14693" class="Bound">q</a> <a id="14888" class="Symbol">(</a><a id="14889" href="Games.FiniteHistoryDependent.html#9718" class="Function">selection-strategy</a> <a id="14908" href="Games.FiniteHistoryDependent.html#14687" class="Bound">εt</a> <a id="14911" href="Games.FiniteHistoryDependent.html#14693" class="Bound">q</a><a id="14912" class="Symbol">)</a>
  <a id="14916" href="Games.FiniteHistoryDependent.html#14866" class="Function">III</a> <a id="14920" class="Symbol">=</a> <a id="14922" href="MLTT.Id.html#735" class="Function">transport</a> <a id="14932" class="Symbol">(λ</a> <a id="14935" href="Games.FiniteHistoryDependent.html#14935" class="Bound">-</a> <a id="14937" class="Symbol">→</a> <a id="14939" href="Games.FiniteHistoryDependent.html#5828" class="Function">is-in-sgpe</a> <a id="14950" href="Games.FiniteHistoryDependent.html#14935" class="Bound">-</a> <a id="14952" href="Games.FiniteHistoryDependent.html#14693" class="Bound">q</a> <a id="14954" class="Symbol">(</a><a id="14955" href="Games.FiniteHistoryDependent.html#9718" class="Function">selection-strategy</a> <a id="14974" href="Games.FiniteHistoryDependent.html#14687" class="Bound">εt</a> <a id="14977" href="Games.FiniteHistoryDependent.html#14693" class="Bound">q</a><a id="14978" class="Symbol">))</a> <a id="14981" href="Games.FiniteHistoryDependent.html#14712" class="Function">I</a> <a id="14983" href="Games.FiniteHistoryDependent.html#14765" class="Function">II</a>


<a id="Selection-Strategy-Theorem"></a><a id="14988" href="Games.FiniteHistoryDependent.html#14988" class="Function">Selection-Strategy-Theorem</a> <a id="15015" class="Symbol">:</a> <a id="15017" href="UF.FunExt.html#1047" class="Function">Fun-Ext</a>
                           <a id="15052" class="Symbol">→</a> <a id="15054" class="Symbol">(</a><a id="15055" href="Games.FiniteHistoryDependent.html#15055" class="Bound">G</a> <a id="15057" class="Symbol">:</a> <a id="15059" href="Games.FiniteHistoryDependent.html#3132" class="Record">Game</a><a id="15063" class="Symbol">)</a> <a id="15065" class="Symbol">(</a><a id="15066" href="Games.FiniteHistoryDependent.html#15066" class="Bound">εt</a> <a id="15069" class="Symbol">:</a> <a id="15071" href="Games.FiniteHistoryDependent.html#8901" class="Function">𝓙</a> <a id="15073" class="Symbol">(</a><a id="15074" href="Games.FiniteHistoryDependent.html#3178" class="Field">Xt</a> <a id="15077" href="Games.FiniteHistoryDependent.html#15055" class="Bound">G</a><a id="15078" class="Symbol">))</a>
                           <a id="15108" class="Symbol">→</a> <a id="15110" href="Games.FiniteHistoryDependent.html#15066" class="Bound">εt</a> <a id="15113" href="Games.FiniteHistoryDependent.html#10474" class="Function Operator">Attains</a> <a id="15121" class="Symbol">(</a><a id="15122" href="Games.FiniteHistoryDependent.html#3206" class="Field">ϕt</a> <a id="15125" href="Games.FiniteHistoryDependent.html#15055" class="Bound">G</a><a id="15126" class="Symbol">)</a>
                           <a id="15155" class="Symbol">→</a> <a id="15157" href="Games.FiniteHistoryDependent.html#7052" class="Function">is-optimal</a> <a id="15168" href="Games.FiniteHistoryDependent.html#15055" class="Bound">G</a> <a id="15170" class="Symbol">(</a><a id="15171" href="Games.FiniteHistoryDependent.html#9718" class="Function">selection-strategy</a> <a id="15190" href="Games.FiniteHistoryDependent.html#15066" class="Bound">εt</a> <a id="15193" class="Symbol">(</a><a id="15194" href="Games.FiniteHistoryDependent.html#3187" class="Field">q</a> <a id="15196" href="Games.FiniteHistoryDependent.html#15055" class="Bound">G</a><a id="15197" class="Symbol">))</a>
<a id="15200" href="Games.FiniteHistoryDependent.html#14988" class="Function">Selection-Strategy-Theorem</a> <a id="15227" href="Games.FiniteHistoryDependent.html#15227" class="Bound">fe</a> <a id="15230" class="Symbol">(</a><a id="15231" href="Games.FiniteHistoryDependent.html#3164" class="InductiveConstructor">game</a> <a id="15236" href="Games.FiniteHistoryDependent.html#15236" class="Bound">Xt</a> <a id="15239" href="Games.FiniteHistoryDependent.html#15239" class="Bound">ϕt</a> <a id="15242" href="Games.FiniteHistoryDependent.html#15242" class="Bound">q</a><a id="15243" class="Symbol">)</a> <a id="15245" href="Games.FiniteHistoryDependent.html#15245" class="Bound">εt</a> <a id="15248" class="Symbol">=</a> <a id="15250" href="Games.FiniteHistoryDependent.html#14397" class="Function">selection-strategy-theorem</a> <a id="15277" href="Games.FiniteHistoryDependent.html#15227" class="Bound">fe</a> <a id="15280" href="Games.FiniteHistoryDependent.html#15245" class="Bound">εt</a> <a id="15283" href="Games.FiniteHistoryDependent.html#15242" class="Bound">q</a> <a id="15285" href="Games.FiniteHistoryDependent.html#15239" class="Bound">ϕt</a>

<a id="15289" class="Markup">\end{code}</a><a id="15299" class="Background">

Added 27th August 2023 after the above was submitted for publication.

</a><a id="15372" class="Markup">\begin{code}</a>

<a id="selection-strategy-corollary"></a><a id="15386" href="Games.FiniteHistoryDependent.html#15386" class="Function">selection-strategy-corollary</a> <a id="15415" class="Symbol">:</a> <a id="15417" href="UF.FunExt.html#1047" class="Function">Fun-Ext</a>
                             <a id="15454" class="Symbol">→</a> <a id="15456" class="Symbol">(</a><a id="15457" href="Games.FiniteHistoryDependent.html#15457" class="Bound">G</a> <a id="15459" class="Symbol">:</a> <a id="15461" href="Games.FiniteHistoryDependent.html#3132" class="Record">Game</a><a id="15465" class="Symbol">)</a> <a id="15467" class="Symbol">(</a><a id="15468" href="Games.FiniteHistoryDependent.html#15468" class="Bound">εt</a> <a id="15471" class="Symbol">:</a> <a id="15473" href="Games.FiniteHistoryDependent.html#8901" class="Function">𝓙</a> <a id="15475" class="Symbol">(</a><a id="15476" href="Games.FiniteHistoryDependent.html#3178" class="Field">Xt</a> <a id="15479" href="Games.FiniteHistoryDependent.html#15457" class="Bound">G</a><a id="15480" class="Symbol">))</a>
                             <a id="15512" class="Symbol">→</a> <a id="15514" href="Games.FiniteHistoryDependent.html#15468" class="Bound">εt</a> <a id="15517" href="Games.FiniteHistoryDependent.html#10474" class="Function Operator">Attains</a> <a id="15525" class="Symbol">(</a><a id="15526" href="Games.FiniteHistoryDependent.html#3206" class="Field">ϕt</a> <a id="15529" href="Games.FiniteHistoryDependent.html#15457" class="Bound">G</a><a id="15530" class="Symbol">)</a>
                             <a id="15561" class="Symbol">→</a> <a id="15563" href="Games.FiniteHistoryDependent.html#3187" class="Field">q</a> <a id="15565" href="Games.FiniteHistoryDependent.html#15457" class="Bound">G</a> <a id="15567" class="Symbol">(</a><a id="15568" href="Games.FiniteHistoryDependent.html#9419" class="Function">sequenceᴶ</a> <a id="15578" href="Games.FiniteHistoryDependent.html#15468" class="Bound">εt</a> <a id="15581" class="Symbol">(</a><a id="15582" href="Games.FiniteHistoryDependent.html#3187" class="Field">q</a> <a id="15584" href="Games.FiniteHistoryDependent.html#15457" class="Bound">G</a><a id="15585" class="Symbol">))</a> <a id="15588" href="MLTT.Id.html#193" class="Datatype Operator">＝</a> <a id="15590" href="Games.FiniteHistoryDependent.html#3488" class="Function">optimal-outcome</a> <a id="15606" href="Games.FiniteHistoryDependent.html#15457" class="Bound">G</a>
<a id="15608" href="Games.FiniteHistoryDependent.html#15386" class="Function">selection-strategy-corollary</a> <a id="15637" href="Games.FiniteHistoryDependent.html#15637" class="Bound">fe</a> <a id="15640" href="Games.FiniteHistoryDependent.html#15640" class="Bound">G</a> <a id="15642" href="Games.FiniteHistoryDependent.html#15642" class="Bound">εt</a> <a id="15645" href="Games.FiniteHistoryDependent.html#15645" class="Bound">a</a> <a id="15647" class="Symbol">=</a>
 <a id="15650" href="Games.FiniteHistoryDependent.html#3187" class="Field">q</a> <a id="15652" href="Games.FiniteHistoryDependent.html#15640" class="Bound">G</a> <a id="15654" class="Symbol">(</a><a id="15655" href="Games.FiniteHistoryDependent.html#9419" class="Function">sequenceᴶ</a> <a id="15665" href="Games.FiniteHistoryDependent.html#15642" class="Bound">εt</a> <a id="15668" class="Symbol">(</a><a id="15669" href="Games.FiniteHistoryDependent.html#3187" class="Field">q</a> <a id="15671" href="Games.FiniteHistoryDependent.html#15640" class="Bound">G</a><a id="15672" class="Symbol">))</a>                           <a id="15701" href="MLTT.Id.html#2705" class="Function Operator">＝⟨</a> <a id="15704" href="Games.FiniteHistoryDependent.html#15833" class="Function">I</a> <a id="15706" href="MLTT.Id.html#2705" class="Function Operator">⟩</a>
 <a id="15709" href="Games.FiniteHistoryDependent.html#3187" class="Field">q</a> <a id="15711" href="Games.FiniteHistoryDependent.html#15640" class="Bound">G</a> <a id="15713" class="Symbol">(</a><a id="15714" href="Games.FiniteHistoryDependent.html#4195" class="Function">strategic-path</a> <a id="15729" class="Symbol">(</a><a id="15730" href="Games.FiniteHistoryDependent.html#9718" class="Function">selection-strategy</a> <a id="15749" href="Games.FiniteHistoryDependent.html#15642" class="Bound">εt</a> <a id="15752" class="Symbol">(</a><a id="15753" href="Games.FiniteHistoryDependent.html#3187" class="Field">q</a> <a id="15755" href="Games.FiniteHistoryDependent.html#15640" class="Bound">G</a><a id="15756" class="Symbol">)))</a> <a id="15760" href="MLTT.Id.html#2705" class="Function Operator">＝⟨</a> <a id="15763" href="Games.FiniteHistoryDependent.html#15876" class="Function">II</a> <a id="15766" href="MLTT.Id.html#2705" class="Function Operator">⟩</a>
 <a id="15769" href="Games.FiniteHistoryDependent.html#3488" class="Function">optimal-outcome</a> <a id="15785" href="Games.FiniteHistoryDependent.html#15640" class="Bound">G</a>                                  <a id="15820" href="MLTT.Id.html#2787" class="Function Operator">∎</a>
  <a id="15824" class="Keyword">where</a>
   <a id="15833" href="Games.FiniteHistoryDependent.html#15833" class="Function">I</a>  <a id="15836" class="Symbol">=</a> <a id="15838" href="MLTT.Id.html#1136" class="Function">ap</a> <a id="15841" class="Symbol">(</a><a id="15842" href="Games.FiniteHistoryDependent.html#3187" class="Field">q</a> <a id="15844" href="Games.FiniteHistoryDependent.html#15640" class="Bound">G</a><a id="15845" class="Symbol">)</a> <a id="15847" class="Symbol">((</a><a id="15849" href="Games.FiniteHistoryDependent.html#12081" class="Function">main-lemma</a> <a id="15860" href="Games.FiniteHistoryDependent.html#15642" class="Bound">εt</a> <a id="15863" class="Symbol">(</a><a id="15864" href="Games.FiniteHistoryDependent.html#3187" class="Field">q</a> <a id="15866" href="Games.FiniteHistoryDependent.html#15640" class="Bound">G</a><a id="15867" class="Symbol">))</a><a id="15869" href="MLTT.Id.html#1055" class="Function Operator">⁻¹</a><a id="15871" class="Symbol">)</a>
   <a id="15876" href="Games.FiniteHistoryDependent.html#15876" class="Function">II</a> <a id="15879" class="Symbol">=</a> <a id="15881" href="Games.FiniteHistoryDependent.html#7573" class="Function">sgpe-lemma</a> <a id="15892" href="Games.FiniteHistoryDependent.html#15637" class="Bound">fe</a> <a id="15895" class="Symbol">(</a><a id="15896" href="Games.FiniteHistoryDependent.html#3178" class="Field">Xt</a> <a id="15899" href="Games.FiniteHistoryDependent.html#15640" class="Bound">G</a><a id="15900" class="Symbol">)</a> <a id="15902" class="Symbol">(</a><a id="15903" href="Games.FiniteHistoryDependent.html#3206" class="Field">ϕt</a> <a id="15906" href="Games.FiniteHistoryDependent.html#15640" class="Bound">G</a><a id="15907" class="Symbol">)</a> <a id="15909" class="Symbol">(</a><a id="15910" href="Games.FiniteHistoryDependent.html#3187" class="Field">q</a> <a id="15912" href="Games.FiniteHistoryDependent.html#15640" class="Bound">G</a><a id="15913" class="Symbol">)</a>
         <a id="15924" class="Symbol">(</a><a id="15925" href="Games.FiniteHistoryDependent.html#9718" class="Function">selection-strategy</a> <a id="15944" href="Games.FiniteHistoryDependent.html#15642" class="Bound">εt</a> <a id="15947" class="Symbol">(</a><a id="15948" href="Games.FiniteHistoryDependent.html#3187" class="Field">q</a> <a id="15950" href="Games.FiniteHistoryDependent.html#15640" class="Bound">G</a><a id="15951" class="Symbol">))</a>
         <a id="15963" class="Symbol">(</a><a id="15964" href="Games.FiniteHistoryDependent.html#14988" class="Function">Selection-Strategy-Theorem</a> <a id="15991" href="Games.FiniteHistoryDependent.html#15637" class="Bound">fe</a> <a id="15994" href="Games.FiniteHistoryDependent.html#15640" class="Bound">G</a> <a id="15996" href="Games.FiniteHistoryDependent.html#15642" class="Bound">εt</a> <a id="15999" href="Games.FiniteHistoryDependent.html#15645" class="Bound">a</a><a id="16000" class="Symbol">)</a>

<a id="16003" class="Markup">\end{code}</a><a id="16013" class="Background">
</a></pre></body></html>