<!DOCTYPE HTML>
<html><head><meta charset="utf-8"><title>Modal.SigmaClosedReflectiveSubuniverse</title><link rel="stylesheet" href="Agda.css"><script type="text/javascript" src="highlight-hover.js"></script></head><body><pre class="Agda"><a id="1" class="Background">Andrew Swan, 6th February 2024

Σ-closed reflective subuniverse is one of the three definitions of
modalities given in [1] (Definition 1.3). The aim of this file is
to collect together results about them. For now we just have one
result that is often useful in practice: for Σ-closed universes, we have
not just recursion, but induction.

[1] Rijke, Shulman, Spitters, Modalities in homotopy type theory,
https://doi.org/10.23638/LMCS-16(1:2)2020

</a><a id="449" class="Markup">\begin{code}</a>
<a id="462" class="Symbol">{-#</a> <a id="466" class="Keyword">OPTIONS</a> <a id="474" class="Pragma">--safe</a> <a id="481" class="Pragma">--without-K</a> <a id="493" class="Pragma">--exact-split</a> <a id="507" class="Pragma">--auto-inline</a> <a id="521" class="Symbol">#-}</a>

<a id="526" class="Keyword">open</a> <a id="531" class="Keyword">import</a> <a id="538" href="MLTT.Spartan.html" class="Module">MLTT.Spartan</a>
<a id="551" class="Keyword">open</a> <a id="556" class="Keyword">import</a> <a id="563" href="UF.Base.html" class="Module">UF.Base</a>
<a id="571" class="Keyword">open</a> <a id="576" class="Keyword">import</a> <a id="583" href="UF.FunExt.html" class="Module">UF.FunExt</a>
<a id="593" class="Keyword">open</a> <a id="598" class="Keyword">import</a> <a id="605" href="Modal.Subuniverse.html" class="Module">Modal.Subuniverse</a>

<a id="624" class="Keyword">module</a> <a id="631" href="Modal.SigmaClosedReflectiveSubuniverse.html" class="Module">Modal.SigmaClosedReflectiveSubuniverse</a>
 <a id="671" class="Symbol">(</a><a id="672" href="Modal.SigmaClosedReflectiveSubuniverse.html#672" class="Bound">P</a> <a id="674" class="Symbol">:</a> <a id="676" href="Modal.Subuniverse.html#296" class="Function">subuniverse</a> <a id="688" href="MLTT.Universes.html#3833" class="Generalizable">𝓤</a> <a id="690" href="MLTT.Universes.html#3835" class="Generalizable">𝓥</a><a id="691" class="Symbol">)</a>
 <a id="694" class="Symbol">(</a><a id="695" href="Modal.SigmaClosedReflectiveSubuniverse.html#695" class="Bound">P-is-reflective</a> <a id="711" class="Symbol">:</a> <a id="713" href="Modal.Subuniverse.html#1085" class="Function">subuniverse-is-reflective</a> <a id="739" href="Modal.SigmaClosedReflectiveSubuniverse.html#672" class="Bound">P</a><a id="740" class="Symbol">)</a>
 <a id="743" class="Symbol">(</a><a id="744" href="Modal.SigmaClosedReflectiveSubuniverse.html#744" class="Bound">P-is-sigma-closed</a> <a id="762" class="Symbol">:</a> <a id="764" href="Modal.Subuniverse.html#1599" class="Function">subuniverse-is-sigma-closed</a> <a id="792" href="Modal.SigmaClosedReflectiveSubuniverse.html#672" class="Bound">P</a><a id="793" class="Symbol">)</a>
 <a id="796" class="Keyword">where</a>
<a id="802" class="Markup">\end{code}</a><a id="812" class="Background">

A Σ-closed reflective subuniverse is in particular a reflective
subuniverse, so we first import everything already proved for
reflective subuniverses in general.

</a><a id="977" class="Markup">\begin{code}</a>
<a id="990" class="Keyword">open</a> <a id="995" class="Keyword">import</a> <a id="1002" href="Modal.ReflectiveSubuniverse.html" class="Module">Modal.ReflectiveSubuniverse</a> <a id="1030" href="Modal.SigmaClosedReflectiveSubuniverse.html#672" class="Bound">P</a> <a id="1032" href="Modal.SigmaClosedReflectiveSubuniverse.html#695" class="Bound">P-is-reflective</a> <a id="1048" class="Keyword">public</a>
<a id="1055" class="Markup">\end{code}</a><a id="1065" class="Background">

We can now prove the induction principle. We do this as a direct
proof from the Σ-closed condition, using it together with the
recursion principle to construct a map g : ○ A → Σ a : ○ A, B a and
then using uniqueness to show that composition pr₁ ∘ g is the identity
on ○ A.

</a><a id="1342" class="Markup">\begin{code}</a>
<a id="○-induction"></a><a id="1355" href="Modal.SigmaClosedReflectiveSubuniverse.html#1355" class="Function">○-induction</a>
 <a id="1368" class="Symbol">:</a> <a id="1370" class="Symbol">(</a><a id="1371" href="Modal.SigmaClosedReflectiveSubuniverse.html#1371" class="Bound">fe</a> <a id="1374" class="Symbol">:</a> <a id="1376" href="UF.FunExt.html#850" class="Function">funext</a> <a id="1383" href="Modal.SigmaClosedReflectiveSubuniverse.html#688" class="Bound">𝓤</a> <a id="1385" href="Modal.SigmaClosedReflectiveSubuniverse.html#688" class="Bound">𝓤</a><a id="1386" class="Symbol">)</a>
 <a id="1389" class="Symbol">→</a> <a id="1391" class="Symbol">(</a><a id="1392" href="Modal.SigmaClosedReflectiveSubuniverse.html#1392" class="Bound">A</a> <a id="1394" class="Symbol">:</a> <a id="1396" href="Modal.SigmaClosedReflectiveSubuniverse.html#688" class="Bound">𝓤</a> <a id="1398" href="MLTT.Universes.html#3976" class="Function Operator">̇</a><a id="1399" class="Symbol">)</a>
 <a id="1402" class="Symbol">→</a> <a id="1404" class="Symbol">(</a><a id="1405" href="Modal.SigmaClosedReflectiveSubuniverse.html#1405" class="Bound">B</a> <a id="1407" class="Symbol">:</a> <a id="1409" href="Modal.ReflectiveSubuniverse.html#767" class="Function">○</a> <a id="1411" href="Modal.SigmaClosedReflectiveSubuniverse.html#1392" class="Bound">A</a> <a id="1413" class="Symbol">→</a> <a id="1415" href="Modal.SigmaClosedReflectiveSubuniverse.html#688" class="Bound">𝓤</a> <a id="1417" href="MLTT.Universes.html#3976" class="Function Operator">̇</a><a id="1418" class="Symbol">)</a>
 <a id="1421" class="Symbol">→</a> <a id="1423" class="Symbol">(</a><a id="1424" href="Modal.SigmaClosedReflectiveSubuniverse.html#1424" class="Bound">B-modal</a> <a id="1432" class="Symbol">:</a> <a id="1434" class="Symbol">(</a><a id="1435" href="Modal.SigmaClosedReflectiveSubuniverse.html#1435" class="Bound">α</a> <a id="1437" class="Symbol">:</a> <a id="1439" href="Modal.ReflectiveSubuniverse.html#767" class="Function">○</a> <a id="1441" href="Modal.SigmaClosedReflectiveSubuniverse.html#1392" class="Bound">A</a><a id="1442" class="Symbol">)</a> <a id="1444" class="Symbol">→</a> <a id="1446" href="Modal.ReflectiveSubuniverse.html#538" class="Function">is-modal</a> <a id="1455" class="Symbol">(</a><a id="1456" href="Modal.SigmaClosedReflectiveSubuniverse.html#1405" class="Bound">B</a> <a id="1458" href="Modal.SigmaClosedReflectiveSubuniverse.html#1435" class="Bound">α</a><a id="1459" class="Symbol">))</a>
 <a id="1463" class="Symbol">→</a> <a id="1465" class="Symbol">((</a><a id="1467" href="Modal.SigmaClosedReflectiveSubuniverse.html#1467" class="Bound">a</a> <a id="1469" class="Symbol">:</a> <a id="1471" href="Modal.SigmaClosedReflectiveSubuniverse.html#1392" class="Bound">A</a><a id="1472" class="Symbol">)</a> <a id="1474" class="Symbol">→</a> <a id="1476" href="Modal.SigmaClosedReflectiveSubuniverse.html#1405" class="Bound">B</a> <a id="1478" class="Symbol">(</a><a id="1479" href="Modal.ReflectiveSubuniverse.html#878" class="Function">η</a> <a id="1481" href="Modal.SigmaClosedReflectiveSubuniverse.html#1392" class="Bound">A</a> <a id="1483" href="Modal.SigmaClosedReflectiveSubuniverse.html#1467" class="Bound">a</a><a id="1484" class="Symbol">))</a>
 <a id="1488" class="Symbol">→</a> <a id="1490" class="Symbol">(</a><a id="1491" href="Modal.SigmaClosedReflectiveSubuniverse.html#1491" class="Bound">α</a> <a id="1493" class="Symbol">:</a> <a id="1495" href="Modal.ReflectiveSubuniverse.html#767" class="Function">○</a> <a id="1497" href="Modal.SigmaClosedReflectiveSubuniverse.html#1392" class="Bound">A</a><a id="1498" class="Symbol">)</a> <a id="1500" class="Symbol">→</a> <a id="1502" href="Modal.SigmaClosedReflectiveSubuniverse.html#1405" class="Bound">B</a> <a id="1504" href="Modal.SigmaClosedReflectiveSubuniverse.html#1491" class="Bound">α</a>
<a id="1506" href="Modal.SigmaClosedReflectiveSubuniverse.html#1355" class="Function">○-induction</a> <a id="1518" href="Modal.SigmaClosedReflectiveSubuniverse.html#1518" class="Bound">fe</a> <a id="1521" href="Modal.SigmaClosedReflectiveSubuniverse.html#1521" class="Bound">A</a> <a id="1523" href="Modal.SigmaClosedReflectiveSubuniverse.html#1523" class="Bound">B</a> <a id="1525" href="Modal.SigmaClosedReflectiveSubuniverse.html#1525" class="Bound">B-modal</a> <a id="1533" href="Modal.SigmaClosedReflectiveSubuniverse.html#1533" class="Bound">f</a> <a id="1535" href="Modal.SigmaClosedReflectiveSubuniverse.html#1535" class="Bound">α</a> <a id="1537" class="Symbol">=</a> <a id="1539" href="MLTT.Id.html#735" class="Function">transport</a> <a id="1549" href="Modal.SigmaClosedReflectiveSubuniverse.html#1523" class="Bound">B</a> <a id="1551" class="Symbol">(</a><a id="1552" href="UF.Base.html#10649" class="Function">happly</a> <a id="1559" href="Modal.SigmaClosedReflectiveSubuniverse.html#1708" class="Function">h</a> <a id="1561" href="Modal.SigmaClosedReflectiveSubuniverse.html#1535" class="Bound">α</a><a id="1562" class="Symbol">)</a> <a id="1564" class="Symbol">(</a><a id="1565" href="MLTT.Sigma-Type.html#209" class="Field">pr₂</a> <a id="1569" class="Symbol">(</a><a id="1570" href="Modal.SigmaClosedReflectiveSubuniverse.html#1585" class="Function">g</a> <a id="1572" href="Modal.SigmaClosedReflectiveSubuniverse.html#1535" class="Bound">α</a><a id="1573" class="Symbol">))</a>
 <a id="1577" class="Keyword">where</a>
  <a id="1585" href="Modal.SigmaClosedReflectiveSubuniverse.html#1585" class="Function">g</a> <a id="1587" class="Symbol">:</a> <a id="1589" href="Modal.ReflectiveSubuniverse.html#767" class="Function">○</a> <a id="1591" href="Modal.SigmaClosedReflectiveSubuniverse.html#1521" class="Bound">A</a> <a id="1593" class="Symbol">→</a> <a id="1595" href="MLTT.Sigma-Type.html#116" class="Record">Σ</a> <a id="1597" href="Modal.SigmaClosedReflectiveSubuniverse.html#1523" class="Bound">B</a>
  <a id="1601" href="Modal.SigmaClosedReflectiveSubuniverse.html#1585" class="Function">g</a> <a id="1603" class="Symbol">=</a> <a id="1605" href="Modal.ReflectiveSubuniverse.html#1318" class="Function">○-rec</a>
       <a id="1618" class="Symbol">_</a> <a id="1620" class="Symbol">_</a>
       <a id="1629" class="Symbol">(</a><a id="1630" href="Modal.SigmaClosedReflectiveSubuniverse.html#744" class="Bound">P-is-sigma-closed</a> <a id="1648" class="Symbol">_</a> <a id="1650" class="Symbol">_</a> <a id="1652" class="Symbol">(</a><a id="1653" href="Modal.ReflectiveSubuniverse.html#805" class="Function">○-is-modal</a> <a id="1664" class="Symbol">_)</a> <a id="1667" href="Modal.SigmaClosedReflectiveSubuniverse.html#1525" class="Bound">B-modal</a><a id="1674" class="Symbol">)</a>
       <a id="1683" class="Symbol">λ</a> <a id="1685" href="Modal.SigmaClosedReflectiveSubuniverse.html#1685" class="Bound">a</a> <a id="1687" class="Symbol">→</a> <a id="1689" class="Symbol">(</a><a id="1690" href="Modal.ReflectiveSubuniverse.html#878" class="Function">η</a> <a id="1692" class="Symbol">_</a> <a id="1694" href="Modal.SigmaClosedReflectiveSubuniverse.html#1685" class="Bound">a</a><a id="1695" class="Symbol">)</a> <a id="1697" href="MLTT.Sigma.html#395" class="InductiveConstructor Operator">,</a> <a id="1699" class="Symbol">(</a><a id="1700" href="Modal.SigmaClosedReflectiveSubuniverse.html#1533" class="Bound">f</a> <a id="1702" href="Modal.SigmaClosedReflectiveSubuniverse.html#1685" class="Bound">a</a><a id="1703" class="Symbol">)</a>

  <a id="1708" href="Modal.SigmaClosedReflectiveSubuniverse.html#1708" class="Function">h</a> <a id="1710" class="Symbol">:</a> <a id="1712" href="MLTT.Sigma-Type.html#198" class="Field">pr₁</a> <a id="1716" href="MLTT.Pi.html#513" class="Function Operator">∘</a> <a id="1718" href="Modal.SigmaClosedReflectiveSubuniverse.html#1585" class="Function">g</a> <a id="1720" href="MLTT.Id.html#193" class="Datatype Operator">＝</a> <a id="1722" href="MLTT.Pi.html#444" class="Function">id</a>
  <a id="1727" href="Modal.SigmaClosedReflectiveSubuniverse.html#1708" class="Function">h</a> <a id="1729" class="Symbol">=</a> <a id="1731" href="Modal.ReflectiveSubuniverse.html#1854" class="Function">○-rec-ext</a>
       <a id="1748" class="Symbol">_</a> <a id="1750" class="Symbol">_</a>
       <a id="1759" class="Symbol">(</a><a id="1760" href="Modal.ReflectiveSubuniverse.html#805" class="Function">○-is-modal</a> <a id="1771" class="Symbol">_)</a>
       <a id="1781" class="Symbol">_</a> <a id="1783" class="Symbol">_</a>
       <a id="1792" class="Symbol">(</a><a id="1793" href="UF.FunExt.html#1242" class="Function">dfunext</a> <a id="1801" href="Modal.SigmaClosedReflectiveSubuniverse.html#1518" class="Bound">fe</a> <a id="1804" class="Symbol">(λ</a> <a id="1807" href="Modal.SigmaClosedReflectiveSubuniverse.html#1807" class="Bound">a</a> <a id="1809" class="Symbol">→</a> <a id="1811" href="MLTT.Id.html#1136" class="Function">ap</a> <a id="1814" href="MLTT.Sigma-Type.html#198" class="Field">pr₁</a> <a id="1818" class="Symbol">(</a><a id="1819" href="Modal.ReflectiveSubuniverse.html#1662" class="Function">○-rec-compute</a> <a id="1833" class="Symbol">_</a> <a id="1835" class="Symbol">_</a> <a id="1837" class="Symbol">_</a> <a id="1839" class="Symbol">_</a> <a id="1841" href="Modal.SigmaClosedReflectiveSubuniverse.html#1807" class="Bound">a</a><a id="1842" class="Symbol">)))</a>
<a id="1846" class="Markup">\end{code}</a><a id="1856" class="Background">
</a></pre></body></html>