<!DOCTYPE HTML>
<html><head><meta charset="utf-8"><title>resize</title><link rel="stylesheet" href="Agda.css"></head><body><pre class="Agda"><a id="1" class="Comment">{-

 Martin Escardo, 9 May 2016.

 I wanted an inconsistent function

   resize : {i j : Level} → Set i → Set j

 in Agda such that (resize X) is definitionally equal to X,
 as an alternative to --type-in-type.

 Andreas Abel suggested to use Agda&#39;s new option --rewriting,
 with the rewrite rule

   resize-id : {i j : Level} {A : Set i} → resize {i} {j} A ↦ A

 Jesper Cockx added a patch to Agda to allow rewrite rules which
 change type, such as the above.

 Thanks to Andreas and Jesper for their instant help!

 I also needed to add the functions resize-in and resize-out below,
 with corresponding rewriting rules.

 This module should not be used other than by specialized modules that
 know what they are doing.

 In this development it is prop.agda only.

 In the current version of Agda, 2.5.2, direct or indirect users of
 this module will need to use the option --rewriting like this:

-}</a>

<a id="904" class="Symbol">{-#</a> <a id="908" class="Keyword">OPTIONS</a> <a id="916" class="Pragma">--without-K</a> <a id="928" class="Symbol">#-}</a>
<a id="932" class="Symbol">{-#</a> <a id="936" class="Keyword">OPTIONS</a> <a id="944" class="Pragma">--rewriting</a> <a id="956" class="Symbol">#-}</a>

<a id="961" class="Keyword">module</a> <a id="968" href="resize.html" class="Module">resize</a> <a id="975" class="Keyword">where</a>

<a id="982" class="Keyword">open</a> <a id="987" class="Keyword">import</a> <a id="994" href="Agda.Primitive.html" class="Module">Agda.Primitive</a> <a id="1009" class="Keyword">using</a> <a id="1015" class="Symbol">(</a><a id="1016" href="Agda.Primitive.html#408" class="Postulate">Level</a> <a id="1022" class="Symbol">;</a> <a id="1024" href="Agda.Primitive.html#575" class="Primitive">lzero</a> <a id="1030" class="Symbol">;</a> <a id="1032" href="Agda.Primitive.html#591" class="Primitive">lsuc</a> <a id="1037" class="Symbol">;</a> <a id="1039" href="Agda.Primitive.html#621" class="Primitive Operator">_⊔_</a><a id="1042" class="Symbol">)</a> <a id="1044" class="Keyword">public</a>

<a id="1052" class="Keyword">postulate</a>
  <a id="_↦_"></a><a id="1064" href="resize.html#1064" class="Postulate Operator">_↦_</a> <a id="1068" class="Symbol">:</a> <a id="1070" class="Symbol">{</a><a id="1071" href="resize.html#1071" class="Bound">i</a> <a id="1073" href="resize.html#1073" class="Bound">j</a> <a id="1075" class="Symbol">:</a> <a id="1077" href="Agda.Primitive.html#408" class="Postulate">Level</a><a id="1082" class="Symbol">}{</a><a id="1084" href="resize.html#1084" class="Bound">A</a> <a id="1086" class="Symbol">:</a> <a id="1088" class="PrimitiveType">Set</a> <a id="1092" href="resize.html#1071" class="Bound">i</a><a id="1093" class="Symbol">}{</a><a id="1095" href="resize.html#1095" class="Bound">B</a> <a id="1097" class="Symbol">:</a> <a id="1099" class="PrimitiveType">Set</a> <a id="1103" href="resize.html#1073" class="Bound">j</a><a id="1104" class="Symbol">}</a> <a id="1106" class="Symbol">→</a> <a id="1108" href="resize.html#1084" class="Bound">A</a> <a id="1110" class="Symbol">→</a> <a id="1112" href="resize.html#1095" class="Bound">B</a> <a id="1114" class="Symbol">→</a> <a id="1116" class="PrimitiveType">Set</a> <a id="1120" class="Symbol">(</a><a id="1121" href="resize.html#1071" class="Bound">i</a> <a id="1123" href="Agda.Primitive.html#621" class="Primitive Operator">⊔</a> <a id="1125" href="resize.html#1073" class="Bound">j</a><a id="1126" class="Symbol">)</a>

<a id="1129" class="Symbol">{-#</a> <a id="1133" class="Keyword">BUILTIN</a> <a id="1141" class="Keyword">REWRITE</a> <a id="1149" href="resize.html#1064" class="Postulate Operator">_↦_</a> <a id="1153" class="Symbol">#-}</a>

<a id="1158" class="Keyword">postulate</a>
  <a id="resize"></a><a id="1170" href="resize.html#1170" class="Postulate">resize</a>        <a id="1184" class="Symbol">:</a> <a id="1186" class="Symbol">{</a><a id="1187" href="resize.html#1187" class="Bound">i</a> <a id="1189" href="resize.html#1189" class="Bound">j</a> <a id="1191" class="Symbol">:</a> <a id="1193" href="Agda.Primitive.html#408" class="Postulate">Level</a><a id="1198" class="Symbol">}</a> <a id="1200" class="Symbol">→</a> <a id="1202" class="PrimitiveType">Set</a> <a id="1206" href="resize.html#1187" class="Bound">i</a> <a id="1208" class="Symbol">→</a> <a id="1210" class="PrimitiveType">Set</a> <a id="1214" href="resize.html#1189" class="Bound">j</a>
  <a id="resize-id"></a><a id="1218" href="resize.html#1218" class="Postulate">resize-id</a>     <a id="1232" class="Symbol">:</a> <a id="1234" class="Symbol">{</a><a id="1235" href="resize.html#1235" class="Bound">i</a> <a id="1237" href="resize.html#1237" class="Bound">j</a> <a id="1239" class="Symbol">:</a> <a id="1241" href="Agda.Primitive.html#408" class="Postulate">Level</a><a id="1246" class="Symbol">}</a> <a id="1248" class="Symbol">{</a><a id="1249" href="resize.html#1249" class="Bound">X</a> <a id="1251" class="Symbol">:</a> <a id="1253" class="PrimitiveType">Set</a> <a id="1257" href="resize.html#1235" class="Bound">i</a><a id="1258" class="Symbol">}</a> <a id="1260" class="Symbol">→</a> <a id="1262" href="resize.html#1170" class="Postulate">resize</a> <a id="1269" class="Symbol">{</a><a id="1270" href="resize.html#1235" class="Bound">i</a><a id="1271" class="Symbol">}</a> <a id="1273" class="Symbol">{</a><a id="1274" href="resize.html#1237" class="Bound">j</a><a id="1275" class="Symbol">}</a> <a id="1277" href="resize.html#1249" class="Bound">X</a> <a id="1279" href="resize.html#1064" class="Postulate Operator">↦</a> <a id="1281" href="resize.html#1249" class="Bound">X</a>
  <a id="resize-in"></a><a id="1285" href="resize.html#1285" class="Postulate">resize-in</a>     <a id="1299" class="Symbol">:</a> <a id="1301" class="Symbol">{</a><a id="1302" href="resize.html#1302" class="Bound">i</a> <a id="1304" href="resize.html#1304" class="Bound">j</a> <a id="1306" class="Symbol">:</a> <a id="1308" href="Agda.Primitive.html#408" class="Postulate">Level</a><a id="1313" class="Symbol">}</a> <a id="1315" class="Symbol">{</a><a id="1316" href="resize.html#1316" class="Bound">X</a> <a id="1318" class="Symbol">:</a> <a id="1320" class="PrimitiveType">Set</a> <a id="1324" href="resize.html#1302" class="Bound">i</a><a id="1325" class="Symbol">}</a> <a id="1327" class="Symbol">→</a> <a id="1329" href="resize.html#1316" class="Bound">X</a> <a id="1331" class="Symbol">→</a> <a id="1333" href="resize.html#1170" class="Postulate">resize</a> <a id="1340" class="Symbol">{</a><a id="1341" href="resize.html#1302" class="Bound">i</a><a id="1342" class="Symbol">}</a> <a id="1344" class="Symbol">{</a><a id="1345" href="resize.html#1304" class="Bound">j</a><a id="1346" class="Symbol">}</a> <a id="1348" href="resize.html#1316" class="Bound">X</a>
  <a id="resize-in-id"></a><a id="1352" href="resize.html#1352" class="Postulate">resize-in-id</a>  <a id="1366" class="Symbol">:</a> <a id="1368" class="Symbol">{</a><a id="1369" href="resize.html#1369" class="Bound">i</a> <a id="1371" href="resize.html#1371" class="Bound">j</a> <a id="1373" class="Symbol">:</a> <a id="1375" href="Agda.Primitive.html#408" class="Postulate">Level</a><a id="1380" class="Symbol">}</a> <a id="1382" class="Symbol">{</a><a id="1383" href="resize.html#1383" class="Bound">X</a> <a id="1385" class="Symbol">:</a> <a id="1387" class="PrimitiveType">Set</a> <a id="1391" href="resize.html#1369" class="Bound">i</a><a id="1392" class="Symbol">}</a> <a id="1394" class="Symbol">(</a><a id="1395" href="resize.html#1395" class="Bound">x</a> <a id="1397" class="Symbol">:</a> <a id="1399" href="resize.html#1383" class="Bound">X</a><a id="1400" class="Symbol">)</a> <a id="1402" class="Symbol">→</a> <a id="1404" href="resize.html#1285" class="Postulate">resize-in</a> <a id="1414" class="Symbol">{</a><a id="1415" href="resize.html#1369" class="Bound">i</a><a id="1416" class="Symbol">}</a> <a id="1418" class="Symbol">{</a><a id="1419" href="resize.html#1371" class="Bound">j</a><a id="1420" class="Symbol">}</a> <a id="1422" class="Symbol">{</a><a id="1423" href="resize.html#1383" class="Bound">X</a><a id="1424" class="Symbol">}</a> <a id="1426" href="resize.html#1395" class="Bound">x</a> <a id="1428" href="resize.html#1064" class="Postulate Operator">↦</a> <a id="1430" href="resize.html#1395" class="Bound">x</a>
  <a id="resize-out"></a><a id="1434" href="resize.html#1434" class="Postulate">resize-out</a>    <a id="1448" class="Symbol">:</a> <a id="1450" class="Symbol">{</a><a id="1451" href="resize.html#1451" class="Bound">i</a> <a id="1453" href="resize.html#1453" class="Bound">j</a> <a id="1455" class="Symbol">:</a> <a id="1457" href="Agda.Primitive.html#408" class="Postulate">Level</a><a id="1462" class="Symbol">}</a> <a id="1464" class="Symbol">{</a><a id="1465" href="resize.html#1465" class="Bound">X</a> <a id="1467" class="Symbol">:</a> <a id="1469" class="PrimitiveType">Set</a> <a id="1473" href="resize.html#1451" class="Bound">i</a><a id="1474" class="Symbol">}</a> <a id="1476" class="Symbol">→</a> <a id="1478" href="resize.html#1170" class="Postulate">resize</a> <a id="1485" class="Symbol">{</a><a id="1486" href="resize.html#1451" class="Bound">i</a><a id="1487" class="Symbol">}</a> <a id="1489" class="Symbol">{</a><a id="1490" href="resize.html#1453" class="Bound">j</a><a id="1491" class="Symbol">}</a> <a id="1493" href="resize.html#1465" class="Bound">X</a> <a id="1495" class="Symbol">→</a> <a id="1497" href="resize.html#1465" class="Bound">X</a>
  <a id="resize-out-id"></a><a id="1501" href="resize.html#1501" class="Postulate">resize-out-id</a> <a id="1515" class="Symbol">:</a> <a id="1517" class="Symbol">{</a><a id="1518" href="resize.html#1518" class="Bound">i</a> <a id="1520" href="resize.html#1520" class="Bound">j</a> <a id="1522" class="Symbol">:</a> <a id="1524" href="Agda.Primitive.html#408" class="Postulate">Level</a><a id="1529" class="Symbol">}</a> <a id="1531" class="Symbol">{</a><a id="1532" href="resize.html#1532" class="Bound">X</a> <a id="1534" class="Symbol">:</a> <a id="1536" class="PrimitiveType">Set</a> <a id="1540" href="resize.html#1518" class="Bound">i</a><a id="1541" class="Symbol">}</a> <a id="1543" class="Symbol">(</a><a id="1544" href="resize.html#1544" class="Bound">r</a> <a id="1546" class="Symbol">:</a> <a id="1548" href="resize.html#1170" class="Postulate">resize</a> <a id="1555" class="Symbol">{</a><a id="1556" href="resize.html#1518" class="Bound">i</a><a id="1557" class="Symbol">}</a> <a id="1559" class="Symbol">{</a><a id="1560" href="resize.html#1520" class="Bound">j</a><a id="1561" class="Symbol">}</a> <a id="1563" href="resize.html#1532" class="Bound">X</a><a id="1564" class="Symbol">)</a> <a id="1566" class="Symbol">→</a> <a id="1568" href="resize.html#1434" class="Postulate">resize-out</a> <a id="1579" class="Symbol">{</a><a id="1580" href="resize.html#1518" class="Bound">i</a><a id="1581" class="Symbol">}</a> <a id="1583" class="Symbol">{</a><a id="1584" href="resize.html#1520" class="Bound">j</a><a id="1585" class="Symbol">}</a> <a id="1587" class="Symbol">{</a><a id="1588" href="resize.html#1532" class="Bound">X</a><a id="1589" class="Symbol">}</a> <a id="1591" href="resize.html#1544" class="Bound">r</a> <a id="1593" href="resize.html#1064" class="Postulate Operator">↦</a> <a id="1595" href="resize.html#1544" class="Bound">r</a>

<a id="1598" class="Symbol">{-#</a> <a id="1602" class="Keyword">REWRITE</a> <a id="1610" href="resize.html#1218" class="Postulate">resize-id</a> <a id="1620" class="Symbol">#-}</a>
<a id="1624" class="Symbol">{-#</a> <a id="1628" class="Keyword">REWRITE</a> <a id="1636" href="resize.html#1352" class="Postulate">resize-in-id</a> <a id="1649" class="Symbol">#-}</a>
<a id="1653" class="Symbol">{-#</a> <a id="1657" class="Keyword">REWRITE</a> <a id="1665" href="resize.html#1501" class="Postulate">resize-out-id</a> <a id="1679" class="Symbol">#-}</a>
</pre></body></html>